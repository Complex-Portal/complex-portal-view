{"version":3,"file":"src_app_basket_basket_module_ts-es2015.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAA+D;AACO;AAEgC;AACtD;AACsC;AAEF;IAQvE,eAAe,SAAf,eAAe;IAM1B,YAAoB,cAA6B,EAAU,YAAmB,EAAU,oBAA0C;QAA9G,mBAAc,GAAd,cAAc,CAAe;QAAU,iBAAY,GAAZ,YAAY,CAAO;QAAU,yBAAoB,GAApB,oBAAoB,CAAsB;QAJlI,wBAAmB,GAAwB,IAAI,CAAC;QAChD,wCAAmC,GAAiB,EAAE,CAAC;QAIrD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC;IAC1D,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;QACtD,IAAI,CAAC,uBAAuB,EAAE,CAAC;IACjC,CAAC;IAED,eAAe;QACb,qHAAyB,EAAE,CAAC;IAC9B,CAAC;IAED,gBAAgB,CAAC,GAAW;QAC1B,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;QAC1C,IAAI,CAAC,uBAAuB,EAAE,CAAC;IACjC,CAAC;IAED,IAAI,aAAa;QACf,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B,CAAC;IAED,IAAI,aAAa,CAAC,KAAqC;QACrD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;IAC9B,CAAC;IAEM,oBAAoB;QACzB,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;IAExD,CAAC;IAED,qBAAqB;IACd,OAAO,CAAC,MAAW;QACxB,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7B,CAAC;IAEO,WAAW,CAAC,MAAW;QAC7B,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACtC,IAAI,MAAM,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;gBAC7B,IAAI,cAAc,GAAG,cAAc,CAAC;gBACpC,cAAc,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;gBACjC,KAAK,IAAI,cAAc,CAAC;aACzB;SACF;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,4BAA4B;QAClC,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,EAAE;YACrG,IAAI,CAAC,mBAAmB,GAAG,aAAa,CAAC;YACzC,IAAI,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,KAAK,CAAC,EAAE;gBACvD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACtD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChD,KAAK,MAAM,SAAS,IAAI,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE;wBAC7D,IAAI,CAAC,IAAI,CAAC,mCAAmC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,CAAC,UAAU,KAAK,SAAS,CAAC,UAAU,CAAC,EAAE;4BAChH,IAAI,CAAC,mCAAmC,CAAC,IAAI,CAC3C,IAAI,8FAAU,CACZ,SAAS,CAAC,UAAU,EACpB,SAAS,CAAC,cAAc,EACxB,SAAS,CAAC,IAAI,EACd,SAAS,CAAC,WAAW,EACrB,SAAS,CAAC,cAAc,EACxB,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;yBAC9B;qBACF;iBACF;aACF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uBAAuB;QACrB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,mCAAmC,GAAG,EAAE,CAAC;QAC9C,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,4BAA4B,EAAE,CAAC;IACtC,CAAC;CAEF;;YAlGO,gFAAa;YAGb,4DAAK;YACL,gGAAoB;;AAUf,eAAe;IAL3B,wDAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,uLAAsC;;KAEvC,CAAC;GACW,eAAe,CAoF3B;AApF2B;;;;;;;;;;;;;;;;;;;;;;;;;;ACfW;AACM;AACA;AACM;AAC0D;IAWhG,YAAY,SAAZ,YAAY;CACxB;AADY,YAAY;IATxB,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC;gBAC9B,EAAC,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,8DAAe,EAAC;aACvC,CAAC;YACA,yDAAY;YACZ,uHAAsB;SACvB;QACD,YAAY,EAAE,CAAC,8DAAe,CAAC;KAChC,CAAC;GACW,YAAY,CACxB;AADwB;;;;;;;;;;;;ACfzB,+DAAe,kfAAkf,0BAA0B,gDAAgD,wBAAwB,4CAA4C,8BAA8B,g1BAAg1B","sources":["./src/app/basket/basket.component.ts","./src/app/basket/basket.module.ts","./src/app/basket/basket.component.html"],"sourcesContent":["import {AfterViewInit, Component, OnInit} from '@angular/core';\nimport {BasketService} from '../shared/basket/service/basket.service';\nimport {BasketItem} from '../shared/basket/model/basketItem';\nimport {ProgressBarComponent} from '../shared/loading-indicators/progress-bar/progress-bar.component';\nimport {Title} from '@angular/platform-browser';\nimport {ComplexPortalService} from '../complex/shared/service/complex-portal.service';\nimport {ComplexSearchResult} from '../complex/shared/model/complex-results/complex-search.model';\nimport {Interactor} from '../complex/shared/model/complex-results/interactor.model';\nimport {Element} from '../complex/shared/model/complex-results/element.model';\n\n@Component({\n  selector: 'cp-basket',\n  templateUrl: './basket.component.html',\n  styleUrls: ['./basket.component.css']\n})\nexport class BasketComponent implements OnInit, AfterViewInit {\n  private _complexBasket: { [name: string]: BasketItem };\n  complexSearchBasket: ComplexSearchResult = null;\n  allInteractorsInComplexSearchBasket: Interactor[] = [];\n  private _complexes: Element[];\n\n  constructor(private _basketService: BasketService, private titleService: Title, private complexPortalService: ComplexPortalService) {\n    this._complexBasket = this._basketService.complexBasket;\n  }\n\n  ngOnInit() {\n    this.titleService.setTitle('Complex Portal - Basket');\n    this.complexNavigatorLoading();\n  }\n\n  ngAfterViewInit(): void {\n    ProgressBarComponent.hide();\n  }\n\n  deleteFromBasket(key: string): void {\n    this._basketService.deleteFromBasket(key);\n    this.complexNavigatorLoading();\n  }\n\n  get complexBasket(): { [name: string]: BasketItem } {\n    return this._complexBasket;\n  }\n\n  set complexBasket(value: { [name: string]: BasketItem }) {\n    this._complexBasket = value;\n  }\n\n  public isComplexBasketEmpty(): boolean {\n    return this.getKeys(this._complexBasket).length === 0;\n\n  }\n\n  // Candidate for Util\n  public getKeys(object: any) {\n    return Object.keys(object);\n  }\n\n  private createQuery(object: any): string {\n    let query = '';\n    for (const key of this.getKeys(object)) {\n      if (object[key] !== undefined) {\n        let queryPerObject = ' complex_id:';\n        queryPerObject += object[key].id;\n        query += queryPerObject;\n      }\n    }\n    return query;\n  }\n\n  private requestComplexesForNavigator() {\n    this.complexPortalService.findComplex(this.createQuery(this._complexBasket)).subscribe(complexSearch => {\n      this.complexSearchBasket = complexSearch;\n      if (this.complexSearchBasket.totalNumberOfResults !== 0) {\n        for (let i = 0; i < complexSearch.elements.length; i++) {\n          this._complexes.push(complexSearch.elements[i]);\n          for (const component of complexSearch.elements[i].interactors) {\n            if (!this.allInteractorsInComplexSearchBasket.some(interactor => interactor.identifier === component.identifier)) {\n              this.allInteractorsInComplexSearchBasket.push(\n                new Interactor(\n                  component.identifier,\n                  component.identifierLink,\n                  component.name,\n                  component.description,\n                  component.interactorType,\n                  component.organismName));\n            }\n          }\n        }\n      }\n    });\n  }\n\n  complexNavigatorLoading() {\n    this.complexSearchBasket = null;\n    this.allInteractorsInComplexSearchBasket = [];\n    this._complexes = [];\n    this.requestComplexesForNavigator();\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {RouterModule} from '@angular/router';\nimport {BasketComponent} from './basket.component';\nimport {ComplexNavigatorModule} from '../complex/complex-results/complex-navigator/complex-navigator.module';\n\n@NgModule({\n  imports: [RouterModule.forChild([\n    {path: '', component: BasketComponent}\n  ]),\n    CommonModule,\n    ComplexNavigatorModule\n  ],\n  declarations: [BasketComponent]\n})\nexport class BasketModule {\n}\n","export default \"<div class=\\\"margin-top-large margin-bottom-large\\\">\\n  <div *ngIf=\\\"!isComplexBasketEmpty()\\\" class=\\\"columns medium-12\\\">\\n    <h1>Personal complex collection</h1>\\n    <table class=\\\"hover\\\">\\n      <thead>\\n      <tr>\\n        <th>Name</th>\\n        <th>ID</th>\\n        <th>Organism</th>\\n        <th></th>\\n      </tr>\\n      </thead>\\n      <tbody>\\n      <tr *ngFor=\\\"let key of getKeys(complexBasket)\\\">\\n        <td>\\n          <a [routerLink]=\\\"['/complex', complexBasket[key].id]\\\">{{ complexBasket[key].name }}</a>\\n        </td>\\n        <td>\\n          {{ complexBasket[key].id }}\\n        </td>\\n        <td>\\n          {{ complexBasket[key].organism }}\\n        </td>\\n        <td>\\n          <a class=\\\"button primary columns medium-12\\\" (click)=\\\"deleteFromBasket(key)\\\"> <span\\n            class=\\\"icon icon-functional\\\" data-icon=\\\"d\\\"></span></a>\\n        </td>\\n      </tr>\\n      </tbody>\\n    </table>\\n    <div class=\\\"ComplexNavigator\\\">\\n      <cp-complex-navigator\\n        [complexSearch]=\\\"complexSearchBasket\\\"\\n        [interactors]=\\\"allInteractorsInComplexSearchBasket\\\">\\n      </cp-complex-navigator>\\n    </div>\\n\\n  </div>\\n  <div *ngIf=\\\"isComplexBasketEmpty()\\\" class=\\\"columns medium-12\\\">\\n    <div class=\\\"callout\\\">\\n      <h3>Your basket is currently empty. :'-(</h3>\\n      <h5>Search for a complex and click on <i class=\\\"icon icon-generic\\\" data-icon=\\\"b\\\"></i>-symbol to create your own\\n        collection of favorite complexes.</h5>\\n    </div>\\n  </div>\\n</div>\\n\";"],"names":[],"sourceRoot":"webpack:///"}