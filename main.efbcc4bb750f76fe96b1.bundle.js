webpackJsonp([0,4],[function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(541);n.d(e,"createPlatform",function(){return r._0}),n.d(e,"assertPlatform",function(){return r._1}),n.d(e,"destroyPlatform",function(){return r._2}),n.d(e,"getPlatform",function(){return r._3}),n.d(e,"PlatformRef",function(){return r._4}),n.d(e,"ApplicationRef",function(){return r.K}),n.d(e,"enableProdMode",function(){return r.a}),n.d(e,"isDevMode",function(){return r.E}),n.d(e,"createPlatformFactory",function(){return r.f}),n.d(e,"NgProbeToken",function(){return r.L}),n.d(e,"APP_ID",function(){return r.N}),n.d(e,"PACKAGE_ROOT_URL",function(){return r._5}),n.d(e,"PLATFORM_INITIALIZER",function(){return r.g}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return r._6}),n.d(e,"APP_INITIALIZER",function(){return r._7}),n.d(e,"ApplicationInitStatus",function(){return r._8}),n.d(e,"DebugElement",function(){return r._9}),n.d(e,"DebugNode",function(){return r._10}),n.d(e,"asNativeElements",function(){return r._11}),n.d(e,"getDebugNode",function(){return r.M}),n.d(e,"Testability",function(){return r.h}),n.d(e,"TestabilityRegistry",function(){return r._12}),n.d(e,"setTestabilityGetter",function(){return r.P}),n.d(e,"TRANSLATIONS",function(){return r._13}),n.d(e,"TRANSLATIONS_FORMAT",function(){return r._14}),n.d(e,"LOCALE_ID",function(){return r.q}),n.d(e,"ApplicationModule",function(){return r.i}),n.d(e,"wtfCreateScope",function(){return r._15}),n.d(e,"wtfLeave",function(){return r._16}),n.d(e,"wtfStartTimeRange",function(){return r._17}),n.d(e,"wtfEndTimeRange",function(){return r._18}),n.d(e,"Type",function(){return r._19}),n.d(e,"EventEmitter",function(){return r.G}),n.d(e,"ErrorHandler",function(){return r.j}),n.d(e,"AnimationTransitionEvent",function(){return r._20}),n.d(e,"AnimationPlayer",function(){return r._21}),n.d(e,"AnimationStyles",function(){return r._22}),n.d(e,"AnimationKeyframe",function(){return r._23}),n.d(e,"Sanitizer",function(){return r.k}),n.d(e,"SecurityContext",function(){return r.J}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return r._24}),n.d(e,"Attribute",function(){return r.v}),n.d(e,"ContentChild",function(){return r._25}),n.d(e,"ContentChildren",function(){return r._26}),n.d(e,"Query",function(){return r._27}),n.d(e,"ViewChild",function(){return r._28}),n.d(e,"ViewChildren",function(){return r._29}),n.d(e,"Component",function(){return r.Q}),n.d(e,"Directive",function(){return r.w}),n.d(e,"HostBinding",function(){return r.R}),n.d(e,"HostListener",function(){return r.S}),n.d(e,"Input",function(){return r.x}),n.d(e,"Output",function(){return r._30}),n.d(e,"Pipe",function(){return r.p}),n.d(e,"AfterContentChecked",function(){return r._31}),n.d(e,"AfterContentInit",function(){return r._32}),n.d(e,"AfterViewChecked",function(){return r._33}),n.d(e,"AfterViewInit",function(){return r._34}),n.d(e,"DoCheck",function(){return r._35}),n.d(e,"OnChanges",function(){return r._36}),n.d(e,"OnDestroy",function(){return r._37}),n.d(e,"OnInit",function(){return r._38}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return r._39}),n.d(e,"NO_ERRORS_SCHEMA",function(){return r._40}),n.d(e,"NgModule",function(){return r.b}),n.d(e,"ViewEncapsulation",function(){return r.O}),n.d(e,"Version",function(){return r.c}),n.d(e,"VERSION",function(){return r._41}),n.d(e,"Class",function(){return r._42}),n.d(e,"forwardRef",function(){return r._43}),n.d(e,"resolveForwardRef",function(){return r._44}),n.d(e,"Injector",function(){return r.Y}),n.d(e,"ReflectiveInjector",function(){return r._45}),n.d(e,"ResolvedReflectiveFactory",function(){return r._46}),n.d(e,"ReflectiveKey",function(){return r._47}),n.d(e,"OpaqueToken",function(){return r.H}),n.d(e,"Inject",function(){return r.r}),n.d(e,"Optional",function(){return r.l}),n.d(e,"Injectable",function(){return r.d}),n.d(e,"Self",function(){return r._48}),n.d(e,"SkipSelf",function(){return r.m}),n.d(e,"Host",function(){return r.y}),n.d(e,"NgZone",function(){return r.I}),n.d(e,"RenderComponentType",function(){return r._49}),n.d(e,"Renderer",function(){return r.B}),n.d(e,"RootRenderer",function(){return r.n}),n.d(e,"COMPILER_OPTIONS",function(){return r._50}),n.d(e,"Compiler",function(){return r._51}),n.d(e,"CompilerFactory",function(){return r._52}),n.d(e,"ModuleWithComponentFactories",function(){return r._53}),n.d(e,"ComponentFactory",function(){return r._54}),n.d(e,"ComponentRef",function(){return r._55}),n.d(e,"ComponentFactoryResolver",function(){return r.Z}),n.d(e,"ElementRef",function(){return r.C}),n.d(e,"NgModuleFactory",function(){return r._56}),n.d(e,"NgModuleRef",function(){return r._57}),n.d(e,"NgModuleFactoryLoader",function(){return r._58}),n.d(e,"getModuleFactory",function(){return r._59}),n.d(e,"QueryList",function(){return r._60}),n.d(e,"SystemJsNgModuleLoader",function(){return r._61}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return r._62}),n.d(e,"TemplateRef",function(){return r.z}),n.d(e,"ViewContainerRef",function(){return r.A}),n.d(e,"EmbeddedViewRef",function(){return r._63}),n.d(e,"ViewRef",function(){return r._64}),n.d(e,"ChangeDetectionStrategy",function(){return r._65}),n.d(e,"ChangeDetectorRef",function(){return r.s}),n.d(e,"CollectionChangeRecord",function(){return r._66}),n.d(e,"DefaultIterableDiffer",function(){return r._67}),n.d(e,"IterableDiffers",function(){return r.F}),n.d(e,"KeyValueChangeRecord",function(){return r._68}),n.d(e,"KeyValueDiffers",function(){return r.D}),n.d(e,"SimpleChange",function(){return r._69}),n.d(e,"WrappedValue",function(){return r.t}),n.d(e,"platformCore",function(){return r.o}),n.d(e,"__core_private__",function(){return r.u}),n.d(e,"AUTO_STYLE",function(){return r.e}),n.d(e,"AnimationEntryMetadata",function(){return r._70}),n.d(e,"AnimationStateMetadata",function(){return r._71}),n.d(e,"AnimationStateDeclarationMetadata",function(){return r._72}),n.d(e,"AnimationStateTransitionMetadata",function(){return r._73}),n.d(e,"AnimationMetadata",function(){return r._74}),n.d(e,"AnimationKeyframesSequenceMetadata",function(){return r._75}),n.d(e,"AnimationStyleMetadata",function(){return r._76}),n.d(e,"AnimationAnimateMetadata",function(){return r._77}),n.d(e,"AnimationWithStepsMetadata",function(){return r._78}),n.d(e,"AnimationSequenceMetadata",function(){return r._79}),n.d(e,"AnimationGroupMetadata",function(){return r._80}),n.d(e,"animate",function(){return r.T}),n.d(e,"group",function(){return r._81}),n.d(e,"sequence",function(){return r._82}),n.d(e,"style",function(){return r.U}),n.d(e,"state",function(){return r.V}),n.d(e,"keyframes",function(){return r._83}),n.d(e,"transition",function(){return r.W}),n.d(e,"trigger",function(){return r.X})},function(t,e,n){"use strict";var r=n(24),i=n(1186),o=n(143),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(r?r.call(o,this.source):o.add(this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.$$observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=a},,function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(203),o=n(20),a=n(444),s=n(199),u=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!n){this.destination=a.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}return r(e,t),e.prototype[s.$$rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e}(o.Subscription);e.Subscriber=u;var c=function(t){function e(e,n,r,o){t.call(this),this._parent=e;var a,s=this;i.isFunction(n)?a=n:n&&(s=n,a=n.next,r=n.error,o=n.complete,i.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this)),this._context=s,this._next=a,this._error=r,this._complete=o}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},e}(u)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(3),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber);e.OuterSubscriber=o},function(t,e,n){"use strict";function r(t,e,n,r){var p=new l.InnerSubscriber(t,n,r);if(p.closed)return null;if(e instanceof u.Observable)return e._isScalar?(p.next(e.value),p.complete(),null):e.subscribe(p);if(o.isArray(e)){for(var f=0,d=e.length;f<d&&!p.closed;f++)p.next(e[f]);p.closed||p.complete()}else{if(a.isPromise(e))return e.then(function(t){p.closed||(p.next(t),p.complete())},function(t){return p.error(t)}).then(null,function(t){i.root.setTimeout(function(){throw t})}),p;if(e&&"function"==typeof e[c.$$iterator])for(var m=e[c.$$iterator]();;){var y=m.next();if(y.done){p.complete();break}if(p.next(y.value),p.closed)break}else if(e&&"function"==typeof e[h.$$observable]){var v=e[h.$$observable]();if("function"==typeof v.subscribe)return v.subscribe(new l.InnerSubscriber(t,n,r));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var g=s.isObject(e)?"an invalid object":"'"+e+"'",b="You provided "+g+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(b))}}return null}var i=n(24),o=n(51),a=n(470),s=n(469),u=n(1),c=n(142),l=n(924),h=n(143);e.subscribeToResult=r},function(t,e,n){"use strict";(function(t){function r(t){return null!=t}function i(t){return null==t}function o(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===f}function a(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString(),n=e.indexOf("\n");return n===-1?e:e.substring(0,n)}function s(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function u(){if(!m)if(h.Symbol&&Symbol.iterator)m=Symbol.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),e=0;e<t.length;++e){var n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(m=n)}return m}function c(t){return!s(t)}function l(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}e.c=r,e.d=i,e.a=o,e.e=a,n.d(e,"i",function(){return d}),e.f=s,e.g=u,e.b=c,e.h=l;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h;h="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:t:window;var p=h;p.assert=function(t){};var f=Object.getPrototypeOf({}),d=function(){function t(){}return t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e},t.isNumeric=function(t){return!isNaN(t-parseFloat(t))},t}(),m=null}).call(e,n(41))},function(t,e,n){"use strict";(function(t){function r(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function i(t){return t.name||typeof t}function o(t){return null!=t}function a(t){return null==t}function s(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString(),n=e.indexOf("\n");return n===-1?e:e.substring(0,n)}function u(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function c(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function l(t){console.log(t)}function h(t){console.warn(t)}function p(){if(!y)if(d.Symbol&&Symbol.iterator)y=Symbol.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),e=0;e<t.length;++e){var n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(y=n)}return y}function f(t){return!c(t)}e.a=r,n.d(e,"d",function(){return m}),e.l=i,e.b=o,e.k=a,e.c=s,e.j=u,e.e=c,e.g=l,e.h=h,e.f=p,e.i=f;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var d;d="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:t:window;var m=d;m.assert=function(t){};var y=(Object.getPrototypeOf({}),function(){function t(){}return t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e},t.isNumeric=function(t){return!isNaN(t-parseFloat(t))},t}(),null)}).call(e,n(41))},,function(t,e,n){"use strict";function r(t,e,n){var r=new bt(t,e);return n.visitExpression(r,null)}function i(t){var e=new _t;return e.visitAllStatements(t,null),e.varNames}function o(t,e){return void 0===e&&(e=null),new O(t,e)}function a(t,e){return void 0===e&&(e=null),new U(t,null,e)}function s(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=null),n.i(d.c)(t)?u(a(t),e,r):null}function u(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=null),n.i(d.c)(t)?new _(t,e,r):null}function c(t,e){return void 0===e&&(e=null),new Z(t,e)}function l(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=!1),new $(t.map(function(t){return new Q(t[0],t[1],n)}),e)}function h(t){return new H(t)}function p(t,e,n){return void 0===n&&(n=null),new W(t,e,n)}function f(t,e){return void 0===e&&(e=null),new B(t,e)}var d=n(6);n.d(e,"j",function(){return y}),n.d(e,"S",function(){return v}),n.d(e,"U",function(){return g}),n.d(e,"i",function(){return x}),n.d(e,"n",function(){return w}),n.d(e,"m",function(){return C}),n.d(e,"s",function(){return S}),n.d(e,"p",function(){return E}),n.d(e,"r",function(){return T}),n.d(e,"M",function(){return M}),n.d(e,"T",function(){return A}),n.d(e,"y",function(){return P}),n.d(e,"L",function(){return k}),n.d(e,"F",function(){return R}),n.d(e,"A",function(){return O}),n.d(e,"O",function(){return L}),n.d(e,"N",function(){return B}),n.d(e,"Q",function(){return U}),n.d(e,"o",function(){return q}),n.d(e,"z",function(){return X}),n.d(e,"J",function(){return Q}),n.d(e,"K",function(){return $}),n.d(e,"e",function(){return J}),n.d(e,"D",function(){return tt}),n.d(e,"b",function(){return et}),n.d(e,"k",function(){return rt}),n.d(e,"R",function(){return it}),n.d(e,"x",function(){return ot}),n.d(e,"C",function(){return st}),n.d(e,"t",function(){return ut}),n.d(e,"c",function(){return lt}),n.d(e,"q",function(){return ht}),n.d(e,"H",function(){return pt}),n.d(e,"E",function(){return ft}),n.d(e,"u",function(){return dt}),n.d(e,"G",function(){return vt}),e.I=r,e.w=i,e.a=o,e.g=a,e.d=s,e.P=u,e.h=c,e.l=l,e.v=h,e.B=p,e.f=f;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var m=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},y={};y.Const=0,y[y.Const]="Const";var v=function(){function t(t){void 0===t&&(t=null),this.modifiers=t,t||(this.modifiers=[])}return t.prototype.visitType=function(t,e){},t.prototype.hasModifier=function(t){return this.modifiers.indexOf(t)!==-1},t}(),g={};g.Dynamic=0,g.Bool=1,g.String=2,g.Int=3,g.Number=4,g.Function=5,g.Null=6,g[g.Dynamic]="Dynamic",g[g.Bool]="Bool",g[g.String]="String",g[g.Int]="Int",g[g.Number]="Number",g[g.Function]="Function",g[g.Null]="Null";var b=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.name=e}return m(e,t),e.prototype.visitType=function(t,e){return t.visitBuiltintType(this,e)},e}(v),_=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,r),this.value=e,this.typeParams=n}return m(e,t),e.prototype.visitType=function(t,e){return t.visitExpressionType(this,e)},e}(v),x=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.of=e}return m(e,t),e.prototype.visitType=function(t,e){return t.visitArrayType(this,e)},e}(v),w=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.valueType=e}return m(e,t),e.prototype.visitType=function(t,e){return t.visitMapType(this,e)},e}(v),C=new b(g.Dynamic),S=new b(g.Bool),E=(new b(g.Int),new b(g.Number)),T=new b(g.String),M=new b(g.Function),A=new b(g.Null),P={};P.Equals=0,P.NotEquals=1,P.Identical=2,P.NotIdentical=3,P.Minus=4,P.Plus=5,P.Divide=6,P.Multiply=7,P.Modulo=8,P.And=9,P.Or=10,P.Lower=11,P.LowerEquals=12,P.Bigger=13,P.BiggerEquals=14,P[P.Equals]="Equals",P[P.NotEquals]="NotEquals",P[P.Identical]="Identical",P[P.NotIdentical]="NotIdentical",P[P.Minus]="Minus",P[P.Plus]="Plus",P[P.Divide]="Divide",P[P.Multiply]="Multiply",P[P.Modulo]="Modulo",P[P.And]="And",P[P.Or]="Or",P[P.Lower]="Lower",P[P.LowerEquals]="LowerEquals",P[P.Bigger]="Bigger",P[P.BiggerEquals]="BiggerEquals";var k=function(){function t(t){this.type=t}return t.prototype.visitExpression=function(t,e){},t.prototype.prop=function(t){return new Y(this,t)},t.prototype.key=function(t,e){return void 0===e&&(e=null),new K(this,t,e)},t.prototype.callMethod=function(t,e){return new V(this,t,e)},t.prototype.callFn=function(t){return new F(this,t)},t.prototype.instantiate=function(t,e){return void 0===e&&(e=null),new j(this,t,e)},t.prototype.conditional=function(t,e){return void 0===e&&(e=null),new z(this,t,e)},t.prototype.equals=function(t){return new X(P.Equals,this,t)},t.prototype.notEquals=function(t){return new X(P.NotEquals,this,t)},t.prototype.identical=function(t){return new X(P.Identical,this,t)},t.prototype.notIdentical=function(t){return new X(P.NotIdentical,this,t)},t.prototype.minus=function(t){return new X(P.Minus,this,t)},t.prototype.plus=function(t){return new X(P.Plus,this,t)},t.prototype.divide=function(t){return new X(P.Divide,this,t)},t.prototype.multiply=function(t){return new X(P.Multiply,this,t)},t.prototype.modulo=function(t){return new X(P.Modulo,this,t)},t.prototype.and=function(t){return new X(P.And,this,t)},t.prototype.or=function(t){return new X(P.Or,this,t)},t.prototype.lower=function(t){return new X(P.Lower,this,t)},t.prototype.lowerEquals=function(t){return new X(P.LowerEquals,this,t)},t.prototype.bigger=function(t){return new X(P.Bigger,this,t)},t.prototype.biggerEquals=function(t){return new X(P.BiggerEquals,this,t)},t.prototype.isBlank=function(){return this.equals(nt)},t.prototype.cast=function(t){return new G(this,t)},t.prototype.toStmt=function(){return new st(this)},t}(),R={};R.This=0,R.Super=1,R.CatchError=2,R.CatchStack=3,R[R.This]="This",R[R.Super]="Super",R[R.CatchError]="CatchError",R[R.CatchStack]="CatchStack";var O=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),"string"==typeof e?(this.name=e,this.builtin=null):(this.name=null,this.builtin=e)}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadVarExpr(this,e)},e.prototype.set=function(t){return new I(this.name,t)},e}(k),I=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r||n.type),this.name=e,this.value=n}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteVarExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),new ot(this.name,this.value,t,e)},e}(k),N=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,i||r.type),this.receiver=e,this.index=n,this.value=r}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteKeyExpr(this,e)},e}(k),D=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,i||r.type),this.receiver=e,this.name=n,this.value=r}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitWritePropExpr(this,e)},e}(k),L={};L.ConcatArray=0,L.SubscribeObservable=1,L.Bind=2,L[L.ConcatArray]="ConcatArray",L[L.SubscribeObservable]="SubscribeObservable",L[L.Bind]="Bind";var V=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,i),this.receiver=e,this.args=r,"string"==typeof n?(this.name=n,this.builtin=null):(this.name=null,this.builtin=n)}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeMethodExpr(this,e)},e}(k),F=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.fn=e,this.args=n}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeFunctionExpr(this,e)},e}(k),j=function(t){function e(e,n,r){t.call(this,r),this.classExpr=e,this.args=n}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitInstantiateExpr(this,e)},e}(k),B=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.value=e}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralExpr(this,e)},e}(k),U=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n),this.value=e,this.typeParams=r}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitExternalExpr(this,e)},e}(k),z=function(t){function e(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),t.call(this,i||n.type),this.condition=e,this.falseCase=r,this.trueCase=n}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitConditionalExpr(this,e)},e}(k),H=function(t){function e(e){t.call(this,S),this.condition=e}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitNotExpr(this,e)},e}(k),G=function(t){function e(e,n){t.call(this,n),this.value=e}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitCastExpr(this,e)},e}(k),q=function(){function t(t,e){void 0===e&&(e=null),this.name=t,this.type=e}return t}(),W=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.params=e,this.statements=n}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitFunctionExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===e&&(e=null),new at(t,this.params,this.statements,this.type,e)},e}(k),X=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,i||n.type),this.operator=e,this.rhs=r,this.lhs=n}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitBinaryOperatorExpr(this,e)},e}(k),Y=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.receiver=e,this.name=n}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadPropExpr(this,e)},e.prototype.set=function(t){return new D(this.receiver,this.name,t)},e}(k),K=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.receiver=e,this.index=n}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadKeyExpr(this,e)},e.prototype.set=function(t){return new N(this.receiver,this.index,t)},e}(k),Z=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.entries=e}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralArrayExpr(this,e)},e}(k),Q=function(){function t(t,e,n){void 0===n&&(n=!1),this.key=t,this.value=e,this.quoted=n}return t}(),$=function(t){function e(e,r){void 0===r&&(r=null),t.call(this,r),this.entries=e,this.valueType=null,n.i(d.c)(r)&&(this.valueType=r.valueType)}return m(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralMapExpr(this,e)},e}(k),J=new O(R.This),tt=new O(R.Super),et=(new O(R.CatchError),new O(R.CatchStack),new B(null,null)),nt=new B(null,A),rt={};rt.Final=0,rt.Private=1,rt[rt.Final]="Final",rt[rt.Private]="Private";var it=function(){function t(t){void 0===t&&(t=null),this.modifiers=t,t||(this.modifiers=[])}return t.prototype.visitStatement=function(t,e){},t.prototype.hasModifier=function(t){return this.modifiers.indexOf(t)!==-1},t}(),ot=function(t){function e(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),t.call(this,i),this.name=e,this.value=n,this.type=r||n.type}return m(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareVarStmt(this,e)},e}(it),at=function(t){function e(e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=null),t.call(this,o),this.name=e,this.params=n,this.statements=r,this.type=i}return m(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareFunctionStmt(this,e)},e}(it),st=function(t){function e(e){t.call(this),this.expr=e}return m(e,t),e.prototype.visitStatement=function(t,e){return t.visitExpressionStmt(this,e)},e}(it),ut=function(t){function e(e){t.call(this),this.value=e}return m(e,t),e.prototype.visitStatement=function(t,e){return t.visitReturnStmt(this,e)},e}(it),ct=function(){function t(t,e){void 0===t&&(t=null),this.type=t,this.modifiers=e,e||(this.modifiers=[])}return t.prototype.hasModifier=function(t){return this.modifiers.indexOf(t)!==-1},t}(),lt=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this.name=e}return m(e,t),e}(ct),ht=function(t){function e(e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=null),t.call(this,i,o),this.name=e,this.params=n,this.body=r}return m(e,t),e}(ct),pt=function(t){function e(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),t.call(this,r,i),this.name=e,this.body=n}return m(e,t),e}(ct),ft=function(t){function e(e,n,r,i,o,a,s){void 0===s&&(s=null),t.call(this,s),this.name=e,this.parent=n,this.fields=r,this.getters=i,this.constructorMethod=o,this.methods=a}return m(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareClassStmt(this,e)},e}(it),dt=function(t){function e(e,n,r){void 0===r&&(r=[]),t.call(this),this.condition=e,this.trueCase=n,this.falseCase=r}return m(e,t),e.prototype.visitStatement=function(t,e){return t.visitIfStmt(this,e)},e}(it),mt=(function(t){function e(e){t.call(this),this.comment=e}return m(e,t),e.prototype.visitStatement=function(t,e){return t.visitCommentStmt(this,e)},e}(it),function(t){function e(e,n){t.call(this),this.bodyStmts=e,this.catchStmts=n}return m(e,t),e.prototype.visitStatement=function(t,e){return t.visitTryCatchStmt(this,e)},e}(it)),yt=function(t){function e(e){t.call(this),this.error=e}return m(e,t),e.prototype.visitStatement=function(t,e){return t.visitThrowStmt(this,e)},e}(it),vt=function(){function t(){}return t.prototype.visitReadVarExpr=function(t,e){return t},t.prototype.visitWriteVarExpr=function(t,e){return new I(t.name,t.value.visitExpression(this,e))},t.prototype.visitWriteKeyExpr=function(t,e){return new N(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e))},t.prototype.visitWritePropExpr=function(t,e){return new D(t.receiver.visitExpression(this,e),t.name,t.value.visitExpression(this,e))},t.prototype.visitInvokeMethodExpr=function(t,e){var n=t.builtin||t.name;return new V(t.receiver.visitExpression(this,e),n,this.visitAllExpressions(t.args,e),t.type)},t.prototype.visitInvokeFunctionExpr=function(t,e){return new F(t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type)},t.prototype.visitInstantiateExpr=function(t,e){return new j(t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type)},t.prototype.visitLiteralExpr=function(t,e){return t},t.prototype.visitExternalExpr=function(t,e){return t},t.prototype.visitConditionalExpr=function(t,e){return new z(t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e))},t.prototype.visitNotExpr=function(t,e){return new H(t.condition.visitExpression(this,e))},t.prototype.visitCastExpr=function(t,e){return new G(t.value.visitExpression(this,e),e)},t.prototype.visitFunctionExpr=function(t,e){return t},t.prototype.visitBinaryOperatorExpr=function(t,e){return new X(t.operator,t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t.type)},t.prototype.visitReadPropExpr=function(t,e){return new Y(t.receiver.visitExpression(this,e),t.name,t.type)},t.prototype.visitReadKeyExpr=function(t,e){return new K(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.type)},t.prototype.visitLiteralArrayExpr=function(t,e){return new Z(this.visitAllExpressions(t.entries,e))},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r=t.entries.map(function(t){return new Q(t.key,t.value.visitExpression(n,e),t.quoted)});return new $(r)},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return new ot(t.name,t.value.visitExpression(this,e),t.type,t.modifiers)},t.prototype.visitDeclareFunctionStmt=function(t,e){return t},t.prototype.visitExpressionStmt=function(t,e){return new st(t.expr.visitExpression(this,e))},t.prototype.visitReturnStmt=function(t,e){return new ut(t.value.visitExpression(this,e))},t.prototype.visitDeclareClassStmt=function(t,e){return t},t.prototype.visitIfStmt=function(t,e){return new dt(t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e))},t.prototype.visitTryCatchStmt=function(t,e){return new mt(this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e))},t.prototype.visitThrowStmt=function(t,e){return new yt(t.error.visitExpression(this,e))},t.prototype.visitCommentStmt=function(t,e){return t},t.prototype.visitAllStatements=function(t,e){var n=this;return t.map(function(t){return t.visitStatement(n,e)})},t}(),gt=function(){function t(){}return t.prototype.visitReadVarExpr=function(t,e){return t},t.prototype.visitWriteVarExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitWriteKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitWritePropExpr=function(t,e){return t.receiver.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitInvokeMethodExpr=function(t,e){return t.receiver.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInstantiateExpr=function(t,e){return t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitLiteralExpr=function(t,e){return t},t.prototype.visitExternalExpr=function(t,e){return t},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),t},t.prototype.visitNotExpr=function(t,e){return t.condition.visitExpression(this,e),t},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitFunctionExpr=function(t,e){return t},t.prototype.visitBinaryOperatorExpr=function(t,e){return t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),t},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e),t},t.prototype.visitLiteralMapExpr=function(t,e){var n=this;return t.entries.forEach(function(t){return t.value.visitExpression(n,e)}),t},t.prototype.visitAllExpressions=function(t,e){var n=this;t.forEach(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareFunctionStmt=function(t,e){return t},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),t},t.prototype.visitReturnStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareClassStmt=function(t,e){return t},t.prototype.visitIfStmt=function(t,e){return t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t},t.prototype.visitTryCatchStmt=function(t,e){return this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t},t.prototype.visitThrowStmt=function(t,e){return t.error.visitExpression(this,e),t},t.prototype.visitCommentStmt=function(t,e){return t},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}(),bt=function(t){function e(e,n){t.call(this),this._varName=e,this._newValue=n}return m(e,t),e.prototype.visitReadVarExpr=function(t,e){return t.name==this._varName?this._newValue:t},e}(vt),_t=function(t){function e(){t.apply(this,arguments),this.varNames=new Set}return m(e,t),e.prototype.visitReadVarExpr=function(t,e){return this.varNames.add(t.name),null},e}(gt)},,function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(3),a=n(20),s=n(201),u=n(445),c=n(199),l=function(t){function e(e){t.call(this,e),this.destination=e}return r(e,t),e}(o.Subscriber);e.SubjectSubscriber=l;var h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(e,t),e.prototype[c.$$rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(i.Observable);e.Subject=h;var p=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var e=this.source;return e?this.source.subscribe(t):a.Subscription.EMPTY},e}(h);e.AnonymousSubject=p},,function(t,e,n){"use strict";function r(t){return t.replace(/\W/g,"_")}function i(t){if(!t||!t.reference)return null;var e=t.reference;if(e instanceof h.a)return e.name;if(e.__anonymousType)return e.__anonymousType;var i=n.i(f.e)(e);return i.indexOf("(")>=0?(i="anonymous_"+k++,e.__anonymousType=i):i=r(i),i}function o(t){var e=t.reference;return e instanceof h.a?e.filePath:d.c.importUri(e)}function a(t){return n.i(f.c)(t.value)?r(t.value):i(t.identifier)}function s(t){return n.i(f.c)(t.identifier)?t.identifier.reference:t.value}function u(t,e){var n=m.a.parse(e.selector)[0].getMatchingElementTemplate();return N.create({isHost:!0,type:{reference:t,diDeps:[],lifecycleHooks:[]},template:new I({encapsulation:l.ViewEncapsulation.None,template:n,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[]}),changeDetection:l.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function c(t){return t||[]}var l=n(0),h=n(61),p=n(72),f=n(6),d=n(14),m=n(157),y=n(29);n.d(e,"m",function(){return b}),n.d(e,"b",function(){return x}),n.d(e,"n",function(){return w}),n.d(e,"h",function(){return S}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return T}),n.d(e,"e",function(){return M}),n.d(e,"c",function(){return A}),n.d(e,"d",function(){return P}),e.a=i,e.i=o,n.d(e,"q",function(){return R}),e.k=a,e.j=s,n.d(e,"l",function(){return O}),n.d(e,"p",function(){return I}),n.d(e,"o",function(){return N}),e.v=u,n.d(e,"t",function(){return D}),n.d(e,"r",function(){return L}),n.d(e,"s",function(){return V}),n.d(e,"u",function(){return F});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var v=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},g=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/,b=function(){function t(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.name=t,this.definitions=e}return t}(),_=function(){function t(){}return t}(),x=function(t){function e(e,n){t.call(this),this.stateNameExpr=e,this.styles=n}return v(e,t),e}(_),w=function(t){function e(e,n){t.call(this),this.stateChangeExpr=e,this.steps=n}return v(e,t),e}(_),C=function(){function t(){}return t}(),S=function(t){function e(e){void 0===e&&(e=[]),t.call(this),this.steps=e}return v(e,t),e}(C),E=function(t){function e(e,n){void 0===n&&(n=null),t.call(this),this.offset=e,this.styles=n}return v(e,t),e}(C),T=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=null),t.call(this),this.timings=e,this.styles=n}return v(e,t),e}(C),M=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.steps=e}return v(e,t),e}(C),A=function(t){function e(e){void 0===e&&(e=null),t.call(this,e)}return v(e,t),e}(M),P=function(t){function e(e){void 0===e&&(e=null),t.call(this,e)}return v(e,t),e}(M),k=0,R={};R.Pipe=0,R.Directive=1,R.NgModule=2,R.Injectable=3,R[R.Pipe]="Pipe",R[R.Directive]="Directive",R[R.NgModule]="NgModule",R[R.Injectable]="Injectable";var O=function(){function t(t){var e=void 0===t?{}:t,n=e.moduleUrl,r=e.styles,i=e.styleUrls;this.moduleUrl=n,this.styles=c(r),this.styleUrls=c(i)}return t}(),I=function(){function t(t){var e=void 0===t?{}:t,n=e.encapsulation,r=e.template,i=e.templateUrl,o=e.styles,a=e.styleUrls,s=e.externalStylesheets,u=e.animations,l=e.ngContentSelectors,h=e.interpolation;if(this.encapsulation=n,this.template=r,this.templateUrl=i,this.styles=c(o),this.styleUrls=c(a),this.externalStylesheets=c(s),this.animations=u?p.b.flatten(u):[],this.ngContentSelectors=l||[],h&&2!=h.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=h}return t.prototype.toSummary=function(){return{animations:this.animations.map(function(t){return t.name}),ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation}},t}(),N=function(){function t(t){var e=void 0===t?{}:t,n=e.isHost,r=e.type,i=e.isComponent,o=e.selector,a=e.exportAs,s=e.changeDetection,u=e.inputs,l=e.outputs,h=e.hostListeners,p=e.hostProperties,f=e.hostAttributes,d=e.providers,m=e.viewProviders,y=e.queries,v=e.viewQueries,g=e.entryComponents,b=e.template;this.isHost=!!n,this.type=r,this.isComponent=i,this.selector=o,this.exportAs=a,this.changeDetection=s,this.inputs=u,this.outputs=l,this.hostListeners=h,this.hostProperties=p,this.hostAttributes=f,this.providers=c(d),this.viewProviders=c(m),this.queries=c(y),this.viewQueries=c(v),this.entryComponents=c(g),this.template=b}return t.create=function(e){var r=void 0===e?{}:e,i=r.isHost,o=r.type,a=r.isComponent,s=r.selector,u=r.exportAs,c=r.changeDetection,l=r.inputs,h=r.outputs,p=r.host,d=r.providers,m=r.viewProviders,v=r.queries,b=r.viewQueries,_=r.entryComponents,x=r.template,w={},C={},S={};n.i(f.c)(p)&&Object.keys(p).forEach(function(t){var e=p[t],r=t.match(g);null===r?S[t]=e:n.i(f.c)(r[1])?C[r[1]]=e:n.i(f.c)(r[2])&&(w[r[2]]=e)});var E={};n.i(f.c)(l)&&l.forEach(function(t){var e=n.i(y.a)(t,[t,t]);E[e[0]]=e[1]});var T={};return n.i(f.c)(h)&&h.forEach(function(t){var e=n.i(y.a)(t,[t,t]);T[e[0]]=e[1]}),new t({isHost:i,type:o,isComponent:!!a,selector:s,exportAs:u,changeDetection:c,inputs:E,outputs:T,hostListeners:w,hostProperties:C,hostAttributes:S,providers:d,viewProviders:m,queries:v,viewQueries:b,entryComponents:_,template:x})},t.prototype.toSummary=function(){return{summaryKind:R.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary()}},t}(),D=function(){function t(t){var e=void 0===t?{}:t,n=e.type,r=e.name,i=e.pure;this.type=n,this.name=r,this.pure=!!i}return t.prototype.toSummary=function(){return{summaryKind:R.Pipe,type:this.type,name:this.name,pure:this.pure}},t}(),L=function(){function t(t){var e=void 0===t?{}:t,n=e.type,r=e.providers,i=e.declaredDirectives,o=e.exportedDirectives,a=e.declaredPipes,s=e.exportedPipes,u=e.entryComponents,l=e.bootstrapComponents,h=e.importedModules,p=e.exportedModules,f=e.schemas,d=e.transitiveModule,m=e.id;this.type=n,this.declaredDirectives=c(i),this.exportedDirectives=c(o),this.declaredPipes=c(a),this.exportedPipes=c(s),this.providers=c(r),this.entryComponents=c(u),this.bootstrapComponents=c(l),this.importedModules=c(h),this.exportedModules=c(p),this.schemas=c(f),this.id=m,this.transitiveModule=d}return t.prototype.toSummary=function(){return{summaryKind:R.NgModule,type:this.type,entryComponents:this.transitiveModule.entryComponents,providers:this.transitiveModule.providers,modules:this.transitiveModule.modules,exportedDirectives:this.transitiveModule.exportedDirectives,exportedPipes:this.transitiveModule.exportedPipes}},t}(),V=function(){function t(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}return t.prototype.addProvider=function(t,e){this.providers.push({provider:t,module:e})},t.prototype.addDirective=function(t){this.directivesSet.has(t.reference)||(this.directivesSet.add(t.reference),this.directives.push(t))},t.prototype.addExportedDirective=function(t){this.exportedDirectivesSet.has(t.reference)||(this.exportedDirectivesSet.add(t.reference),this.exportedDirectives.push(t))},t.prototype.addPipe=function(t){this.pipesSet.has(t.reference)||(this.pipesSet.add(t.reference),this.pipes.push(t))},t.prototype.addExportedPipe=function(t){this.exportedPipesSet.has(t.reference)||(this.exportedPipesSet.add(t.reference),this.exportedPipes.push(t))},t.prototype.addModule=function(t){this.modulesSet.has(t.reference)||(this.modulesSet.add(t.reference),this.modules.push(t))},t.prototype.addEntryComponent=function(t){this.entryComponentsSet.has(t.reference)||(this.entryComponentsSet.add(t.reference),this.entryComponents.push(t))},t}(),F=function(){function t(t,e){var n=e.useClass,r=e.useValue,i=e.useExisting,o=e.useFactory,a=e.deps,s=e.multi;this.token=t,this.useClass=n,this.useValue=r,this.useExisting=i,this.useFactory=o,this.dependencies=a,this.multi=!!s}return t}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"E",function(){return i}),n.d(e,"r",function(){return o}),n.d(e,"G",function(){return a}),n.d(e,"J",function(){return s}),n.d(e,"K",function(){return u}),n.d(e,"g",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"e",function(){return p}),n.d(e,"f",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return m}),n.d(e,"n",function(){return y}),n.d(e,"d",function(){return v}),n.d(e,"p",function(){return g}),n.d(e,"o",function(){return b}),n.d(e,"s",function(){return _}),n.d(e,"q",function(){return x}),n.d(e,"m",function(){return w}),n.d(e,"h",function(){return C}),n.d(e,"F",function(){return S}),n.d(e,"c",function(){return E}),n.d(e,"N",function(){return T}),n.d(e,"L",function(){return M}),n.d(e,"v",function(){return A}),n.d(e,"x",function(){return P}),n.d(e,"w",function(){return k}),n.d(e,"t",function(){return R}),n.d(e,"u",function(){return O}),n.d(e,"a",function(){return I}),n.d(e,"M",function(){return N}),n.d(e,"H",function(){return D}),n.d(e,"b",function(){return L}),n.d(e,"y",function(){return V}),n.d(e,"z",function(){return F}),n.d(e,"A",function(){return j}),n.d(e,"C",function(){return B}),n.d(e,"B",function(){return U}),n.d(e,"I",function(){return z}),n.d(e,"D",function(){return H});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=r.__core_private__.isDefaultChangeDetectionStrategy,o=r.__core_private__.ChangeDetectorStatus,a=r.__core_private__.LifecycleHooks,s=r.__core_private__.LIFECYCLE_HOOKS_VALUES,u=r.__core_private__.ReflectorReader,c=r.__core_private__.ViewContainer,l=r.__core_private__.CodegenComponentFactoryResolver,h=r.__core_private__.ComponentRef_,p=r.__core_private__.AppView,f=r.__core_private__.DebugAppView,d=r.__core_private__.NgModuleInjector,m=r.__core_private__.registerModuleFactory,y=r.__core_private__.ViewType,v=r.__core_private__.view_utils,g=r.__core_private__.DebugContext,b=r.__core_private__.StaticNodeDebugInfo,_=r.__core_private__.devModeEqual,x=r.__core_private__.UNINITIALIZED,w=r.__core_private__.ValueUnwrapper,C=r.__core_private__.TemplateRef_,S=(r.__core_private__.RenderDebugInfo,r.__core_private__.Console),E=r.__core_private__.reflector,T=r.__core_private__.Reflector,M=r.__core_private__.ReflectionCapabilities,A=r.__core_private__.NoOpAnimationPlayer,P=(r.__core_private__.AnimationPlayer,r.__core_private__.AnimationSequencePlayer),k=r.__core_private__.AnimationGroupPlayer,R=r.__core_private__.AnimationKeyframe,O=r.__core_private__.AnimationStyles,I=r.__core_private__.ANY_STATE,N=r.__core_private__.DEFAULT_STATE,D=r.__core_private__.EMPTY_STATE,L=r.__core_private__.FILL_STYLE_FLAG,V=r.__core_private__.prepareFinalAnimationStyles,F=r.__core_private__.balanceAnimationKeyframes,j=r.__core_private__.clearStyles,B=r.__core_private__.collectAndResolveStyles,U=r.__core_private__.renderStyles,z=(r.__core_private__.ViewMetadata,r.__core_private__.ComponentStillLoadingError),H=r.__core_private__.AnimationTransition},,function(t,e,n){"use strict";function r(t,e,n){return void 0===e&&(e=null),void 0===n&&(n="src"),null==e?"@angular/"+t+"/index":"@angular/"+t+"/"+n+"/"+e}function i(t){return l.c.resolveIdentifier(t.name,t.moduleUrl,t.runtime)}function o(t){var e=l.c.resolveIdentifier(t.name,t.moduleUrl,t.runtime);return{reference:e}}function a(t){return{identifier:t}}function s(t){return a(o(t))}function u(t,e){var n=l.c.resolveEnum(i(t),e);return{reference:n}}var c=n(0),l=n(14);n.d(e,"b",function(){return m}),e.e=i,e.a=o,e.c=a,e.f=s,e.d=u;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=r("core","linker/view"),p=r("core","linker/view_utils"),f=r("core","change_detection/change_detection"),d=r("core","animation/animation_style_util"),m=function(){function t(){}return t.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleUrl:r("core","metadata/di"),runtime:c.ANALYZE_FOR_ENTRY_COMPONENTS},t.ViewUtils={name:"ViewUtils",moduleUrl:r("core","linker/view_utils"),runtime:l.d.ViewUtils},t.AppView={name:"AppView",moduleUrl:h,runtime:l.e},t.DebugAppView={name:"DebugAppView",moduleUrl:h,runtime:l.f},t.ViewContainer={name:"ViewContainer",moduleUrl:r("core","linker/view_container"),runtime:l.g},t.ElementRef={name:"ElementRef",moduleUrl:r("core","linker/element_ref"),runtime:c.ElementRef},t.ViewContainerRef={name:"ViewContainerRef",moduleUrl:r("core","linker/view_container_ref"),runtime:c.ViewContainerRef},t.ChangeDetectorRef={name:"ChangeDetectorRef",moduleUrl:r("core","change_detection/change_detector_ref"),runtime:c.ChangeDetectorRef},t.RenderComponentType={name:"RenderComponentType",moduleUrl:r("core","render/api"),runtime:c.RenderComponentType},t.QueryList={name:"QueryList",moduleUrl:r("core","linker/query_list"),runtime:c.QueryList},t.TemplateRef={name:"TemplateRef",moduleUrl:r("core","linker/template_ref"),runtime:c.TemplateRef},t.TemplateRef_={name:"TemplateRef_",moduleUrl:r("core","linker/template_ref"),runtime:l.h},t.CodegenComponentFactoryResolver={name:"CodegenComponentFactoryResolver",moduleUrl:r("core","linker/component_factory_resolver"),runtime:l.i},t.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleUrl:r("core","linker/component_factory_resolver"),runtime:c.ComponentFactoryResolver},t.ComponentFactory={name:"ComponentFactory",runtime:c.ComponentFactory,moduleUrl:r("core","linker/component_factory")},t.ComponentRef_={name:"ComponentRef_",runtime:l.j,moduleUrl:r("core","linker/component_factory")},t.ComponentRef={name:"ComponentRef",runtime:c.ComponentRef,moduleUrl:r("core","linker/component_factory")},t.NgModuleFactory={name:"NgModuleFactory",runtime:c.NgModuleFactory,moduleUrl:r("core","linker/ng_module_factory")},t.NgModuleInjector={name:"NgModuleInjector",runtime:l.k,moduleUrl:r("core","linker/ng_module_factory")},t.RegisterModuleFactoryFn={name:"registerModuleFactory",runtime:l.l,moduleUrl:r("core","linker/ng_module_factory_loader")},t.ValueUnwrapper={name:"ValueUnwrapper",moduleUrl:f,runtime:l.m},t.Injector={name:"Injector",moduleUrl:r("core","di/injector"),runtime:c.Injector},t.ViewEncapsulation={name:"ViewEncapsulation",moduleUrl:r("core","metadata/view"),runtime:c.ViewEncapsulation},t.ViewType={name:"ViewType",moduleUrl:r("core","linker/view_type"),runtime:l.n},t.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleUrl:f,runtime:c.ChangeDetectionStrategy},t.StaticNodeDebugInfo={name:"StaticNodeDebugInfo",moduleUrl:r("core","linker/debug_context"),runtime:l.o},t.DebugContext={name:"DebugContext",moduleUrl:r("core","linker/debug_context"),runtime:l.p},t.Renderer={name:"Renderer",moduleUrl:r("core","render/api"),runtime:c.Renderer},t.SimpleChange={name:"SimpleChange",moduleUrl:f,runtime:c.SimpleChange},t.UNINITIALIZED={name:"UNINITIALIZED",moduleUrl:f,runtime:l.q},t.ChangeDetectorStatus={name:"ChangeDetectorStatus",moduleUrl:f,runtime:l.r},t.checkBinding={name:"checkBinding",moduleUrl:p,runtime:l.d.checkBinding},t.devModeEqual={name:"devModeEqual",moduleUrl:f,runtime:l.s},t.inlineInterpolate={name:"inlineInterpolate",moduleUrl:p,runtime:l.d.inlineInterpolate},t.interpolate={name:"interpolate",moduleUrl:p,runtime:l.d.interpolate},t.castByValue={name:"castByValue",moduleUrl:p,runtime:l.d.castByValue},t.EMPTY_ARRAY={name:"EMPTY_ARRAY",moduleUrl:p,runtime:l.d.EMPTY_ARRAY},t.EMPTY_MAP={name:"EMPTY_MAP",moduleUrl:p,runtime:l.d.EMPTY_MAP},t.createRenderElement={name:"createRenderElement",moduleUrl:p,runtime:l.d.createRenderElement},t.selectOrCreateRenderHostElement={name:"selectOrCreateRenderHostElement",moduleUrl:p,runtime:l.d.selectOrCreateRenderHostElement},t.pureProxies=[null,{name:"pureProxy1",moduleUrl:p,runtime:l.d.pureProxy1},{name:"pureProxy2",moduleUrl:p,runtime:l.d.pureProxy2},{name:"pureProxy3",moduleUrl:p,runtime:l.d.pureProxy3},{name:"pureProxy4",moduleUrl:p,runtime:l.d.pureProxy4},{name:"pureProxy5",moduleUrl:p,runtime:l.d.pureProxy5},{name:"pureProxy6",moduleUrl:p,runtime:l.d.pureProxy6},{name:"pureProxy7",moduleUrl:p,runtime:l.d.pureProxy7},{name:"pureProxy8",moduleUrl:p,runtime:l.d.pureProxy8},{name:"pureProxy9",moduleUrl:p,runtime:l.d.pureProxy9},{name:"pureProxy10",moduleUrl:p,runtime:l.d.pureProxy10}],t.SecurityContext={name:"SecurityContext",moduleUrl:r("core","security"),runtime:c.SecurityContext},t.AnimationKeyframe={name:"AnimationKeyframe",moduleUrl:r("core","animation/animation_keyframe"),runtime:l.t},t.AnimationStyles={name:"AnimationStyles",moduleUrl:r("core","animation/animation_styles"),runtime:l.u},t.NoOpAnimationPlayer={name:"NoOpAnimationPlayer",moduleUrl:r("core","animation/animation_player"),runtime:l.v},t.AnimationGroupPlayer={name:"AnimationGroupPlayer",moduleUrl:r("core","animation/animation_group_player"),runtime:l.w},t.AnimationSequencePlayer={name:"AnimationSequencePlayer",moduleUrl:r("core","animation/animation_sequence_player"),runtime:l.x},t.prepareFinalAnimationStyles={name:"prepareFinalAnimationStyles",moduleUrl:d,runtime:l.y},t.balanceAnimationKeyframes={name:"balanceAnimationKeyframes",moduleUrl:d,runtime:l.z},t.clearStyles={name:"clearStyles",moduleUrl:d,runtime:l.A},t.renderStyles={name:"renderStyles",moduleUrl:d,runtime:l.B},t.collectAndResolveStyles={name:"collectAndResolveStyles",moduleUrl:d,runtime:l.C},t.LOCALE_ID={name:"LOCALE_ID",moduleUrl:r("core","i18n/tokens"),runtime:c.LOCALE_ID},t.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleUrl:r("core","i18n/tokens"),runtime:c.TRANSLATIONS_FORMAT},t.setBindingDebugInfo={name:"setBindingDebugInfo",moduleUrl:p,runtime:l.d.setBindingDebugInfo},t.setBindingDebugInfoForChanges={name:"setBindingDebugInfoForChanges",moduleUrl:p,runtime:l.d.setBindingDebugInfoForChanges},t.AnimationTransition={name:"AnimationTransition",moduleUrl:r("core","animation/animation_transition"),runtime:l.D},t.InlineArray={name:"InlineArray",moduleUrl:p,runtime:null},t.inlineArrays=[{name:"InlineArray2",moduleUrl:p,runtime:l.d.InlineArray2},{name:"InlineArray2",moduleUrl:p,runtime:l.d.InlineArray2},{name:"InlineArray4",moduleUrl:p,runtime:l.d.InlineArray4},{name:"InlineArray8",moduleUrl:p,runtime:l.d.InlineArray8},{name:"InlineArray16",moduleUrl:p,runtime:l.d.InlineArray16}],t.EMPTY_INLINE_ARRAY={name:"EMPTY_INLINE_ARRAY",moduleUrl:p,runtime:l.d.EMPTY_INLINE_ARRAY},t.InlineArrayDynamic={name:"InlineArrayDynamic",moduleUrl:p,runtime:l.d.InlineArrayDynamic},t.subscribeToRenderElement={name:"subscribeToRenderElement",moduleUrl:p,runtime:l.d.subscribeToRenderElement},t.createRenderComponentType={name:"createRenderComponentType",moduleUrl:p,runtime:l.d.createRenderComponentType},t.noop={name:"noop",moduleUrl:p,runtime:l.d.noop},t}()},function(t,e,n){"use strict";function r(){return function(t){return t}}e.a=r},,,function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return t.concat(e instanceof l.UnsubscriptionError?e.errors:e)},[])}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(51),a=n(469),s=n(203),u=n(25),c=n(23),l=n(467),h=function(){function t(t){this.closed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){this.closed=!0;var n=this,i=n._unsubscribe,h=n._subscriptions;if(this._subscriptions=null,s.isFunction(i)){var p=u.tryCatch(i).call(this);p===c.errorObject&&(e=!0,t=t||(c.errorObject.e instanceof l.UnsubscriptionError?r(c.errorObject.e.errors):[c.errorObject.e]))}if(o.isArray(h))for(var f=-1,d=h.length;++f<d;){var m=h[f];if(a.isObject(m)){var p=u.tryCatch(m.unsubscribe).call(m);if(p===c.errorObject){e=!0,t=t||[];var y=c.errorObject.e;y instanceof l.UnsubscriptionError?t=t.concat(r(y.errors)):t.push(y)}}}if(e)throw new l.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=new p(n,this);return this._subscriptions=this._subscriptions||[],this._subscriptions.push(r),r},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var n=this._subscriptions;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=h;var p=function(t){function e(e,n){t.call(this),this._innerSub=e,this._parent=n}return i(e,t),e.prototype._unsubscribe=function(){var t=this,e=t._innerSub,n=t._parent;n.remove(this),e.unsubscribe()},e}(h);e.ChildSubscription=p},function(t,e,n){"use strict";function r(){return o}function i(t){o||(o=t)}e.b=r,e.c=i,n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=null,a=function(){function t(){this.resourceLoaderType=null}return t.prototype.hasProperty=function(t,e){},t.prototype.setProperty=function(t,e,n){},t.prototype.getProperty=function(t,e){},t.prototype.invoke=function(t,e,n){},t.prototype.logError=function(t){},t.prototype.log=function(t){},t.prototype.logGroup=function(t){},t.prototype.logGroupEnd=function(){},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t.prototype.parse=function(t){},t.prototype.query=function(t){},t.prototype.querySelector=function(t,e){},t.prototype.querySelectorAll=function(t,e){},t.prototype.on=function(t,e,n){},t.prototype.onAndCancel=function(t,e,n){},t.prototype.dispatchEvent=function(t,e){},t.prototype.createMouseEvent=function(t){},t.prototype.createEvent=function(t){},t.prototype.preventDefault=function(t){},t.prototype.isPrevented=function(t){},t.prototype.getInnerHTML=function(t){},t.prototype.getTemplateContent=function(t){},t.prototype.getOuterHTML=function(t){},t.prototype.nodeName=function(t){},t.prototype.nodeValue=function(t){},t.prototype.type=function(t){},t.prototype.content=function(t){},t.prototype.firstChild=function(t){},t.prototype.nextSibling=function(t){},t.prototype.parentElement=function(t){},t.prototype.childNodes=function(t){},t.prototype.childNodesAsList=function(t){},t.prototype.clearNodes=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.removeChild=function(t,e){},t.prototype.replaceChild=function(t,e,n){},t.prototype.remove=function(t){},t.prototype.insertBefore=function(t,e){},t.prototype.insertAllBefore=function(t,e){},t.prototype.insertAfter=function(t,e){},t.prototype.setInnerHTML=function(t,e){},t.prototype.getText=function(t){},t.prototype.setText=function(t,e){},t.prototype.getValue=function(t){},t.prototype.setValue=function(t,e){},t.prototype.getChecked=function(t){},t.prototype.setChecked=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createTemplate=function(t){},t.prototype.createElement=function(t,e){},t.prototype.createElementNS=function(t,e,n){},t.prototype.createTextNode=function(t,e){},t.prototype.createScriptTag=function(t,e,n){},t.prototype.createStyleElement=function(t,e){},t.prototype.createShadowRoot=function(t){},t.prototype.getShadowRoot=function(t){},t.prototype.getHost=function(t){},t.prototype.getDistributedNodes=function(t){},t.prototype.clone=function(t){},t.prototype.getElementsByClassName=function(t,e){},t.prototype.getElementsByTagName=function(t,e){},t.prototype.classList=function(t){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.hasClass=function(t,e){},t.prototype.setStyle=function(t,e,n){},t.prototype.removeStyle=function(t,e){},t.prototype.getStyle=function(t,e){},t.prototype.hasStyle=function(t,e,n){},t.prototype.tagName=function(t){},t.prototype.attributeMap=function(t){},t.prototype.hasAttribute=function(t,e){},t.prototype.hasAttributeNS=function(t,e,n){},t.prototype.getAttribute=function(t,e){},t.prototype.getAttributeNS=function(t,e,n){},t.prototype.setAttribute=function(t,e,n){},t.prototype.setAttributeNS=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e){},t.prototype.removeAttributeNS=function(t,e,n){},t.prototype.templateAwareRoot=function(t){},t.prototype.createHtmlDocument=function(){},t.prototype.defaultDoc=function(){},t.prototype.getBoundingClientRect=function(t){},t.prototype.getTitle=function(){},t.prototype.setTitle=function(t){},t.prototype.elementMatches=function(t,e){},t.prototype.isTemplateElement=function(t){},t.prototype.isTextNode=function(t){},t.prototype.isCommentNode=function(t){},t.prototype.isElementNode=function(t){},t.prototype.hasShadowRoot=function(t){},t.prototype.isShadowRoot=function(t){},t.prototype.importIntoDoc=function(t){},t.prototype.adoptNode=function(t){},t.prototype.getHref=function(t){},t.prototype.getEventKey=function(t){},t.prototype.resolveAndSetHref=function(t,e,n){},t.prototype.supportsDOMEvents=function(){},t.prototype.supportsNativeShadowDOM=function(){},t.prototype.getGlobalEventTarget=function(t){},t.prototype.getHistory=function(){},t.prototype.getLocation=function(){},t.prototype.getBaseHref=function(){},t.prototype.resetBaseElement=function(){},t.prototype.getUserAgent=function(){},t.prototype.setData=function(t,e,n){},t.prototype.getComputedStyle=function(t){},t.prototype.getData=function(t,e){},t.prototype.setGlobalVar=function(t,e){},t.prototype.supportsWebAnimation=function(){},t.prototype.performanceNow=function(){},t.prototype.getAnimationPrefix=function(){},t.prototype.getTransitionEnd=function(){},t.prototype.supportsAnimation=function(){},t.prototype.supportsCookies=function(){},t.prototype.getCookie=function(t){},t.prototype.setCookie=function(t,e){},t}()},,function(t,e,n){"use strict";e.errorObject={e:{}}},function(t,e,n){"use strict";(function(t){if(e.root="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t,!e.root)throw new Error("RxJS could not find any global context (window, self, global)")}).call(e,n(41))},function(t,e,n){"use strict";function r(){try{return o.apply(this,arguments)}catch(t){return a.errorObject.e=t,a.errorObject}}function i(t){return o=t,r}var o,a=n(23);e.tryCatch=i},function(t,e){var n={svgns:"http://www.w3.org/2000/svg",xlinkNS:"http://www.w3.org/1999/xlink",highlightColour:"#ffff99",selectedColour:"#ffff99",Polymer:{STICKHEIGHT:20,MAXSIZE:20,transitionTime:650}};t.exports=n},,function(t,e,n){"use strict";var r=n(140),i=n(141);e.async=new i.AsyncScheduler(r.AsyncAction)},function(t,e,n){"use strict";function r(t){return t.replace(p,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t[1].toUpperCase()})}function i(t,e){return a(t,":",e)}function o(t,e){return a(t,".",e)}function a(t,e,n){var r=t.indexOf(e);return r==-1?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function s(t,e,r){return Array.isArray(t)?e.visitArray(t,r):n.i(c.a)(t)?e.visitStringMap(t,r):null==t||n.i(c.b)(t)?e.visitPrimitive(t,r):e.visitOther(t,r)}var u=n(512),c=n(6);n.d(e,"f",function(){return h}),e.d=r,e.a=i,e.c=o,e.b=s,n.d(e,"g",function(){return f}),n.d(e,"h",function(){return d}),n.d(e,"e",function(){return m});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},h="",p=/-+([a-z0-9])/g,f=function(){function t(){}return t.prototype.visitArray=function(t,e){var n=this;return t.map(function(t){return s(t,n,e)})},t.prototype.visitStringMap=function(t,e){var n=this,r={};return Object.keys(t).forEach(function(i){r[i]=s(t[i],n,e)}),r},t.prototype.visitPrimitive=function(t,e){return t},t.prototype.visitOther=function(t,e){return t},t}(),d=function(){function t(t,e){void 0===e&&(e=null),this.syncResult=t,this.asyncResult=e,e||(this.asyncResult=Promise.resolve(t))}return t}(),m=function(t){function e(){t.apply(this,arguments)}return l(e,t),e}(u.a)},,,,function(t,e,n){"use strict";var r=n(0),i=n(195),o=n(87),a=n(95);n(446);var s=function(){function t(t,e){this.settings={pageTracking:{autoTrackVirtualPages:!0,basePath:"",excludedRoutes:[]},eventTracking:{},developerMode:!1},this.pageTrack=new i.ReplaySubject(10),this.eventTrack=new i.ReplaySubject(10),this.exceptionTrack=new i.ReplaySubject(10),this.setAlias=new i.ReplaySubject(10),this.setUsername=new i.ReplaySubject(10),this.setUserProperties=new i.ReplaySubject(10),this.setUserPropertiesOnce=new i.ReplaySubject(10),this.setSuperProperties=new i.ReplaySubject(10),this.setSuperPropertiesOnce=new i.ReplaySubject(10),this.userTimings=new i.ReplaySubject(10),this.trackLocation(t,e)}return t.prototype.trackLocation=function(t,e){var n=this;e.events.filter(function(t){return t instanceof a.NavigationEnd}).subscribe(function(e){n.settings.developerMode||n.trackUrlChange(e.urlAfterRedirects,t)})},t.prototype.virtualPageviews=function(t){this.settings.pageTracking.autoTrackVirtualPages=t},t.prototype.excludeRoutes=function(t){this.settings.pageTracking.excludedRoutes=t},t.prototype.firstPageview=function(t){this.settings.pageTracking.autoTrackFirstPage=t},t.prototype.withBase=function(t){this.settings.pageTracking.basePath=t},t.prototype.developerMode=function(t){this.settings.developerMode=t},t.prototype.trackUrlChange=function(t,e){this.settings.developerMode||this.settings.pageTracking.autoTrackVirtualPages&&!this.matchesExcludedRoute(t)&&this.pageTrack.next({path:this.settings.pageTracking.basePath.length?this.settings.pageTracking.basePath+t:e.prepareExternalUrl(t),location:e})},t.prototype.matchesExcludedRoute=function(t){for(var e=0,n=this.settings.pageTracking.excludedRoutes;e<n.length;e++){var r=n[e];if(r instanceof RegExp&&r.test(t)||t.indexOf(r)>-1)return!0}return!1},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:o.Location},{type:a.Router}]},t}();e.Angulartics2=s},,function(t,e,n){"use strict";var r=n(150),i=n(6);n.d(e,"d",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"e",function(){return u}),n.d(e,"a",function(){return c});var o=function(){function t(t,e,n,r){this.file=t,this.offset=e,this.line=n,this.col=r}return t.prototype.toString=function(){return n.i(i.c)(this.offset)?this.file.url+"@"+this.line+":"+this.col:this.file.url},t.prototype.moveBy=function(e){for(var n=this.file.content,i=n.length,o=this.offset,a=this.line,s=this.col;o>0&&e<0;){o--,e++;var u=n.charCodeAt(o);if(u==r.a){a--;var c=n.substr(0,o-1).lastIndexOf(String.fromCharCode(r.a));s=c>0?o-c:o}else s--}for(;o<i&&e>0;){var u=n.charCodeAt(o);o++,e--,u==r.a?(a++,s=0):s++}return new t(this.file,o,a,s)},t.prototype.getContext=function(t,e){var r=this.file.content,o=this.offset;if(n.i(i.c)(o)){o>r.length-1&&(o=r.length-1);for(var a=o,s=0,u=0;s<t&&o>0&&(o--,s++,"\n"!=r[o]||++u!=e););for(s=0,u=0;s<t&&a<r.length-1&&(a++,s++,"\n"!=r[a]||++u!=e););return{before:r.substring(o,this.offset),after:r.substring(this.offset,a+1)}}return null},t}(),a=function(){function t(t,e){this.content=t,this.url=e}return t}(),s=function(){function t(t,e,n){void 0===n&&(n=null),this.start=t,this.end=e,this.details=n}return t.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},t}(),u={};u.WARNING=0,u.FATAL=1,u[u.WARNING]="WARNING",u[u.FATAL]="FATAL";var c=function(){function t(t,e,n){void 0===n&&(n=u.FATAL),this.span=t,this.msg=e,this.level=n}return t.prototype.toString=function(){var t=this.span.start.getContext(100,3),e=t?' ("'+t.before+"[ERROR ->]"+t.after+'")':"",n=this.span.details?", "+this.span.details:"";return""+this.msg+e+": "+this.span.start+n},t}()},function(t,e,n){"use strict";var r=n(90);n.d(e,"e",function(){return r.d}),n.d(e,"d",function(){return r.e}),n.d(e,"a",function(){return r.a}),n.d(e,"m",function(){return r.b}),n.d(e,"c",function(){return r.c}),n.d(e,"h",function(){return r.f});var i=n(226);n.d(e,"i",function(){return i.b}),n.d(e,"j",function(){return i.a});var o=n(115);n.d(e,"g",function(){return o.b});var a=n(544);n.d(e,"f",function(){return a.a});var s=n(229);n.d(e,"k",function(){return s.c});var u=n(228);n.d(e,"l",function(){return u.a});var c=n(227);n.d(e,"b",function(){return c.a})},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=new r.OpaqueToken("NgValueAccessor")},,,,function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t){function r(t){return t.name||typeof t}function i(t){return null!=t}function o(t){return null==t}function a(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString(),n=e.indexOf("\n");return n===-1?e:e.substring(0,n)}function s(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function u(){if(!p)if(c.Symbol&&Symbol.iterator)p=Symbol.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),e=0;e<t.length;++e){var n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(p=n)}return p}e.d=r,e.g=i,e.c=o,e.a=a,n.d(e,"b",function(){return h}),e.e=s,e.f=u;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c;c="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:t:window;var l=c;l.assert=function(t){};var h=(Object.getPrototypeOf({}),function(){function t(){}return t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e},t.isNumeric=function(t){return!isNaN(t-parseFloat(t))},t}()),p=null}).call(e,n(41))},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t){return n.i(s.c)(t.value)?c.f(t.value):c.g(t.identifier)}function i(t){if(0===t.length)return c.g(n.i(u.a)(u.b.EMPTY_INLINE_ARRAY));var e=Math.log(t.length)/Math.log(2),r=Math.ceil(e),i=r<u.b.inlineArrays.length?u.b.inlineArrays[r]:u.b.InlineArrayDynamic,o=n.i(u.a)(i);return c.g(o).instantiate([c.f(t.length)].concat(t))}function o(t,e,r,i){i.fields.push(new c.c(r.name,null));var o=e<u.b.pureProxies.length?u.b.pureProxies[e]:null;if(!o)throw new Error("Unsupported number of argument for pure functions: "+e);i.ctorStmts.push(c.e.prop(r.name).set(c.g(n.i(u.a)(o)).callFn([t])).toStmt())}function a(t,e){var r=Object.keys(t.runtime).find(function(n){return t.runtime[n]===e});if(!r)throw new Error("Unknown enum value "+e+" in "+t.name);return c.g(n.i(u.d)(t,r))}var s=n(6),u=n(16),c=n(9);e.b=r,e.a=i,e.c=o,e.d=a},function(t,e,n){"use strict";var r=n(312);n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t,e){this.start=t,this.end=e}return t.fromArray=function(e){return e?(n.i(r.a)("interpolation",e),new t(e[0],e[1])):o},t}(),o=new i("{{","}}")},function(t,e,n){"use strict";function r(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var e=i(t);e&&r.push(e)}),r}n.d(e,"i",function(){return i}),n.d(e,"h",function(){return o}),n.d(e,"j",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"m",function(){return h}),n.d(e,"l",function(){return p}),n.d(e,"p",function(){return f}),n.d(e,"o",function(){return d}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return y}),n.d(e,"k",function(){return v}),n.d(e,"f",function(){return g}),e.a=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),o=function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitBoundText(this,e)},t}(),a=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitAttr(this,e)},t}(),s=function(){function t(t,e,n,r,i,o,a){this.name=t,this.type=e,this.securityContext=n,this.needsRuntimeSecurityContext=r,this.value=i,this.unit=o,this.sourceSpan=a}return t.prototype.visit=function(t,e){return t.visitElementProperty(this,e)},Object.defineProperty(t.prototype,"isAnimation",{get:function(){return this.type===g.Animation},enumerable:!0,configurable:!0}),t}(),u=function(){function t(t,e,n,r,i){this.name=t,this.target=e,this.phase=n,this.handler=r,this.sourceSpan=i}return t.calcFullName=function(t,e,n){return e?e+":"+t:n?"@"+t+"."+n:t},t.prototype.visit=function(t,e){return t.visitEvent(this,e)},Object.defineProperty(t.prototype,"fullName",{get:function(){return t.calcFullName(this.name,this.target,this.phase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimation",{get:function(){return!!this.phase},enumerable:!0,configurable:!0}),t}(),c=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitReference(this,e)},t}(),l=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitVariable(this,e)},t}(),h=function(){function t(t,e,n,r,i,o,a,s,u,c,l,h){this.name=t,this.attrs=e,this.inputs=n,this.outputs=r,this.references=i,this.directives=o,this.providers=a,this.hasViewContainer=s,this.children=u,this.ngContentIndex=c,this.sourceSpan=l,this.endSourceSpan=h}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),p=function(){function t(t,e,n,r,i,o,a,s,u,c){this.attrs=t,this.outputs=e,this.references=n,this.variables=r,this.directives=i,this.providers=o,this.hasViewContainer=a,this.children=s,this.ngContentIndex=u,this.sourceSpan=c}return t.prototype.visit=function(t,e){return t.visitEmbeddedTemplate(this,e)},t}(),f=function(){function t(t,e,n,r){this.directiveName=t,this.templateName=e,this.value=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitDirectiveProperty(this,e)},t}(),d=function(){function t(t,e,n,r,i){this.directive=t,this.inputs=e,this.hostProperties=n,this.hostEvents=r,this.sourceSpan=i}return t.prototype.visit=function(t,e){return t.visitDirective(this,e)},t}(),m=function(){function t(t,e,n,r,i,o,a){this.token=t,this.multiProvider=e,this.eager=n,this.providers=r,this.providerType=i,this.lifecycleHooks=o,this.sourceSpan=a}return t.prototype.visit=function(t,e){return null},t}(),y={};y.PublicService=0,y.PrivateService=1,y.Component=2,y.Directive=3,y.Builtin=4,y[y.PublicService]="PublicService",y[y.PrivateService]="PrivateService",y[y.Component]="Component",y[y.Directive]="Directive",y[y.Builtin]="Builtin";var v=function(){function t(t,e,n){this.index=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitNgContent(this,e)},t}(),g={};g.Property=0,g.Attribute=1,g.Class=2,g.Style=3,g.Animation=4,g[g.Property]="Property",g[g.Attribute]="Attribute",g[g.Class]="Class",g[g.Style]="Style",g[g.Animation]="Animation"},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t){return null==t||0===t.length}function i(t){return n.i(p.a)(t)?t:c.toPromise.call(t)}function o(t,e){return e.map(function(e){return e(t)})}function a(t,e){return e.map(function(e){return e(t)})}function s(t){var e=t.reduce(function(t,e){return n.i(h.a)(e)?l.a.merge(t,e):t},{});return 0===Object.keys(e).length?null:e}var u=n(0),c=n(460),l=(n.n(c),n(365)),h=n(93),p=n(367);n.d(e,"b",function(){return f}),n.d(e,"c",function(){return d}),n.d(e,"a",function(){return m});var f=new u.OpaqueToken("NgValidators"),d=new u.OpaqueToken("NgAsyncValidators"),m=function(){function t(){}return t.required=function(t){return r(t.value)?{required:!0}:null},t.requiredTrue=function(t){return t.value===!0?null:{required:!0}},t.minLength=function(t){return function(e){if(r(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var n,i;return"string"==typeof e?(i="^"+e+"$",n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(r(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(h.a);return 0==e.length?null:function(t){return s(o(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(h.a);return 0==e.length?null:function(t){var n=a(t,e).map(i);return Promise.all(n).then(s)}},t}()},function(t,e,n){"use strict";(function(t){function r(t){return null!=t}function i(t){return null==t}function o(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString(),n=e.indexOf("\n");return n===-1?e:e.substring(0,n)}function a(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function s(t,e,n){for(var r=e.split("."),i=t;r.length>1;){var o=r.shift();i=i.hasOwnProperty(o)&&null!=i[o]?i[o]:i[o]={}}void 0!==i&&null!==i||(i={}),i[r.shift()]=n}function u(){if(!h)if(c.Symbol&&Symbol.iterator)h=Symbol.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),e=0;e<t.length;++e){var n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(h=n)}return h}n.d(e,"e",function(){return l}),e.a=r,e.f=i,e.d=o,e.b=a,e.g=s,e.c=u;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c;c="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:t:window;var l=c;l.assert=function(t){};var h=(Object.getPrototypeOf({}),function(){function t(){}return t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e},t.isNumeric=function(t){return!isNaN(t-parseFloat(t))},t}(),null)}).call(e,n(41))},function(t,e,n){"use strict";function r(t,e,n){for(var r=n.path,i=r.split("/"),o={},a=[],s=0,u=0;u<i.length;++u){if(s>=t.length)return null;var c=t[s],l=i[u],h=l.startsWith(":");if(!h&&l!==c.path)return null;h&&(o[l.substring(1)]=c),a.push(c),s++}return"full"===n.pathMatch&&(e.hasChildren()||s<t.length)?null:{consumed:a,posParams:o}}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),e.c=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o="primary",a=function(t){function e(e){t.call(this,e),this.message=e,this.stack=new Error(e).stack}return i(e,t),e.prototype.toString=function(){return this.message},e}(Error)},function(t,e,n){"use strict";function r(){}var i=(n(261),n(26));r.LABELMAXLENGTH=90,r.labelY=-5,r.prototype.addStoichiometryLabel=function(t){this.labelSVG&&(this.labelSVG.innerHTML=this.labelSVG.innerHTML+" ["+t+"]")},r.prototype.mouseDown=function(t){this.controller.preventDefaultsAndStopPropagation(t),this.controller.force&&this.controller.force.stop(),this.controller.dragElement=this,this.controller.clearSelection(),this.setSelected(!0);var e=this.controller.getEventPoint(t);return this.controller.dragStart=this.controller.mouseToSVG(e.x,e.y),!1},r.prototype.touchStart=function(t){this.controller.preventDefaultsAndStopPropagation(t),void 0!==this.controller.force&&this.controller.force.stop(),this.controller.dragElement=this,this.controller.clearSelection(),this.setSelected(!0);var e=this.controller.getTouchEventPoint(t);return this.controller.dragStart=this.controller.mouseToSVG(e.x,e.y),this.showData(),!1},r.prototype.mouseOver=function(t){return this.controller.preventDefaultsAndStopPropagation(t),this.showHighlight(!0),!1},r.prototype.mouseOut=function(t){return this.controller.preventDefaultsAndStopPropagation(t),this.showHighlight(!1),this.controller.hideTooltip(),!1},r.prototype.getBlobRadius=function(){return 15},r.prototype.showHighlight=function(t){},r.prototype.setSelected=function(t){},r.prototype.getPosition=function(){return[this.x,this.y]},r.prototype.setPosition=function(t,e){this.x=t,this.y=e,1===this.form?this.upperGroup.setAttribute("transform","translate("+this.x+" "+this.y+") scale("+this.controller.z+") rotate("+this.rotation+")"):this.upperGroup.setAttribute("transform","translate("+this.x+" "+this.y+") scale("+this.controller.z+") ")},r.prototype.getAggregateSelfLinkPath=function(){var t=this.getBlobRadius()+7,e=45,n=r.trig(t,25+e),i=r.trig(t,-25+e),o=r.trig(t,40+e),a=r.trig(t,-40+e);return"M 0,0 Q "+o.x+","+-o.y+" "+n.x+","+-n.y+" A "+t+" "+t+" 0 0 1 "+i.x+","+-i.y+" Q "+a.x+","+-a.y+" 0,0"},r.rotatePointAboutPoint=function(t,e,n){n=n/360*Math.PI*2;var r=Math.cos(n)*(t[0]-e[0])-Math.sin(n)*(t[1]-e[1])+e[0],i=Math.sin(n)*(t[0]-e[0])+Math.cos(n)*(t[1]-e[1])+e[1];return[r,i]},r.prototype.checkLinks=function(){function t(t){for(var e=t.values(),n=e.length,r=0;r<n;r++)e[r].check()}t(this.naryLinks),t(this.binaryLinks),t(this.sequenceLinks),null!==this.selfLink&&this.selfLink.check()},r.prototype.setAllLinkCoordinates=function(){for(var t=this.naryLinks.values(),e=t.length,n=0;n<e;n++)t[n].setLinkCoordinates();t=this.binaryLinks.values(),e=t.length;for(var n=0;n<e;n++){var r=t[n];r.setLinkCoordinates()}this.selfLink&&this.selfLink.setLinkCoordinates(),t=this.sequenceLinks.values(),e=t.length;for(var n=0;n<e;n++)t[n].setLinkCoordinates()},r.prototype.clearPositionalFeatures=function(t){this.annotations=[],this.annotationsSvgGroup&&this.controller.emptyElement(this.annotationsSvgGroup)},r.prototype.setPositionalFeatures=function(t){if(void 0!==t&&null!==t){-r.STICKHEIGHT/2;t.sort(function(t,e){return e.end-e.start-(t.end-t.start)}),this.annotations=t;for(var e=0;e<t.length;e++){var n=t[e];n.start=n.start-0,n.end=n.end-0,n.pieSlice=document.createElementNS(i.svgns,"path"),0===this.form?n.pieSlice.setAttribute("d",this.getAnnotationPieSliceArcPath(n)):n.pieSlice.setAttribute("d",this.getAnnotationRectPath(n)),n.pieSlice.setAttribute("stroke-width",1),n.pieSlice.setAttribute("fill-opacity","0.6");var o=n.name+" ["+n.start+" - "+n.end+"]";n.pieSlice.name=o;var a=this.controller,s=this;n.pieSlice.onmouseover=function(t){var e=t.target.correspondingUseElement?t.target.correspondingUseElement:t.target;a.preventDefaultsAndStopPropagation(t),a.setTooltip(e.name,e.getAttribute("fill")),s.showHighlight(!0)},this.annotationsSvgGroup&&this.annotationsSvgGroup.appendChild(n.pieSlice)}}},r.trig=function(t,e){var n=e/360*Math.PI*2;return{x:t*Math.cos(n),y:t*Math.sin(n)}},r.prototype.showData=function(t){},r.prototype.setForm=function(t,e){},t.exports=r},,function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";var r=n(238);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(){t.apply(this,arguments)}return i(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(r.a)},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!i(t[n],e[n]))return!1;return!0}function i(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function o(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}function a(t){return t.length>0?t[t.length-1]:null}function s(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function u(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function c(t,e){var r=[],i={};if(u(t,function(t,n){n===_.a&&r.push(v.map.call(e(n,t),function(t){return i[n]=t,t}))}),u(t,function(t,n){n!==_.a&&r.push(v.map.call(e(n,t),function(t){return i[n]=t,t}))}),r.length>0){var o=d.concatAll.call(f.of.apply(void 0,r)),a=y.last.call(o);return v.map.call(a,function(){return i})}return n.i(f.of)(i)}function l(t){var e=g.mergeAll.call(t);return m.every.call(e,function(t){return t===!0})}function h(t){return n.i(b.a)(t)?t:n.i(b.b)(t)?n.i(p.fromPromise)(t):n.i(f.of)(t)}var p=n(197),f=(n.n(p),n(85)),d=(n.n(f),n(291)),m=(n.n(d),n(293)),y=(n.n(m),n(453)),v=(n.n(y),n(86)),g=(n.n(v),n(102)),b=(n.n(g),n(595)),_=n(48);e.f=r,e.c=i,e.a=o,e.i=a,e.e=s,e.d=u,e.h=c,e.g=l,e.b=h},,,,,,function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(287),a=n(70),s=n(71),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];s.isScheduler(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.ScalarObservable(t[0],r):new a.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,i=t.subscriber;return n>=r?void i.complete():(i.next(e[n]),void(i.closed||(t.index=n+1,this.schedule(t))))},e.prototype._subscribe=function(t){var n=0,r=this.array,i=r.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:r,index:n,count:i,subscriber:t});for(var a=0;a<i&&!t.closed;a++)t.next(r[a]);t.complete()},e}(i.Observable);e.ArrayObservable=u},function(t,e,n){"use strict";var r=n(494),i=n(42);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e,r){t.call(this,"Invalid argument '"+r+"' for pipe '"+n.i(i.a)(e)+"'")}return o(e,t),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(){function t(t,e,n){this.filePath=t,this.name=e,this.members=n}return t}(),i=function(){function t(){this.cache=new Map}return t.prototype.get=function(t,e,n){n=n||[];var i=n.length?"."+n.join("."):"",o='"'+t+'".'+e+i,a=this.cache.get(o);return a||(a=new r(t,e,n),this.cache.set(o,a)),a},t}()},function(t,e,n){"use strict";var r=n(0),i=n(16);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t){var e=void 0===t?{}:t,n=e.renderTypes,i=void 0===n?new a:n,o=e.defaultEncapsulation,s=void 0===o?r.ViewEncapsulation.Emulated:o,u=e.genDebugInfo,c=e.logBindingUpdate,l=e.useJit,h=void 0===l||l;this.renderTypes=i,this.defaultEncapsulation=s,this._genDebugInfo=u,this._logBindingUpdate=c,this.useJit=h}return Object.defineProperty(t.prototype,"genDebugInfo",{get:function(){return void 0===this._genDebugInfo?n.i(r.isDevMode)():this._genDebugInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logBindingUpdate",{get:function(){return void 0===this._logBindingUpdate?n.i(r.isDevMode)():this._logBindingUpdate},enumerable:!0,configurable:!0}),t}(),a=(function(){function t(){}return t.prototype.renderer=function(){},t.prototype.renderText=function(){},t.prototype.renderElement=function(){},t.prototype.renderComment=function(){},t.prototype.renderNode=function(){},t.prototype.renderEvent=function(){},t}(),function(){function t(){this.renderText=null,this.renderElement=null,this.renderComment=null,this.renderNode=null,this.renderEvent=null}return Object.defineProperty(t.prototype,"renderer",{get:function(){return n.i(i.a)(i.b.Renderer)},enumerable:!0,configurable:!0}),t}())},function(t,e,n){"use strict";function r(t){var e=_.a("changed"),r=[e.set(_.e.prop(k)).toDeclStmt(),_.e.prop(k).set(_.f(!1)).toStmt()],i=[];if(t.genChanges){var o=[];t.ngOnChanges&&o.push(_.e.prop(A).callMethod("ngOnChanges",[_.e.prop(P)]).toStmt()),t.compilerConfig.logBindingUpdate&&o.push(_.g(n.i(y.a)(y.b.setBindingDebugInfoForChanges)).callFn([D.prop("renderer"),V,_.e.prop(P)]).toStmt()),o.push(j),i.push(new _.u(e,o))}t.ngOnInit&&i.push(new _.u(D.prop("numberOfChecks").identical(new _.N(0)),[_.e.prop(A).callMethod("ngOnInit",[]).toStmt()])),t.ngDoCheck&&i.push(_.e.prop(A).callMethod("ngDoCheck",[]).toStmt()),i.length>0&&r.push(new _.u(_.v(I),i)),r.push(new _.t(e)),t.methods.push(new _.q("ngDoCheck",[new _.o(D.name,_.d(n.i(y.a)(y.b.AppView),[_.m])),new _.o(V.name,_.m),new _.o(I.name,_.s)],r,_.s))}function i(t,e){var r=n.i(h.a)(e),i=[_.e.prop(k).set(_.f(!0)).toStmt(),_.e.prop(A).prop(t).set(O).toStmt()];e.genChanges&&i.push(_.e.prop(P).key(_.f(t)).set(_.g(n.i(y.a)(y.b.SimpleChange)).instantiate([r.expression,O])).toStmt());var o=n.i(h.b)({currValExpr:O,forceUpdate:N,stmts:[]},r.expression,I,i);e.methods.push(new _.q("check_"+t,[new _.o(O.name,_.m),new _.o(I.name,_.s),new _.o(N.name,_.s)],o))}function o(t,e,r){var i=[],o=[new _.o(D.name,_.d(n.i(y.a)(y.b.AppView),[_.m])),new _.o(L.name,_.d(n.i(y.a)(y.b.AppView),[_.m])),new _.o(V.name,_.m),new _.o(I.name,_.s)];t.forEach(function(t,a){var s=n.i(h.a)(r),u=n.i(p.b)(r,null,_.e.prop(A),t.value,s.bindingId);if(u){var c;t.needsRuntimeSecurityContext&&(c=_.a("secCtx_"+o.length),o.push(new _.o(c.name,_.d(n.i(y.a)(y.b.SecurityContext)))));var l;if(t.isAnimation){var d=n.i(f.a)(D,L,t,e,_.e.prop(R).or(_.g(n.i(y.a)(y.b.noop))),V,u.currValExpr,s.expression),m=d.updateStmts,v=d.detachStmts;l=m,(g=r.detachStmts).push.apply(g,v)}else l=n.i(f.b)(D,t,V,u.currValExpr,r.compilerConfig.logBindingUpdate,c);i.push.apply(i,n.i(h.b)(u,s.expression,I,l));var g}}),r.methods.push(new _.q("checkHost",o,i))}function a(t,e){var r=_.a("result"),i=[r.set(_.f(!0)).toDeclStmt(_.s)];t.forEach(function(t,o){var a=n.i(p.c)(e,null,_.e.prop(A),t.handler,"sub_"+o),s=a.stmts;a.preventDefault&&s.push(r.set(a.preventDefault.and(r)).toStmt()),i.push(new _.u(F.equals(_.f(t.fullName)),s))}),i.push(new _.t(r)),e.methods.push(new _.q("handleEvent",[new _.o(F.name,_.r),new _.o(p.d.event.name,_.m)],i,_.s))}function s(t,e){var r=[new _.o(D.name,_.d(n.i(y.a)(y.b.AppView),[_.m])),new _.o(R,_.m)],i=[_.e.prop(R).set(_.a(R)).toStmt()];Object.keys(t.outputs).forEach(function(n,o){var a=t.outputs[n],s="emit"+o;r.push(new _.o(s,_.s));var u="subscription"+o;e.fields.push(new _.c(u,_.m)),i.push(new _.u(_.a(s),[_.e.prop(u).set(_.e.prop(A).prop(n).callMethod(_.O.SubscribeObservable,[_.a(R).callMethod(_.O.Bind,[D,_.f(a)])])).toStmt()])),e.destroyStmts.push(_.e.prop(u).and(_.e.prop(u).callMethod("unsubscribe",[])).toStmt())}),e.methods.push(new _.q("subscribe",r,i))}function u(t,e,r){var i=[],o=new S.a(e,g.a,r,[],i),a=n.i(l.i)(t.type),s=a?"in Directive "+n.i(l.a)(t.type)+" in "+a:"in Directive "+n.i(l.a)(t.type),u=new x.b("",s),c=new x.c(new x.d(u,null,null,null),new x.d(u,null,null,null)),h=o.createDirectiveHostPropertyAsts(t.toSummary(),c),p=o.createDirectiveHostEventAsts(t.toSummary(),c);return new z(h,p,i)}function c(t,e){var n=t.filter(function(t){return t.level===x.e.WARNING}),r=t.filter(function(t){return t.level===x.e.FATAL});if(n.length>0&&this._console.warn("Directive parse warnings:\n"+n.join("\n")),r.length>0)throw new Error("Directive parse errors:\n"+r.join("\n"))}var l=n(13),h=n(313),p=n(106),f=n(314),d=n(62),m=n(88),y=n(16),v=n(17),g=n(44),b=n(215),_=n(9),x=n(35),w=n(14),C=n(65),S=n(327);n.d(e,"a",function(){return B}),n.d(e,"b",function(){return H});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var E=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},T=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},M=function(){function t(t,e){this.statements=t,this.dirWrapperClassVar=e}return t}(),A="context",P="_changes",k="_changed",R="_eventHandler",O=_.a("currValue"),I=_.a("throwOnChange"),N=_.a("forceUpdate"),D=_.a("view"),L=_.a("componentView"),V=_.a("el"),F=_.a("eventName"),j=_.e.prop(P).set(_.l([])).toStmt(),B=function(){function t(t,e,n,r){this.compilerConfig=t,this._exprParser=e,this._schemaRegistry=n,this._console=r}return t.dirWrapperClassName=function(t){return"Wrapper_"+n.i(l.a)(t)},t.prototype.compile=function(t){var e=u(t,this._exprParser,this._schemaRegistry);c(e.errors,this._console);var n=new U(this.compilerConfig,t);Object.keys(t.inputs).forEach(function(t){i(t,n)}),r(n),o(e.hostProps,e.hostListeners,n),a(e.hostListeners,n),s(t,n);var l=n.build();return new M([l],l.name)},t=E([n.i(v.a)(),T("design:paramtypes",[d.a,m.a,C.a,w.F])],t)}(),U=function(){function t(t,e){this.compilerConfig=t,this.dirMeta=e,this.fields=[],this.getters=[],this.methods=[],this.ctorStmts=[],this.detachStmts=[],this.destroyStmts=[];var n=e.type.lifecycleHooks;this.genChanges=n.indexOf(w.G.OnChanges)!==-1||this.compilerConfig.logBindingUpdate,this.ngOnChanges=n.indexOf(w.G.OnChanges)!==-1,this.ngOnInit=n.indexOf(w.G.OnInit)!==-1,this.ngDoCheck=n.indexOf(w.G.DoCheck)!==-1,this.ngOnDestroy=n.indexOf(w.G.OnDestroy)!==-1,this.ngOnDestroy&&this.destroyStmts.push(_.e.prop(A).callMethod("ngOnDestroy",[]).toStmt())}return t.prototype.build=function(){for(var t=[],e=0;e<this.dirMeta.type.diDeps.length;e++)t.push("p"+e);var r=[new _.q("ngOnDetach",[new _.o(D.name,_.d(n.i(y.a)(y.b.AppView),[_.m])),new _.o(L.name,_.d(n.i(y.a)(y.b.AppView),[_.m])),new _.o(V.name,_.m)],this.detachStmts),new _.q("ngOnDestroy",[],this.destroyStmts)],i=[new _.c(R,_.M,[_.k.Private]),new _.c(A,_.d(this.dirMeta.type)),new _.c(k,_.s,[_.k.Private])],o=[_.e.prop(k).set(_.f(!1)).toStmt()];return this.genChanges&&(i.push(new _.c(P,new _.n(_.m),[_.k.Private])),o.push(j)),o.push(_.e.prop(A).set(_.g(this.dirMeta.type).instantiate(t.map(function(t){return _.a(t)}))).toStmt()),n.i(b.a)({name:B.dirWrapperClassName(this.dirMeta.type),ctorParams:t.map(function(t){return new _.o(t,_.m)}),builders:[{fields:i,ctorStmts:o,methods:r},this]})},t}(),z=function(){function t(t,e,n){this.hostProps=t,this.hostListeners=e,this.errors=n}return t}(),H=function(){function t(){}return t.create=function(t,e){return _.g(t).instantiate(e,_.d(t))},t.context=function(t){return t.prop(A)},t.ngDoCheck=function(t,e,n,r){return t.callMethod("ngDoCheck",[e,n,r])},t.checkHost=function(t,e,n,r,i,o,a){return t.length?[e.callMethod("checkHost",[n,r,i,o].concat(a)).toStmt()]:[]},t.ngOnDetach=function(t,e,n,r,i){return t.some(function(t){return t.isAnimation})?[e.callMethod("ngOnDetach",[n,r,i]).toStmt()]:[]},t.ngOnDestroy=function(t,e){return t.type.lifecycleHooks.indexOf(w.G.OnDestroy)!==-1||Object.keys(t.outputs).length>0?[e.callMethod("ngOnDestroy",[]).toStmt()]:[]},t.subscribe=function(t,e,n,r,i,o){var a=!1,s=[];return Object.keys(t.outputs).forEach(function(e){var r=t.outputs[e],i=n.indexOf(r)>-1;a=a||i,s.push(_.f(i))}),e.forEach(function(t){t.isAnimation&&n.length>0&&(a=!0)}),a?[r.callMethod("subscribe",[i,o].concat(s)).toStmt()]:[]},t.handleEvent=function(t,e,n,r){return e.callMethod("handleEvent",[n,r])},t}()},function(t,e,n){"use strict";function r(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var e=i(t);e&&r.push(e)}),r}n.d(e,"d",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"e",function(){return u}),n.d(e,"a",function(){return c}),e.g=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),o=function(){function t(t,e,n,r,i){this.switchValue=t,this.type=e,this.cases=n,this.sourceSpan=r,this.switchValueSourceSpan=i}return t.prototype.visit=function(t,e){return t.visitExpansion(this,e)},t}(),a=function(){function t(t,e,n,r,i){this.value=t,this.expression=e,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}return t.prototype.visit=function(t,e){return t.visitExpansionCase(this,e)},t}(),s=function(){function t(t,e,n,r){this.name=t,this.value=e,this.sourceSpan=n,this.valueSpan=r}return t.prototype.visit=function(t,e){return t.visitAttribute(this,e)},t}(),u=function(){function t(t,e,n,r,i,o){this.name=t,this.attrs=e,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=o}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),c=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitComment(this,e)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(){}return t.prototype.hasProperty=function(t,e,n){},t.prototype.hasElement=function(t,e){},t.prototype.securityContext=function(t,e,n){},t.prototype.allKnownElementNames=function(){},t.prototype.getMappedPropName=function(t){},t.prototype.getDefaultComponentElementName=function(){},t.prototype.validateProperty=function(t){},t.prototype.validateAttribute=function(t){},t.prototype.normalizeAnimationStyleProperty=function(t){},t.prototype.normalizeAnimationStyleValue=function(t,e,n){},t}()},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e){return e.path.concat([t])}function i(t,e){t||u(e,"Cannot find control with"),e.valueAccessor||u(e,"No value accessor for form control with"),t.validator=m.a.compose([t.validator,e.validator]),t.asyncValidator=m.a.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),e.valueAccessor.registerOnChange(function(n){e.viewToModelUpdate(n),t.markAsDirty(),t.setValue(n,{emitModelToViewChange:!1})}),e.valueAccessor.registerOnTouched(function(){return t.markAsTouched()}),t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function o(t,e){e.valueAccessor.registerOnChange(function(){return s(e)}),e.valueAccessor.registerOnTouched(function(){return s(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}function a(t,e){n.i(d.b)(t)&&u(e,"Cannot find control with"),t.validator=m.a.compose([t.validator,e.validator]),t.asyncValidator=m.a.composeAsync([t.asyncValidator,e.asyncValidator])}function s(t){return u(t,"There is no FormControl instance attached to form control element with")}function u(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function c(t){return n.i(d.a)(t)?m.a.compose(t.map(g.a)):null}function l(t){return n.i(d.a)(t)?m.a.composeAsync(t.map(g.b)):null}function h(t,e){if(!t.hasOwnProperty("model"))return!1;var r=t.model;return!!r.isFirstChange()||!n.i(d.c)(e,r.currentValue)}function p(t){return S.some(function(e){return t.constructor===e})}function f(t,e){if(!e)return null;var n,r,i;return e.forEach(function(e){e.constructor===v.a?n=e:p(e)?(r&&u(t,"More than one built-in value accessor matches form control with"),r=e):(i&&u(t,"More than one custom value accessor matches form control with"),i=e)}),i?i:r?r:n?n:(u(t,"No valid value accessor for form control with"),null)}var d=n(93),m=n(46),y=n(171),v=n(172),g=n(562),b=n(241),_=n(120),x=n(242),w=n(175),C=n(176);e.c=r,e.f=i,e.h=o,e.g=a,e.a=c,e.b=l,e.e=h,e.d=f;var S=[y.a,x.a,b.a,w.a,C.a,_.b]},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s});var r={};r.Get=0,r.Post=1,r.Put=2,r.Delete=3,r.Options=4,r.Head=5,r.Patch=6,r[r.Get]="Get",r[r.Post]="Post",r[r.Put]="Put",r[r.Delete]="Delete",r[r.Options]="Options",r[r.Head]="Head",r[r.Patch]="Patch";var i={};i.Unsent=0,i.Open=1,i.HeadersReceived=2,i.Loading=3,i.Done=4,i.Cancelled=5,i[i.Unsent]="Unsent",i[i.Open]="Open",i[i.HeadersReceived]="HeadersReceived",i[i.Loading]="Loading",i[i.Done]="Done",i[i.Cancelled]="Cancelled";var o={};o.Basic=0,o.Cors=1,o.Default=2,o.Error=3,o.Opaque=4,o[o.Basic]="Basic",o[o.Cors]="Cors",o[o.Default]="Default",o[o.Error]="Error",o[o.Opaque]="Opaque";var a={};a.NONE=0,a.JSON=1,a.FORM=2,a.FORM_DATA=3,a.TEXT=4,a.BLOB=5,a.ARRAY_BUFFER=6,a[a.NONE]="NONE",a[a.JSON]="JSON",a[a.FORM]="FORM",a[a.FORM_DATA]="FORM_DATA",a[a.TEXT]="TEXT",a[a.BLOB]="BLOB",a[a.ARRAY_BUFFER]="ARRAY_BUFFER";var s={};s.Text=0,s.Json=1,s.ArrayBuffer=2,s.Blob=3,s[s.Text]="Text",s[s.Json]="Json",s[s.ArrayBuffer]="ArrayBuffer",s[s.Blob]="Blob"},,,function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=function(t){function e(e){t.call(this),this.scheduler=e}return r(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){var e=t.subscriber;e.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;return n?n.schedule(e.dispatch,0,{subscriber:t}):void t.complete()},e}(i.Observable);e.EmptyObservable=o},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.isScheduler=r},function(t,e,n){"use strict";n(6);n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(){}return t.merge=function(t,e){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=t[o]}for(var a=0,s=Object.keys(e);a<s.length;a++){var o=s[a];n[o]=e[o]}return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!==e[o])return!1}return!0},t}(),i=function(){function t(){}return t.findLast=function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);r>-1&&t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.flatten=function(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t.flatten(n):n;return e.concat(r)},[])},t}()},function(t,e,n){"use strict";var r=n(17),i=n(213),o=n(44),a=n(89);n.d(e,"b",function(){return a.b}),n.d(e,"a",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(t){function e(){t.call(this,i.a)}return s(e,t),e.prototype.parse=function(e,n,r,i){return void 0===r&&(r=!1),void 0===i&&(i=o.a),t.prototype.parse.call(this,e,n,r,i)},e=u([n.i(r.a)(),c("design:paramtypes",[])],e)}(a.a)},function(t,e,n){"use strict";function r(t){if(":"!=t[0])return[null,t];var e=t.indexOf(":",1);if(e==-1)throw new Error('Unsupported format "'+t+'" expecting ":namespace:name"');return[t.slice(1,e),t.slice(e+1)]}function i(t){return null===t?null:r(t)[0]}function o(t,e){return t?":"+t+":"+e:e}n.d(e,"a",function(){return a}),e.e=r,e.c=i,e.b=o,n.d(e,"d",function(){return s});var a={};a.RAW_TEXT=0,a.ESCAPABLE_RAW_TEXT=1,a.PARSABLE_DATA=2,a[a.RAW_TEXT]="RAW_TEXT",a[a.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",a[a.PARSABLE_DATA]="PARSABLE_DATA";var s={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞",int:"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"}},function(t,e,n){"use strict";function r(){return new y(".")}function i(t){var e=a(t);return e&&e[g.Scheme]||""}function o(t,e,r,i,o,a,s){var u=[];return n.i(h.c)(t)&&u.push(t+":"),n.i(h.c)(r)&&(u.push("//"),n.i(h.c)(e)&&u.push(e+"@"),u.push(r),n.i(h.c)(i)&&u.push(":"+i)),n.i(h.c)(o)&&u.push(o),n.i(h.c)(a)&&u.push("?"+a),n.i(h.c)(s)&&u.push("#"+s),u.join("")}function a(t){return t.match(v)}function s(t){if("/"==t)return"/";for(var e="/"==t[0]?"/":"",n="/"===t[t.length-1]?"/":"",r=t.split("/"),i=[],o=0,a=0;a<r.length;a++){var s=r[a];switch(s){case"":case".":break;case"..":i.length>0?i.pop():o++;break;default:i.push(s)}}if(""==e){for(;o-- >0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+n}function u(t){var e=t[g.Path];return e=n.i(h.d)(e)?"":s(e),t[g.Path]=e,o(t[g.Scheme],t[g.UserInfo],t[g.Domain],t[g.Port],e,t[g.QueryData],t[g.Fragment])}function c(t,e){var r=a(encodeURI(e)),i=a(t);if(n.i(h.c)(r[g.Scheme]))return u(r);r[g.Scheme]=i[g.Scheme];for(var o=g.Scheme;o<=g.Port;o++)n.i(h.d)(r[o])&&(r[o]=i[o]);if("/"==r[g.Path][0])return u(r);var s=i[g.Path];n.i(h.d)(s)&&(s="/");var c=s.lastIndexOf("/");return s=s.substring(0,c+1)+r[g.Path],r[g.Path]=s,u(r)}var l=n(0),h=n(6),p=n(17);e.c=r,n.d(e,"d",function(){return m}),n.d(e,"a",function(){return y}),e.b=i;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var f=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m={provide:l.PACKAGE_ROOT_URL,useValue:"/"},y=function(){function t(t){void 0===t&&(t=null),this._packagePrefix=t}return t.prototype.resolve=function(t,e){var r=e;n.i(h.c)(t)&&t.length>0&&(r=c(t,r));var i=a(r),o=this._packagePrefix;if(n.i(h.c)(o)&&n.i(h.c)(i)&&"package"==i[g.Scheme]){var s=i[g.Path];return o=o.replace(/\/+$/,""),s=s.replace(/^\/+/,""),o+"/"+s}return r},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:l.Inject,args:[l.PACKAGE_ROOT_URL]}]}]},t=f([n.i(p.a)(),d("design:paramtypes",[String])],t)}(),v=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),g={};g.Scheme=1,g.UserInfo=2,g.Domain=3,g.Port=4,g.Path=5,g.QueryData=6,g.Fragment=7,g[g.Scheme]="Scheme",g[g.UserInfo]="UserInfo",g[g.Domain]="Domain",g[g.Port]="Port",g[g.Path]="Path",g[g.QueryData]="QueryData",g[g.Fragment]="Fragment"},function(t,e,n){"use strict";function r(t,e,n){if(e===n)return t;for(var r=c.e,i=e;i!==n&&i.declarationElement.view;)i=i.declarationElement.view,r=r.prop("parentView");if(i!==n)throw new Error("Internal error: Could not calculate a property in a parent view: "+t);return t.visitExpression(new p(r,n),null)}function i(t,e,r){var i;i=t.viewType===l.n.HOST?c.e:c.e.prop("parentView");var o=[n.i(u.b)(e),c.e.prop("parentIndex")];return r&&o.push(c.b),i.callMethod("injectorGet",o)}function o(t,e){return"View_"+n.i(s.a)(t.type)+e}function a(t){return"handleEvent_"+t}var s=n(13),u=n(43),c=n(9),l=n(14);e.c=r,e.b=i,e.a=o,e.d=a;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},p=function(t){function e(e,n){t.call(this),this._viewExpr=e,this._view=n}return h(e,t),e.prototype._isThis=function(t){return t instanceof c.A&&t.builtin===c.F.This},e.prototype.visitReadVarExpr=function(t,e){return this._isThis(t)?this._viewExpr:t},e.prototype.visitReadPropExpr=function(e,n){return this._isThis(e.receiver)&&(this._view.fields.some(function(t){return t.name==e.name})||this._view.getters.some(function(t){return t.name==e.name}))?this._viewExpr.cast(this._view.classType).prop(e.name):t.prototype.visitReadPropExpr.call(this,e,n)},e}(c.G)},function(t,e,n){"use strict";function r(){throw new Error("unimplemented")}var i=n(238);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){t.apply(this,arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}return o(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return r()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return r()},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){},e}(i.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(584);n.d(e,"BrowserModule",function(){return r.a}),n.d(e,"platformBrowser",function(){return r.d}),n.d(e,"Title",function(){return r.e}),n.d(e,"disableDebugTools",function(){return r.f}),n.d(e,"enableDebugTools",function(){return r.g}),n.d(e,"AnimationDriver",function(){return r.h}),n.d(e,"By",function(){return r.i}),n.d(e,"NgProbeToken",function(){return r.j}),n.d(e,"DOCUMENT",function(){return r.k}),n.d(e,"EVENT_MANAGER_PLUGINS",function(){return r.l}),n.d(e,"EventManager",function(){return r.m}),n.d(e,"HAMMER_GESTURE_CONFIG",function(){return r.n}),n.d(e,"HammerGestureConfig",function(){return r.o}),n.d(e,"DomSanitizer",function(){return r.c}),n.d(e,"VERSION",function(){return r.p}),n.d(e,"__platform_browser_private__",function(){return r.b})},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(){return new T(new M([],{}),{},null)}function i(t,e,n){return n?o(t.queryParams,e.queryParams)&&a(t.root,e.root):s(t.queryParams,e.queryParams)&&u(t.root,e.root)}function o(t,e){return n.i(E.c)(t,e)}function a(t,e){if(!h(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!a(t.children[n],e.children[n]))return!1}return!0}function s(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}function u(t,e){return c(t,e,e.segments)}function c(t,e,n){if(t.segments.length>n.length){var r=t.segments.slice(0,n.length);return!!h(r,n)&&!e.hasChildren()}if(t.segments.length===n.length){if(!h(t.segments,n))return!1;for(var i in e.children){if(!t.children[i])return!1;if(!u(t.children[i],e.children[i]))return!1}return!0}var r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!h(t.segments,r)&&(!!t.children[S.a]&&c(t.children[S.a],e,o))}function l(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r){if(t[r].path!==e[r].path)return!1;if(!n.i(E.c)(t[r].parameters,e[r].parameters))return!1}return!0}function h(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n].path!==e[n].path)return!1;return!0}function p(t,e){var r=[];return n.i(E.d)(t.children,function(t,n){n===S.a&&(r=r.concat(e(t,n)))}),n.i(E.d)(t.children,function(t,n){n!==S.a&&(r=r.concat(e(t,n)))}),r}function f(t){return t.segments.map(function(t){return v(t)}).join("/")}function d(t,e){if(t.hasChildren()&&e){var r=t.children[S.a]?d(t.children[S.a],!1):"",i=[];return n.i(E.d)(t.children,function(t,e){e!==S.a&&i.push(e+":"+d(t,!1))}),i.length>0?r+"("+i.join("//")+")":""+r}if(t.hasChildren()&&!e){var o=p(t,function(e,n){return n===S.a?[d(t.children[S.a],!1)]:[n+":"+d(e,!1)]});return f(t)+"/("+o.join("//")+")"}return f(t)}function m(t){return encodeURIComponent(t)}function y(t){return decodeURIComponent(t)}function v(t){return""+m(t.path)+g(t.parameters)}function g(t){return _(t).map(function(t){return";"+m(t.first)+"="+m(t.second)}).join("")}function b(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return m(e)+"="+m(t)}).join("&"):m(e)+"="+m(n)});return e.length?"?"+e.join("&"):""}function _(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(new R(n,t[n]));return e}function x(t){O.lastIndex=0;var e=t.match(O);return e?e[0]:""}function w(t){I.lastIndex=0;var e=t.match(O);return e?e[0]:""}function C(t){N.lastIndex=0;var e=t.match(N);return e?e[0]:""}var S=n(48),E=n(53);e.g=r,e.h=i,n.d(e,"e",function(){return T}),n.d(e,"c",function(){return M}),n.d(e,"b",function(){return A}),e.f=l,e.i=p,n.d(e,"d",function(){return P}),n.d(e,"a",function(){return k});var T=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return t.prototype.toString=function(){return(new k).serialize(this)},t}(),M=function(){function t(t,e){var r=this;this.segments=t,this.children=e,this.parent=null,n.i(E.d)(e,function(t,e){return t.parent=r})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return f(this)},t}(),A=function(){function t(t,e){this.path=t,this.parameters=e}return t.prototype.toString=function(){return v(this)},t}(),P=function(){function t(){}return t.prototype.parse=function(t){},t.prototype.serialize=function(t){},t}(),k=function(){function t(){}return t.prototype.parse=function(t){var e=new D(t);return new T(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e="/"+d(t.root,!0),n=b(t.queryParams),r=null!==t.fragment&&void 0!==t.fragment?"#"+encodeURI(t.fragment):"";return""+e+n+r},t}(),R=function(){function t(t,e){this.first=t,this.second=e}return t}(),O=/^[^\/()?;=&#]+/,I=/^[^=?&#]+/,N=/^[^?&#]+/,D=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.capture=function(t){if(!this.remaining.startsWith(t))throw new Error('Expected "'+t+'".');this.remaining=this.remaining.substring(t.length)},t.prototype.parseRootSegment=function(){return this.remaining.startsWith("/")&&this.capture("/"),""===this.remaining||this.remaining.startsWith("?")||this.remaining.startsWith("#")?new M([],{}):new M([],this.parseChildren())},t.prototype.parseChildren=function(){if(0==this.remaining.length)return{};this.peekStartsWith("/")&&this.capture("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegments());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegments());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[S.a]=new M(t,e)),n},t.prototype.parseSegments=function(){var t=x(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");this.capture(t);var e={};return this.peekStartsWith(";")&&(e=this.parseMatrixParams()),new A(y(t),e)},t.prototype.parseQueryParams=function(){var t={};if(this.peekStartsWith("?"))for(this.capture("?"),this.parseQueryParam(t);this.remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(t);return t},t.prototype.parseFragment=function(){return this.peekStartsWith("#")?decodeURI(this.remaining.substring(1)):null},t.prototype.parseMatrixParams=function(){for(var t={};this.remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=x(this.remaining);if(e){this.capture(e);var n="";if(this.peekStartsWith("=")){this.capture("=");var r=x(this.remaining);r&&(n=r,this.capture(n))}t[y(e)]=y(n)}},t.prototype.parseQueryParam=function(t){var e=w(this.remaining);if(e){this.capture(e);var n="";if(this.peekStartsWith("=")){this.capture("=");var r=C(this.remaining);r&&(n=r,this.capture(n))}var i=y(e),o=y(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.peekStartsWith(")")&&this.remaining.length>0;){var n=x(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=S.a);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[S.a]:new M([],o),this.peekStartsWith("//")&&this.capture("//")}return this.capture(")"),e},t}()},,,,,function(t,e,n){"use strict";var r=n(282),i=r;t.exports=i},function(t,e,n){"use strict";var r=n(59);e.of=r.ArrayObservable.of},function(t,e,n){"use strict";function r(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.map=r;var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}();e.MapOperator=a;var s=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(485);n.d(e,"NgLocalization",function(){return r.h}),n.d(e,"CommonModule",function(){return r.a}),n.d(e,"NgClass",function(){return r.i}),n.d(e,"NgFor",function(){return r.j}),n.d(e,"NgIf",function(){return r.k}),n.d(e,"NgPlural",function(){return r.l}),n.d(e,"NgPluralCase",function(){return r.m}),n.d(e,"NgStyle",function(){return r.n}),n.d(e,"NgSwitch",function(){return r.o}),n.d(e,"NgSwitchCase",function(){return r.p}),n.d(e,"NgSwitchDefault",function(){return r.q}),n.d(e,"NgTemplateOutlet",function(){return r.r}),n.d(e,"AsyncPipe",function(){return r.s}),n.d(e,"DatePipe",function(){return r.t}),n.d(e,"I18nPluralPipe",function(){return r.u}),n.d(e,"I18nSelectPipe",function(){return r.v}),n.d(e,"JsonPipe",function(){return r.w}),n.d(e,"LowerCasePipe",function(){return r.x}),n.d(e,"CurrencyPipe",function(){return r.y}),n.d(e,"DecimalPipe",function(){return r.z}),n.d(e,"PercentPipe",function(){return r.A}),n.d(e,"SlicePipe",function(){return r.B}),n.d(e,"UpperCasePipe",function(){return r.C}),n.d(e,"VERSION",function(){return r.D}),n.d(e,"Version",function(){return r.E}),n.d(e,"PlatformLocation",function(){return r.b}),n.d(e,"LocationStrategy",function(){return r.c}),n.d(e,"APP_BASE_HREF",function(){return r.d}),n.d(e,"HashLocationStrategy",function(){return r.e}),n.d(e,"PathLocationStrategy",function(){return r.f}),n.d(e,"Location",function(){return r.g})},function(t,e,n){"use strict";function r(t){var e=n.i(o.h)(t.start)+"([\\s\\S]*?)"+n.i(o.h)(t.end);return new RegExp(e,"g")}var i=n(150),o=n(6),a=n(17),s=n(44),u=n(211),c=n(109);n.d(e,"a",function(){return d});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n){this.strings=t,this.expressions=e,this.offsets=n}return t}(),f=function(){function t(t,e,n){this.templateBindings=t,this.warnings=e,this.errors=n}return t}(),d=function(){function t(t){this._lexer=t,this.errors=[]}return t.prototype.parseAction=function(t,e,n){void 0===n&&(n=s.a),this._checkNoInterpolation(t,e,n);var r=this._stripComments(t),i=this._lexer.tokenize(this._stripComments(t)),o=new m(t,e,i,r.length,!0,this.errors,t.length-r.length).parseChain();return new u.f(o,t,e,this.errors)},t.prototype.parseBinding=function(t,e,n){void 0===n&&(n=s.a);var r=this._parseBindingAst(t,e,n);return new u.f(r,t,e,this.errors)},t.prototype.parseSimpleBinding=function(t,e,n){void 0===n&&(n=s.a);var r=this._parseBindingAst(t,e,n),i=y.check(r);return i.length>0&&this._reportError("Host binding expression cannot contain "+i.join(" "),t,e),new u.f(r,t,e,this.errors)},t.prototype._reportError=function(t,e,n,r){this.errors.push(new u.g(t,e,n,r))},t.prototype._parseBindingAst=function(t,e,r){var i=this._parseQuote(t,e);if(n.i(o.c)(i))return i;this._checkNoInterpolation(t,e,r);var a=this._stripComments(t),s=this._lexer.tokenize(a);return new m(t,e,s,a.length,!1,this.errors,t.length-a.length).parseChain()},t.prototype._parseQuote=function(t,e){if(n.i(o.d)(t))return null;var r=t.indexOf(":");if(r==-1)return null;var i=t.substring(0,r).trim();if(!n.i(c.a)(i))return null;var a=t.substring(r+1);return new u.h(new u.i(0,t.length),i,a,e)},t.prototype.parseTemplateBindings=function(t,e,n){var r=this._lexer.tokenize(e);if(t){var i=this._lexer.tokenize(t).map(function(t){return t.index=0,t});r.unshift.apply(r,i)}return new m(e,n,r,e.length,!1,this.errors,0).parseTemplateBindings()},t.prototype.parseInterpolation=function(t,e,r){void 0===r&&(r=s.a);var i=this.splitInterpolation(t,e,r);if(null==i)return null;for(var a=[],c=0;c<i.expressions.length;++c){var l=i.expressions[c],h=this._stripComments(l),p=this._lexer.tokenize(this._stripComments(i.expressions[c])),f=new m(t,e,p,h.length,!1,this.errors,i.offsets[c]+(l.length-h.length)).parseChain();a.push(f)}return new u.f(new u.j(new u.i(0,n.i(o.d)(t)?0:t.length),i.strings,a),t,e,this.errors)},t.prototype.splitInterpolation=function(t,e,n){void 0===n&&(n=s.a);var i=r(n),o=t.split(i);if(o.length<=1)return null;for(var a=[],u=[],c=[],l=0,h=0;h<o.length;h++){var f=o[h];h%2===0?(a.push(f),l+=f.length):f.trim().length>0?(l+=n.start.length,u.push(f),c.push(l),l+=f.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",t,"at column "+this._findInterpolationErrorColumn(o,h,n)+" in",e),u.push("$implict"),c.push(l))}return new p(a,u,c)},t.prototype.wrapLiteralPrimitive=function(t,e){return new u.f(new u.k(new u.i(0,n.i(o.d)(t)?0:t.length),t),t,e,this.errors)},t.prototype._stripComments=function(t){var e=this._commentStart(t);return n.i(o.c)(e)?t.substring(0,e).trim():t},t.prototype._commentStart=function(t){for(var e=null,r=0;r<t.length-1;r++){var a=t.charCodeAt(r),s=t.charCodeAt(r+1);if(a===i.b&&s==i.b&&n.i(o.d)(e))return r;e===a?e=null:n.i(o.d)(e)&&n.i(c.b)(a)&&(e=a)}return null},t.prototype._checkNoInterpolation=function(t,e,n){var i=r(n),o=t.split(i);o.length>1&&this._reportError("Got interpolation ("+n.start+n.end+") where expression was expected",t,"at column "+this._findInterpolationErrorColumn(o,1,n)+" in",e)},t.prototype._findInterpolationErrorColumn=function(t,e,n){for(var r="",i=0;i<e;i++)r+=i%2===0?t[i]:""+n.start+t[i]+n.end;return r.length},t=l([n.i(a.a)(),h("design:paramtypes",[c.c])],t)}(),m=function(){function t(t,e,n,r,i,o,a){this.input=t,this.location=e,this.tokens=n,this.inputLength=r,this.parseAction=i,this.errors=o,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return t.prototype.peek=function(t){var e=this.index+t;return e<this.tokens.length?this.tokens[e]:c.d},Object.defineProperty(t.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),t.prototype.span=function(t){return new u.i(t,this.inputIndex)},t.prototype.advance=function(){this.index++},t.prototype.optionalCharacter=function(t){return!!this.next.isCharacter(t)&&(this.advance(),!0)},t.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},t.prototype.expectCharacter=function(t){this.optionalCharacter(t)||this.error("Missing expected "+String.fromCharCode(t))},t.prototype.optionalOperator=function(t){return!!this.next.isOperator(t)&&(this.advance(),!0)},t.prototype.expectOperator=function(t){this.optionalOperator(t)||this.error("Missing expected operator "+t)},t.prototype.expectIdentifierOrKeyword=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier or keyword"),"")},t.prototype.expectIdentifierOrKeywordOrString=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()||t.isString()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier, keyword, or string"),"")},t.prototype.parseChain=function(){for(var t=[],e=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(t.push(n),this.optionalCharacter(i.c))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(i.c););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==t.length?new u.d(this.span(e)):1==t.length?t[0]:new u.l(this.span(e),t)},t.prototype.parsePipe=function(){var t=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var e=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(i.d);)n.push(this.parseExpression());t=new u.m(this.span(t.span.start),t,e,n)}while(this.optionalOperator("|"))}return t},t.prototype.parseExpression=function(){return this.parseConditional()},t.prototype.parseConditional=function(){var t=this.inputIndex,e=this.parseLogicalOr();if(this.optionalOperator("?")){var n=this.parsePipe(),r=void 0;if(this.optionalCharacter(i.d))r=this.parsePipe();else{var o=this.inputIndex,a=this.input.substring(t,o);this.error("Conditional expression "+a+" requires all 3 expressions"),r=new u.d(this.span(t))}return new u.n(this.span(t),e,n,r)}return e},t.prototype.parseLogicalOr=function(){for(var t=this.parseLogicalAnd();this.optionalOperator("||");){var e=this.parseLogicalAnd();t=new u.o(this.span(t.span.start),"||",t,e)}return t},t.prototype.parseLogicalAnd=function(){for(var t=this.parseEquality();this.optionalOperator("&&");){var e=this.parseEquality();t=new u.o(this.span(t.span.start),"&&",t,e)}return t},t.prototype.parseEquality=function(){for(var t=this.parseRelational();this.next.type==c.e.Operator;){var e=this.next.strValue;switch(e){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational();t=new u.o(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();this.next.type==c.e.Operator;){var e=this.next.strValue;switch(e){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive();t=new u.o(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();this.next.type==c.e.Operator;){var e=this.next.strValue;switch(e){case"+":case"-":this.advance();var n=this.parseMultiplicative();t=new u.o(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();this.next.type==c.e.Operator;){var e=this.next.strValue;switch(e){case"*":case"%":case"/":this.advance();var n=this.parsePrefix();t=new u.o(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parsePrefix=function(){if(this.next.type==c.e.Operator){var t=this.inputIndex,e=this.next.strValue,n=void 0;switch(e){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),n=this.parsePrefix(),new u.o(this.span(t),e,new u.k(new u.i(t,t),0),n);case"!":return this.advance(),n=this.parsePrefix(),new u.p(this.span(t),n)}}return this.parseCallChain()},t.prototype.parseCallChain=function(){for(var t=this.parsePrimary();;)if(this.optionalCharacter(i.e))t=this.parseAccessMemberOrMethodCall(t,!1);else if(this.optionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,!0);else if(this.optionalCharacter(i.f)){this.rbracketsExpected++;var e=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(i.g),this.optionalOperator("=")){var n=this.parseConditional();t=new u.q(this.span(t.span.start),t,e,n)}else t=new u.r(this.span(t.span.start),t,e)}else{if(!this.optionalCharacter(i.h))return t;this.rparensExpected++;var r=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(i.i),t=new u.s(this.span(t.span.start),t,r)}},t.prototype.parsePrimary=function(){var t=this.inputIndex;if(this.optionalCharacter(i.h)){this.rparensExpected++;var e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(i.i),e}if(this.next.isKeywordNull())return this.advance(),new u.k(this.span(t),null);if(this.next.isKeywordUndefined())return this.advance(),new u.k(this.span(t),void 0);if(this.next.isKeywordTrue())return this.advance(),new u.k(this.span(t),!0);if(this.next.isKeywordFalse())return this.advance(),new u.k(this.span(t),!1);if(this.next.isKeywordThis())return this.advance(),new u.t(this.span(t));if(this.optionalCharacter(i.f)){this.rbracketsExpected++;var n=this.parseExpressionList(i.g);return this.rbracketsExpected--,this.expectCharacter(i.g),new u.u(this.span(t),n)}if(this.next.isCharacter(i.j))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new u.t(this.span(t)),!1);if(this.next.isNumber()){var r=this.next.toNumber();return this.advance(),new u.k(this.span(t),r)}if(this.next.isString()){var o=this.next.toString();return this.advance(),new u.k(this.span(t),o)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new u.d(this.span(t))):(this.error("Unexpected token "+this.next),new u.d(this.span(t)))},t.prototype.parseExpressionList=function(t){var e=[];if(!this.next.isCharacter(t))do e.push(this.parsePipe());while(this.optionalCharacter(i.k));return e},t.prototype.parseLiteralMap=function(){var t=[],e=[],n=this.inputIndex;if(this.expectCharacter(i.j),!this.optionalCharacter(i.l)){this.rbracesExpected++;do{var r=this.expectIdentifierOrKeywordOrString();t.push(r),this.expectCharacter(i.d),e.push(this.parsePipe())}while(this.optionalCharacter(i.k));this.rbracesExpected--,this.expectCharacter(i.l)}return new u.v(this.span(n),t,e)},t.prototype.parseAccessMemberOrMethodCall=function(t,e){void 0===e&&(e=!1);var n=t.span.start,r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(i.h)){this.rparensExpected++;var o=this.parseCallArguments();this.expectCharacter(i.i),this.rparensExpected--;var a=this.span(n);return e?new u.a(a,t,r,o):new u.b(a,t,r,o)}if(e)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new u.d(this.span(n))):new u.w(this.span(n),t,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new u.d(this.span(n));var s=this.parseConditional();return new u.x(this.span(n),t,r,s)}return new u.c(this.span(n),t,r)},t.prototype.parseCallArguments=function(){if(this.next.isCharacter(i.i))return[];var t=[];do t.push(this.parsePipe());while(this.optionalCharacter(i.k));return t},t.prototype.expectTemplateBindingKey=function(){var t="",e=!1;do t+=this.expectIdentifierOrKeywordOrString(),e=this.optionalOperator("-"),e&&(t+="-");while(e);return t.toString()},t.prototype.parseTemplateBindings=function(){for(var t=[],e=null,n=[];this.index<this.tokens.length;){var r=this.inputIndex,o=this.peekKeywordLet();o&&this.advance();var a=this.expectTemplateBindingKey();o||(null==e?e=a:a=e+a[0].toUpperCase()+a.substring(1)),this.optionalCharacter(i.d);var s=null,l=null;if(o)s=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==c.d&&!this.peekKeywordLet()){var h=this.inputIndex,p=this.parsePipe(),d=this.input.substring(h-this.offset,this.inputIndex-this.offset);l=new u.f(p,d,this.location,this.errors)}t.push(new u.y(this.span(r),a,o,s,l)),this.optionalCharacter(i.c)||this.optionalCharacter(i.k)}return new f(t,n,this.errors)},t.prototype.error=function(t,e){void 0===e&&(e=null),this.errors.push(new u.g(t,this.input,this.locationText(e),this.location)),this.skip()},t.prototype.locationText=function(t){return void 0===t&&(t=null),n.i(o.d)(t)&&(t=this.index),t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression"},t.prototype.skip=function(){for(var t=this.next;this.index<this.tokens.length&&!t.isCharacter(i.c)&&(this.rparensExpected<=0||!t.isCharacter(i.i))&&(this.rbracesExpected<=0||!t.isCharacter(i.l))&&(this.rbracketsExpected<=0||!t.isCharacter(i.g));)this.next.isError()&&this.errors.push(new u.g(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),t=this.next},t}(),y=function(){function t(){this.errors=[]}return t.check=function(e){var n=new t;return e.visit(n),n.errors},t.prototype.visitImplicitReceiver=function(t,e){},t.prototype.visitInterpolation=function(t,e){},t.prototype.visitLiteralPrimitive=function(t,e){},t.prototype.visitPropertyRead=function(t,e){},t.prototype.visitPropertyWrite=function(t,e){},t.prototype.visitSafePropertyRead=function(t,e){},t.prototype.visitMethodCall=function(t,e){},t.prototype.visitSafeMethodCall=function(t,e){},t.prototype.visitFunctionCall=function(t,e){},t.prototype.visitLiteralArray=function(t,e){this.visitAll(t.expressions)},t.prototype.visitLiteralMap=function(t,e){this.visitAll(t.values)},t.prototype.visitBinary=function(t,e){},t.prototype.visitPrefixNot=function(t,e){},t.prototype.visitConditional=function(t,e){},t.prototype.visitPipe=function(t,e){this.errors.push("pipes")},t.prototype.visitKeyedRead=function(t,e){},t.prototype.visitKeyedWrite=function(t,e){},t.prototype.visitAll=function(t){var e=this;return t.map(function(t){return t.visit(e)})},t.prototype.visitChain=function(t,e){},t.prototype.visitQuote=function(t,e){},t}()},function(t,e,n){"use strict";function r(t,e){return t.length>0&&t[t.length-1]===e}var i=n(6),o=n(35),a=n(64),s=n(44),u=n(520),c=n(74);n.d(e,"b",function(){return p}),n.d(e,"a",function(){return f});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},h=function(t){function e(e,n,r){t.call(this,n,r),this.elementName=e}return l(e,t),e.create=function(t,n,r){return new e(t,n,r)},e}(o.a),p=function(){function t(t,e){this.rootNodes=t,this.errors=e}return t}(),f=function(){function t(t){this.getTagDefinition=t}return t.prototype.parse=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=s.a);var i=u.a(t,e,this.getTagDefinition,n,r),o=new d(i.tokens,this.getTagDefinition).build();return new p(o.rootNodes,i.errors.concat(o.errors))},t}(),d=function(){function t(t,e){this.tokens=t,this.getTagDefinition=e,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return t.prototype.build=function(){for(;this._peek.type!==u.b.EOF;)this._peek.type===u.b.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===u.b.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===u.b.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===u.b.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===u.b.TEXT||this._peek.type===u.b.RAW_TEXT||this._peek.type===u.b.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===u.b.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new p(this._rootNodes,this._errors)},t.prototype._advance=function(){var t=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],t},t.prototype._advanceIf=function(t){return this._peek.type===t?this._advance():null},t.prototype._consumeCdata=function(t){this._consumeText(this._advance()),this._advanceIf(u.b.CDATA_END)},t.prototype._consumeComment=function(t){var e=this._advanceIf(u.b.RAW_TEXT);this._advanceIf(u.b.COMMENT_END);var r=n.i(i.c)(e)?e.parts[0].trim():null;this._addToParent(new a.a(r,t.sourceSpan))},t.prototype._consumeExpansion=function(t){for(var e=this._advance(),n=this._advance(),r=[];this._peek.type===u.b.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(!i)return;r.push(i)}if(this._peek.type!==u.b.EXPANSION_FORM_END)return void this._errors.push(h.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));var s=new o.c(t.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new a.b(e.parts[0],n.parts[0],r,s,e.sourceSpan)),this._advance()},t.prototype._parseExpansionCase=function(){var e=this._advance();if(this._peek.type!==u.b.EXPANSION_CASE_EXP_START)return this._errors.push(h.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;var i=this._advance();r.push(new u.c(u.b.EOF,[],i.sourceSpan));var s=new t(r,this.getTagDefinition).build();if(s.errors.length>0)return this._errors=this._errors.concat(s.errors),null;var c=new o.c(e.sourceSpan.start,i.sourceSpan.end),l=new o.c(n.sourceSpan.start,i.sourceSpan.end);return new a.c(e.parts[0],s.rootNodes,c,e.sourceSpan,l)},t.prototype._collectExpansionExpTokens=function(t){for(var e=[],n=[u.b.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==u.b.EXPANSION_FORM_START&&this._peek.type!==u.b.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===u.b.EXPANSION_CASE_EXP_END){if(!r(n,u.b.EXPANSION_CASE_EXP_START))return this._errors.push(h.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return e}if(this._peek.type===u.b.EXPANSION_FORM_END){if(!r(n,u.b.EXPANSION_FORM_START))return this._errors.push(h.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===u.b.EOF)return this._errors.push(h.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;e.push(this._advance())}},t.prototype._consumeText=function(t){var e=t.parts[0];if(e.length>0&&"\n"==e[0]){var r=this._getParentElement();n.i(i.c)(r)&&0==r.children.length&&this.getTagDefinition(r.name).ignoreFirstLf&&(e=e.substring(1))}e.length>0&&this._addToParent(new a.d(e,t.sourceSpan))},t.prototype._closeVoidElement=function(){if(this._elementStack.length>0){var t=this._elementStack[this._elementStack.length-1];this.getTagDefinition(t.name).isVoid&&this._elementStack.pop()}},t.prototype._consumeStartTag=function(t){for(var e=t.parts[0],r=t.parts[1],i=[];this._peek.type===u.b.ATTR_NAME;)i.push(this._consumeAttr(this._advance()));var s=this._getElementFullName(e,r,this._getParentElement()),l=!1;if(this._peek.type===u.b.TAG_OPEN_END_VOID){this._advance(),l=!0;var p=this.getTagDefinition(s);p.canSelfClose||null!==n.i(c.c)(s)||p.isVoid||this._errors.push(h.create(s,t.sourceSpan,'Only void and foreign elements can be self closed "'+t.parts[1]+'"'))}else this._peek.type===u.b.TAG_OPEN_END&&(this._advance(),l=!1);var f=this._peek.sourceSpan.start,d=new o.c(t.sourceSpan.start,f),m=new a.e(s,i,[],d,d,null);this._pushElement(m),l&&(this._popElement(s),m.endSourceSpan=d)},t.prototype._pushElement=function(t){if(this._elementStack.length>0){var e=this._elementStack[this._elementStack.length-1];this.getTagDefinition(e.name).isClosedByChild(t.name)&&this._elementStack.pop()}var n=this.getTagDefinition(t.name),r=this._getParentElementSkippingContainers(),i=r.parent,o=r.container;if(i&&n.requireExtraParent(i.name)){var s=new a.e(n.parentToAdd,[],[],t.sourceSpan,t.startSourceSpan,t.endSourceSpan);this._insertBeforeContainer(i,o,s)}this._addToParent(t),this._elementStack.push(t)},t.prototype._consumeEndTag=function(t){var e=this._getElementFullName(t.parts[0],t.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=t.sourceSpan),this.getTagDefinition(e).isVoid?this._errors.push(h.create(e,t.sourceSpan,'Void elements do not have end tags "'+t.parts[1]+'"')):this._popElement(e)||this._errors.push(h.create(e,t.sourceSpan,'Unexpected closing tag "'+t.parts[1]+'"'))},t.prototype._popElement=function(t){for(var e=this._elementStack.length-1;e>=0;e--){var n=this._elementStack[e];if(n.name==t)return this._elementStack.splice(e,this._elementStack.length-e),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1},t.prototype._consumeAttr=function(t){var e,r=n.i(c.b)(t.parts[0],t.parts[1]),i=t.sourceSpan.end,s="";if(this._peek.type===u.b.ATTR_VALUE){var l=this._advance();s=l.parts[0],i=l.sourceSpan.end,e=l.sourceSpan}return new a.f(r,s,new o.c(t.sourceSpan.start,i),e)},t.prototype._getParentElement=function(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null},t.prototype._getParentElementSkippingContainers=function(){for(var t=null,e=this._elementStack.length-1;e>=0;e--){if("ng-container"!==this._elementStack[e].name)return{parent:this._elementStack[e],container:t};t=this._elementStack[e]}return{parent:this._elementStack[this._elementStack.length-1],container:t}},t.prototype._addToParent=function(t){var e=this._getParentElement();n.i(i.c)(e)?e.children.push(t):this._rootNodes.push(t)},t.prototype._insertBeforeContainer=function(t,e,n){if(e){if(t){var r=t.children.indexOf(e);t.children[r]=n}else this._rootNodes.push(n);n.children.push(e),this._elementStack.splice(this._elementStack.indexOf(e),0,n)}else this._addToParent(n),this._elementStack.push(n)},t.prototype._getElementFullName=function(t,e,r){return n.i(i.d)(t)&&(t=this.getTagDefinition(e).implicitNamespacePrefix,n.i(i.d)(t)&&n.i(i.c)(r)&&(t=n.i(c.c)(r.name))),n.i(c.b)(t,e)},t}()},function(t,e,n){"use strict";var r=n(91);n.d(e,"d",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"f",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=n.i(r.b)("Inject",[["token",void 0]]),o=n.i(r.b)("Optional",[]),a=n.i(r.a)("Injectable",[]),s=n.i(r.b)("Self",[]),u=n.i(r.b)("SkipSelf",[]),c=n.i(r.b)("Host",[])},function(t,e,n){"use strict";function r(t){return"function"==typeof t&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function i(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+n.i(l.c)(t)+" as constructor");if("function"==typeof t)return t;if(Array.isArray(t)){var i=t,o=i.length-1,a=t[o];if("function"!=typeof a)throw new Error("Last position of Class method array must be Function in key "+e+" was '"+n.i(l.c)(a)+"'");if(o!=a.length)throw new Error("Number of annotations ("+o+") does not match number of arguments ("+a.length+") in the function: "+n.i(l.c)(a));for(var s=[],u=0,c=i.length-1;u<c;u++){var h=[];s.push(h);var f=i[u];if(Array.isArray(f))for(var d=0;d<f.length;d++)h.push(r(f[d]));else"function"==typeof f?h.push(r(f)):h.push(f)}return p.defineMetadata("parameters",s,a),a}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+n.i(l.c)(t)+"'")}function o(t){var e=i(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),r=e.prototype;if(t.hasOwnProperty("extends")){if("function"!=typeof t.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+n.i(l.c)(t.extends));e.prototype=r=Object.create(t.extends.prototype)}for(var o in t)"extends"!==o&&"prototype"!==o&&t.hasOwnProperty(o)&&(r[o]=i(t[o],o));this&&this.annotations instanceof Array&&p.defineMetadata("annotations",this.annotations,e);var a=e.name;return a&&"constructor"!==a||(e.overriddenName="class"+h++),e}function a(t,e,n,r){function i(t){if(!p||!p.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof i)return a.call(this,t),this;var e=new i(t),n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(e);var s=function(t){var n=p.getOwnMetadata("annotations",t)||[];return n.push(e),p.defineMetadata("annotations",n,t),t};return s.annotations=n,s.Class=o,r&&r(s),s}void 0===r&&(r=null);var a=s([e]);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}function s(t){return function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];t.forEach(function(t,r){var i=n[r];if(Array.isArray(t))e[t[0]]=void 0===i?t[1]:i;else for(var o in t)e[o]=i&&i.hasOwnProperty(o)?i[o]:t[o]})}}function u(t,e,n){function r(){function t(t,e,n){for(var r=p.getOwnMetadata("parameters",t)||[];r.length<=n;)r.push(null);return r[n]=r[n]||[],r[n].push(o),p.defineMetadata("parameters",r,t),t}for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var o=new((a=r).bind.apply(a,[void 0].concat(e)));return t.annotation=o,t;var a}var i=s(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}function c(t,e,n){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(this instanceof r)return i.apply(this,t),this;var n=new((o=r).bind.apply(o,[void 0].concat(t)));return function(t,e){var r=p.getOwnMetadata("propMetadata",t.constructor)||{};r[e]=r.hasOwnProperty(e)&&r[e]||[],r[e].unshift(n),p.defineMetadata("propMetadata",r,t.constructor)};var o}var i=s(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}var l=n(7);e.d=o,e.a=a,e.b=u,e.c=c;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=0,p=l.d.Reflect},function(t,e,n){"use strict";var r=n(11),i=(n.n(r),n(1));n.n(i);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this.__isAsync=e}return o(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};return e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,a)},e}(r.Subject)},function(t,e,n){"use strict";(function(t){function n(t){return null!=t}function r(t){return null==t}function i(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function o(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function a(){if(!l)if(u.Symbol&&Symbol.iterator)l=Symbol.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),e=0;e<t.length;++e){var n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(l=n)}return l}function s(t){return!o(t)}e.a=n,e.b=r,e.c=i,e.e=o,e.f=a,e.d=s;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u;u="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:t:window;var c=u;c.assert=function(t){};var l=(Object.getPrototypeOf({}),function(){function t(){}return t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e},t.isNumeric=function(t){return!isNaN(t-parseFloat(t))},t}(),null)}).call(e,n(41))},function(t,e,n){"use strict";var r=n(0),i=n(21);n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=new r.OpaqueToken("EventManagerPlugins"),a=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){var r=this._findPluginFor(e);return r.addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){var r=this._findPluginFor(e);return r.addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Inject,args:[o]}]},{type:r.NgZone}]},t}(),s=function(){function t(){}return t.prototype.supports=function(t){},t.prototype.addEventListener=function(t,e,n){},t.prototype.addGlobalEventListener=function(t,e,r){var o=n.i(i.b)().getGlobalEventTarget(t);if(!o)throw new Error("Unsupported event target "+o+" for event "+e);return this.addEventListener(o,e,r)},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(593);n.d(e,"RouterLink",function(){return r.a}),n.d(e,"RouterLinkWithHref",function(){return r.b}),n.d(e,"RouterLinkActive",function(){return r.c}),n.d(e,"RouterOutlet",function(){return r.d}),n.d(e,"RouteReuseStrategy",function(){return r.e}),n.d(e,"NavigationCancel",function(){return r.f}),n.d(e,"NavigationEnd",function(){return r.g}),n.d(e,"NavigationError",function(){return r.h}),n.d(e,"NavigationStart",function(){return r.i}),n.d(e,"Router",function(){return r.j}),n.d(e,"RoutesRecognized",function(){return r.k}),n.d(e,"ROUTER_CONFIGURATION",function(){return r.l}),n.d(e,"ROUTER_INITIALIZER",function(){return r.m}),n.d(e,"RouterModule",function(){return r.n}),n.d(e,"provideRoutes",function(){return r.o}),n.d(e,"RouterOutletMap",function(){return r.p}),n.d(e,"NoPreloading",function(){return r.q}),n.d(e,"PreloadAllModules",function(){return r.r}),n.d(e,"PreloadingStrategy",function(){return r.s}),n.d(e,"RouterPreloader",function(){return r.t}),n.d(e,"ActivatedRoute",function(){return r.u}),n.d(e,"ActivatedRouteSnapshot",function(){return r.v}),n.d(e,"RouterState",function(){return r.w}),n.d(e,"RouterStateSnapshot",function(){return r.x}),n.d(e,"PRIMARY_OUTLET",function(){return r.y}),n.d(e,"UrlHandlingStrategy",function(){return r.z}),n.d(e,"DefaultUrlSerializer",function(){return r.A}),n.d(e,"UrlSegment",function(){return r.B}),n.d(e,"UrlSegmentGroup",function(){return r.C}),n.d(e,"UrlSerializer",function(){return r.D}),n.d(e,"UrlTree",function(){return r.E}),n.d(e,"VERSION",function(){return r.F}),n.d(e,"__router_private__",function(){return r.G})},function(t,e,n){"use strict";function r(t,e){var n=i(t,e),r=new l.BehaviorSubject([new p.b("",{})]),o=new l.BehaviorSubject({}),a=new l.BehaviorSubject({}),s=new l.BehaviorSubject({}),u=new l.BehaviorSubject(""),c=new v(r,o,s,u,a,h.a,e,n.root);return c.snapshot=n.root,new y(new d.b(c,[]),n)}function i(t,e){var n={},r={},i={},o="",a=new g([],n,i,o,r,h.a,e,null,t.root,-1,{});return new b("",new d.b(a,[]))}function o(t){for(var e=t.pathFromRoot,r=e.length-1;r>=1;){var i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return e.slice(r).reduce(function(t,e){var r=n.i(f.e)(t.params,e.params),i=n.i(f.e)(t.data,e.data),o=n.i(f.e)(t.resolve,e._resolvedData);return{params:r,data:i,resolve:o}},{params:{},data:{},resolve:{}})}function a(t,e){e.value._routerState=t,e.children.forEach(function(e){return a(t,e)})}function s(t){var e=t.children.length>0?" { "+t.children.map(s).join(", ")+" } ":"";return""+t.value+e}function u(t){if(t.snapshot){var e=t.snapshot;t.snapshot=t._futureSnapshot,n.i(f.c)(e.queryParams,t._futureSnapshot.queryParams)||t.queryParams.next(t._futureSnapshot.queryParams),e.fragment!==t._futureSnapshot.fragment&&t.fragment.next(t._futureSnapshot.fragment),n.i(f.c)(e.params,t._futureSnapshot.params)||t.params.next(t._futureSnapshot.params),n.i(f.f)(e.url,t._futureSnapshot.url)||t.url.next(t._futureSnapshot.url),c(e,t._futureSnapshot)||t.data.next(t._futureSnapshot.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function c(t,e){return n.i(f.c)(t.params,e.params)&&n.i(p.f)(t.url,e.url)}var l=n(137),h=(n.n(l),n(48)),p=n(79),f=n(53),d=n(257);n.d(e,"c",function(){return y}),e.e=r,n.d(e,"a",function(){return v}),e.g=o,n.d(e,"b",function(){return g}),n.d(e,"d",function(){return b}),e.h=u,e.f=c;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var m=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},y=function(t){function e(e,n){t.call(this,e),this.snapshot=n,a(this,e)}return m(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(d.a),v=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),g=function(){function t(t,e,n,r,i,o,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var t=this.url.map(function(t){return t.toString()}).join("/"),e=this._routeConfig?this._routeConfig.path:"";return"Route(url:'"+t+"', path:'"+e+"')"},t}(),b=function(t){function e(e,n){t.call(this,n),this.url=e,a(this,n)}return m(e,t),e.prototype.toString=function(){return s(this._root)},e}(d.a)},,,,,function(t,e,n){"use strict";function r(t){return void 0!==t.ref}function i(t){return void 0!==t.key}var o=n(193),a=n(439),s=(n(84),n(442),Object.prototype.hasOwnProperty),u=n(440),c={key:!0,ref:!0,__self:!0,__source:!0},l=function(t,e,n,r,i,o,a){var s={$$typeof:u,type:t,key:e,ref:n,props:a,_owner:o};return s};l.createElement=function(t,e,n){var o,u={},h=null,p=null,f=null,d=null;if(null!=e){r(e)&&(p=e.ref),i(e)&&(h=""+e.key),f=void 0===e.__self?null:e.__self,d=void 0===e.__source?null:e.__source;for(o in e)s.call(e,o)&&!c.hasOwnProperty(o)&&(u[o]=e[o])}var m=arguments.length-2;if(1===m)u.children=n;else if(m>1){for(var y=Array(m),v=0;v<m;v++)y[v]=arguments[v+2];u.children=y}if(t&&t.defaultProps){var g=t.defaultProps;for(o in g)void 0===u[o]&&(u[o]=g[o])}return l(t,h,p,f,d,a.current,u)},l.createFactory=function(t){var e=l.createElement.bind(null,t);return e.type=t,e},l.cloneAndReplaceKey=function(t,e){var n=l(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},l.cloneElement=function(t,e,n){var u,h=o({},t.props),p=t.key,f=t.ref,d=t._self,m=t._source,y=t._owner;if(null!=e){r(e)&&(f=e.ref,y=a.current),i(e)&&(p=""+e.key);var v;t.type&&t.type.defaultProps&&(v=t.type.defaultProps);for(u in e)s.call(e,u)&&!c.hasOwnProperty(u)&&(void 0===e[u]&&void 0!==v?h[u]=v[u]:h[u]=e[u])}var g=arguments.length-2;if(1===g)h.children=n;else if(g>1){for(var b=Array(g),_=0;_<g;_++)b[_]=arguments[_+2];h.children=b}return l(t.type,p,f,d,m,y,h)},l.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===u},t.exports=l},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.mergeAll=r;var s=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.concurrent))},t}();e.MergeAllOperator=s;var u=function(t){function e(e,n){t.call(this,e),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(a.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeAllSubscriber=u},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new s(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(5),a=n(4);e.mergeMap=r;var s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=s;var u=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(a.OuterSubscriber);e.MergeMapSubscriber=u},function(t,e,n){"use strict";function r(t,e){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return this.lift(new o(n,e));var r=Object.create(this,i.connectableObservableDescriptor);return r.source=this,r.subjectFactory=n,r}var i=n(447);e.multicast=r;var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();e.MulticastOperator=o},,function(t,e,n){"use strict";function r(t,e,n,r,i){var o=m(i),a=[];e||(e=new P);var u=new A(t,e,n,C,i,!1),c=r.visit(u,M.Expression);if(!c)return null;if(u.temporaryCount)for(var l=0;l<u.temporaryCount;l++)a.push(s(i,l));if(u.needsValueUnwrapper){var h=C.callMethod("reset",[]).toStmt();a.push(h)}return a.push(o.set(c).toDeclStmt(null,[x.k.Final])),u.needsValueUnwrapper?new E(a,o,C.prop("hasWrappedValue")):new E(a,o,null)}function i(t,e,n,r,i){e||(e=new P);var o=new A(t,e,n,null,i,!0),a=[];p(r.visit(o,M.Statement),a),u(o.temporaryCount,i,a);var s=a.length-1,c=null;if(s>=0){var l=a[s],h=v(l);h&&(c=y(i),a[s]=c.set(h.cast(x.m).notIdentical(x.f(!1))).toDeclStmt(null,[x.k.Final]))}return new T(a,c)}function o(t){var e=[],r=x.w(t);return r.has(C.name)&&e.push(C.set(x.g(n.i(_.a)(_.b.ValueUnwrapper)).instantiate([])).toDeclStmt(null,[x.k.Final])),e}function a(t,e){return"tmp_"+t+"_"+e}function s(t,e){return new x.x(a(t,e),x.b)}function u(t,e,n){for(var r=t-1;r>=0;r--)n.unshift(s(e,r))}function c(t,e){if(t!==M.Statement)throw new Error("Expected a statement, but saw "+e)}function l(t,e){if(t!==M.Expression)throw new Error("Expected an expression, but saw "+e)}function h(t,e){return t===M.Statement?e.toStmt():e}function p(t,e){Array.isArray(t)?t.forEach(function(t){return p(t,e)}):e.push(t)}function f(t,e){if(0===e.length)return x.g(n.i(_.a)(_.b.EMPTY_ARRAY));for(var r=x.e.prop("_arr_"+t.fields.length),i=[],o=[],a=0;a<e.length;a++){var s="p"+a;i.push(new x.o(s)),o.push(x.a(s))}return n.i(w.c)(x.B(i,[new x.t(x.h(o))],new x.i(x.m)),e.length,r,t),r.callFn(e)}function d(t,e){if(0===e.length)return x.g(n.i(_.a)(_.b.EMPTY_MAP));for(var r=x.e.prop("_map_"+t.fields.length),i=[],o=[],a=[],s=0;s<e.length;s++){var u="p"+s;i.push(new x.o(u)),o.push([e[s][0],x.a(u)]),a.push(e[s][1])}return n.i(w.c)(x.B(i,[new x.t(x.l(o))],new x.n(x.m)),e.length,r,t),r.callFn(a)}function m(t){return x.a("currVal_"+t)}function y(t){return x.a("pd_"+t)}function v(t){return t instanceof x.C?t.expr:t instanceof x.t?t.value:null}var g=n(211),b=n(6),_=n(16),x=n(9),w=n(43);n.d(e,"d",function(){return S}),e.b=r,e.c=i,e.a=o;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var C=x.a("valUnwrapper"),S=function(){function t(){}return t.event=x.a("$event"),t}(),E=function(){function t(t,e,n){this.stmts=t,this.currValExpr=e,this.forceUpdate=n}return t}(),T=function(){function t(t,e){this.stmts=t,this.preventDefault=e}return t}(),M={};M.Statement=0,M.Expression=1,M[M.Statement]="Statement",M[M.Expression]="Expression";var A=function(){function t(t,e,n,r,i,o){this._builder=t,this._nameResolver=e,this._implicitReceiver=n,this._valueUnwrapper=r,this.bindingId=i,this.isAction=o,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.needsValueUnwrapper=!1,this.temporaryCount=0}return t.prototype.visitBinary=function(t,e){var n;switch(t.operation){case"+":n=x.y.Plus;break;case"-":n=x.y.Minus;break;case"*":n=x.y.Multiply;break;case"/":n=x.y.Divide;break;case"%":n=x.y.Modulo;break;case"&&":n=x.y.And;break;case"||":n=x.y.Or;break;case"==":n=x.y.Equals;break;case"!=":n=x.y.NotEquals;break;case"===":n=x.y.Identical;break;case"!==":n=x.y.NotIdentical;break;case"<":n=x.y.Lower;break;case">":n=x.y.Bigger;break;case"<=":n=x.y.LowerEquals;break;case">=":n=x.y.BiggerEquals;break;default:throw new Error("Unsupported operation "+t.operation)}return h(e,new x.z(n,this.visit(t.left,M.Expression),this.visit(t.right,M.Expression)))},t.prototype.visitChain=function(t,e){return c(e,t),this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){var n=this.visit(t.condition,M.Expression);return h(e,n.conditional(this.visit(t.trueExp,M.Expression),this.visit(t.falseExp,M.Expression)))},t.prototype.visitPipe=function(t,e){var n=this.visit(t.exp,M.Expression),r=this.visitAll(t.args,M.Expression),i=this._nameResolver.callPipe(t.name,n,r);if(!i)throw new Error("Illegal state: Pipe "+t.name+" is not allowed here!");return this.needsValueUnwrapper=!0,h(e,this._valueUnwrapper.callMethod("unwrap",[i]))},t.prototype.visitFunctionCall=function(t,e){return h(e,this.visit(t.target,M.Expression).callFn(this.visitAll(t.args,M.Expression)))},t.prototype.visitImplicitReceiver=function(t,e){return l(e,t),this._implicitReceiver},t.prototype.visitInterpolation=function(t,e){l(e,t);for(var r=[x.f(t.expressions.length)],i=0;i<t.strings.length-1;i++)r.push(x.f(t.strings[i])),r.push(this.visit(t.expressions[i],M.Expression));return r.push(x.f(t.strings[t.strings.length-1])),t.expressions.length<=9?x.g(n.i(_.a)(_.b.inlineInterpolate)).callFn(r):x.g(n.i(_.a)(_.b.interpolate)).callFn([r[0],x.h(r.slice(1))])},t.prototype.visitKeyedRead=function(t,e){var n=this.leftMostSafeNode(t);return n?this.convertSafeAccess(t,n,e):h(e,this.visit(t.obj,M.Expression).key(this.visit(t.key,M.Expression)))},t.prototype.visitKeyedWrite=function(t,e){var n=this.visit(t.obj,M.Expression),r=this.visit(t.key,M.Expression),i=this.visit(t.value,M.Expression);return h(e,n.key(r).set(i))},t.prototype.visitLiteralArray=function(t,e){var n=this.visitAll(t.expressions,e),r=this.isAction?x.h(n):f(this._builder,n);return h(e,r)},t.prototype.visitLiteralMap=function(t,e){for(var n=[],r=0;r<t.keys.length;r++)n.push([t.keys[r],this.visit(t.values[r],M.Expression)]);var i=this.isAction?x.l(n):d(this._builder,n);return h(e,i)},t.prototype.visitLiteralPrimitive=function(t,e){return h(e,x.f(t.value))},t.prototype._getLocal=function(t){return this.isAction&&t==S.event.name?S.event:this._nameResolver.getLocal(t)},t.prototype.visitMethodCall=function(t,e){var r=this.leftMostSafeNode(t);if(r)return this.convertSafeAccess(t,r,e);var i=this.visitAll(t.args,M.Expression),o=null,a=this.visit(t.receiver,M.Expression);if(a===this._implicitReceiver){var s=this._getLocal(t.name);s&&(o=s.callFn(i))}return n.i(b.d)(o)&&(o=a.callMethod(t.name,i)),h(e,o)},t.prototype.visitPrefixNot=function(t,e){return h(e,x.v(this.visit(t.expression,M.Expression)))},t.prototype.visitPropertyRead=function(t,e){var r=this.leftMostSafeNode(t);if(r)return this.convertSafeAccess(t,r,e);var i=null,o=this.visit(t.receiver,M.Expression);return o===this._implicitReceiver&&(i=this._getLocal(t.name)),n.i(b.d)(i)&&(i=o.prop(t.name)),h(e,i)},t.prototype.visitPropertyWrite=function(t,e){var n=this.visit(t.receiver,M.Expression);if(n===this._implicitReceiver){var r=this._getLocal(t.name);if(r)throw new Error("Cannot assign to a reference or variable!")}return h(e,n.prop(t.name).set(this.visit(t.value,M.Expression)))},t.prototype.visitSafePropertyRead=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitSafeMethodCall=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitAll=function(t,e){var n=this;return t.map(function(t){return n.visit(t,e)})},t.prototype.visitQuote=function(t,e){throw new Error("Quotes are not supported for evaluation!")},t.prototype.visit=function(t,e){var n=this._resultMap.get(t);return n?n:(this._nodeMap.get(t)||t).visit(this,e)},t.prototype.convertSafeAccess=function(t,e,n){var r,i=this.visit(e.receiver,M.Expression);this.needsTemporary(e.receiver)&&(r=this.allocateTemporary(),i=r.set(i),this._resultMap.set(e.receiver,r));var o=i.isBlank();e instanceof g.a?this._nodeMap.set(e,new g.b(e.span,e.receiver,e.name,e.args)):this._nodeMap.set(e,new g.c(e.span,e.receiver,e.name));var a=this.visit(t,M.Expression);return this._nodeMap.delete(e),r&&this.releaseTemporary(r),h(n,o.conditional(x.f(null),a))},t.prototype.leftMostSafeNode=function(t){var e=this,n=function(t,n){return(e._nodeMap.get(n)||n).visit(t)};return t.visit({visitBinary:function(t){return null},visitChain:function(t){return null},visitConditional:function(t){return null},visitFunctionCall:function(t){return null},visitImplicitReceiver:function(t){return null},visitInterpolation:function(t){return null},visitKeyedRead:function(t){return n(this,t.obj)},visitKeyedWrite:function(t){return null},visitLiteralArray:function(t){return null},visitLiteralMap:function(t){return null},visitLiteralPrimitive:function(t){return null},visitMethodCall:function(t){return n(this,t.receiver)},visitPipe:function(t){return null},visitPrefixNot:function(t){return null},visitPropertyRead:function(t){return n(this,t.receiver)},visitPropertyWrite:function(t){return null},visitQuote:function(t){return null},visitSafeMethodCall:function(t){return n(this,t.receiver)||t},visitSafePropertyRead:function(t){return n(this,t.receiver)||t}})},t.prototype.needsTemporary=function(t){var e=this,n=function(t,n){return n&&(e._nodeMap.get(n)||n).visit(t)},r=function(t,e){return e.some(function(e){return n(t,e)})};return t.visit({visitBinary:function(t){return n(this,t.left)||n(this,t.right)},visitChain:function(t){return!1},visitConditional:function(t){return n(this,t.condition)||n(this,t.trueExp)||n(this,t.falseExp)},visitFunctionCall:function(t){return!0},visitImplicitReceiver:function(t){return!1},visitInterpolation:function(t){return r(this,t.expressions)},visitKeyedRead:function(t){return!1},visitKeyedWrite:function(t){return!1},visitLiteralArray:function(t){return!0},visitLiteralMap:function(t){return!0},visitLiteralPrimitive:function(t){return!1},visitMethodCall:function(t){return!0},visitPipe:function(t){return!0},visitPrefixNot:function(t){return n(this,t.expression)},visitPropertyRead:function(t){return!1},visitPropertyWrite:function(t){return!1},visitQuote:function(t){return!1},visitSafeMethodCall:function(t){return!0},visitSafePropertyRead:function(t){return!1}})},t.prototype.allocateTemporary=function(){var t=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new x.A(a(this.bindingId,t))},t.prototype.releaseTemporary=function(t){if(this._currentTemporary--,t.name!=a(this.bindingId,this._currentTemporary))throw new Error("Temporary "+t.name+" released out of order")},t}(),P=function(){function t(){}return t.prototype.callPipe=function(t,e,n){return null},t.prototype.getLocal=function(t){return null},t}()},function(t,e,n){"use strict";var r=n(0),i=n(13),o=n(62),a=n(6),s=n(17),u=n(64),c=n(73),l=n(44),h=n(217),p=n(326),f=n(328),d=n(75),m=n(29);n.d(e,"a",function(){return g});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var y=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},v=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t,e,n,r){this._resourceLoader=t,this._urlResolver=e,this._htmlParser=n,this._config=r,this._resourceLoaderCache=new Map}return t.prototype.clearCache=function(){this._resourceLoaderCache.clear()},t.prototype.clearCacheFor=function(t){var e=this;t.isComponent&&(this._resourceLoaderCache.delete(t.template.templateUrl),t.template.externalStylesheets.forEach(function(t){e._resourceLoaderCache.delete(t.moduleUrl)}))},t.prototype._fetch=function(t){var e=this._resourceLoaderCache.get(t);return e||(e=this._resourceLoader.get(t),this._resourceLoaderCache.set(t,e)),e},t.prototype.normalizeTemplate=function(t){var e,r=this,i=null;if(n.i(a.c)(t.template))i=this.normalizeTemplateSync(t),e=Promise.resolve(i);else{if(!t.templateUrl)throw new m.e("No template specified for component "+n.i(a.e)(t.componentType));e=this.normalizeTemplateAsync(t)}return i&&0===i.styleUrls.length?new m.h(i):new m.h(null,e.then(function(t){return r.normalizeExternalStylesheets(t)}))},t.prototype.normalizeTemplateSync=function(t){return this.normalizeLoadedTemplate(t,t.template,t.moduleUrl)},t.prototype.normalizeTemplateAsync=function(t){var e=this,n=this._urlResolver.resolve(t.moduleUrl,t.templateUrl);return this._fetch(n).then(function(r){return e.normalizeLoadedTemplate(t,r,n)})},t.prototype.normalizeLoadedTemplate=function(t,e,o){var s=l.b.fromArray(t.interpolation),c=this._htmlParser.parse(e,n.i(a.e)(t.componentType),!0,s);if(c.errors.length>0){var h=c.errors.join("\n");throw new m.e("Template parse errors:\n"+h)}var p=this.normalizeStylesheet(new i.l({styles:t.styles,styleUrls:t.styleUrls,moduleUrl:t.moduleUrl})),f=new b;u.g(f,c.rootNodes);var d=this.normalizeStylesheet(new i.l({styles:f.styles,styleUrls:f.styleUrls,moduleUrl:o})),y=t.encapsulation;n.i(a.d)(y)&&(y=this._config.defaultEncapsulation);var v=p.styles.concat(d.styles),g=p.styleUrls.concat(d.styleUrls);return y===r.ViewEncapsulation.Emulated&&0===v.length&&0===g.length&&(y=r.ViewEncapsulation.None),new i.p({encapsulation:y,template:e,templateUrl:o,styles:v,styleUrls:g,ngContentSelectors:f.ngContentSelectors,animations:t.animations,interpolation:t.interpolation})},t.prototype.normalizeExternalStylesheets=function(t){return this._loadMissingExternalStylesheets(t.styleUrls).then(function(e){return new i.p({encapsulation:t.encapsulation,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,externalStylesheets:e,ngContentSelectors:t.ngContentSelectors,animations:t.animations,interpolation:t.interpolation})})},t.prototype._loadMissingExternalStylesheets=function(t,e){var n=this;return void 0===e&&(e=new Map),Promise.all(t.filter(function(t){return!e.has(t)}).map(function(t){return n._fetch(t).then(function(r){var o=n.normalizeStylesheet(new i.l({styles:[r],moduleUrl:t}));return e.set(t,o),n._loadMissingExternalStylesheets(o.styleUrls,e)})})).then(function(t){return Array.from(e.values())})},t.prototype.normalizeStylesheet=function(t){var e=this,r=t.styleUrls.filter(p.a).map(function(n){return e._urlResolver.resolve(t.moduleUrl,n)}),o=t.styles.map(function(i){var o=n.i(p.b)(e._urlResolver,t.moduleUrl,i);return r.push.apply(r,o.styleUrls),o.style});return new i.l({styles:o,styleUrls:r,moduleUrl:t.moduleUrl})},t=y([n.i(s.a)(),v("design:paramtypes",[h.a,d.a,c.a,o.a])],t)}(),b=function(){function t(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return t.prototype.visitElement=function(t,e){var r=n.i(f.a)(t);switch(r.type){case f.b.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(r.selectAttr);break;case f.b.STYLE:var i="";t.children.forEach(function(t){t instanceof u.d&&(i+=t.value)}),this.styles.push(i);break;case f.b.STYLESHEET:this.styleUrls.push(r.hrefAttr)}return r.nonBindable&&this.ngNonBindableStackCount++,u.g(this,t.children),r.nonBindable&&this.ngNonBindableStackCount--,null},t.prototype.visitExpansion=function(t,e){u.g(this,t.cases)},t.prototype.visitExpansionCase=function(t,e){u.g(this,t.expression)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return null},t.prototype.visitText=function(t,e){return null},t}()},function(t,e,n){"use strict";function r(t){return t instanceof i.Directive}var i=n(0),o=n(72),a=n(6),s=n(17),u=n(14),c=n(29);n.d(e,"a",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t){void 0===t&&(t=u.c),this._reflector=t}return t.prototype.isDirective=function(t){var e=this._reflector.annotations(n.i(i.resolveForwardRef)(t));return e&&e.some(r)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var s=this._reflector.annotations(n.i(i.resolveForwardRef)(t));if(s){var u=o.b.findLast(s,r);if(u){var c=this._reflector.propMetadata(t);return this._mergeWithPropertyMetadata(u,c,t)}}if(e)throw new Error("No Directive annotation found on "+n.i(a.e)(t));return null},t.prototype._mergeWithPropertyMetadata=function(t,e,n){var r=[],a=[],s={},u={};return Object.keys(e).forEach(function(t){var n=o.b.findLast(e[t],function(t){return t instanceof i.Input});n&&(n.bindingPropertyName?r.push(t+": "+n.bindingPropertyName):r.push(t));var c=o.b.findLast(e[t],function(t){return t instanceof i.Output});c&&(c.bindingPropertyName?a.push(t+": "+c.bindingPropertyName):a.push(t));var l=e[t].filter(function(t){return t&&t instanceof i.HostBinding});l.forEach(function(e){if(e.hostPropertyName){var n=e.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");s["["+e.hostPropertyName+"]"]=t}else s["["+t+"]"]=t});var h=e[t].filter(function(t){return t&&t instanceof i.HostListener});h.forEach(function(e){var n=e.args||[];s["("+e.eventName+")"]=t+"("+n.join(",")+")"});var p=o.b.findLast(e[t],function(t){return t instanceof i.Query});p&&(u[t]=p)}),this._merge(t,r,a,s,u,n)},t.prototype._extractPublicName=function(t){return n.i(c.a)(t,[null,t])[1].trim()},t.prototype._dedupeBindings=function(t){for(var e=new Set,n=[],r=t.length-1;r>=0;r--){var i=t[r],o=this._extractPublicName(i);e.has(o)||(e.add(o),n.push(i))}return n.reverse()},t.prototype._merge=function(t,e,n,r,a,s){var u=this._dedupeBindings(t.inputs?t.inputs.concat(e):e),c=this._dedupeBindings(t.outputs?t.outputs.concat(n):n),l=t.host?o.a.merge(t.host,r):r,h=t.queries?o.a.merge(t.queries,a):a;return t instanceof i.Component?new i.Component({selector:t.selector,inputs:u,outputs:c,host:l,exportAs:t.exportAs,moduleId:t.moduleId,queries:h,changeDetection:t.changeDetection,providers:t.providers,viewProviders:t.viewProviders,entryComponents:t.entryComponents,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,encapsulation:t.encapsulation,animations:t.animations,interpolation:t.interpolation}):new i.Directive({selector:t.selector,inputs:u,outputs:c,host:l,exportAs:t.exportAs,queries:h,providers:t.providers})},t=l([n.i(s.a)(),h("design:paramtypes",[u.K])],t)}()},function(t,e,n){"use strict";function r(t,e){return new E(t,w.Character,e,String.fromCharCode(e))}function i(t,e){return new E(t,w.Identifier,0,e)}function o(t,e){return new E(t,w.Keyword,0,e)}function a(t,e){return new E(t,w.Operator,0,e)}function s(t,e){return new E(t,w.String,0,e)}function u(t,e){return new E(t,w.Number,e,"")}function c(t,e){return new E(t,w.Error,0,e)}function l(t){return v.I<=t&&t<=v.J||v.K<=t&&t<=v.L||t==v.M||t==v.N}function h(t){if(0==t.length)return!1;var e=new M(t);if(!l(e.peek))return!1;for(e.advance();e.peek!==v.m;){if(!p(e.peek))return!1;e.advance()}return!0}function p(t){return v.O(t)||v.o(t)||t==v.M||t==v.N}function f(t){return t==v.P||t==v.Q}function d(t){return t==v.t||t==v.s}function m(t){return t===v.p||t===v.q||t===v.R}function y(t){switch(t){case v.S:return v.a;case v.T:return v.U;case v.V:return v.W;case v.X:return v.Y;case v.Z:return v._0;default:return t}}var v=n(150),g=n(6),b=n(17);n.d(e,"e",function(){return w}),n.d(e,"c",function(){return S}),n.d(e,"d",function(){return T}),e.a=h,e.b=m;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var _=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},x=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},w={};w.Character=0,w.Identifier=1,w.Keyword=2,w.String=3,w.Operator=4,w.Number=5,w.Error=6,w[w.Character]="Character",w[w.Identifier]="Identifier",w[w.Keyword]="Keyword",w[w.String]="String",w[w.Operator]="Operator",w[w.Number]="Number",w[w.Error]="Error";var C=["var","let","null","undefined","true","false","if","else","this"],S=function(){function t(){}return t.prototype.tokenize=function(t){for(var e=new M(t),n=[],r=e.scanToken();null!=r;)n.push(r),r=e.scanToken();return n},t=_([n.i(b.a)(),x("design:paramtypes",[])],t)}(),E=function(){function t(t,e,n,r){this.index=t,this.type=e,this.numValue=n,this.strValue=r}return t.prototype.isCharacter=function(t){return this.type==w.Character&&this.numValue==t},t.prototype.isNumber=function(){return this.type==w.Number},t.prototype.isString=function(){return this.type==w.String},t.prototype.isOperator=function(t){return this.type==w.Operator&&this.strValue==t},t.prototype.isIdentifier=function(){return this.type==w.Identifier},t.prototype.isKeyword=function(){return this.type==w.Keyword},t.prototype.isKeywordLet=function(){return this.type==w.Keyword&&"let"==this.strValue},t.prototype.isKeywordNull=function(){return this.type==w.Keyword&&"null"==this.strValue},t.prototype.isKeywordUndefined=function(){return this.type==w.Keyword&&"undefined"==this.strValue},t.prototype.isKeywordTrue=function(){return this.type==w.Keyword&&"true"==this.strValue},t.prototype.isKeywordFalse=function(){return this.type==w.Keyword&&"false"==this.strValue},t.prototype.isKeywordThis=function(){return this.type==w.Keyword&&"this"==this.strValue},t.prototype.isError=function(){return this.type==w.Error},t.prototype.toNumber=function(){return this.type==w.Number?this.numValue:-1},t.prototype.toString=function(){switch(this.type){case w.Character:case w.Identifier:case w.Keyword:case w.Operator:case w.String:case w.Error:return this.strValue;case w.Number:return this.numValue.toString();default:return null}},t}(),T=new E(-1,w.Character,0,""),M=function(){function t(t){this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}return t.prototype.advance=function(){this.peek=++this.index>=this.length?v.m:this.input.charCodeAt(this.index)},t.prototype.scanToken=function(){for(var t=this.input,e=this.length,n=this.peek,i=this.index;n<=v.n;){if(++i>=e){n=v.m;break}n=t.charCodeAt(i)}if(this.peek=n,this.index=i,i>=e)return null;if(l(n))return this.scanIdentifier();if(v.o(n))return this.scanNumber(i);var o=i;switch(n){case v.e:return this.advance(),v.o(this.peek)?this.scanNumber(o):r(o,v.e);case v.h:case v.i:case v.j:case v.l:case v.f:case v.g:case v.k:case v.d:case v.c:return this.scanCharacter(o,n);case v.p:case v.q:return this.scanString();case v.r:case v.s:case v.t:case v.u:case v.b:case v.v:case v.w:return this.scanOperator(o,String.fromCharCode(n));case v.x:return this.scanComplexOperator(o,"?",v.e,".");case v.y:case v.z:return this.scanComplexOperator(o,String.fromCharCode(n),v.A,"=");case v.B:case v.A:return this.scanComplexOperator(o,String.fromCharCode(n),v.A,"=",v.A,"=");case v.C:return this.scanComplexOperator(o,"&",v.C,"&");case v.D:return this.scanComplexOperator(o,"|",v.D,"|");case v.E:for(;v.F(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(n)+"]",0)},t.prototype.scanCharacter=function(t,e){return this.advance(),r(t,e)},t.prototype.scanOperator=function(t,e){return this.advance(),a(t,e)},t.prototype.scanComplexOperator=function(t,e,n,r,i,o){this.advance();var s=e;return this.peek==n&&(this.advance(),s+=r),null!=i&&this.peek==i&&(this.advance(),s+=o),a(t,s)},t.prototype.scanIdentifier=function(){var t=this.index;for(this.advance();p(this.peek);)this.advance();var e=this.input.substring(t,this.index);return C.indexOf(e)>-1?o(t,e):i(t,e)},t.prototype.scanNumber=function(t){var e=this.index===t;for(this.advance();;){if(v.o(this.peek));else if(this.peek==v.e)e=!1;else{if(!f(this.peek))break;if(this.advance(),d(this.peek)&&this.advance(),!v.o(this.peek))return this.error("Invalid exponent",-1);e=!1}this.advance()}var n=this.input.substring(t,this.index),r=e?g.i.parseIntAutoRadix(n):parseFloat(n);return u(t,r)},t.prototype.scanString=function(){var t=this.index,e=this.peek;this.advance();for(var n="",r=this.index,i=this.input;this.peek!=e;)if(this.peek==v.G){n+=i.substring(r,this.index),this.advance();var o=void 0;if(this.peek==v.H){var a=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(a))return this.error("Invalid unicode escape [\\u"+a+"]",0);o=parseInt(a,16);for(var u=0;u<5;u++)this.advance()}else o=y(this.peek),this.advance();n+=String.fromCharCode(o),r=this.index}else{if(this.peek==v.m)return this.error("Unterminated quote",0);this.advance()}var c=i.substring(r,this.index);return this.advance(),s(t,n+c)},t.prototype.error=function(t,e){var n=this.index+e;return c(n,"Lexer Error: "+t+" at column "+n+" in expression ["+this.input+"]")},t}()},function(t,e,n){"use strict";function r(t,e){if(void 0===e&&(e=[]),t)for(var i=0;i<t.length;i++){var o=n.i(l.resolveForwardRef)(t[i]);Array.isArray(o)?r(o,e):e.push(o)}return e}function i(t){return t?Array.from(new Set(t)):[]}function o(t){return i(r(t))}function a(t){return t instanceof h.a||t instanceof l.Type}function s(t,e,r){if(e instanceof h.a)return e.filePath;var i=r.moduleId;if("string"==typeof i){var o=n.i(E.b)(i);return o?i:"package:"+i+T.f}if(null!==i&&void 0!==i)throw new T.e('moduleId should be a string in "'+c(e)+"\". See https://goo.gl/wIDDiL for more information.\nIf you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return t.importUri(e)}function u(t,e){n.i(T.b)(t,new O,e)}function c(t){return t instanceof h.a?t.name+" in "+t.filePath:n.i(y.e)(t)}var l=n(0),h=n(61),p=n(312),f=n(13),d=n(107),m=n(108),y=n(6),v=n(16),g=n(17),b=n(518),_=n(111),x=n(112),w=n(14),C=n(65),S=n(218),E=n(75),T=n(29);n.d(e,"a",function(){return R});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var M=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},A=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},P=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},k=new l.OpaqueToken("ErrorCollector"),R=function(){function t(t,e,n,r,i,o,a,s){void 0===a&&(a=w.c),this._ngModuleResolver=t,this._directiveResolver=e,this._pipeResolver=n,this._summaryResolver=r,this._schemaRegistry=i,this._directiveNormalizer=o,this._reflector=a,this._errorCollector=s,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map}return t.prototype.clearCacheFor=function(t){var e=this._directiveCache.get(t);this._directiveCache.delete(t),this._summaryCache.delete(t),this._pipeCache.delete(t),this._ngModuleOfTypes.delete(t),this._ngModuleCache.clear(),e&&this._directiveNormalizer.clearCacheFor(e)},t.prototype.clearCache=function(){this._directiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()},t.prototype.getAnimationEntryMetadata=function(t){var e=this,n=t.definitions.map(function(t){return e._getAnimationStateMetadata(t)});return new f.m(t.name,n)},t.prototype._getAnimationStateMetadata=function(t){if(t instanceof l.AnimationStateDeclarationMetadata){var e=this._getAnimationStyleMetadata(t.styles);return new f.b(t.stateNameExpr,e)}return t instanceof l.AnimationStateTransitionMetadata?new f.n(t.stateChangeExpr,this._getAnimationMetadata(t.steps)):null},t.prototype._getAnimationStyleMetadata=function(t){return new f.f(t.offset,t.styles)},t.prototype._getAnimationMetadata=function(t){var e=this;if(t instanceof l.AnimationStyleMetadata)return this._getAnimationStyleMetadata(t);if(t instanceof l.AnimationKeyframesSequenceMetadata)return new f.h(t.steps.map(function(t){return e._getAnimationStyleMetadata(t)}));if(t instanceof l.AnimationAnimateMetadata){var n=this._getAnimationMetadata(t.styles);return new f.g(t.timings,n)}if(t instanceof l.AnimationWithStepsMetadata){var r=t.steps.map(function(t){return e._getAnimationMetadata(t)});return t instanceof l.AnimationGroupMetadata?new f.d(r):new f.c(r)}return null},t.prototype._loadSummary=function(t,e){var n=this._summaryCache.get(t);if(!n){var r=this._summaryResolver.resolveSummary(t);n=r?r.type:null,this._summaryCache.set(t,n)}return n&&n.summaryKind===e?n:null},t.prototype._loadDirectiveMetadata=function(t,e){var r=this;if(!this._directiveCache.has(t)){t=n.i(l.resolveForwardRef)(t);var i=this.getNonNormalizedDirectiveMetadata(t),o=i.annotation,a=i.metadata,u=function(e){var n=new f.o({type:a.type,isComponent:a.isComponent,selector:a.selector,exportAs:a.exportAs,changeDetection:a.changeDetection,inputs:a.inputs,outputs:a.outputs,hostListeners:a.hostListeners,hostProperties:a.hostProperties,hostAttributes:a.hostAttributes,providers:a.providers,viewProviders:a.viewProviders,queries:a.queries,viewQueries:a.viewQueries,entryComponents:a.entryComponents,template:e});return r._directiveCache.set(t,n),r._summaryCache.set(t,n.toSummary()),n};if(a.isComponent){var c=this._directiveNormalizer.normalizeTemplate({componentType:t,moduleUrl:s(this._reflector,t,o),encapsulation:a.template.encapsulation,template:a.template.template,templateUrl:a.template.templateUrl,styles:a.template.styles,styleUrls:a.template.styleUrls,animations:a.template.animations,interpolation:a.template.interpolation});return c.syncResult?(u(c.syncResult),null):e?(this._reportError(new w.I(t),t),null):c.asyncResult.then(u)}return u(null),null}},t.prototype.getNonNormalizedDirectiveMetadata=function(t){var e=this;t=n.i(l.resolveForwardRef)(t);var r=this._directiveResolver.resolve(t);if(!r)return null;var i;if(r instanceof l.Component){n.i(p.b)("styles",r.styles),n.i(p.b)("styleUrls",r.styleUrls),n.i(p.a)("interpolation",r.interpolation);var a=r.animations?r.animations.map(function(t){return e.getAnimationEntryMetadata(t)}):null;i=new f.p({encapsulation:r.encapsulation,template:r.template,templateUrl:r.templateUrl,styles:r.styles,styleUrls:r.styleUrls,animations:a,interpolation:r.interpolation})}var s=null,u=[],h=[],d=r.selector;r instanceof l.Component?(s=r.changeDetection,r.viewProviders&&(u=this._getProvidersMetadata(r.viewProviders,h,'viewProviders for "'+c(t)+'"',[],t)),r.entryComponents&&(h=o(r.entryComponents).map(function(t){return e._getIdentifierMetadata(t)}).concat(h)),d||(d=this._schemaRegistry.getDefaultComponentElementName())):d||(this._reportError(new T.e("Directive "+c(t)+" has no selector, please add it!"),t),d="error");var m=[];n.i(y.c)(r.providers)&&(m=this._getProvidersMetadata(r.providers,h,'providers for "'+c(t)+'"',[],t));var v=[],g=[];n.i(y.c)(r.queries)&&(v=this._getQueriesMetadata(r.queries,!1,t),g=this._getQueriesMetadata(r.queries,!0,t));var b=f.o.create({selector:d,exportAs:r.exportAs,isComponent:!!i,type:this._getTypeMetadata(t),template:i,changeDetection:s,inputs:r.inputs,outputs:r.outputs,host:r.host,providers:m,viewProviders:u,queries:v,viewQueries:g,entryComponents:h});return{metadata:b,annotation:r}},t.prototype.getDirectiveMetadata=function(t){var e=this._directiveCache.get(t);return e||this._reportError(new T.e("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive "+c(t)+"."),t),e},t.prototype.getDirectiveSummary=function(t){var e=this._loadSummary(t,f.q.Directive);return e||this._reportError(new T.e("Illegal state: Could not load the summary for directive "+c(t)+"."),t),e},t.prototype.isDirective=function(t){return this._directiveResolver.isDirective(t)},t.prototype.isPipe=function(t){return this._pipeResolver.isPipe(t)},t.prototype.getNgModuleSummary=function(t){var e=this._loadSummary(t,f.q.NgModule);if(!e){var n=this.getNgModuleMetadata(t,!1);e=n?n.toSummary():null,e&&this._summaryCache.set(t,e)}return e},t.prototype.loadNgModuleDirectiveAndPipeMetadata=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=this.getNgModuleMetadata(t,n),o=[];return i&&(i.declaredDirectives.forEach(function(t){var n=r._loadDirectiveMetadata(t.reference,e);n&&o.push(n)}),i.declaredPipes.forEach(function(t){return r._loadPipeMetadata(t.reference)})),Promise.all(o)},t.prototype.getNgModuleMetadata=function(t,e){var r=this;void 0===e&&(e=!0),t=n.i(l.resolveForwardRef)(t);var i=this._ngModuleCache.get(t);if(i)return i;var s=this._ngModuleResolver.resolve(t,e);if(!s)return null;var u=[],h=[],p=[],d=[],m=[],y=[],v=[],g=[],b=[];s.imports&&o(s.imports).forEach(function(e){var n;if(a(e))n=e;else if(e&&e.ngModule){var i=e;n=i.ngModule,i.providers&&y.push.apply(y,r._getProvidersMetadata(i.providers,v,"provider for the NgModule '"+c(n)+"'",[],e))}if(!n)return void r._reportError(new T.e("Unexpected value '"+c(e)+"' imported by the module '"+c(t)+"'"),t);var o=r.getNgModuleSummary(n);return o?void d.push(o):void r._reportError(new T.e("Unexpected "+r._getTypeDescriptor(e)+" '"+c(e)+"' imported by the module '"+c(t)+"'"),t)}),s.exports&&o(s.exports).forEach(function(e){if(!a(e))return void r._reportError(new T.e("Unexpected value '"+c(e)+"' exported by the module '"+c(t)+"'"),t);var n=r.getNgModuleSummary(e);n?m.push(n):h.push(r._getIdentifierMetadata(e))});var _=this._getTransitiveNgModuleMetadata(d,m);s.declarations&&o(s.declarations).forEach(function(e){if(!a(e))return void r._reportError(new T.e("Unexpected value '"+c(e)+"' declared by the module '"+c(t)+"'"),t);var n=r._getIdentifierMetadata(e);if(r._directiveResolver.isDirective(e))_.addDirective(n),u.push(n),r._addTypeToModule(e,t);else{if(!r._pipeResolver.isPipe(e))return void r._reportError(new T.e("Unexpected "+r._getTypeDescriptor(e)+" '"+c(e)+"' declared by the module '"+c(t)+"'"),t);_.addPipe(n),_.pipes.push(n),p.push(n),r._addTypeToModule(e,t)}});var x=[],w=[];return h.forEach(function(e){_.directivesSet.has(e.reference)?(x.push(e),_.addExportedDirective(e)):_.pipesSet.has(e.reference)?(w.push(e),_.addExportedPipe(e)):r._reportError(new T.e("Can't export "+r._getTypeDescriptor(e.reference)+" "+c(e.reference)+" from "+c(t)+" as it was neither declared nor imported!"),t)}),s.providers&&y.push.apply(y,this._getProvidersMetadata(s.providers,v,"provider for the NgModule '"+c(t)+"'",[],t)),s.entryComponents&&v.push.apply(v,o(s.entryComponents).map(function(t){return r._getIdentifierMetadata(t)})),s.bootstrap&&o(s.bootstrap).forEach(function(e){return a(e)?void g.push(r._getIdentifierMetadata(e)):void r._reportError(new T.e("Unexpected value '"+c(e)+"' used in the bootstrap property of module '"+c(t)+"'"),t)}),v.push.apply(v,g),s.schemas&&b.push.apply(b,o(s.schemas)),i=new f.r({type:this._getTypeMetadata(t),providers:y,entryComponents:v,bootstrapComponents:g,schemas:b,declaredDirectives:u,exportedDirectives:x,declaredPipes:p,exportedPipes:w,importedModules:d,exportedModules:m,transitiveModule:_,id:s.id}),v.forEach(function(t){return _.addEntryComponent(t)}),y.forEach(function(t){return _.addProvider(t,i.type)}),_.addModule(i.type),this._ngModuleCache.set(t,i),i},t.prototype._getTypeDescriptor=function(t){return this._directiveResolver.isDirective(t)?"directive":this._pipeResolver.isPipe(t)?"pipe":this._ngModuleResolver.isNgModule(t)?"module":t.provide?"provider":"value"},t.prototype._addTypeToModule=function(t,e){var n=this._ngModuleOfTypes.get(t);n&&n!==e&&this._reportError(new T.e("Type "+c(t)+" is part of the declarations of 2 modules: "+c(n)+" and "+c(e)+"! "+("Please consider moving "+c(t)+" to a higher module that imports "+c(n)+" and "+c(e)+". ")+("You can also create a new NgModule that exports and includes "+c(t)+" then import that NgModule in "+c(n)+" and "+c(e)+".")),e),this._ngModuleOfTypes.set(t,e)},t.prototype._getTransitiveNgModuleMetadata=function(t,e){var n=new f.s,r=new Map;return t.concat(e).forEach(function(t){t.modules.forEach(function(t){return n.addModule(t)}),t.entryComponents.forEach(function(t){return n.addEntryComponent(t)});var e=new Set;t.providers.forEach(function(t){var i=f.j(t.provider.token),o=r.get(i);o||(o=new Set,r.set(i,o));var a=t.module.reference;!e.has(i)&&o.has(a)||(o.add(a),e.add(i),n.addProvider(t.provider,t.module))})}),e.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addExportedDirective(t)}),t.exportedPipes.forEach(function(t){return n.addExportedPipe(t)})}),t.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addDirective(t)}),t.exportedPipes.forEach(function(t){return n.addPipe(t)})}),n},t.prototype._getIdentifierMetadata=function(t){return t=n.i(l.resolveForwardRef)(t),{reference:t}},t.prototype.isInjectable=function(t){var e=this._reflector.annotations(t);return e.some(function(t){return t.constructor===l.Injectable})},t.prototype.getInjectableSummary=function(t){return{summaryKind:f.q.Injectable,type:this._getTypeMetadata(t)}},t.prototype._getInjectableMetadata=function(t,e){void 0===e&&(e=null);var n=this._loadSummary(t,f.q.Injectable);return n?n.type:this._getTypeMetadata(t,e)},t.prototype._getTypeMetadata=function(t,e){void 0===e&&(e=null);var r=this._getIdentifierMetadata(t);return{reference:r.reference,diDeps:this._getDependenciesMetadata(r.reference,e),lifecycleHooks:w.J.filter(function(t){return n.i(b.a)(t,r.reference)})}},t.prototype._getFactoryMetadata=function(t,e){return void 0===e&&(e=null),t=n.i(l.resolveForwardRef)(t),{reference:t,diDeps:this._getDependenciesMetadata(t,e)}},t.prototype.getPipeMetadata=function(t){var e=this._pipeCache.get(t);return e||this._reportError(new T.e("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe "+c(t)+"."),t),e},t.prototype.getPipeSummary=function(t){var e=this._loadSummary(t,f.q.Pipe);return e||this._reportError(new T.e("Illegal state: Could not load the summary for pipe "+c(t)+"."),t),e},t.prototype.getOrLoadPipeMetadata=function(t){var e=this._pipeCache.get(t);return e||(e=this._loadPipeMetadata(t)),e},t.prototype._loadPipeMetadata=function(t){t=n.i(l.resolveForwardRef)(t);var e=this._pipeResolver.resolve(t),r=new f.t({type:this._getTypeMetadata(t),name:e.name,pure:e.pure});return this._pipeCache.set(t,r),this._summaryCache.set(t,r.toSummary()),r},t.prototype._getDependenciesMetadata=function(t,e){var r=this,i=!1,o=e||this._reflector.parameters(t)||[],s=o.map(function(t){var e=!1,o=!1,s=!1,u=!1,c=!1,h=null;return Array.isArray(t)?t.forEach(function(t){t instanceof l.Host?o=!0:t instanceof l.Self?s=!0:t instanceof l.SkipSelf?u=!0:t instanceof l.Optional?c=!0:t instanceof l.Attribute?(e=!0,h=t.attributeName):t instanceof l.Inject?h=t.token:a(t)&&n.i(y.d)(h)&&(h=t)}):h=t,n.i(y.d)(h)?(i=!0,null):{isAttribute:e,isHost:o,isSelf:s,isSkipSelf:u,isOptional:c,token:r._getTokenMetadata(h)}});if(i){var u=s.map(function(t){return t?c(t.token):"?"}).join(", ");this._reportError(new T.e("Can't resolve all parameters for "+c(t)+": ("+u+")."),t)}return s},t.prototype._getTokenMetadata=function(t){t=n.i(l.resolveForwardRef)(t);var e;return e="string"==typeof t?{value:t}:{identifier:{reference:t}}},t.prototype._getProvidersMetadata=function(t,e,r,i,o){var s=this;return void 0===i&&(i=[]),t.forEach(function(u,h){if(Array.isArray(u))s._getProvidersMetadata(u,e,r,i);else{u=n.i(l.resolveForwardRef)(u);var p=void 0;if(u&&"object"==typeof u&&u.hasOwnProperty("provide"))p=new f.u(u.provide,u);else if(a(u))p=new f.u(u,{useClass:u});else{var d=t.reduce(function(t,e,n){return n<h?t.push(""+c(e)):n==h?t.push("?"+c(e)+"?"):n==h+1&&t.push("..."),t},[]).join(", ");s._reportError(new T.e("Invalid "+(r?r:"provider")+" - only instances of Provider and Type are allowed, got: ["+d+"]"),o)}p.token===n.i(v.e)(v.b.ANALYZE_FOR_ENTRY_COMPONENTS)?e.push.apply(e,s._getEntryComponentsFromProvider(p,o)):i.push(s.getProviderMetadata(p))}}),i},t.prototype._getEntryComponentsFromProvider=function(t,e){var n=this,r=[],i=[];return t.useFactory||t.useExisting||t.useClass?(this._reportError(new T.e("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),e),[]):t.multi?(u(t.useValue,i),i.forEach(function(t){(n._directiveResolver.isDirective(t.reference)||n._loadSummary(t.reference,f.q.Directive))&&r.push(t)}),r):(this._reportError(new T.e("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),e),[])},t.prototype.getProviderMetadata=function(t){var e,n=null,r=null,i=this._getTokenMetadata(t.token);return t.useClass?(n=this._getInjectableMetadata(t.useClass,t.dependencies),e=n.diDeps,t.token===t.useClass&&(i={identifier:n})):t.useFactory&&(r=this._getFactoryMetadata(t.useFactory,t.dependencies),e=r.diDeps),{token:i,useClass:n,useValue:t.useValue,useFactory:r,useExisting:t.useExisting?this._getTokenMetadata(t.useExisting):null,deps:e,multi:t.multi}},t.prototype._getQueriesMetadata=function(t,e,n){var r=this,i=[];return Object.keys(t).forEach(function(o){var a=t[o];a.isViewQuery===e&&i.push(r._getQueryMetadata(a,o,n))}),i},t.prototype._queryVarBindings=function(t){return t.split(/\s*,\s*/)},t.prototype._getQueryMetadata=function(t,e,n){var r,i=this;return"string"==typeof t.selector?r=this._queryVarBindings(t.selector).map(function(t){return i._getTokenMetadata(t)}):(t.selector||this._reportError(new T.e("Can't construct a query for the property \""+e+'" of "'+c(n)+"\" since the query selector wasn't defined."),n),r=[this._getTokenMetadata(t.selector)]),{selectors:r,first:t.first,descendants:t.descendants,propertyName:e,read:t.read?this._getTokenMetadata(t.read):null}},t.prototype._reportError=function(t,e,n){if(!this._errorCollector)throw t;this._errorCollector(t,e),n&&this._errorCollector(t,n)},t.ctorParameters=function(){return[{type:_.a},{type:m.a},{type:x.a},{type:S.a},{type:C.a},{type:d.a},{type:w.K},{type:void 0,decorators:[{type:l.Optional},{type:l.Inject,args:[k]}]}]},t=A([n.i(g.a)(),P("design:paramtypes",[_.a,m.a,x.a,S.a,C.a,d.a,w.K,Function])],t)}(),O=function(t){function e(){t.apply(this,arguments)}return M(e,t),e.prototype.visitOther=function(t,e){e.push({reference:t})},e}(T.g)},function(t,e,n){"use strict";function r(t){return t instanceof i.NgModule}var i=n(0),o=n(72),a=n(6),s=n(17),u=n(14);n.d(e,"a",function(){return h});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(t){void 0===t&&(t=u.c),this._reflector=t}return t.prototype.isNgModule=function(t){return this._reflector.annotations(t).some(r)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var i=o.b.findLast(this._reflector.annotations(t),r);if(i)return i;if(e)throw new Error("No NgModule metadata found for '"+n.i(a.e)(t)+"'.");return null},t=c([n.i(s.a)(),l("design:paramtypes",[u.K])],t)}()},function(t,e,n){"use strict";function r(t){return t instanceof i.Pipe}var i=n(0),o=n(72),a=n(6),s=n(17),u=n(14);n.d(e,"a",function(){return h});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(t){void 0===t&&(t=u.c),this._reflector=t}return t.prototype.isPipe=function(t){var e=this._reflector.annotations(n.i(i.resolveForwardRef)(t));return e&&e.some(r)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var s=this._reflector.annotations(n.i(i.resolveForwardRef)(t));if(s){var u=o.b.findLast(s,r);if(u)return u}if(e)throw new Error("No Pipe decorator found on "+n.i(a.e)(t));return null},t=c([n.i(s.a)(),l("design:paramtypes",[u.K])],t)}()},function(t,e,n){"use strict";function r(t){return t.trim().split(/\s+/g)}function i(t,e){var i=new C.a,o=n.i(g.e)(t)[1];i.setElement(o);for(var a=0;a<e.length;a++){var s=e[a][0],u=n.i(g.e)(s)[1],c=e[a][1];if(i.addAttribute(u,c),s.toLowerCase()==W){var l=r(c);l.forEach(function(t){return i.addClassName(t)})}}return i}function o(t){return t instanceof d.d&&0==t.value.trim().length}function a(t){var e=new Map;return t.forEach(function(t){e.get(t.type.reference)||e.set(t.type.reference,t)}),Array.from(e.values())}var s=n(0),u=n(13),c=n(88),l=n(6),h=n(152),p=n(16),f=n(17),d=n(64),m=n(73),y=n(519),v=n(44),g=n(74),b=n(35),_=n(14),x=n(325),w=n(65),C=n(157),S=n(326),E=n(29),T=n(327),M=n(45),A=n(328);n.d(e,"a",function(){return Q});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var P=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},k=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},R=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},O=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,I=1,N=2,D=3,L=4,V=5,F=6,j=7,B=8,U=9,z=10,H="template",G="template",q="*",W="class",X=C.a.parse("*")[0],Y=new s.OpaqueToken("TemplateTransforms"),K=function(t){function e(e,n,r){t.call(this,n,e,r)}return P(e,t),e}(b.a),Z=function(){function t(t,e){this.templateAst=t,this.errors=e}return t}(),Q=function(){function t(t,e,n,r,i){this._exprParser=t,this._schemaRegistry=e,this._htmlParser=n,this._console=r,this.transforms=i}return t.prototype.parse=function(t,e,n,r,i,o){var a=this.tryParse(t,e,n,r,i,o),s=a.errors.filter(function(t){return t.level===b.e.WARNING}),u=a.errors.filter(function(t){return t.level===b.e.FATAL});if(s.length>0&&this._console.warn("Template parse warnings:\n"+s.join("\n")),u.length>0){var c=u.join("\n");throw new E.e("Template parse errors:\n"+c)}return a.templateAst},t.prototype.tryParse=function(t,e,n,r,i,o){return this.tryParseHtml(this.expandHtml(this._htmlParser.parse(e,o,!0,this.getInterpolationConfig(t))),t,e,n,r,i,o)},t.prototype.tryParseHtml=function(t,e,r,i,o,s,u){var c,l=t.errors;if(t.rootNodes.length>0){var h=a(i),p=a(o),f=new x.b(e,t.rootNodes[0].sourceSpan),m=void 0;e.template&&e.template.interpolation&&(m={start:e.template.interpolation[0],end:e.template.interpolation[1]});var y=new T.a(this._exprParser,m,this._schemaRegistry,p,l),v=new $(f,h,y,this._schemaRegistry,s,l);c=d.g(v,t.rootNodes,nt),l.push.apply(l,f.errors)}else c=[];return this._assertNoReferenceDuplicationOnTemplate(c,l),l.length>0?new Z(c,l):(this.transforms&&this.transforms.forEach(function(t){c=n.i(M.a)(t,c)}),new Z(c,l))},t.prototype.expandHtml=function(t,e){void 0===e&&(e=!1);var r=t.errors;if(0==r.length||e){var i=n.i(y.a)(t.rootNodes);r.push.apply(r,i.errors),t=new m.b(i.nodes,r)}return t},t.prototype.getInterpolationConfig=function(t){if(t.template)return v.b.fromArray(t.template.interpolation)},t.prototype._assertNoReferenceDuplicationOnTemplate=function(t,e){var n=[];t.filter(function(t){return!!t.references}).forEach(function(t){return t.references.forEach(function(t){var r=t.name;if(n.indexOf(r)<0)n.push(r);else{var i=new K('Reference "#'+r+'" is defined several times',t.sourceSpan,b.e.FATAL);e.push(i)}})})},t.ctorParameters=function(){return[{type:c.a},{type:w.a},{type:h.a},{type:_.F},{type:Array,decorators:[{type:s.Optional},{type:s.Inject,args:[Y]}]}]},t=k([n.i(f.a)(),R("design:paramtypes",[c.a,w.a,h.a,_.F,Array])],t)}(),$=function(){function t(t,e,n,r,i,o){var a=this;this.providerViewContext=t,this._bindingParser=n,this._schemaRegistry=r,this._schemas=i,this._targetErrors=o,this.selectorMatcher=new C.b,this.directivesIndex=new Map,this.ngContentCount=0,e.forEach(function(t,e){var n=C.a.parse(t.selector);a.selectorMatcher.addSelectables(n,t),a.directivesIndex.set(t,e)})}return t.prototype.visitExpansion=function(t,e){return null},t.prototype.visitExpansionCase=function(t,e){return null},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(X),r=this._bindingParser.parseInterpolation(t.value,t.sourceSpan);return r?new M.h(r,n,t.sourceSpan):new M.i(t.value,n,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return new M.j(t.name,t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitElement=function(t,e){var r=this,a=t.name,s=n.i(A.a)(t);if(s.type===A.b.SCRIPT||s.type===A.b.STYLE)return null;if(s.type===A.b.STYLESHEET&&n.i(S.a)(s.hrefAttr))return null;var u=[],c=[],h=[],p=[],f=[],m=[],y=[],v=[],b=!1,_=[],w=n.i(g.e)(a.toLowerCase())[1],E=w==H;t.attrs.forEach(function(t){var e,i,o=r._parseAttr(E,t,u,c,f,h,p),a=r._normalizeAttributeName(t.name);a==G?e=t.value:a.startsWith(q)&&(e=t.value,i=a.substring(q.length)+":");var s=n.i(l.c)(e);s&&(b&&r._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",t.sourceSpan),b=!0,r._bindingParser.parseInlineTemplateBinding(i,e,t.sourceSpan,y,m,v)),o||s||(_.push(r.visitAttribute(t,null)),u.push([t.name,t.value]))});var T=i(a,u),P=this._parseDirectives(this.selectorMatcher,T),k=P.directives,R=P.matchElement,O=[],I=this._createDirectiveAsts(E,t.name,k,c,h,t.sourceSpan,O),N=this._createElementPropertyAsts(t.name,c,I),D=e.isTemplateElement||b,L=new x.c(this.providerViewContext,e.providerContext,D,I,_,O,t.sourceSpan),V=d.g(s.nonBindable?rt:this,t.children,et.create(E,I,E?e.providerContext:L));L.afterElement();var F,j=n.i(l.c)(s.projectAs)?C.a.parse(s.projectAs)[0]:T,B=e.findNgContentIndex(j);if(s.type===A.b.NG_CONTENT)t.children&&!t.children.every(o)&&this._reportError("<ng-content> element cannot have content.",t.sourceSpan),F=new M.k(this.ngContentCount++,b?null:B,t.sourceSpan);else if(E)this._assertAllEventsPublishedByDirectives(I,f),this._assertNoComponentsNorElementBindingsOnTemplate(I,N,t.sourceSpan),F=new M.l(_,f,O,p,L.transformedDirectiveAsts,L.transformProviders,L.transformedHasViewContainer,V,b?null:B,t.sourceSpan);else{this._assertElementExists(R,t),this._assertOnlyOneComponent(I,t.sourceSpan);var U=b?null:e.findNgContentIndex(j);F=new M.m(a,_,N,f,O,L.transformedDirectiveAsts,L.transformProviders,L.transformedHasViewContainer,V,b?null:U,t.sourceSpan,t.endSourceSpan),this._findComponentDirectives(I).forEach(function(t){return r._validateElementAnimationInputOutputs(t.hostProperties,t.hostEvents,t.directive.template)});var z=L.viewContext.component.template;this._validateElementAnimationInputOutputs(N,f,z.toSummary())}if(b){var W=i(H,y),X=this._parseDirectives(this.selectorMatcher,W).directives,Y=this._createDirectiveAsts(!0,t.name,X,m,[],t.sourceSpan,[]),K=this._createElementPropertyAsts(t.name,m,Y);this._assertNoComponentsNorElementBindingsOnTemplate(Y,K,t.sourceSpan);var Z=new x.c(this.providerViewContext,e.providerContext,e.isTemplateElement,Y,[],[],t.sourceSpan);Z.afterElement(),F=new M.l([],[],[],v,Z.transformedDirectiveAsts,Z.transformProviders,Z.transformedHasViewContainer,[F],B,t.sourceSpan)}return F},t.prototype._validateElementAnimationInputOutputs=function(t,e,n){var r=this,i=new Set;n.animations.forEach(function(t){i.add(t)});var o=t.filter(function(t){return t.isAnimation});o.forEach(function(t){var e=t.name;i.has(e)||r._reportError("Couldn't find an animation entry for \""+e+'"',t.sourceSpan)}),e.forEach(function(t){if(t.isAnimation){var e=o.find(function(e){return e.name==t.name});e||r._reportError("Unable to listen on (@"+t.name+"."+t.phase+") because the animation trigger [@"+t.name+"] isn't being used on the same element",t.sourceSpan)}})},t.prototype._parseAttr=function(t,e,r,i,o,a,s){var u=this._normalizeAttributeName(e.name),c=e.value,h=e.sourceSpan,p=u.match(O),f=!1;if(null!==p)if(f=!0,n.i(l.c)(p[I]))this._bindingParser.parsePropertyBinding(p[j],c,!1,h,r,i);else if(p[N])if(t){var d=p[j];this._parseVariable(d,c,h,s)}else this._reportError('"let-" is only supported on template elements.',h);else if(p[D]){var d=p[j];this._parseReference(d,c,h,a)}else p[L]?this._bindingParser.parseEvent(p[j],c,h,r,o):p[V]?(this._bindingParser.parsePropertyBinding(p[j],c,!1,h,r,i),this._parseAssignmentEvent(p[j],c,h,r,o)):p[F]?this._bindingParser.parseLiteralAttr(u,c,h,r,i):p[B]?(this._bindingParser.parsePropertyBinding(p[B],c,!1,h,r,i),this._parseAssignmentEvent(p[B],c,h,r,o)):p[U]?this._bindingParser.parsePropertyBinding(p[U],c,!1,h,r,i):p[z]&&this._bindingParser.parseEvent(p[z],c,h,r,o);else f=this._bindingParser.parsePropertyInterpolation(u,c,h,r,i);return f||this._bindingParser.parseLiteralAttr(u,c,h,r,i),f},t.prototype._normalizeAttributeName=function(t){return/^data-/i.test(t)?t.substring(5):t},t.prototype._parseVariable=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new M.d(t,e,n))},t.prototype._parseReference=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),r.push(new tt(t,e,n))},t.prototype._parseAssignmentEvent=function(t,e,n,r,i){this._bindingParser.parseEvent(t+"Change",e+"=$event",n,r,i)},t.prototype._parseDirectives=function(t,e){var n=this,r=new Array(this.directivesIndex.size),i=!1;return t.match(e,function(t,e){r[n.directivesIndex.get(e)]=e,i=i||t.hasElementSelector()}),{directives:r.filter(function(t){return!!t}),matchElement:i}},t.prototype._createDirectiveAsts=function(t,e,r,i,o,a,s){var c=this,l=new Set,h=null,f=r.map(function(t){var r=new b.c(a.start,a.end,"Directive "+n.i(u.a)(t.type));t.isComponent&&(h=t);var f=[],d=c._bindingParser.createDirectiveHostPropertyAsts(t,r);c._checkPropertiesInSchema(e,d);var m=c._bindingParser.createDirectiveHostEventAsts(t,r);return c._createDirectivePropertyAsts(t.inputs,i,f),o.forEach(function(e){(0===e.value.length&&t.isComponent||t.exportAs==e.value)&&(s.push(new M.n(e.name,n.i(p.c)(t.type),e.sourceSpan)),l.add(e.name))}),new M.o(t,f,d,m,r)});return o.forEach(function(e){if(e.value.length>0)l.has(e.name)||c._reportError('There is no directive with "exportAs" set to "'+e.value+'"',e.sourceSpan);else if(!h){var r=null;t&&(r=n.i(p.f)(p.b.TemplateRef)),s.push(new M.n(e.name,r,e.sourceSpan))}}),f},t.prototype._createDirectivePropertyAsts=function(t,e,n){if(t){var r=new Map;e.forEach(function(t){var e=r.get(t.name);e&&!e.isLiteral||r.set(t.name,t)}),Object.keys(t).forEach(function(e){var i=t[e],o=r.get(i);o&&n.push(new M.p(e,o.name,o.expression,o.sourceSpan))})}},t.prototype._createElementPropertyAsts=function(t,e,n){var r=this,i=[],o=new Map;return n.forEach(function(t){t.inputs.forEach(function(t){o.set(t.templateName,t)})}),e.forEach(function(e){e.isLiteral||o.get(e.name)||i.push(r._bindingParser.createElementPropertyAst(t,e))}),this._checkPropertiesInSchema(t,i),i},t.prototype._findComponentDirectives=function(t){return t.filter(function(t){return t.directive.isComponent})},t.prototype._findComponentDirectiveNames=function(t){return this._findComponentDirectives(t).map(function(t){return n.i(u.a)(t.directive.type)})},t.prototype._assertOnlyOneComponent=function(t,e){var n=this._findComponentDirectiveNames(t);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\nConflicting components: "+n.join(","),e)},t.prototype._assertElementExists=function(t,e){var n=e.name.replace(/^:xhtml:/,"");if(!t&&!this._schemaRegistry.hasElement(n,this._schemas)){var r="'"+n+"' is not a known element:\n"+("1. If '"+n+"' is an Angular component, then verify that it is part of this module.\n")+("2. If '"+n+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schemas' of this component to suppress this message.");this._reportError(r,e.sourceSpan)}},t.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(t,e,n){var r=this,i=this._findComponentDirectiveNames(t);i.length>0&&this._reportError("Components on an embedded template: "+i.join(","),n),e.forEach(function(t){r._reportError("Property binding "+t.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".',n)})},t.prototype._assertAllEventsPublishedByDirectives=function(t,e){var r=this,i=new Set;t.forEach(function(t){Object.keys(t.directive.outputs).forEach(function(e){var n=t.directive.outputs[e];i.add(n)})}),e.forEach(function(t){!n.i(l.c)(t.target)&&i.has(t.name)||r._reportError("Event binding "+t.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".',t.sourceSpan)})},t.prototype._checkPropertiesInSchema=function(t,e){var n=this;e.forEach(function(e){if(e.type===M.f.Property&&!n._schemaRegistry.hasProperty(t,e.name,n._schemas)){var r="Can't bind to '"+e.name+"' since it isn't a known property of '"+t+"'.";t.indexOf("-")>-1&&(r+="\n1. If '"+t+"' is an Angular component and it has '"+e.name+"' input, then verify that it is part of this module."+("\n2. If '"+t+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schemas' of this component to suppress this message.\n")),n._reportError(r,e.sourceSpan)}})},t.prototype._reportError=function(t,e,n){void 0===n&&(n=b.e.FATAL),this._targetErrors.push(new b.a(e,t,n))},t}(),J=function(){function t(){}return t.prototype.visitElement=function(t,e){var r=n.i(A.a)(t);if(r.type===A.b.SCRIPT||r.type===A.b.STYLE||r.type===A.b.STYLESHEET)return null;var o=t.attrs.map(function(t){return[t.name,t.value]}),a=i(t.name,o),s=e.findNgContentIndex(a),u=d.g(this,t.children,nt);return new M.m(t.name,d.g(this,t.attrs),[],[],[],[],[],!1,u,s,t.sourceSpan,t.endSourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return new M.j(t.name,t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(X);return new M.i(t.value,n,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){return t},t.prototype.visitExpansionCase=function(t,e){return t},t}(),tt=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t}(),et=function(){function t(t,e,n,r){this.isTemplateElement=t,this._ngContentIndexMatcher=e,this._wildcardNgContentIndex=n,this.providerContext=r}return t.create=function(e,n,r){var i=new C.b,o=null,a=n.find(function(t){return t.directive.isComponent});if(a)for(var s=a.directive.template.ngContentSelectors,u=0;u<s.length;u++){var c=s[u];"*"===c?o=u:i.addSelectables(C.a.parse(s[u]),u)}return new t(e,i,o,r)},t.prototype.findNgContentIndex=function(t){var e=[];return this._ngContentIndexMatcher.match(t,function(t,n){e.push(n)}),e.sort(),n.i(l.c)(this._wildcardNgContentIndex)&&e.push(this._wildcardNgContentIndex),e.length>0?e[0]:null},t}(),nt=new et(!0,new C.b,null,null),rt=new J},function(t,e,n){"use strict";var r=n(62),i=n(17),o=n(65),a=n(329),s=n(331),u=n(534),c=n(535),l=n(220);n.d(e,"b",function(){return l.b}),n.d(e,"c",function(){return l.c}),n.d(e,"a",function(){return l.a}),n.d(e,"d",function(){return d});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n){this.statements=t,this.viewClassVar=e,this.dependencies=n}return t}(),d=function(){function t(t,e){this._genConfig=t,this._schemaRegistry=e}return t.prototype.compileComponent=function(t,e,r,i,o){var l=[],h=new s.a(t,this._genConfig,i,r,o,0,a.a.createNull(),[],l),p=[];return n.i(c.a)(h,e,l),n.i(u.a)(h,e,this._schemaRegistry),n.i(c.b)(h,p),new f(p,h.classExpr.name,l)},t=h([n.i(i.a)(),p("design:paramtypes",[r.a,o.a])],t)}()},function(t,e,n){"use strict";var r=n(7);n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=new Object,o=i,a=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=i),e===i)throw new Error("No provider for "+n.i(r.c)(t)+"!");return e},t}(),s=function(){function t(){}return t.prototype.get=function(t,e){},t.THROW_IF_NOT_FOUND=i,t.NULL=new a,t}()},function(t,e,n){"use strict";function r(t){return!!n.i(a.e)(t)&&(Array.isArray(t)||!(t instanceof Map)&&n.i(a.f)()in t)}function i(t,e,r){for(var i=t[n.i(a.f)()](),o=e[n.i(a.f)()]();;){var s=i.next(),u=o.next();if(s.done&&u.done)return!0;if(s.done||u.done)return!1;if(!r(s.value,u.value))return!1}}function o(t,e){if(Array.isArray(t))for(var r=0;r<t.length;r++)e(t[r]);else for(var i=t[n.i(a.f)()](),o=void 0;!(o=i.next()).done;)e(o.value)}var a=n(7);n.d(e,"a",function(){return s}),n.d(e,"e",function(){return u}),e.b=r,e.c=i,e.d=o;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=function(){function t(){}return t.merge=function(t,e){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=t[o]}for(var a=0,s=Object.keys(e);a<s.length;a++){var o=s[a];n[o]=e[o]}return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!==e[o])return!1}return!0},t}(),u=function(){function t(){}return t.findLast=function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);r>-1&&t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.flatten=function(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t.flatten(n):n;return e.concat(r)},[])},t}()},function(t,e,n){"use strict";function r(){throw new Error("Runtime compiler is not loaded")}var i=n(36),o=n(164),a=n(7);n.d(e,"a",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"d",function(){return h}),n.d(e,"c",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=function(t){function e(e){t.call(this,"Can't compile synchronously as "+n.i(a.c)(e)+" is still being loaded!"),this.compType=e}return s(e,t),e}(o.a),c=function(){function t(t,e){this.ngModuleFactory=t,this.componentFactories=e}return t}(),l=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw r()},t.prototype.compileModuleAsync=function(t){throw r()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw r()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw r()},t.prototype.getNgContentSelectors=function(t){throw r()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.decorators=[{type:i.a}],t.ctorParameters=function(){return[]},t}(),h=new i.b("compilerOptions"),p=function(){function t(){}return t.prototype.createCompiler=function(t){},t}()},function(t,e,n){"use strict";var r=n(52),i=n(66);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return n.i(i.c)(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return n.i(i.a)(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return n.i(i.b)(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(r.a)},function(t,e,n){"use strict";var r=n(0),i=n(92),o=n(177),a=n(46),s=n(52),u=n(66);n.d(e,"a",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l={provide:s.a,useExisting:n.i(r.forwardRef)(function(){return p})},h=Promise.resolve(null),p=function(t){function e(e,r){t.call(this),this._submitted=!1,this.ngSubmit=new i.a,this.form=new o.a({},n.i(u.a)(e),n.i(u.b)(r))}return c(e,t),Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;h.then(function(){var r=e._findContainer(t.path);t._control=r.registerControl(t.name,t.control),n.i(u.f)(t.control,t),t.control.updateValueAndValidity({emitEvent:!1})})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;h.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.addFormGroup=function(t){var e=this;h.then(function(){var r=e._findContainer(t.path),i=new o.a({});n.i(u.g)(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;h.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;h.then(function(){var r=n.form.get(t.path);r.setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e.decorators=[{type:r.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[l],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],e.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.c]}]}]},e}(s.a)},function(t,e,n){"use strict";var r=n(0),i=n(37),o=n(77);n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a={provide:i.a,useExisting:n.i(r.forwardRef)(function(){return u}),multi:!0},s=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[]},t}(),u=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(o.a),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t.decorators=[{type:r.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[a]}]}],t.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef},{type:s},{type:r.Injector}]},t.propDecorators={name:[{type:r.Input}],formControlName:[{type:r.Input}],value:[{type:r.Input}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(92),o=n(365),a=n(46),s=n(52),u=n(174),c=n(66);n.d(e,"a",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},h={provide:s.a,useExisting:n.i(r.forwardRef)(function(){return p})},p=function(t){function e(e,n){t.call(this),this._validators=e,this._asyncValidators=n,this._submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new i.a}return l(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return n.i(c.f)(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){o.b.remove(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);n.i(c.g)(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);n.i(c.g)(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this.form.get(t.path);n.setValue(e)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var r=t.form.get(e.path);e._control!==r&&(n.i(c.h)(e._control,e),r&&n.i(c.f)(r,e),e._control=r)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=n.i(c.a)(this._validators);this.form.validator=a.a.compose([this.form.validator,t]);var e=n.i(c.b)(this._asyncValidators);this.form.asyncValidator=a.a.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||u.a.missingFormException()},e.decorators=[{type:r.Directive,args:[{selector:"[formGroup]",providers:[h],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],e.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.c]}]}]},e.propDecorators={form:[{type:r.Input,args:["formGroup"]}],ngSubmit:[{type:r.Output}]},e}(s.a)},function(t,e,n){"use strict";function r(t){return!(t instanceof f||t instanceof l.a||t instanceof m)}var i=n(0),o=n(46),a=n(118),s=n(52),u=n(174),c=n(66),l=n(121);n.d(e,"a",function(){return f}),n.d(e,"b",function(){return m});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},p={provide:s.a,useExisting:n.i(i.forwardRef)(function(){return f})},f=function(t){function e(e,n,r){t.call(this),this._parent=e,this._validators=n,this._asyncValidators=r}return h(e,t),e.prototype._checkParentType=function(){r(this._parent)&&u.a.groupParentException()},e.decorators=[{type:i.Directive,args:[{selector:"[formGroupName]",providers:[p]}]}],e.ctorParameters=function(){return[{type:s.a,decorators:[{type:i.Optional},{type:i.Host},{type:i.SkipSelf}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[o.b]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[o.c]}]}]},e.propDecorators={name:[{type:i.Input,args:["formGroupName"]}]},e}(a.a),d={provide:s.a,useExisting:n.i(i.forwardRef)(function(){return m})},m=function(t){function e(e,n,r){t.call(this),this._parent=e,this._validators=n,this._asyncValidators=r}return h(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return n.i(c.c)(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return n.i(c.a)(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return n.i(c.b)(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){r(this._parent)&&u.a.arrayParentException()},e.decorators=[{type:i.Directive,args:[{selector:"[formArrayName]",providers:[d]}]}],e.ctorParameters=function(){return[{type:s.a,decorators:[{type:i.Optional},{type:i.Host},{type:i.SkipSelf}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[o.b]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[o.c]}]}]},e.propDecorators={name:[{type:i.Input,args:["formArrayName"]}]},e}(s.a)},function(t,e,n){"use strict";var r=n(567);n.d(e,"b",function(){return r.a}),n.d(e,"a",function(){return r.b}),n.d(e,"c",function(){return r.c})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(e){var n=this;if(this._headers=new Map,this._normalizedNames=new Map,e)return e instanceof t?void e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):void Object.keys(e).forEach(function(t){var r=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),r.forEach(function(e){return n.append(t,e)})})}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=t.slice(e+1).trim();n.set(r,i)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,r){return t(n,e._normalizedNames.get(r),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,r){var i=[];n.forEach(function(t){return i.push.apply(i,t.split(","))}),e[t._normalizedNames.get(r)]=i}),e},t.prototype.getAll=function(t){return this.has(t)?this._headers.get(t.toLowerCase()):null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(){}return t.prototype.createConnection=function(t){},t}(),i=(function(){function t(){}return t}(),function(){function t(){}return t.prototype.configureRequest=function(t){},t}())},function(t,e,n){"use strict";function r(t){throw t}function i(t){n.i(A.h)(t.value),t.children.forEach(i)}function o(t){for(var e=t.parent;e;){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null;e=e.parent}return null}function a(t){if(!t)return null;for(var e=t.parent;e;){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;e=e.parent}return null}function s(t){return t?t.children.reduce(function(t,e){return t[e.value.outlet]=e,t},{}):{}}function u(t,e){var n=t._outlets[e.outlet];if(!n){var r=e.component.name;throw e.outlet===P.a?new Error("Cannot find primary outlet to load '"+r+"'"):new Error("Cannot find the outlet "+e.outlet+" to load '"+r+"'")}return n}function c(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}var l=n(0),h=n(137),p=(n.n(h),n(11)),f=(n.n(p),n(196)),d=(n.n(f),n(85)),m=(n.n(d),n(292)),y=(n.n(m),n(293)),v=(n.n(y),n(295)),g=(n.n(v),n(86)),b=(n.n(g),n(103)),_=(n.n(b),n(198)),x=(n.n(_),n(589)),w=n(590),C=n(591),S=n(592),E=n(597),T=n(127),M=n(182),A=n(96),P=n(48),k=n(256),R=n(79),O=n(53);n.d(e,"d",function(){return I}),n.d(e,"b",function(){return N}),n.d(e,"a",function(){return D}),n.d(e,"c",function(){return L}),n.d(e,"f",function(){return V}),n.d(e,"e",function(){return j});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var I=function(){function t(t,e){this.id=t,this.url=e}return t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(),N=function(){function t(t,e,n){this.id=t,this.url=e,this.urlAfterRedirects=n}return t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(),D=function(){function t(t,e,n){this.id=t,this.url=e,this.reason=n}return t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(),L=function(){function t(t,e,n){this.id=t,this.url=e,this.error=n}return t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(),V=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),F=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),j=function(){function t(t,e,i,o,a,s,u,c){this.rootComponentType=t,this.urlSerializer=e,this.outletMap=i,this.location=o,this.injector=a,this.config=c,this.navigations=new h.BehaviorSubject(null),this.routerEvents=new p.Subject,this.navigationId=0,this.errorHandler=r,this.navigated=!1,this.urlHandlingStrategy=new k.b,this.routeReuseStrategy=new F,this.resetConfig(c),this.currentUrlTree=n.i(R.g)(),this.rawUrlTree=this.currentUrlTree,this.configLoader=new T.b(s,u),this.currentRouterState=n.i(A.e)(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.currentRouterState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),t.prototype.resetConfig=function(t){n.i(w.a)(t),this.config=t},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){var r=void 0===e?{}:e,i=r.relativeTo,o=r.queryParams,a=r.fragment,s=r.preserveQueryParams,u=r.preserveFragment,c=i||this.routerState.root,l=s?this.currentUrlTree.queryParams:o,h=u?this.currentUrlTree.fragment:a;return n.i(S.a)(c,this.currentUrlTree,t,l,h)},t.prototype.navigateByUrl=function(t,e){if(void 0===e&&(e={skipLocationChange:!1}),t instanceof R.e)return this.scheduleNavigation(this.urlHandlingStrategy.merge(t,this.rawUrlTree),"imperative",e);var n=this.urlSerializer.parse(t);return this.scheduleNavigation(this.urlHandlingStrategy.merge(n,this.rawUrlTree),"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),c(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof R.e)return n.i(R.h)(this.currentUrlTree,t,e);var r=this.urlSerializer.parse(t);return n.i(R.h)(this.currentUrlTree,r,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;m.concatMap.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):n.i(d.of)(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return null;if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return null;var i=null,o=null,a=new Promise(function(t,e){i=t,o=e}),s=++this.navigationId;return this.navigations.next({id:s,source:e,rawUrl:t,extras:n,resolve:i,reject:o,promise:a}),a.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,r=t.id,i=t.rawUrl,o=t.extras,a=t.resolve,s=t.reject,u=this.urlHandlingStrategy.extract(i),c=!this.navigated||u.toString()!==this.currentUrlTree.toString();c&&this.urlHandlingStrategy.shouldProcessUrl(i)?(this.routerEvents.next(new I(r,this.serializeUrl(u))),Promise.resolve().then(function(t){return e.runNavigate(u,i,o.skipLocationChange,o.replaceUrl,r,null)}).then(a,s)):c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.routerEvents.next(new I(r,this.serializeUrl(u))),Promise.resolve().then(function(t){return e.runNavigate(u,i,!1,!1,r,n.i(A.e)(u,e.rootComponentType).snapshot)}).then(a,s)):(this.rawUrlTree=i,a(null))},t.prototype.runNavigate=function(t,e,r,i,o,a){var s=this;return o!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new D(o,this.serializeUrl(t),"Navigation ID "+o+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(u,c){var l;if(a)l=n.i(d.of)({appliedUrl:t,snapshot:a});else{var h=n.i(x.a)(s.injector,s.configLoader,s.urlSerializer,t,s.config);l=b.mergeMap.call(h,function(e){return g.map.call(n.i(E.a)(s.rootComponentType,s.config,e,s.serializeUrl(e)),function(n){return s.routerEvents.next(new V(o,s.serializeUrl(t),s.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var p,f,m=g.map.call(l,function(t){var e=t.appliedUrl,n=t.snapshot;return p=new z(n,s.currentRouterState.snapshot,s.injector),p.traverse(s.outletMap),{appliedUrl:e,snapshot:n}}),y=b.mergeMap.call(m,function(t){var e=t.appliedUrl,r=t.snapshot;return s.navigationId!==o?n.i(d.of)(!1):g.map.call(p.checkGuards(),function(t){return{appliedUrl:e,snapshot:r,shouldActivate:t}})}),v=b.mergeMap.call(y,function(t){return s.navigationId!==o?n.i(d.of)(!1):t.shouldActivate?g.map.call(p.resolveData(),function(){return t}):n.i(d.of)(t)}),_=g.map.call(v,function(t){var e=t.appliedUrl,r=t.snapshot,i=t.shouldActivate;if(i){var o=n.i(C.a)(s.routeReuseStrategy,r,s.currentRouterState);return{appliedUrl:e,state:o,shouldActivate:i}}return{appliedUrl:e,state:null,shouldActivate:i}}),w=s.currentRouterState,S=s.currentUrlTree;_.forEach(function(t){var n=t.appliedUrl,a=t.state,u=t.shouldActivate;if(!u||o!==s.navigationId)return void(f=!1);if(s.currentUrlTree=n,s.rawUrlTree=s.urlHandlingStrategy.merge(s.currentUrlTree,e),s.currentRouterState=a,!r){var c=s.urlSerializer.serialize(s.rawUrlTree);s.location.isCurrentPathEqualTo(c)||i?s.location.replaceState(c):s.location.go(c)}new H(s.routeReuseStrategy,a,w).activate(s.outletMap),f=!0}).then(function(){f?(s.navigated=!0,s.routerEvents.next(new N(o,s.serializeUrl(t),s.serializeUrl(s.currentUrlTree))),u(!0)):(s.resetUrlToCurrentUrlTree(),s.routerEvents.next(new D(o,s.serializeUrl(t),"")),u(!1))},function(n){if(n instanceof P.b)s.resetUrlToCurrentUrlTree(),s.navigated=!0,s.routerEvents.next(new D(o,s.serializeUrl(t),n.message)),u(!1);else{s.routerEvents.next(new L(o,s.serializeUrl(t),n));try{u(s.errorHandler(n))}catch(t){c(t)}}s.currentRouterState=w,s.currentUrlTree=S,s.rawUrlTree=s.urlHandlingStrategy.merge(s.currentUrlTree,e),s.location.replaceState(s.serializeUrl(s.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),B=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),U=function(){function t(t,e){this.component=t,this.route=e}return t}(),z=function(){function t(t,e,n){this.future=t,this.curr=e,this.injector=n,this.checks=[]}return t.prototype.traverse=function(t){var e=this.future._root,n=this.curr?this.curr._root:null;this.traverseChildRoutes(e,n,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(0===this.checks.length)return n.i(d.of)(!0);var e=n.i(f.from)(this.checks),r=b.mergeMap.call(e,function(e){if(e instanceof B)return n.i(O.g)(n.i(f.from)([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]));if(e instanceof U){var r=e;return t.runCanDeactivate(r.component,r.route)}throw new Error("Cannot be reached")});return y.every.call(r,function(t){return t===!0})},t.prototype.resolveData=function(){var t=this;if(0===this.checks.length)return n.i(d.of)(null);var e=n.i(f.from)(this.checks),r=m.concatMap.call(e,function(e){return e instanceof B?t.runResolve(e.route):n.i(d.of)(null)});return _.reduce.call(r,function(t,e){return t})},t.prototype.traverseChildRoutes=function(t,e,r,i){var o=this,a=s(e);t.children.forEach(function(t){o.traverseRoutes(t,a[t.value.outlet],r,i.concat([t.value])),delete a[t.value.outlet]}),n.i(O.d)(a,function(t,e){return o.deactiveRouteAndItsChildren(t,r._outlets[e])})},t.prototype.traverseRoutes=function(t,e,r,i){var o=t.value,a=e?e.value:null,s=r?r._outlets[t.value.outlet]:null;a&&o._routeConfig===a._routeConfig?(n.i(A.f)(o,a)?(o.data=a.data,o._resolvedData=a._resolvedData):this.checks.push(new U(s.component,a),new B(i)),o.component?this.traverseChildRoutes(t,e,s?s.outletMap:null,i):this.traverseChildRoutes(t,e,r,i)):(a&&this.deactiveRouteAndItsChildren(e,s),this.checks.push(new B(i)),o.component?this.traverseChildRoutes(t,null,s?s.outletMap:null,i):this.traverseChildRoutes(t,null,r,i))},t.prototype.deactiveRouteAndItsChildren=function(t,e){var r=this,i=s(t),o=t.value;n.i(O.d)(i,function(t,n){o.component?e?r.deactiveRouteAndItsChildren(t,e.outletMap._outlets[n]):r.deactiveRouteAndItsChildren(t,null):r.deactiveRouteAndItsChildren(t,e)}),o.component&&e&&e.isActivated?this.checks.push(new U(e.component,o)):this.checks.push(new U(null,o))},t.prototype.runCanActivate=function(t){var e=this,r=t._routeConfig?t._routeConfig.canActivate:null;if(!r||0===r.length)return n.i(d.of)(!0);var i=g.map.call(n.i(f.from)(r),function(r){var i,o=e.getToken(r,t);return i=o.canActivate?n.i(O.b)(o.canActivate(t,e.future)):n.i(O.b)(o(t,e.future)),v.first.call(i)});return n.i(O.g)(i)},t.prototype.runCanActivateChild=function(t){var e=this,r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return n.i(O.g)(g.map.call(n.i(f.from)(i),function(t){var i=g.map.call(n.i(f.from)(t.guards),function(i){var o,a=e.getToken(i,t.node);return o=a.canActivateChild?n.i(O.b)(a.canActivateChild(r,e.future)):n.i(O.b)(a(r,e.future)),v.first.call(o)});return n.i(O.g)(i)}))},t.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var r=this,i=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!i||0===i.length)return n.i(d.of)(!0);var o=b.mergeMap.call(n.i(f.from)(i),function(i){var o,a=r.getToken(i,e);return o=a.canDeactivate?n.i(O.b)(a.canDeactivate(t,e,r.curr)):n.i(O.b)(a(t,e,r.curr)),v.first.call(o)});return y.every.call(o,function(t){return t===!0})},t.prototype.runResolve=function(t){var e=t._resolve;return g.map.call(this.resolveNode(e,t),function(e){return t._resolvedData=e,t.data=n.i(O.e)(t.data,n.i(A.g)(t).resolve),null})},t.prototype.resolveNode=function(t,e){var r=this;return n.i(O.h)(t,function(t,i){var o=r.getToken(i,e);return o.resolve?n.i(O.b)(o.resolve(e,r.future)):n.i(O.b)(o(e,r.future))})},t.prototype.getToken=function(t,e){var n=a(e),r=n?n.injector:this.injector;return r.get(t)},t}(),H=function(){function t(t,e,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=n}return t.prototype.activate=function(t){var e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),n.i(A.h)(this.futureState.root),this.activateChildRoutes(e,r,t)},t.prototype.deactivateChildRoutes=function(t,e,r){var i=this,o=s(e);t.children.forEach(function(t){i.deactivateRoutes(t,o[t.value.outlet],r),delete o[t.value.outlet]}),n.i(O.d)(o,function(t,e){return i.deactiveRouteAndItsChildren(t,r)})},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=s(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=u(n,r);this.deactivateChildRoutes(t,e,o.outletMap)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactiveRouteAndItsChildren(e,n)},t.prototype.activateRoutes=function(t,e,r){var o=t.value,a=e?e.value:null;if(o===a)if(n.i(A.h)(o),o.component){var s=u(r,o);this.activateChildRoutes(t,e,s.outletMap)}else this.activateChildRoutes(t,e,r);else if(o.component){n.i(A.h)(o);var s=u(r,t.value);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){var c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.attach(c.componentRef,c.route.value),i(c.route)}else{var l=new M.a;this.placeComponentIntoOutlet(l,o,s),this.activateChildRoutes(t,null,l)}}else n.i(A.h)(o),this.activateChildRoutes(t,null,r)},t.prototype.placeComponentIntoOutlet=function(t,e,n){var r=[{provide:A.a,useValue:e},{provide:M.a,useValue:t}],i=o(e.snapshot),a=null,s=null;i?(s=i.injectorFactory(n.locationInjector),a=i.factoryResolver,r.push({provide:l.ComponentFactoryResolver,useValue:a})):(s=n.locationInjector,a=n.locationFactoryResolver),n.activate(e,a,s,l.ReflectiveInjector.resolve(r),t)},t.prototype.deactiveRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactiveRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=u(e,t.value),r=n.detach();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t})},t.prototype.deactiveRouteAndOutlet=function(t,e){var r=this,i=s(t),o=null;try{o=u(e,t.value)}catch(t){return}var a=o.outletMap;n.i(O.d)(i,function(n,i){t.value.component?r.deactiveRouteAndItsChildren(n,a):r.deactiveRouteAndItsChildren(n,e)}),o&&o.isActivated&&o.deactivate()},t}()},function(t,e,n){"use strict";var r=n(0),i=n(197),o=(n.n(i),n(85)),a=(n.n(o),n(86)),s=(n.n(a),n(103)),u=(n.n(s),n(53));n.d(e,"a",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return h});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=new r.OpaqueToken("ROUTES"),l=function(){function t(t,e,n,r){this.routes=t,this.injector=e,this.factoryResolver=n,this.injectorFactory=r}return t}(),h=function(){function t(t,e){this.loader=t,this.compiler=e}return t.prototype.load=function(t,e){return a.map.call(this.loadModuleFactory(e),function(e){var r=e.create(t),i=function(t){return e.create(t).injector};return new l(n.i(u.a)(r.injector.get(c)),r.injector,r.componentFactoryResolver,i)})},t.prototype.loadModuleFactory=function(t){var e=this;if("string"==typeof t)return n.i(i.fromPromise)(this.loader.load(t));var a=this.compiler instanceof r.Compiler;return s.mergeMap.call(n.i(u.b)(t()),function(t){return a?n.i(o.of)(t):n.i(i.fromPromise)(e.compiler.compileModuleAsync(t))})},t}()},function(t,e,n){"use strict";var r=(n(26),function(){});r.maxNoEvidences=0,r.prototype.addEvidence=function(t){return this.evidences||(this.evidences=d3.map()),this.evidences.has(t.id)===!1&&(this.evidences.set(t.id,t),this.evidences.values().length>r.maxNoEvidences?(r.maxNoEvidences=this.evidences.values().length,!0):void 0)},r.prototype.highlightMolecules=function(t){for(var e=this.interactors,n=0;n<e.length;n++)e[n].showHighlight(t)},r.prototype.mouseDown=function(t){this.controller.preventDefaultsAndStopPropagation(t),this.controller.force&&this.controller.force.stop(),this.controller.dragElement=this,this.controller.clearSelection();var e=this.controller.getEventPoint(t);return this.controller.dragStart=this.controller.mouseToSVG(e.x,e.y),this.showData(),!1},r.prototype.mouseOver=function(t){return this.controller.preventDefaultsAndStopPropagation(t),this.controller.setTooltip(this.getToolTip()),!1},r.prototype.getToolTip=function(){},r.prototype.mouseOut=function(t){return this.controller.preventDefaultsAndStopPropagation(t),this.showHighlight(!1,!0),this.controller.hideTooltip(),!1},r.prototype.touchStart=function(t){this.controller.preventDefaultsAndStopPropagation(t),void 0!==this.controller.force&&this.controller.force.stop(),this.controller.dragElement=this,this.controller.clearSelection();var e=this.controller.getTouchEventPoint(t);return this.controller.dragStart=this.controller.mouseToSVG(e.x,e.y),this.showData(),!1},r.prototype.showData=function(){document.getElementById("jsonHeading")&&(document.getElementById("jsonHeading").innerHTML=this.id),document.getElementById("json")&&(document.getElementById("json").innerHTML="<pre>"+JSON.stringify(this.filteredEvidence(),null," ")+"</pre>")},r.prototype.filteredEvidence=function(){return this.evidences.values()},r.prototype.hide=function(){for(var t=[],e=[],n=[],r=0;r<this.controller.p_pLinksWide.childNodes.length;r++)t[r]=this.controller.p_pLinksWide.childNodes[r];for(var r=0;r<this.controller.highlights.childNodes.length;r++)e[r]=this.controller.highlights.childNodes[r];for(var r=0;r<this.controller.p_pLinks.childNodes.length;r++)n[r]=this.controller.p_pLinks.childNodes[r];t.indexOf(this.thickLine)>-1&&this.controller.p_pLinksWide.removeChild(this.thickLine),e.indexOf(this.highlightLine)>-1&&this.controller.highlights.removeChild(this.highlightLine),n.indexOf(this.line)>-1&&this.controller.p_pLinks.removeChild(this.line)},t.exports=r},,,,,,,function(t,e,n){"use strict";function r(t,e,n,r,o,a,s,u){if(i(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,s,u],h=0;c=new Error(e.replace(/%s/g,function(){return l[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(t){};t.exports=r},function(t,e,n){"use strict";function r(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}t.exports=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(11),o=n(201),a=function(t){function e(e){t.call(this),this._value=e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=a},function(t,e,n){"use strict";var r=n(1),i=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){var r=this.kind;switch(r){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=i},function(t,e,n){"use strict";var r=n(11);e.Subject=r.Subject,e.AnonymousSubject=r.AnonymousSubject;var i=n(1);e.Observable=i.Observable,n(926),n(927),n(928),n(929),n(930),n(933),n(934),n(935),n(936),n(937),n(938),n(939),n(940),n(941),n(942),n(947),n(943),n(944),n(945),n(946),n(948),n(951),n(949),n(950),n(952),n(931),n(932),n(955),n(956),n(957),n(958),n(959),n(960),n(961),n(962),n(963),n(964),n(965),n(966),n(967),n(973),n(968),n(969),n(970),n(971),n(972),n(974),n(975),n(976),n(977),n(980),n(981),n(982),n(978),n(446),n(983),n(984),n(985),n(986),n(987),n(988),n(989),n(953),n(954),n(990),n(991),n(979),n(992),n(993),n(994),n(995),n(996),n(997),n(998),n(999),n(1e3),n(1001),n(1002),n(1003),n(1004),n(1005),n(1006),n(1007),n(1008),n(1009),n(1011),n(1010),n(1012),n(1013),n(1014),n(1015),n(1016),n(1017),n(1018),n(1019),n(1020),n(1021),n(1022),n(1023),n(1024),n(1025),n(1026),n(1027),n(1028),n(1029),n(1030),n(1031),n(1032),n(1033),n(1034),n(1035),n(1036),n(1037),n(1038),n(1039),n(1040),n(1041),n(1042),n(1043),n(1044),n(1045),n(1046),n(1047),n(1048),n(1049),n(1050),n(1051);var o=n(20);e.Subscription=o.Subscription;var a=n(3);e.Subscriber=a.Subscriber;var s=n(194);e.AsyncSubject=s.AsyncSubject;var u=n(195);e.ReplaySubject=u.ReplaySubject;var c=n(137);e.BehaviorSubject=c.BehaviorSubject;var l=n(447);e.ConnectableObservable=l.ConnectableObservable;var h=n(138);e.Notification=h.Notification;var p=n(144);e.EmptyError=p.EmptyError;var f=n(200);e.ArgumentOutOfRangeError=f.ArgumentOutOfRangeError;var d=n(201);e.ObjectUnsubscribedError=d.ObjectUnsubscribedError;var m=n(466);e.TimeoutError=m.TimeoutError;var y=n(467);e.UnsubscriptionError=y.UnsubscriptionError;var v=n(458);e.TimeInterval=v.TimeInterval;var g=n(459);e.Timestamp=g.Timestamp;var b=n(1177);e.TestScheduler=b.TestScheduler;var _=n(461);e.VirtualTimeScheduler=_.VirtualTimeScheduler;var x=n(450);e.AjaxResponse=x.AjaxResponse,e.AjaxError=x.AjaxError,e.AjaxTimeoutError=x.AjaxTimeoutError;var w=n(462),C=n(28),S=n(463),E=n(1174),T=n(199),M=n(142),A=n(143),P={asap:w.asap,queue:S.queue,animationFrame:E.animationFrame,async:C.async};e.Scheduler=P;var k={rxSubscriber:T.$$rxSubscriber,observable:A.$$observable,iterator:M.$$iterator};e.Symbol=k},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(24),o=n(1167),a=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return r(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),i.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){return void 0===n&&(n=0),null!==n&&this.delay===n?e:i.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);return n?n:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,r!==-1&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null))},e}(o.Action);e.AsyncAction=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(925),o=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var n;this.active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},e}(i.Scheduler);e.AsyncScheduler=o},function(t,e,n){"use strict";function r(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}var i=n(24);e.symbolIteratorPonyfill=r,e.$$iterator=r(i.root)},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var i=n(24);e.getSymbolObservable=r,e.$$observable=r(i.root)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.EmptyError=i},function(t,e,n){"use strict";var r=n(0),i=n(302);n.d(e,"c",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(){function t(t){void 0===t&&(t={}),this.closeButton=!1,this.extendedTimeOut=1e3,this.progressBar=!1,this.timeOut=5e3,this.enableHtml=!1,this.toastClass="toast",this.positionClass="toast-top-right",this.titleClass="toast-title",this.messageClass="toast-message",this.tapToDismiss=!0,this.toastComponent=i.a,this.onActivateTick=!1,this.closeButton=t.closeButton||this.closeButton,0===t.extendedTimeOut?this.extendedTimeOut=t.extendedTimeOut:this.extendedTimeOut=t.extendedTimeOut||this.extendedTimeOut,this.progressBar=t.progressBar||this.progressBar,0===t.timeOut?this.timeOut=t.timeOut:this.timeOut=t.timeOut||this.timeOut,this.enableHtml=t.enableHtml||this.enableHtml,this.toastClass=t.toastClass||this.toastClass,this.positionClass=t.positionClass||this.positionClass,this.titleClass=t.titleClass||this.titleClass,this.messageClass=t.messageClass||this.messageClass,this.tapToDismiss=t.tapToDismiss||this.tapToDismiss,this.toastComponent=t.toastComponent||this.toastComponent,this.onActivateTick=t.onActivateTick||this.onActivateTick}return t}(),s=(function(){function t(){}return t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[]},t}(),function(t){function e(e){void 0===e&&(e={}),t.call(this,e),this.maxOpened=0,this.autoDismiss=!1,this.iconClasses={error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},this.newestOnTop=!0,this.preventDuplicates=!1,this.maxOpened=e.maxOpened||this.maxOpened,this.autoDismiss=e.autoDismiss||this.autoDismiss,e.iconClasses&&(this.iconClasses.error=this.iconClasses.error||e.iconClasses.error,this.iconClasses.info=this.iconClasses.info||e.iconClasses.info,this.iconClasses.success=this.iconClasses.success||e.iconClasses.success,this.iconClasses.warning=this.iconClasses.warning||e.iconClasses.warning),this.newestOnTop=e.newestOnTop||this.newestOnTop,this.preventDuplicates=e.preventDuplicates||this.preventDuplicates}return o(e,t),e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:e}]},e}(a)),u=function(){function t(){}return t}()},function(t,e,n){"use strict";function r(t,e,n){var r="="+t;if(e.indexOf(r)>-1)return r;if(r=n.getPluralCategory(t),e.indexOf(r)>-1)return r;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}function i(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0,u=t.split("-")[0].toLowerCase();switch(u){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?c.One:c.Other;case"agq":case"bas":case"cu":case"dav":case"dje":case"dua":case"dyo":case"ebu":case"ewo":case"guz":case"kam":case"khq":case"ki":case"kln":case"kok":case"ksf":case"lrc":case"lu":case"luo":case"luy":case"mer":case"mfe":case"mgh":case"mua":case"mzn":case"nmg":case"nus":case"qu":case"rn":case"rw":case"sbp":case"twq":case"vai":case"yav":case"yue":case"zgh":case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?c.One:c.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?c.One:c.Other;case"ar":return 0===n?c.Zero:1===n?c.One:2===n?c.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?c.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?c.Many:c.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?c.One:c.Other;case"be":return n%10===1&&n%100!==11?c.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?c.Few:n%10===0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?c.Many:c.Other;case"br":return n%10===1&&n%100!==11&&n%100!==71&&n%100!==91?c.One:n%10===2&&n%100!==12&&n%100!==72&&n%100!==92?c.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10===9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?c.Few:0!==n&&n%1e6===0?c.Many:c.Other;case"bs":case"hr":case"sr":return 0===o&&i%10===1&&i%100!==11||a%10===1&&a%100!==11?c.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?c.Few:c.Other;case"cs":case"sk":return 1===i&&0===o?c.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?c.Few:0!==o?c.Many:c.Other;case"cy":return 0===n?c.Zero:1===n?c.One:2===n?c.Two:3===n?c.Few:6===n?c.Many:c.Other;case"da":return 1===n||0!==s&&(0===i||1===i)?c.One:c.Other;case"dsb":case"hsb":return 0===o&&i%100===1||a%100===1?c.One:0===o&&i%100===2||a%100===2?c.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?c.Few:c.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?c.One:c.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!==4&&i%10!==6&&i%10!==9||0!==o&&a%10!==4&&a%10!==6&&a%10!==9?c.One:c.Other;case"ga":return 1===n?c.One:2===n?c.Two:n===Math.floor(n)&&n>=3&&n<=6?c.Few:n===Math.floor(n)&&n>=7&&n<=10?c.Many:c.Other;case"gd":return 1===n||11===n?c.One:2===n||12===n?c.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?c.Few:c.Other;case"gv":return 0===o&&i%10===1?c.One:0===o&&i%10===2?c.Two:0!==o||i%100!==0&&i%100!==20&&i%100!==40&&i%100!==60&&i%100!==80?0!==o?c.Many:c.Other:c.Few;case"he":return 1===i&&0===o?c.One:2===i&&0===o?c.Two:0!==o||n>=0&&n<=10||n%10!==0?c.Other:c.Many;case"is":return 0===s&&i%10===1&&i%100!==11||0!==s?c.One:c.Other;case"ksh":return 0===n?c.Zero:1===n?c.One:c.Other;case"kw":case"naq":case"se":case"smn":return 1===n?c.One:2===n?c.Two:c.Other;case"lag":return 0===n?c.Zero:0!==i&&1!==i||0===n?c.Other:c.One;case"lt":return n%10!==1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?c.Few:0!==a?c.Many:c.Other:c.One;case"lv":case"prg":return n%10===0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?c.Zero:n%10===1&&n%100!==11||2===o&&a%10===1&&a%100!==11||2!==o&&a%10===1?c.One:c.Other;case"mk":return 0===o&&i%10===1||a%10===1?c.One:c.Other;case"mt":return 1===n?c.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?c.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?c.Many:c.Other;case"pl":return 1===i&&0===o?c.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?c.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?c.Many:c.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?c.One:c.Other;case"ro":return 1===i&&0===o?c.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?c.Few:c.Other;case"ru":case"uk":return 0===o&&i%10===1&&i%100!==11?c.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?c.Few:0===o&&i%10===0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?c.Many:c.Other;case"shi":return 0===i||1===n?c.One:n===Math.floor(n)&&n>=2&&n<=10?c.Few:c.Other;case"si":return 0===n||1===n||0===i&&1===a?c.One:c.Other;case"sl":return 0===o&&i%100===1?c.One:0===o&&i%100===2?c.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?c.Few:c.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?c.One:c.Other;default:return c.Other}}var o=n(0);n.d(e,"b",function(){return s}),e.a=r,n.d(e,"c",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(){function t(){}return t.prototype.getPluralCategory=function(t){},t}(),u=function(t){function e(e){t.call(this),this._locale=e}return a(e,t),e.prototype.getPluralCategory=function(t){var e=i(this._locale,t);switch(e){case c.Zero:return"zero";case c.One:return"one";case c.Two:return"two";case c.Few:return"few";case c.Many:return"many";default:return"other"}},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[o.LOCALE_ID]}]}]},e}(s),c={};c.Zero=0,c.One=1,c.Two=2,c.Few=3,c.Many=4,c.Other=5,c[c.Zero]="Zero",c[c.One]="One",c[c.Two]="Two",c[c.Few]="Few",c[c.Many]="Many",c[c.Other]="Other"},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(){}return t.prototype.path=function(t){},t.prototype.prepareExternalUrl=function(t){},t.prototype.pushState=function(t,e,n,r){},t.prototype.replaceState=function(t,e,n,r){},t.prototype.forward=function(){},t.prototype.back=function(){},t.prototype.onPopState=function(t){},t.prototype.getBaseHref=function(){},t}(),o=new r.OpaqueToken("appBaseHref")},function(t,e,n){"use strict";var r=(n(528),n(45),n(113),n(62),n(13),n(510),n(206),n(208),n(207),n(61),n(209),n(210),n(218),n(322),n(517));n.d(e,"b",function(){return r.a});var i=(n(75),n(217));n.d(e,"a",function(){return i.a});n(108),n(112),n(111),n(44),n(65),n(317),n(107),n(109),n(88),n(110),n(73),n(155),n(63),n(525),n(216),n(35),n(156),n(157),n(158),n(114),n(149),n(29)},function(t,e,n){"use strict";function r(t,e,n){var r=u(t.styles,{},e,n,!1),i=new E.b(r),o=t.stateNameExpr.split(/\s*,\s*/);return o.map(function(t){return new E.c(t,i)})}function i(t,e,n,r){var i=new T.a,o=[],u=t.stateChangeExpr.split(/\s*,\s*/);u.forEach(function(t){o.push.apply(o,a(t,r))});var l=s(t.steps),h=c(l,e,n,r),p=d(h,0,i,e,r);0==r.length&&m(p,i,r);var f=p instanceof E.d?p:new E.e([p]);return new E.f(o,f)}function o(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";default:return e.push(new I('the transition alias value "'+t+'" is not supported')),"* => *"}}function a(t,e){var r=[];":"==t[0]&&(t=o(t,e));var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(!n.i(_.c)(i)||i.length<4)return e.push(new I("the provided "+t+" is not of a supported format")),r;var a=i[1],s=i[2],u=i[3];r.push(new E.g(a,u));var c=a==C.a&&u==C.a;return"<"!=s[0]||c||r.push(new E.g(u,a)),r}function s(t){return Array.isArray(t)?new g.c(t):t}function u(t,e,n,r,i){var o=t.offset;(o>1||o<0)&&r.push(new I("Offset values for animations must be between 0 and 1"));var a=[];return t.styles.forEach(function(t){if("string"==typeof t)i?a.push.apply(a,p(t,e,r)):r.push(new I("State based animations cannot contain references to other states"));else{var o=t,s={};Object.keys(o).forEach(function(t){var e=n.normalizeAnimationStyleProperty(t),i=n.normalizeAnimationStyleValue(e,t,o[t]),a=i.error;a&&r.push(new I(a)),s[e]=i.value}),a.push(s)}}),a}function c(t,e,n,r){var i=h(t,e,n,r);return t instanceof g.d?new g.d(i):new g.c(i)}function l(t,e){if("object"==typeof e&&null!==e&&t.length>0){var n=t.length-1,r=t[n];if("object"==typeof r&&null!==r)return void(t[n]=b.a.merge(r,e))}t.push(e)}function h(t,e,r,i){var o;if(!(t instanceof g.e))return[t];o=t.steps;var a,s=[];return o.forEach(function(t){if(t instanceof g.f)n.i(_.c)(a)||(a=[]),u(t,e,r,i,!0).forEach(function(t){l(a,t)});else{if(n.i(_.c)(a)&&(s.push(new g.f(0,a)),a=null),t instanceof g.g){var o=t.styles;o instanceof g.f?o.styles=u(o,e,r,i,!0):o instanceof g.h&&o.steps.forEach(function(t){t.styles=u(t,e,r,i,!0)})}else if(t instanceof g.e){var c=h(t,e,r,i);t=t instanceof g.d?new g.d(c):new g.c(c)}s.push(t)}}),n.i(_.c)(a)&&s.push(new g.f(0,a)),s}function p(t,e,r){var i=[];if(":"!=t[0])r.push(new I('Animation states via styles must be prefixed with a ":"'));else{var o=t.substring(1),a=e[o];n.i(_.c)(a)?a.styles.forEach(function(t){"object"==typeof t&&null!==t&&i.push(t)}):r.push(new I('Unable to apply styles due to missing a state: "'+o+'"'))}return i}function f(t,e,r,i,o){var a=t.steps.length,s=0;t.steps.forEach(function(t){return s+=n.i(_.c)(t.offset)?1:0}),s>0&&s<a&&(o.push(new I("Not all style() entries contain an offset for the provided keyframe()")),s=a);var u=a-1,c=0==s?1/u:0,l=[],h=0,p=!1,f=0;t.steps.forEach(function(t){var e=t.offset,r={};t.styles.forEach(function(t){Object.keys(t).forEach(function(e){"offset"!=e&&(r[e]=t[e])})}),n.i(_.c)(e)?p=p||e<f:e=h==u?R:c*h,l.push([e,r]),f=e,h++}),p&&l.sort(function(t,e){return t[0]<=e[0]?-1:1});var d=l[0];d[0]!=k&&l.splice(0,0,d=[k,{}]);var m=d[1];u=l.length-1;var y=l[u];y[0]!=R&&(l.push(y=[R,{}]),u++);for(var v=y[1],g=1;g<=u;g++){var b=l[g],x=b[1];Object.keys(x).forEach(function(t){n.i(_.c)(m[t])||(m[t]=C.b)})}for(var w=function(t){var e=l[t],r=e[1];Object.keys(r).forEach(function(t){n.i(_.c)(v[t])||(v[t]=r[t])})},g=u-1;g>=0;g--)w(g);return l.map(function(t){return new E.h(t[0],new E.b([t[1]]))})}function d(t,e,r,i,o){var a,s=0,u=e;if(t instanceof g.e){var c,l=0,h=[],p=t instanceof g.d;if(t.steps.forEach(function(t){var a=p?u:e;if(t instanceof g.f)return t.styles.forEach(function(t){var e=t;Object.keys(e).forEach(function(t){r.insertAtTime(t,a,e[t])})}),void(c=t.styles);var f=d(t,a,r,i,o);if(n.i(_.c)(c)){if(t instanceof g.e){var m=new E.b(c);h.push(new E.i(m,[],0,0,""))}else{var y=f;(b=y.startingStyles.styles).push.apply(b,c)}c=null}var v=f.playTime;e+=v,s+=v,l=Math.max(v,l),h.push(f);var b}),n.i(_.c)(c)){var m=new E.b(c);h.push(new E.i(m,[],0,0,""))}p?(a=new E.j(h),s=l,e=u+s):a=new E.e(h)}else if(t instanceof g.g){var v=y(t.timings,o),b=t.styles,x=void 0;if(b instanceof g.h)x=f(b,e,r,i,o);else{var w=b,C=R,S=new E.b(w.styles),T=new E.h(C,S);x=[T]}a=new E.i(new E.b([]),x,v.duration,v.delay,v.easing),s=v.duration+v.delay,e+=s,x.forEach(function(t){return t.styles.styles.forEach(function(t){return Object.keys(t).forEach(function(n){r.insertAtTime(n,e,t[n])})})})}else a=new E.i(null,[],0,0,"");return a.playTime=s,a.startTime=u,a}function m(t,e,n){if(t instanceof E.i&&t.keyframes.length>0){var r=t.keyframes;if(1==r.length){var i=r[0],o=v(i,t.startTime,t.playTime,e,n);t.keyframes=[o,i]}}else t instanceof E.d&&t.steps.forEach(function(t){return m(t,e,n)})}function y(t,e){var r,i=/^([\.\d]+)(m?s)(?:\s+([\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?/i,o=0,a=null;if("string"==typeof t){var s=t.match(i);if(null===s)return e.push(new I('The provided timing value "'+t+'" is invalid.')),new L(0,0,null);var u=parseFloat(s[1]),c=s[2];"s"==c&&(u*=O),r=Math.floor(u);var l=s[3],h=s[4];if(n.i(_.c)(l)){var p=parseFloat(l);n.i(_.c)(h)&&"s"==h&&(p*=O),o=Math.floor(p)}var f=s[5];n.i(_.d)(f)||(a=f)}else r=t;return new L(r,o,a)}function v(t,e,r,i,o){var a={},s=e+r;return t.styles.styles.forEach(function(t){Object.keys(t).forEach(function(r){var u=t[r];if("offset"!=r){var c,l,h,p=i.indexOfAtOrBeforeTime(r,e);n.i(_.c)(p)?(c=i.getByIndex(r,p),h=c.value,l=i.getByIndex(r,p+1)):h=C.b,n.i(_.c)(l)&&!l.matches(s,u)&&o.push(new I('The animated CSS property "'+r+'" unexpectedly changes between steps "'+c.time+'ms" and "'+s+'ms" at "'+l.time+'ms"')),a[r]=h}})}),new E.h(k,new E.b([a]))}var g=n(13),b=n(72),_=n(6),x=n(17),w=n(35),C=n(14),S=n(65),E=n(309),T=n(509);n.d(e,"a",function(){return D});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var M=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},A=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},P=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},k=0,R=1,O=1e3,I=function(t){function e(e){t.call(this,null,e)}return M(e,t),e.prototype.toString=function(){return""+this.msg},e}(w.a),N=function(){function t(t,e){this.ast=t,this.errors=e}return t}(),D=function(){function t(t){this._schema=t}return t.prototype.parseComponent=function(t){var e=this,r=[],i=n.i(g.a)(t.type),o=new Set,a=t.template.animations.map(function(t){var n=e.parseEntry(t),a=n.ast,s=a.name;if(o.has(s)?n.errors.push(new I('The animation trigger "'+s+'" has already been registered for the '+i+" component")):o.add(s),n.errors.length>0){var u='- Unable to parse the animation sequence for "'+s+'" on the '+i+" component due to the following errors:";n.errors.forEach(function(t){u+="\n-- "+t.msg}),r.push(u)}return a});if(r.length>0){var s=r.join("\n");throw new Error("Animation parse errors:\n"+s)}return a},t.prototype.parseEntry=function(t){var e=this,n=[],o={},a=[],s=[];t.definitions.forEach(function(t){t instanceof g.b?r(t,e._schema,n).forEach(function(t){s.push(t),o[t.stateName]=t.styles}):a.push(t)});var u=a.map(function(t){return i(t,o,e._schema,n)}),c=new E.a(t.name,s,u);return new N(c,n)},t=A([n.i(x.a)(),P("design:paramtypes",[S.a])],t)}(),L=function(){function t(t,e,n){this.duration=t,this.delay=e,this.easing=n}return t}()},function(t,e,n){"use strict";function r(t){return t>=u&&t<=f||t==at}function i(t){return D<=t&&t<=L}function o(t){return t>=X&&t<=nt||t>=V&&t<=U}function a(t){return t>=X&&t<=K||t>=V&&t<=j||i(t)}n.d(e,"m",function(){return s}),n.d(e,"Y",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"_0",function(){return l}),n.d(e,"U",function(){return h}),n.d(e,"W",function(){return p}),n.d(e,"n",function(){return f}),n.d(e,"B",function(){return d}),n.d(e,"q",function(){return m}),n.d(e,"r",function(){return y}),n.d(e,"N",function(){return v}),n.d(e,"v",function(){return g}),n.d(e,"C",function(){return b}),n.d(e,"p",function(){return _}),n.d(e,"h",function(){return x}),n.d(e,"i",function(){return w}),n.d(e,"u",function(){return C}),n.d(e,"s",function(){return S}),n.d(e,"k",function(){return E}),n.d(e,"t",function(){return T}),n.d(e,"e",function(){return M}),n.d(e,"b",function(){return A}),n.d(e,"d",function(){return P}),n.d(e,"c",function(){return k}),n.d(e,"y",function(){return R}),n.d(e,"A",function(){return O}),n.d(e,"z",function(){return I}),n.d(e,"x",function(){return N}),n.d(e,"_3",function(){return D}),n.d(e,"_4",function(){return L}),n.d(e,"K",function(){return V}),n.d(e,"Q",function(){return F}),n.d(e,"_2",function(){return B}),n.d(e,"L",function(){return U}),n.d(e,"f",function(){return z}),n.d(e,"G",function(){return H}),n.d(e,"g",function(){return G}),n.d(e,"w",function(){return q}),n.d(e,"M",function(){return W}),n.d(e,"I",function(){return X}),n.d(e,"P",function(){return Y}),n.d(e,"T",function(){return K}),n.d(e,"S",function(){return Z}),n.d(e,"V",function(){return Q}),n.d(e,"X",function(){return $}),n.d(e,"H",function(){return J}),n.d(e,"Z",function(){return tt}),n.d(e,"_1",function(){return et}),n.d(e,"J",function(){return nt}),n.d(e,"j",function(){return rt}),n.d(e,"D",function(){return it}),n.d(e,"l",function(){return ot}),n.d(e,"E",function(){return at}),n.d(e,"R",function(){return st}),e.F=r,e.o=i,e.O=o,e._5=a;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=0,u=9,c=10,l=11,h=12,p=13,f=32,d=33,m=34,y=35,v=36,g=37,b=38,_=39,x=40,w=41,C=42,S=43,E=44,T=45,M=46,A=47,P=58,k=59,R=60,O=61,I=62,N=63,D=48,L=57,V=65,F=69,j=70,B=88,U=90,z=91,H=92,G=93,q=94,W=95,X=97,Y=101,K=102,Z=110,Q=114,$=116,J=117,tt=118,et=120,nt=122,rt=123,it=124,ot=125,at=160,st=96},function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"g",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(t,e,n,r,i){this.nodes=t,this.placeholders=e,this.placeholderToMessage=n,this.meaning=r,this.description=i}return t}(),i=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),o=function(){function t(t,e){this.children=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitContainer(this,e)},t}(),a=function(){function t(t,e,n,r){this.expression=t,this.type=e,this.cases=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitIcu(this,e)},t}(),s=function(){function t(t,e,n,r,i,o,a){this.tag=t,this.attrs=e,this.startName=n,this.closeName=r,this.children=i,this.isVoid=o,this.sourceSpan=a}return t.prototype.visit=function(t,e){return t.visitTagPlaceholder(this,e)},t}(),u=function(){function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitPlaceholder(this,e)},t}(),c=function(){function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitIcuPlaceholder(this,e)},t}()},function(t,e,n){"use strict";var r=n(44),i=n(89),o=n(316),a=n(319),s=n(212),u=n(321),c=n(516);n.d(e,"a",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=function(){function t(t,e,n){this._htmlParser=t,this._translations=e,this._translationsFormat=n}return t.prototype.parse=function(t,e,a,s){void 0===a&&(a=!1),void 0===s&&(s=r.a);var u=this._htmlParser.parse(t,e,a,s);if(!this._translations||""===this._translations)return u;if(u.errors.length)return new i.b(u.rootNodes,u.errors);var l=this._createSerializer(),h=c.a.load(this._translations,e,l);return n.i(o.b)(u.rootNodes,h,s,[],{})},t.prototype._createSerializer=function(){var t=(this._translationsFormat||"xlf").toLowerCase();switch(t){case"xmb":return new s.c;case"xtb":return new u.a;case"xliff":case"xlf":default:return new a.a}},t}()},function(t,e,n){"use strict";var r=n(35);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e,n){t.call(this,e,n)}return i(e,t),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(){}return t.prototype.write=function(t){},t.prototype.load=function(t,e){},t.prototype.digest=function(t){},t.prototype.createNameMapper=function(t){return null},t}()},function(t,e,n){"use strict";var r=n(13),i=n(43),o=n(6),a=n(16),s=n(17),u=n(215),c=n(9),l=n(324),h=n(35),p=n(14),f=n(325);n.d(e,"a",function(){return g});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var d=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=function(){function t(t,e){this.comp=t,this.placeholder=e}return t}(),v=function(){function t(t,e,n){this.statements=t,this.ngModuleFactoryVar=e,this.dependencies=n}return t}(),g=function(){function t(){}return t.prototype.compile=function(t,e){var i=n.i(r.i)(t.type),s=n.i(o.c)(i)?"in NgModule "+n.i(r.a)(t.type)+" in "+i:"in NgModule "+n.i(r.a)(t.type),u=new h.b("",s),l=new h.c(new h.d(u,null,null,null),new h.d(u,null,null,null)),p=[],d=[],m=t.transitiveModule.entryComponents.map(function(e){var n={reference:null};return t.bootstrapComponents.some(function(t){return t.reference===e.reference})&&d.push(n),p.push(new y(e,n)),n}),g=new b(t,m,d,l),_=new f.a(t,e,l);_.parse().forEach(function(t){return g.addProvider(t)});var x=g.build(),w=n.i(r.a)(t.type)+"NgFactory",C=c.a(w).set(c.g(n.i(a.a)(a.b.NgModuleFactory)).instantiate([c.a(x.name),c.g(t.type)],c.d(n.i(a.a)(a.b.NgModuleFactory),[c.d(t.type)],[c.j.Const]))).toDeclStmt(null,[c.k.Final]),S=[x,C];if(t.id){var E=c.g(n.i(a.a)(a.b.RegisterModuleFactoryFn)).callFn([c.f(t.id),c.a(w)]).toStmt();S.push(E)}return new v(S,w,p)},t=d([n.i(s.a)(),m("design:paramtypes",[])],t)}(),b=function(){function t(t,e,n,r){this._ngModuleMeta=t,this._entryComponentFactories=e,this._bootstrapComponentFactories=n,this._sourceSpan=r,this.fields=[],this.getters=[],this.methods=[],this.ctorStmts=[],this._tokens=[],this._instances=new Map,this._createStmts=[],this._destroyStmts=[]}return t.prototype.addProvider=function(t){var e=this,i=t.providers.map(function(t){return e._getProviderValue(t)}),o="_"+n.i(r.k)(t.token)+"_"+this._instances.size,a=this._createProviderProperty(o,t,i,t.multiProvider,t.eager);t.lifecycleHooks.indexOf(p.G.OnDestroy)!==-1&&this._destroyStmts.push(a.callMethod("ngOnDestroy",[]).toStmt()),this._tokens.push(t.token),this._instances.set(n.i(r.j)(t.token),a)},t.prototype.build=function(){var t=this,e=this._tokens.map(function(e){var o=t._instances.get(n.i(r.j)(e));return new c.u(x.token.identical(n.i(i.b)(e)),[new c.t(o)])}),o=[new c.q("createInternal",[],this._createStmts.concat(new c.t(this._instances.get(this._ngModuleMeta.type.reference))),c.d(this._ngModuleMeta.type)),new c.q("getInternal",[new c.o(x.token.name,c.m),new c.o(x.notFoundResult.name,c.m)],e.concat([new c.t(x.notFoundResult)]),c.m),new c.q("destroyInternal",[],this._destroyStmts)],s=[c.a(_.parent.name),c.h(this._entryComponentFactories.map(function(t){return c.g(t)})),c.h(this._bootstrapComponentFactories.map(function(t){return c.g(t)}))],l=n.i(r.a)(this._ngModuleMeta.type)+"Injector";return n.i(u.a)({name:l,ctorParams:[new c.o(_.parent.name,c.d(n.i(a.a)(a.b.Injector)))],parent:c.g(n.i(a.a)(a.b.NgModuleInjector),[c.d(this._ngModuleMeta.type)]),parentArgs:s,builders:[{methods:o},this]})},t.prototype._getProviderValue=function(t){var e,r=this;if(n.i(o.c)(t.useExisting))e=this._getDependency({token:t.useExisting});else if(n.i(o.c)(t.useFactory)){var i=t.deps||t.useFactory.diDeps,a=i.map(function(t){return r._getDependency(t)});e=c.g(t.useFactory).callFn(a)}else if(n.i(o.c)(t.useClass)){var i=t.deps||t.useClass.diDeps,a=i.map(function(t){return r._getDependency(t)});e=c.g(t.useClass).instantiate(a,c.d(t.useClass))}else e=n.i(l.a)(t.useValue);return e},t.prototype._createProviderProperty=function(t,e,n,r,i){var o,a;if(r?(o=c.h(n),a=new c.i(c.m)):(o=n[0],a=n[0].type),a||(a=c.m),i)this.fields.push(new c.c(t,a)),this._createStmts.push(c.e.prop(t).set(o).toStmt());else{var s="_"+t;this.fields.push(new c.c(s,a));var u=[new c.u(c.e.prop(s).isBlank(),[c.e.prop(s).set(o).toStmt()]),new c.t(c.e.prop(s))];this.getters.push(new c.H(t,u,a))}return c.e.prop(t)},t.prototype._getDependency=function(t){var e=null;if(t.isValue&&(e=c.f(t.value)),t.isSkipSelf||(!t.token||n.i(r.j)(t.token)!==n.i(a.e)(a.b.Injector)&&n.i(r.j)(t.token)!==n.i(a.e)(a.b.ComponentFactoryResolver)||(e=c.e),e||(e=this._instances.get(n.i(r.j)(t.token)))),!e){var o=[n.i(i.b)(t.token)];t.isOptional&&o.push(c.b),e=_.parent.callMethod("get",o)}return e},t}(),_=function(){function t(){}return t.parent=c.e.prop("parent"),t}(),x=function(){function t(){}return t.token=c.a("token"),t.notFoundResult=c.a("notFoundResult"),t}()},function(t,e,n){"use strict";function r(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var i=n(0),o=n(17),a=n(29),s=n(526),u=n(65);n.d(e,"a",function(){return g});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p="boolean",f="number",d="string",m="object",y=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen^[HTMLElement]|!autofocus,challenge,!disabled,keytype,name","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:cursor^:svg:|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime"],v={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},g=function(t){function e(){var e=this;t.call(this),this._schema={},y.forEach(function(t){var n={},r=t.split("|"),i=r[0],o=r[1],a=o.split(","),s=i.split("^"),u=s[0],c=s[1];u.split(",").forEach(function(t){return e._schema[t.toLowerCase()]=n});var l=c&&e._schema[c.toLowerCase()];l&&Object.keys(l).forEach(function(t){n[t]=l[t]}),a.forEach(function(t){if(t.length>0)switch(t[0]){case"*":break;case"!":n[t.substring(1)]=p;break;case"#":n[t.substring(1)]=f;break;case"%":n[t.substring(1)]=m;break;default:n[t]=d}})})}return c(e,t),e.prototype.hasProperty=function(t,e,n){if(n.some(function(t){return t.name===i.NO_ERRORS_SCHEMA.name}))return!0;if(t.indexOf("-")>-1){if("ng-container"===t||"ng-content"===t)return!1;if(n.some(function(t){return t.name===i.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}var r=this._schema[t.toLowerCase()]||this._schema.unknown;return!!r[e]},e.prototype.hasElement=function(t,e){if(e.some(function(t){return t.name===i.NO_ERRORS_SCHEMA.name}))return!0;if(t.indexOf("-")>-1){if("ng-container"===t||"ng-content"===t)return!0;if(e.some(function(t){return t.name===i.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}return!!this._schema[t.toLowerCase()]},e.prototype.securityContext=function(t,e,n){n&&(e=this.getMappedPropName(e)),t=t.toLowerCase(),e=e.toLowerCase();var r=s.a[t+"|"+e];return r?r:(r=s.a["*|"+e],r?r:i.SecurityContext.NONE)},e.prototype.getMappedPropName=function(t){return v[t]||t},e.prototype.getDefaultComponentElementName=function(){return"ng-component"},e.prototype.validateProperty=function(t){if(t.toLowerCase().startsWith("on")){var e="Binding to event property '"+t+"' is disallowed for security reasons, "+("please use ("+t.slice(2)+")=...")+("\nIf '"+t+"' is a directive input, make sure the directive is imported by the")+" current module.";return{error:!0,msg:e}}return{error:!1}},e.prototype.validateAttribute=function(t){if(t.toLowerCase().startsWith("on")){var e="Binding to event attribute '"+t+"' is disallowed for security reasons, "+("please use ("+t.slice(2)+")=...");return{error:!0,msg:e}}return{error:!1}},e.prototype.allKnownElementNames=function(){return Object.keys(this._schema)},e.prototype.normalizeAnimationStyleProperty=function(t){return n.i(a.d)(t)},e.prototype.normalizeAnimationStyleValue=function(t,e,n){var i="",o=n.toString().trim(),a=null;if(r(t)&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&(a="Please provide a CSS unit value for "+e+":"+n)}return{error:a,value:o+i}},e=l([n.i(o.a)(),h("design:paramtypes",[])],e)}(u.a)},function(t,e,n){"use strict";var r=n(213);n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)","g"),o=function(){function t(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return t.parse=function(e){var n,r=[],o=function(t,e){e.notSelectors.length>0&&!e.element&&0==e.classNames.length&&0==e.attrs.length&&(e.element="*"),t.push(e)},a=new t,s=a,u=!1;for(i.lastIndex=0;n=i.exec(e);){if(n[1]){if(u)throw new Error("Nesting :not is not allowed in a selector");u=!0,s=new t,a.notSelectors.push(s)}if(n[2]&&s.setElement(n[2]),n[3]&&s.addClassName(n[3]),n[4]&&s.addAttribute(n[4],n[5]),n[6]&&(u=!1,s=a),n[7]){if(u)throw new Error("Multiple selectors in :not are not supported");o(r,a),a=s=new t}}return o(r,a),r},t.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},t.prototype.hasElementSelector=function(){return!!this.element},t.prototype.setElement=function(t){void 0===t&&(t=null),this.element=t},t.prototype.getMatchingElementTemplate=function(){for(var t=this.element||"div",e=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",i="",o=0;o<this.attrs.length;o+=2){var a=this.attrs[o],s=""!==this.attrs[o+1]?'="'+this.attrs[o+1]+'"':"";i+=" "+a+s}return n.i(r.a)(t).isVoid?"<"+t+e+i+"/>":"<"+t+e+i+"></"+t+">"},t.prototype.addAttribute=function(t,e){void 0===e&&(e=""),this.attrs.push(t,e&&e.toLowerCase()||"")},t.prototype.addClassName=function(t){this.classNames.push(t.toLowerCase())},t.prototype.toString=function(){var t=this.element||"";if(this.classNames&&this.classNames.forEach(function(e){return t+="."+e}),this.attrs)for(var e=0;e<this.attrs.length;e+=2){var n=this.attrs[e],r=this.attrs[e+1];t+="["+n+(r?"="+r:"")+"]"}return this.notSelectors.forEach(function(e){return t+=":not("+e+")"}),t},t}(),a=function(){function t(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return t.createNotMatcher=function(e){var n=new t;return n.addSelectables(e,null),n},t.prototype.addSelectables=function(t,e){var n=null;t.length>1&&(n=new s(t),this._listContexts.push(n));for(var r=0;r<t.length;r++)this._addSelectable(t[r],e,n)},t.prototype._addSelectable=function(t,e,n){var r=this,i=t.element,o=t.classNames,a=t.attrs,s=new u(t,e,n);if(i){var c=0===a.length&&0===o.length;c?this._addTerminal(r._elementMap,i,s):r=this._addPartial(r._elementPartialMap,i)}if(o)for(var l=0;l<o.length;l++){var c=0===a.length&&l===o.length-1,h=o[l];c?this._addTerminal(r._classMap,h,s):r=this._addPartial(r._classPartialMap,h)}if(a)for(var l=0;l<a.length;l+=2){var c=l===a.length-2,p=a[l],f=a[l+1];if(c){var d=r._attrValueMap,m=d.get(p);m||(m=new Map,d.set(p,m)),this._addTerminal(m,f,s)}else{var y=r._attrValuePartialMap,v=y.get(p);v||(v=new Map,y.set(p,v)),r=this._addPartial(v,f)}}},t.prototype._addTerminal=function(t,e,n){var r=t.get(e);r||(r=[],t.set(e,r)),r.push(n)},t.prototype._addPartial=function(e,n){var r=e.get(n);return r||(r=new t,e.set(n,r)),r},t.prototype.match=function(t,e){for(var n=!1,r=t.element,i=t.classNames,o=t.attrs,a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,t,e)||n,n=this._matchPartial(this._elementPartialMap,r,t,e)||n,i)for(var a=0;a<i.length;a++){var s=i[a];n=this._matchTerminal(this._classMap,s,t,e)||n,n=this._matchPartial(this._classPartialMap,s,t,e)||n}if(o)for(var a=0;a<o.length;a+=2){var u=o[a],c=o[a+1],l=this._attrValueMap.get(u);c&&(n=this._matchTerminal(l,"",t,e)||n),n=this._matchTerminal(l,c,t,e)||n;var h=this._attrValuePartialMap.get(u);c&&(n=this._matchPartial(h,"",t,e)||n),n=this._matchPartial(h,c,t,e)||n}return n},t.prototype._matchTerminal=function(t,e,n,r){if(!t||"string"!=typeof e)return!1;var i=t.get(e)||[],o=t.get("*");if(o&&(i=i.concat(o)),0===i.length)return!1;for(var a,s=!1,u=0;u<i.length;u++)a=i[u],s=a.finalize(n,r)||s;return s},t.prototype._matchPartial=function(t,e,n,r){if(!t||"string"!=typeof e)return!1;var i=t.get(e);return!!i&&i.match(n,r)},t}(),s=function(){function t(t){this.selectors=t,this.alreadyMatched=!1}return t}(),u=function(){function t(t,e,n){this.selector=t,this.cbContext=e,this.listContext=n,this.notSelectors=t.notSelectors}return t.prototype.finalize=function(t,e){var n=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){var r=a.createNotMatcher(this.notSelectors);n=!r.match(t,null)}return!n||!e||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),e(this.selector,this.cbContext)),n},t}()},function(t,e,n){"use strict";function r(t){var e="styles";return t&&(e+="_"+n.i(o.a)(t.type)),e}var i=n(0),o=n(13),a=n(17),s=n(9),u=n(527),c=n(75);n.d(e,"a",function(){return g});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p="%COMP%",f="_nghost-"+p,d="_ngcontent-"+p,m=function(){function t(t,e,n,r){this.name=t,this.moduleUrl=e,this.isShimmed=n,this.valuePlaceholder=r}return t}(),y=function(){function t(t,e){this.componentStylesheet=t,this.externalStylesheets=e}return t}(),v=function(){function t(t,e,n,r,i){this.statements=t,this.stylesVar=e,this.dependencies=n,this.isShimmed=r,this.meta=i}return t}(),g=function(){function t(t){this._urlResolver=t,this._shadowCss=new u.a}return t.prototype.compileComponent=function(t){var e=this,r=[],i=this._compileStyles(t,new o.l({styles:t.template.styles,styleUrls:t.template.styleUrls,moduleUrl:n.i(o.i)(t.type)}),!0);return t.template.externalStylesheets.forEach(function(n){var i=e._compileStyles(t,n,!1);r.push(i)}),new y(i,r)},t.prototype._compileStyles=function(t,e,n){for(var o=this,a=t.template.encapsulation===i.ViewEncapsulation.Emulated,u=e.styles.map(function(t){return s.f(o._shimIfNeeded(t,a))}),c=[],l=0;l<e.styleUrls.length;l++){var h={reference:null};c.push(new m(r(null),e.styleUrls[l],a,h)),u.push(new s.Q(h))}var p=r(n?t:null),f=s.a(p).set(s.h(u,new s.i(s.m,[s.j.Const]))).toDeclStmt(null,[s.k.Final]);return new v([f],p,c,a,e)},t.prototype._shimIfNeeded=function(t,e){return e?this._shadowCss.shimCssText(t,d,f):t},t=l([n.i(a.a)(),h("design:paramtypes",[c.a])],t)}()},function(t,e,n){"use strict";var r=n(43),i=n(16),o=n(9);n.d(e,"d",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"e",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(){}return t.fromValue=function(t){return n.i(r.d)(i.b.ViewType,t)},t}(),s=function(){function t(){}return t.fromValue=function(t){return n.i(r.d)(i.b.ViewEncapsulation,t)},t}(),u=function(){function t(){}return t.fromValue=function(t){return n.i(r.d)(i.b.ChangeDetectorStatus,t)},t}(),c=function(){function t(){}return t.viewUtils=o.a("viewUtils"),t.parentView=o.a("parentView"),t.parentIndex=o.a("parentIndex"),t.parentElement=o.a("parentElement"),t}(),l=function(){function t(){}return t.renderer=o.e.prop("renderer"),t.viewUtils=o.e.prop("viewUtils"),t}(),h=function(){function t(){}return t.token=o.a("token"),t.requestNodeIndex=o.a("requestNodeIndex"),t.notFoundResult=o.a("notFoundResult"),t}(),p=function(){function t(){}return t.throwOnChange=o.a("throwOnChange"),t.changes=o.a("changes"),t.changed=o.a("changed"),t}()},function(t,e,n){"use strict";function r(){return""+i()+i()+i()}function i(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var o=n(36);n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=new o.b("AppId"),s={provide:a,useFactory:r,deps:[]},u=new o.b("Platform Initializer"),c=new o.b("appBootstrapListener"),l=new o.b("Application Packages Root URL")},function(t,e,n){"use strict";var r=n(224),i=n(341),o=n(342),a=n(343),s=n(162);n.d(e,"m",function(){return s.e}),n.d(e,"h",function(){return s.d}),n.d(e,"a",function(){return s.a});var u=n(340);n.d(e,"g",function(){return u.a});var c=n(163);n.d(e,"i",function(){return c.c}),n.d(e,"b",function(){return c.b}),n.d(e,"j",function(){return r.b}),n.d(e,"k",function(){return r.c}),n.d(e,"l",function(){return i.b}),n.d(e,"e",function(){return o.a}),n.d(e,"f",function(){return a.a}),n.d(e,"c",function(){return p}),n.d(e,"d",function(){return f});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=[new i.a],h=[new r.a],p=new o.a(h),f=new a.a(l)},function(t,e,n){"use strict";function r(t,e){return n.i(i.b)(t)&&n.i(i.b)(e)?n.i(i.c)(t,e,r):!(n.i(i.b)(t)||n.i(o.i)(t)||n.i(i.b)(e)||n.i(o.i)(e))||n.i(o.j)(t,e)}var i=n(116),o=n(7);n.d(e,"b",function(){return a}),e.a=r,n.d(e,"d",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"e",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a={toString:function(){return"CD_INIT_VALUE"}},s=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),u=function(){function t(){this.hasWrappedValue=!1}return t.prototype.unwrap=function(t){return t instanceof s?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1},t}(),c=function(){function t(t,e){this.previousValue=t,this.currentValue=e}return t.prototype.isFirstChange=function(){return this.previousValue===a},t}()},function(t,e,n){"use strict";function r(t){return n.i(i.k)(t)||t===o.Default}var i=n(7);n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),e.a=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o={};o.OnPush=0,o.Default=1,o[o.OnPush]="OnPush",o[o.Default]="Default";var a={};a.CheckOnce=0,a.Checked=1,a.CheckAlways=2,a.Detached=3,a.Errored=4,a.Destroyed=5,a[a.CheckOnce]="CheckOnce",a[a.Checked]="Checked",a[a.CheckAlways]="CheckAlways",a[a.Detached]="Detached",a[a.Errored]="Errored",a[a.Destroyed]="Destroyed"},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this,e);var n=new Error(e);this._nativeError=n}return r(e,t),Object.defineProperty(e.prototype,"message",{get:function(){return this._nativeError.message},set:function(t){this._nativeError.message=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(t){this._nativeError.stack=t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._nativeError.toString()},e}(Error),o=function(t){function e(e,n){t.call(this,e+" caused by: "+(n instanceof Error?n.message:n)),this.originalError=n}return r(e,t),Object.defineProperty(e.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),e}(i)},function(t,e,n){"use strict";var r=n(164),i=n(7);n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e){t.call(this,"No component factory found for "+n.i(i.c)(e)+". Did you add it to @NgModule.entryComponents?"),this.component=e}return o(e,t),e}(r.a),s=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw new a(t)},t}(),u=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){},t.NULL=new s,t}(),c=function(){function t(t,e){this._parent=e,this._factories=new Map;for(var n=0;n<t.length;n++){var r=t[n];this._factories.set(r.componentType,r)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);return e||(e=this._parent.resolveComponentFactory(t)),e},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t){this.nativeElement=t}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={};r.HOST=0,r.COMPONENT=1,r.EMBEDDED=2,r[r.HOST]="HOST",r[r.COMPONENT]="COMPONENT",r[r.EMBEDDED]="EMBEDDED"},function(t,e,n){"use strict";function r(t,e,n,r,i){return new N.c(""+j++,t,e,n,r,i)}function i(t,e){e.push(t)}function o(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+s(e[r+1]);return n+e[2*t]}function a(t,e,n,r,i,o,a,u,c,l,h,p,f,d,m,y,v,g,b,_){switch(t){case 1:return e+s(n)+r;case 2:return e+s(n)+r+s(i)+o;case 3:return e+s(n)+r+s(i)+o+s(a)+u;case 4:return e+s(n)+r+s(i)+o+s(a)+u+s(c)+l;case 5:return e+s(n)+r+s(i)+o+s(a)+u+s(c)+l+s(h)+p;case 6:return e+s(n)+r+s(i)+o+s(a)+u+s(c)+l+s(h)+p+s(f)+d;case 7:return e+s(n)+r+s(i)+o+s(a)+u+s(c)+l+s(h)+p+s(f)+d+s(m)+y;case 8:return e+s(n)+r+s(i)+o+s(a)+u+s(c)+l+s(h)+p+s(f)+d+s(m)+y+s(v)+g;case 9:return e+s(n)+r+s(i)+o+s(a)+u+s(c)+l+s(h)+p+s(f)+d+s(m)+y+s(v)+g+s(b)+_;default:throw new Error("Does not support more than 9 expressions")}}function s(t){return null!=t?t.toString():""}function u(t,e,r){if(t){if(!n.i(k.a)(e,r))throw new V.a(e,r);return!1}return!n.i(I.j)(e,r)}function c(t,e){return t}function l(t){var e,r=R.b;return function(i){return n.i(I.j)(r,i)||(r=i,e=t(i)),e}}function h(t){var e,r=R.b,i=R.b;return function(o,a){return n.i(I.j)(r,o)&&n.i(I.j)(i,a)||(r=o,i=a,e=t(o,a)),e}}function p(t){var e,r=R.b,i=R.b,o=R.b;return function(a,s,u){return n.i(I.j)(r,a)&&n.i(I.j)(i,s)&&n.i(I.j)(o,u)||(r=a,i=s,o=u,e=t(a,s,u)),e}}function f(t){var e,r,i,o,a;return r=i=o=a=R.b,function(s,u,c,l){return n.i(I.j)(r,s)&&n.i(I.j)(i,u)&&n.i(I.j)(o,c)&&n.i(I.j)(a,l)||(r=s,i=u,o=c,a=l,e=t(s,u,c,l)),e}}function d(t){var e,r,i,o,a,s;return r=i=o=a=s=R.b,function(u,c,l,h,p){return n.i(I.j)(r,u)&&n.i(I.j)(i,c)&&n.i(I.j)(o,l)&&n.i(I.j)(a,h)&&n.i(I.j)(s,p)||(r=u,i=c,o=l,a=h,s=p,e=t(u,c,l,h,p)),e}}function m(t){var e,r,i,o,a,s,u;return r=i=o=a=s=u=R.b,function(c,l,h,p,f,d){return n.i(I.j)(r,c)&&n.i(I.j)(i,l)&&n.i(I.j)(o,h)&&n.i(I.j)(a,p)&&n.i(I.j)(s,f)&&n.i(I.j)(u,d)||(r=c,i=l,o=h,a=p,s=f,u=d,e=t(c,l,h,p,f,d)),e}}function y(t){var e,r,i,o,a,s,u,c;return r=i=o=a=s=u=c=R.b,function(l,h,p,f,d,m,y){return n.i(I.j)(r,l)&&n.i(I.j)(i,h)&&n.i(I.j)(o,p)&&n.i(I.j)(a,f)&&n.i(I.j)(s,d)&&n.i(I.j)(u,m)&&n.i(I.j)(c,y)||(r=l,i=h,o=p,a=f,s=d,u=m,c=y,e=t(l,h,p,f,d,m,y)),e}}function v(t){var e,r,i,o,a,s,u,c,l;return r=i=o=a=s=u=c=l=R.b,function(h,p,f,d,m,y,v,g){return n.i(I.j)(r,h)&&n.i(I.j)(i,p)&&n.i(I.j)(o,f)&&n.i(I.j)(a,d)&&n.i(I.j)(s,m)&&n.i(I.j)(u,y)&&n.i(I.j)(c,v)&&n.i(I.j)(l,g)||(r=h,i=p,o=f,a=d,s=m,u=y,c=v,l=g,e=t(h,p,f,d,m,y,v,g)),e}}function g(t){var e,r,i,o,a,s,u,c,l,h;return r=i=o=a=s=u=c=l=h=R.b,function(p,f,d,m,y,v,g,b,_){return n.i(I.j)(r,p)&&n.i(I.j)(i,f)&&n.i(I.j)(o,d)&&n.i(I.j)(a,m)&&n.i(I.j)(s,y)&&n.i(I.j)(u,v)&&n.i(I.j)(c,g)&&n.i(I.j)(l,b)&&n.i(I.j)(h,_)||(r=p,i=f,o=d,a=m,s=y,u=v,c=g,l=b,h=_,e=t(p,f,d,m,y,v,g,b,_)),e}}function b(t){var e,r,i,o,a,s,u,c,l,h,p;return r=i=o=a=s=u=c=l=h=p=R.b,function(f,d,m,y,v,g,b,_,x,w){return n.i(I.j)(r,f)&&n.i(I.j)(i,d)&&n.i(I.j)(o,m)&&n.i(I.j)(a,y)&&n.i(I.j)(s,v)&&n.i(I.j)(u,g)&&n.i(I.j)(c,b)&&n.i(I.j)(l,_)&&n.i(I.j)(h,x)&&n.i(I.j)(p,w)||(r=f,i=d,o=m,a=y,s=v,u=g,c=b,l=_,h=x,p=w,e=t(f,d,m,y,v,g,b,_,x,w)),e}}function _(t,e,n){Object.keys(n).forEach(function(r){x(t,e,r,n[r].currentValue)})}function x(t,e,n,r){try{t.setBindingDebugInfo(e,"ng-reflect-"+w(n),r?r.toString():null)}catch(r){t.setBindingDebugInfo(e,"ng-reflect-"+w(n),"[ERROR] Exception while trying to serialize the value")}}function w(t){return t.replace(z,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return"-"+t[1].toLowerCase()})}function C(t,e,n,r,i){for(var o=t.createElement(e,n,i),a=0;a<r.length;a+=2)t.setElementAttribute(o,r.get(a),r.get(a+1));return o}function S(t,e,r,i,o){var a;if(n.i(I.b)(i)){a=t.selectRootElement(i,o);for(var s=0;s<r.length;s+=2)t.setElementAttribute(a,r.get(s),r.get(s+1));t.setElementAttribute(a,"ng-version",L.b.full)}else a=C(t,null,e,r,o);return a}function E(t,e,n,r){for(var i=A(n.length/2),o=0;o<n.length;o+=2){var a=n.get(o),s=n.get(o+1),u=void 0;u=s?t.renderer.listenGlobal(s,a,r.bind(t,s+":"+a)):t.renderer.listen(e,a,r.bind(t,a)),i.set(o/2,u)}return T.bind(null,i)}function T(t){for(var e=0;e<t.length;e++)t.get(e)()}function M(){}function A(t){var e;return new(e=t<=2?G:t<=4?q:t<=8?W:t<=16?X:Y)(t)}Object.defineProperty(e,"__esModule",{value:!0});var P=n(335),k=n(161),R=n(162),O=n(36),I=n(7),N=n(234),D=n(360),L=n(361),V=n(349);n.d(e,"ViewUtils",function(){return F}),e.createRenderComponentType=r,e.addToArray=i,e.interpolate=o,e.inlineInterpolate=a,e.checkBinding=u,e.castByValue=c,n.d(e,"EMPTY_ARRAY",function(){return B}),n.d(e,"EMPTY_MAP",function(){return U}),e.pureProxy1=l,e.pureProxy2=h,e.pureProxy3=p,e.pureProxy4=f,e.pureProxy5=d,e.pureProxy6=m,e.pureProxy7=y,e.pureProxy8=v,e.pureProxy9=g,e.pureProxy10=b,e.setBindingDebugInfoForChanges=_,e.setBindingDebugInfo=x,e.createRenderElement=C,e.selectOrCreateRenderHostElement=S,e.subscribeToRenderElement=E,e.noop=M,n.d(e,"InlineArray2",function(){return G}),n.d(e,"InlineArray4",function(){return q}),n.d(e,"InlineArray8",function(){return W}),n.d(e,"InlineArray16",function(){return X}),n.d(e,"InlineArrayDynamic",function(){return Y}),n.d(e,"EMPTY_INLINE_ARRAY",function(){return K});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var F=function(){function t(t,e,n){this._renderer=t,this.animationQueue=n,this.sanitizer=e}return t.prototype.renderComponent=function(t){return this._renderer.renderComponent(t)},t.decorators=[{type:O.a}],t.ctorParameters=function(){return[{type:N.b},{type:D.a},{type:P.a}]},t}(),j=0,B=[],U={},z=/([A-Z])/g,H=function(){function t(){this.length=0}return t.prototype.get=function(t){},t.prototype.set=function(t,e){},t}(),G=function(){function t(t,e,n){this.length=t,this._v0=e,this._v1=n}return t.prototype.get=function(t){switch(t){case 0:return this._v0;case 1:return this._v1;default:return}},t.prototype.set=function(t,e){switch(t){case 0:this._v0=e;break;case 1:this._v1=e}},t}(),q=function(){function t(t,e,n,r,i){this.length=t,this._v0=e,this._v1=n,this._v2=r,this._v3=i}return t.prototype.get=function(t){switch(t){case 0:return this._v0;case 1:return this._v1;case 2:return this._v2;case 3:return this._v3;default:return}},t.prototype.set=function(t,e){switch(t){case 0:this._v0=e;break;case 1:this._v1=e;break;case 2:this._v2=e;break;case 3:this._v3=e}},t}(),W=function(){function t(t,e,n,r,i,o,a,s,u){this.length=t,this._v0=e,this._v1=n,this._v2=r,this._v3=i,this._v4=o,this._v5=a,this._v6=s,this._v7=u}return t.prototype.get=function(t){switch(t){case 0:return this._v0;case 1:return this._v1;case 2:return this._v2;case 3:return this._v3;case 4:return this._v4;case 5:return this._v5;case 6:return this._v6;case 7:return this._v7;default:return}},t.prototype.set=function(t,e){switch(t){case 0:this._v0=e;break;case 1:this._v1=e;break;case 2:this._v2=e;break;case 3:this._v3=e;break;case 4:this._v4=e;break;case 5:this._v5=e;break;case 6:this._v6=e;break;case 7:this._v7=e}},t}(),X=function(){function t(t,e,n,r,i,o,a,s,u,c,l,h,p,f,d,m,y){this.length=t,this._v0=e,this._v1=n,this._v2=r,this._v3=i,this._v4=o,this._v5=a,this._v6=s,this._v7=u,this._v8=c,this._v9=l,this._v10=h,this._v11=p,this._v12=f,this._v13=d,this._v14=m,this._v15=y}return t.prototype.get=function(t){switch(t){case 0:return this._v0;case 1:return this._v1;case 2:return this._v2;case 3:return this._v3;case 4:return this._v4;case 5:return this._v5;case 6:return this._v6;case 7:return this._v7;case 8:return this._v8;case 9:return this._v9;case 10:return this._v10;case 11:return this._v11;case 12:return this._v12;case 13:return this._v13;case 14:return this._v14;case 15:return this._v15;default:return}},t.prototype.set=function(t,e){switch(t){case 0:this._v0=e;break;case 1:this._v1=e;break;case 2:this._v2=e;break;case 3:this._v3=e;break;case 4:this._v4=e;break;case 5:this._v5=e;break;case 6:this._v6=e;break;case 7:this._v7=e;break;case 8:this._v8=e;break;case 9:this._v9=e;break;case 10:this._v10=e;break;case 11:this._v11=e;break;case 12:this._v12=e;break;case 13:this._v13=e;break;case 14:this._v14=e;break;case 15:this._v15=e}},t}(),Y=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.length=t,this._values=e}return t.prototype.get=function(t){return this._values[t]},t.prototype.set=function(t,e){this._values[t]=e},t}(),K=new H},function(t,e,n){"use strict";function r(t,e){return null}var i=n(556);n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=n.i(i.a)(),a=o?i.b:function(t,e){return r},s=o?i.c:function(t,e){return e},u=o?i.d:function(t,e){return null},c=o?i.e:function(t){return null}},function(t,e,n){"use strict";var r=n(230);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new r.a(!1),this._onMicrotaskEmpty=new r.a(!1),this._onStable=new r.a(!1),this._onErrorEvents=new r.a(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched(),this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.forkInnerZoneWithAngularBehavior()}return t.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t){return this.inner.run(t)},t.prototype.runGuarded=function(t){return this.inner.runGuarded(t)},t.prototype.runOutsideAngular=function(t){return this.outer.run(t)},Object.defineProperty(t.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),t.prototype.checkStable=function(){var t=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return t._onStable.emit(null)})}finally{this._isStable=!0}}},t.prototype.forkInnerZoneWithAngularBehavior=function(){var t=this;this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,a){try{return t.onEnter(),e.invokeTask(r,i,o,a)}finally{t.onLeave()}},onInvoke:function(e,n,r,i,o,a,s){try{return t.onEnter(),e.invoke(r,i,o,a,s)}finally{t.onLeave()}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&("microTask"==i.change?t.setHasMicrotask(i.microTask):"macroTask"==i.change&&t.setHasMacrotask(i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.triggerError(i),!1}})},t.prototype.onEnter=function(){this._nesting++,this._isStable&&(this._isStable=!1,this._onUnstable.emit(null))},t.prototype.onLeave=function(){this._nesting--,this.checkStable()},t.prototype.setHasMicrotask=function(t){this._hasPendingMicrotasks=t,this.checkStable()},t.prototype.setHasMacrotask=function(t){this._hasPendingMacrotasks=t},t.prototype.triggerError=function(t){this._onErrorEvents.emit(t)},t}()},function(t,e,n){"use strict";var r=n(0),i=n(37);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o={provide:i.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:r.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[o]}]}],t.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(37);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o={provide:i.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:r.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[o]}]}],t.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(46),o=n(118),a=n(52),s=n(119),u=n(363);n.d(e,"a",function(){return h});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l={provide:a.a,useExisting:n.i(r.forwardRef)(function(){return h})},h=function(t){function e(e,n,r){t.call(this),this._parent=e,this._validators=n,this._asyncValidators=r}return c(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof s.a||u.a.modelGroupParentException()},e.decorators=[{type:r.Directive,args:[{selector:"[ngModelGroup]",providers:[l],exportAs:"ngModelGroup"}]}],e.ctorParameters=function(){return[{type:a.a,decorators:[{type:r.Host},{type:r.SkipSelf}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[i.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[i.c]}]}]},e.propDecorators={name:[{type:r.Input,args:["ngModelGroup"]}]},e}(o.a)},function(t,e,n){"use strict";var r=n(362);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+r.a.formControlName)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+r.a.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+r.a.ngModelGroup)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+r.a.formControlName)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+r.a.formGroupName)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+r.a.formArrayName)},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}()},function(t,e,n){"use strict";function r(t,e){return null==t?""+e:(n.i(a.d)(e)||(e="Object"),(t+": "+e).slice(0,50))}function i(t){return t.split(":")[0]}var o=n(0),a=n(93),s=n(37);n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u={provide:s.a,useExisting:n.i(o.forwardRef)(function(){return c}),multi:!0},c=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setElementProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=r(e,t);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=n,t(e._getOptionValue(n))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,r=Array.from(this._optionMap.keys());e<r.length;e++){var i=r[e];if(n.i(a.c)(this._optionMap.get(i),t))return i}return null},t.prototype._getOptionValue=function(t){var e=i(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t.decorators=[{type:o.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[u]}]}],t.ctorParameters=function(){return[{type:o.Renderer},{type:o.ElementRef}]},t}(),l=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(r(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setElementProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t.decorators=[{type:o.Directive,args:[{selector:"option"}]}],t.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer},{type:c,decorators:[{type:o.Optional},{type:o.Host}]}]},t.propDecorators={ngValue:[{type:o.Input,args:["ngValue"]}],value:[{type:o.Input,args:["value"]}]},t}()},function(t,e,n){"use strict";function r(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),n.i(a.d)(e)||(e="Object"),(t+": "+e).slice(0,50))}function i(t){return t.split(":")[0]}var o=n(0),a=n(93),s=n(37);n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u={provide:s.a,useExisting:n.i(o.forwardRef)(function(){return c}),multi:!0},c=(function(){function t(){}return t.prototype.item=function(t){},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=this;this.value=t;var n;if(Array.isArray(t)){var r=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var i=n.options,o=0;o<i.length;o++){var a=i.item(o);if(a.selected){var s=e._getOptionValue(a.value);r.push(s)}}e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,r=Array.from(this._optionMap.keys());e<r.length;e++){var i=r[e];if(n.i(a.c)(this._optionMap.get(i)._value,t))return i}return null},t.prototype._getOptionValue=function(t){var e=i(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t.decorators=[{type:o.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[u]}]}],t.ctorParameters=function(){return[{type:o.Renderer},{type:o.ElementRef}]},t}()),l=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(r(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(r(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setElementProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setElementProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t.decorators=[{type:o.Directive,args:[{selector:"option"}]}],t.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer},{type:c,decorators:[{type:o.Optional},{type:o.Host}]}]},t.propDecorators={ngValue:[{type:o.Input,args:["ngValue"]}],value:[{type:o.Input,args:["value"]}]},t}()},function(t,e,n){"use strict";function r(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof g?t.controls[e]||null:t instanceof b?t.at(e)||null:null},t))}function i(t){return n.i(l.a)(t)?n.i(s.fromPromise)(t):t}function o(t){return Array.isArray(t)?n.i(u.a)(t):t}function a(t){return Array.isArray(t)?n.i(u.b)(t):t}var s=n(197),u=(n.n(s),n(66)),c=n(92),l=n(367);n.d(e,"b",function(){return v}),n.d(e,"a",function(){return g}),n.d(e,"c",function(){return b});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},p="VALID",f="INVALID",d="PENDING",m="DISABLED",y=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this._status===p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this._status===f},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this._status==d},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._status===m},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._status!==m},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=o(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=a(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=!0,this._parent&&!e&&this._parent.markAsTouched({onlySelf:e})},t.prototype.markAsUntouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!e&&this._parent._updateTouched({onlySelf:e})},t.prototype.markAsDirty=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!1,this._parent&&!e&&this._parent.markAsDirty({onlySelf:e})},t.prototype.markAsPristine=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!0,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!e&&this._parent._updatePristine({onlySelf:e})},t.prototype.markAsPending=function(t){var e=(void 0===t?{}:t).onlySelf;this._status=d,this._parent&&!e&&this._parent.markAsPending({onlySelf:e})},t.prototype.disable=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._status=m,this._errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),r!==!1&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(n),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._status=p,this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r}),this._updateAncestors(n),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.setValue=function(t,e){},t.prototype.patchValue=function(t,e){},t.prototype.reset=function(t,e){},t.prototype.updateValueAndValidity=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._setInitialStatus(),this._updateValue(),this.enabled&&(this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!==p&&this._status!==d||this._runAsyncValidator(r)),r!==!1&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._parent&&!n&&this._parent.updateValueAndValidity({onlySelf:n,emitEvent:r})},t.prototype._updateTreeValidity=function(t){var e=(void 0===t?{emitEvent:!0}:t).emitEvent;this._forEachChild(function(t){return t._updateTreeValidity({emitEvent:e})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e})},t.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?m:p},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this._status=d,this._cancelExistingSubscription();var r=i(this.asyncValidator(this));if(!n.i(l.b)(r))throw new Error("expected the following validator to return Promise or Observable: "+this.asyncValidator+". If you are using FormBuilder; did you forget to brace your validators in an array?");this._asyncValidationSubscription=r.subscribe({next:function(n){return e.setErrors(n,{emitEvent:t})}})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){var n=(void 0===e?{}:e).emitEvent;this._errors=t,this._updateControlsErrors(n!==!1)},t.prototype.get=function(t){return r(this,t,".")},t.prototype.getError=function(t,e){void 0===e&&(e=null);var n=e?this.get(e):this;return n&&n._errors?n._errors[t]:null},t.prototype.hasError=function(t,e){return void 0===e&&(e=null),!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this._status=this._calculateStatus(),t&&this._statusChanges.emit(this._status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this._valueChanges=new c.a,this._statusChanges=new c.a},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?m:this._errors?f:this._anyControlsHaveStatus(d)?d:this._anyControlsHaveStatus(f)?f:p},t.prototype._updateValue=function(){},t.prototype._forEachChild=function(t){},t.prototype._anyControls=function(t){},t.prototype._allControlsDisabled=function(){},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!this._anyControlsDirty(),this._parent&&!e&&this._parent._updatePristine({onlySelf:e})},t.prototype._updateTouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=this._anyControlsTouched(),this._parent&&!e&&this._parent._updateTouched({onlySelf:e})},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t}(),v=function(t){function e(e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,o(n),a(r)),this._onChange=[],this._applyFormState(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return h(e,t),e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent,a=r.emitModelToViewChange,s=r.emitViewToModelChange;this._value=t,this._onChange.length&&a!==!1&&this._onChange.forEach(function(t){return t(n._value,s!==!1)}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null);var n=void 0===e?{}:e,r=n.onlySelf,i=n.emitEvent;this._applyFormState(t),this.markAsPristine({onlySelf:r}),this.markAsUntouched({onlySelf:r}),this.setValue(this._value,{onlySelf:r,emitEvent:i})},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this._value=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=t},e}(y),g=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this.controls=e,this._initObservables(),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return h(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;this._checkAllValuesPresent(t),Object.keys(t).forEach(function(e){n._throwIfControlMissing(e),n.controls[e].setValue(t[e],{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.patchValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;Object.keys(t).forEach(function(e){n.controls[e]&&n.controls[e].patchValue(t[e],{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.reset=function(t,e){void 0===t&&(t={});var n=void 0===e?{}:e,r=n.onlySelf,i=n.emitEvent;this._forEachChild(function(e,n){e.reset(t[n],{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:r,emitEvent:i}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e.value,t})},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this._value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(y),b=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this.controls=e,this._initObservables(),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return h(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;this._checkAllValuesPresent(t),t.forEach(function(t,e){n._throwIfControlMissing(e),n.at(e).setValue(t,{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.patchValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;t.forEach(function(t,e){n.at(e)&&n.at(e).patchValue(t,{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.reset=function(t,e){void 0===t&&(t=[]);var n=void 0===e?{}:e,r=n.onlySelf,i=n.emitEvent;this._forEachChild(function(e,n){e.reset(t[n],{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:r,emitEvent:i}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t.value})},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this._value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){var n=e[t];if(n.enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(y)},function(t,e,n){"use strict";var r=n(0),i=n(67),o=n(124);n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(){function t(t){var e=void 0===t?{}:t,n=e.body,r=e.status,i=e.headers,o=e.statusText,a=e.type,s=e.url;this.body=null!=n?n:null,this.status=null!=r?r:null,this.headers=null!=i?i:null,this.statusText=null!=o?o:null,this.type=null!=a?a:null,this.url=null!=s?s:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),u=function(t){function e(){t.call(this,{status:200,statusText:"Ok",type:i.d.Default,headers:new o.a})}return a(e,t),e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]},e}(s)},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return a.a.Get;case"POST":return a.a.Post;case"PUT":return a.a.Put;case"DELETE":return a.a.Delete;case"OPTIONS":return a.a.Options;case"HEAD":return a.a.Head;case"PATCH":return a.a.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}function i(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):void 0}function o(t){for(var e=new Uint16Array(t.length),n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}var a=n(67);e.b=r,n.d(e,"d",function(){return s}),e.c=i,e.a=o;var s=function(t){return t>=200&&t<300}},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 * @param {?=} rawParams
 * @return {?}
 */
function r(t){void 0===t&&(t="");var e=new Map;if(t.length>0){var n=t.split("&");n.forEach(function(t){var n=t.indexOf("="),r=n==-1?[t,""]:[t.slice(0,n),t.slice(n+1)],i=r[0],o=r[1],a=e.get(i)||[];a.push(o),e.set(i,a)})}return e}function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}n.d(e,"a",function(){return a});var o=function(){function t(){}return t.prototype.encodeKey=function(t){return i(t)},t.prototype.encodeValue=function(t){return i(t)},t}(),a=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new o),this.rawParams=t,this.queryEncoder=e,this.paramsMap=r(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0===e||null===e)return void this.delete(t);var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0,r.push(t[0]),e.paramsMap.set(n,r)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var r=e.paramsMap.get(n)||[],i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0;for(var i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,r){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(r)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=new r.OpaqueToken("DocumentToken")},function(t,e,n){"use strict";n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(){this._outlets={}}return t.prototype.registerOutlet=function(t,e){this._outlets[t]=e},t.prototype.removeOutlet=function(t){this._outlets[t]=void 0},t}()},function(t,e,n){"use strict";var r=n(0),i=n(304);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.toastrService=t}return t.prototype.addSuccessNotification=function(t){},t.prototype.addErrorNotification=function(t){this.toastrService.error("Something went wrong :(",t)},t.prototype.addAnnouncementNotification=function(t,e){this.toastrService.info("Just to let you know!",t,e)},t.prototype.addHintNotification=function(t){this.toastrService.warning("Just to let you know!",t)},t.prototype.addStaticNotification=function(t){this.toastrService.success("Hello world!",t)},t=o([n.i(r.Injectable)(),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},,,,,,,,,,function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function i(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=i()?Object.assign:function(t,e){for(var n,i,u=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)a.call(n,l)&&(u[l]=n[l]);if(o){i=o(n);for(var h=0;h<i.length;h++)s.call(n,i[h])&&(u[i[h]]=n[i[h]])}}return u}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(11),o=n(20),a=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return r(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.Subject);e.AsyncSubject=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(11),o=n(463),a=n(20),s=n(296),u=n(201),c=n(445),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=r,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n}return r(e,t),e.prototype.next=function(e){var n=this._getNow();this._events.push(new h(n,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError?e=a.Subscription.EMPTY:this.isStopped?e=a.Subscription.EMPTY:(this.observers.push(t),e=new c.SubjectSubscription(this,t)),r&&t.add(t=new s.ObserveOnSubscriber(t,r));for(var i=n.length,o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.Subject);e.ReplaySubject=l;var h=function(){function t(t,e){this.time=t,this.value=e}return t}()},function(t,e,n){"use strict";var r=n(448);e.from=r.FromObservable.create},function(t,e,n){"use strict";var r=n(449);e.fromPromise=r.PromiseObservable.create},function(t,e,n){"use strict";function r(t,e){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new a(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.reduce=r;var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}();e.ReduceOperator=a;var s=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this.hasSeed=i,this.index=0,this.hasValue=!1,this.acc=r,this.hasSeed||this.index++}return i(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t,this.index++)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(o.Subscriber);e.ReduceSubscriber=s},function(t,e,n){"use strict";var r=n(24),i=r.root.Symbol;e.$$rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber"},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ArgumentOutOfRangeError=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=i},function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r},function(t,e,n){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},function(t,e,n){"use strict";function r(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}function i(t){return t.replace(/\/index.html$/,"")}var o=n(0),a=n(147);n.d(e,"a",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=function(){function t(e){var n=this;this._subject=new o.EventEmitter,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(i(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(r(this._baseHref,i(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){return t.replace(/\/$/,"")},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:a.a}]},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.getBaseHrefFromDOM=function(){},t.prototype.onPopState=function(t){},t.prototype.onHashChange=function(t){},Object.defineProperty(t.prototype,"pathname",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.replaceState=function(t,e,n){},t.prototype.pushState=function(t,e,n){},t.prototype.forward=function(){},t.prototype.back=function(){},t}()},function(t,e,n){"use strict";function r(t,e){return e.dependencies.forEach(function(e){if(e instanceof _.a){var r=e;r.placeholder.reference=t.getStaticSymbol(o(n.i(y.i)(r.comp)),e.name)}else if(e instanceof _.b){var i=e;i.placeholder.reference=t.getStaticSymbol(o(n.i(y.i)(i.comp)),a(i.comp))}else if(e instanceof _.c){var s=e;s.placeholder.reference=t.getStaticSymbol(o(n.i(y.i)(s.dir)),s.name)}}),e.statements}function i(t,e,n){return e.dependencies.forEach(function(e){e.valuePlaceholder.reference=t.getStaticSymbol(s(e.moduleUrl,e.isShimmed,n),e.name)}),e.statements}function o(t){var e=c(t);return e[0]+".ngfactory"+e[1]}function a(t){return n.i(y.a)(t)+"NgFactory"}function s(t,e,n){return""+t+(e?".shim":"")+".ngstyle"+n}function u(t){if(!t.isComponent)throw new Error("Could not compile '"+n.i(y.a)(t.type)+"' because it is not a component.")}function c(t){if(t.endsWith(".d.ts"))return[t.slice(0,-5),".ts"];var e=t.lastIndexOf(".");return e!==-1?[t.substring(0,e),t.substring(e)]:[t,""]}function l(t,e,n){var r=d(t,e,n),i=r.ngModules,o=r.symbolsMissingModule;return p(t,i,o,n)}function h(t,e,n){var r=l(t,e,n);if(r.symbolsMissingModule&&r.symbolsMissingModule.length){var i=r.symbolsMissingModule.map(function(t){return"Cannot determine the module for class "+t.name+" in "+t.filePath+"!"});throw new Error(i.join("\n"))}return r}function p(t,e,n,r){var i=new Map;e.forEach(function(t){return i.set(t.type.reference,t)});var o=new Map,a=new Map,s=new Map,u=new Map,c=new Map,l=new Set;t.forEach(function(t){var e=t.filePath;l.add(e),r.isInjectable(t)&&c.set(e,(c.get(e)||[]).concat(t))}),e.forEach(function(t){var e=t.type.reference.filePath;l.add(e),a.set(e,(a.get(e)||[]).concat(t.type.reference)),t.declaredDirectives.forEach(function(e){var n=e.reference.filePath;l.add(n),s.set(n,(s.get(n)||[]).concat(e.reference)),o.set(e.reference,t)}),t.declaredPipes.forEach(function(e){var n=e.reference.filePath;l.add(n),u.set(n,(u.get(n)||[]).concat(e.reference)),o.set(e.reference,t)})});var h=[];return l.forEach(function(t){var e=s.get(t)||[],n=u.get(t)||[],r=a.get(t)||[],i=c.get(t)||[];h.push({srcUrl:t,directives:e,pipes:n,ngModules:r,injectables:i})}),{ngModuleByPipeOrDirective:o,files:h,ngModules:e,symbolsMissingModule:n}}function f(t,e,n){var r=[];return e.filter(function(t){return n.isSourceFile(t)}).forEach(function(e){t.getSymbolsOf(e).forEach(function(e){var n=t.resolveSymbol(e),i=n.metadata;i&&"error"!=i.__symbolic&&r.push(n.symbol)})}),r}function d(t,e,n){var r=new Map,i=[],o=new Set,a=function(t){if(r.has(t)||!e.isSourceFile(t.filePath))return!1;var i=n.getNgModuleMetadata(t,!1);return i&&(r.set(i.type.reference,i),i.declaredDirectives.forEach(function(t){return o.add(t.reference)}),i.declaredPipes.forEach(function(t){return o.add(t.reference)}),i.transitiveModule.modules.forEach(function(t){return a(t.reference)})),!!i};t.forEach(function(t){a(t)||!n.isDirective(t)&&!n.isPipe(t)||i.push(t)});var s=i.filter(function(t){return!o.has(t)});return{ngModules:Array.from(r.values()),symbolsMissingModule:s}}var m=n(310),y=n(13),v=n(72),g=n(16),b=n(9),_=n(114),x=n(511),w=n(311);n.d(e,"c",function(){return C}),e.b=h,e.a=f;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var C=function(){function t(t,e,n,r,i,o,a,s,u,c,l,h,p){this._host=t,this._metadataResolver=e,this._templateParser=n,this._styleCompiler=r,this._viewCompiler=i,this._dirWrapperCompiler=o,this._ngModuleCompiler=a,this._outputEmitter=s,this._summaryResolver=u,this._localeId=c,this._translationFormat=l,this._animationParser=h,this._symbolResolver=p,this._animationCompiler=new m.a}return t.prototype.clearCache=function(){this._metadataResolver.clearCache()},t.prototype.compileAll=function(t){var e=this,n=f(this._symbolResolver,t,this._host),r=h(n,this._host,this._metadataResolver),i=r.ngModuleByPipeOrDirective,o=r.files,a=r.ngModules;return Promise.all(a.map(function(t){return e._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){var t=o.map(function(t){return e._compileSrcFile(t.srcUrl,i,t.directives,t.pipes,t.ngModules,t.injectables)});return v.b.flatten(t)})},t.prototype._compileSrcFile=function(t,e,r,i,a,s){var l=this,h=c(t)[1],p=[],f=[],d=[];if(d.push(this._createSummary(t,r,i,a,s)),f.push.apply(f,a.map(function(t){return l._compileModule(t,p)})),f.push.apply(f,r.map(function(t){return l._compileDirectiveWrapper(t,p)})),r.forEach(function(r){var i=l._metadataResolver.getDirectiveMetadata(r);if(!i.isComponent)return Promise.resolve(null);var o=e.get(r);if(!o)throw new Error("Internal Error: cannot determine the module for component "+n.i(y.a)(i.type)+"!");u(i);var a=l._styleCompiler.compileComponent(i);a.externalStylesheets.forEach(function(e){d.push(l._codgenStyles(t,e,h))}),f.push(l._compileComponentFactory(i,o,h,p),l._compileComponent(i,o,o.transitiveModule.directives,a.componentStylesheet,h,p))}),p.length>0){var m=this._codegenSourceModule(t,o(t),p,f);d.unshift(m)}return d},t.prototype._createSummary=function(t,e,r,i,o){var a=this,s=this._symbolResolver.getSymbolsOf(t).map(function(t){return a._symbolResolver.resolveSymbol(t)}),u=i.map(function(t){return a._metadataResolver.getNgModuleSummary(t)}).concat(e.map(function(t){return a._metadataResolver.getDirectiveSummary(t)}),r.map(function(t){return a._metadataResolver.getPipeSummary(t)}),o.map(function(t){return a._metadataResolver.getInjectableSummary(t)})),c=n.i(w.c)(this._host,this._summaryResolver,this._symbolResolver,s,u);return new x.a(t,n.i(w.a)(t),c)},t.prototype._compileModule=function(t,e){var r=this,i=this._metadataResolver.getNgModuleMetadata(t),s=[];this._localeId&&s.push({token:n.i(g.f)(g.b.LOCALE_ID),useValue:this._localeId}),this._translationFormat&&s.push({token:n.i(g.f)(g.b.TRANSLATIONS_FORMAT),useValue:this._translationFormat});var u=this._ngModuleCompiler.compile(i,s);return u.dependencies.forEach(function(t){t.placeholder.reference=r._symbolResolver.getStaticSymbol(o(n.i(y.i)(t.comp)),a(t.comp))}),e.push.apply(e,u.statements),u.ngModuleFactoryVar},t.prototype._compileDirectiveWrapper=function(t,e){var n=this._metadataResolver.getDirectiveMetadata(t),r=this._dirWrapperCompiler.compile(n);return e.push.apply(e,r.statements),r.dirWrapperClassVar},t.prototype._compileComponentFactory=function(t,e,r,i){var o=n.i(y.v)(this._symbolResolver.getStaticSymbol(n.i(y.i)(t.type),n.i(y.a)(t.type)+"_Host"),t),s=this._compileComponent(o,e,[t.type],null,r,i),u=a(t.type);return i.push(b.a(u).set(b.g(n.i(g.a)(g.b.ComponentFactory),[b.d(t.type)]).instantiate([b.f(t.selector),b.a(s),b.g(t.type)],b.d(n.i(g.a)(g.b.ComponentFactory),[b.d(t.type)],[b.j.Const]))).toDeclStmt(null,[b.k.Final])),u},t.prototype._compileComponent=function(t,e,o,a,s,u){var c=this,l=this._animationParser.parseComponent(t),h=o.map(function(t){return c._metadataResolver.getDirectiveSummary(t.reference)}),p=e.transitiveModule.pipes.map(function(t){return c._metadataResolver.getPipeSummary(t.reference)}),f=this._templateParser.parse(t,t.template.template,h,p,e.schemas,n.i(y.a)(t.type)),d=a?b.a(a.stylesVar):b.h([]),m=this._animationCompiler.compile(n.i(y.a)(t.type),l),v=this._viewCompiler.compileComponent(t,f,d,p,m);return a&&u.push.apply(u,i(this._symbolResolver,a,s)),m.forEach(function(t){return u.push.apply(u,t.statements)}),u.push.apply(u,r(this._symbolResolver,v)),v.viewClassVar},t.prototype._codgenStyles=function(t,e,n){return i(this._symbolResolver,e,n),this._codegenSourceModule(t,s(e.meta.moduleUrl,e.isShimmed,n),e.statements,[e.stylesVar])},t.prototype._codegenSourceModule=function(t,e,n,r){return new x.a(t,e,this._outputEmitter.emitStatements(e,n,r))},t}()},function(t,e,n){"use strict";function r(t){return"object"==typeof t&&t.name&&t.filePath}var i=n(14);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t){this.staticDelegate=t,this.dynamicDelegate=new i.L}return t.install=function(e){i.c.updateCapabilities(new t(e))},t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return this.dynamicDelegate.factory(t)},t.prototype.hasLifecycleHook=function(t,e){return r(t)?this.staticDelegate.hasLifecycleHook(t,e):this.dynamicDelegate.hasLifecycleHook(t,e)},t.prototype.parameters=function(t){return r(t)?this.staticDelegate.parameters(t):this.dynamicDelegate.parameters(t)},t.prototype.annotations=function(t){return r(t)?this.staticDelegate.annotations(t):this.dynamicDelegate.annotations(t)},t.prototype.propMetadata=function(t){return r(t)?this.staticDelegate.propMetadata(t):this.dynamicDelegate.propMetadata(t)},t.prototype.getter=function(t){return this.dynamicDelegate.getter(t)},t.prototype.setter=function(t){return this.dynamicDelegate.setter(t)},t.prototype.method=function(t){return this.dynamicDelegate.method(t)},t.prototype.importUri=function(t){return this.staticDelegate.importUri(t)},t.prototype.resolveIdentifier=function(t,e,n){return this.staticDelegate.resolveIdentifier(t,e)},t.prototype.resolveEnum=function(t,e){return r(t)?this.staticDelegate.resolveEnum(t,e):null},t}()},function(t,e,n){"use strict";function r(t){switch(t.message){case"Reference to non-exported class":if(t.context&&t.context.className)return"Reference to a non-exported class "+t.context.className+". Consider exporting the class";break;case"Variable not initialized":return"Only initialized variables and constants can be referenced because the value of this variable is needed by the template compiler";case"Destructuring not supported":return"Referencing an exported destructured variable or constant is not supported by the template compiler. Consider simplifying this to avoid destructuring";case"Could not resolve type":if(t.context&&t.context.typeName)return"Could not resolve type "+t.context.typeName;break;case"Function call not supported":var e=t.context&&t.context.name?"Calling function '"+t.context.name+"', f":"F";return e+"unction calls are not supported. Consider replacing the function or lambda with a reference to an exported function";case"Reference to a local symbol":if(t.context&&t.context.name)return"Reference to a local (non-exported) symbol '"+t.context.name+"'. Consider exporting the symbol"}return t.message}function i(t){return"Error encountered resolving symbol values statically. "+r(t)}function o(t,e){if(!t)return{};var n={};return Object.keys(t).forEach(function(r){var i=e(t[r],r);s(i)||(d.test(r)?Object.defineProperty(n,r,{enumerable:!1,configurable:!0,value:i}):n[r]=i)}),n}function a(t){return null===t||"function"!=typeof t&&"object"!=typeof t}function s(t){return t&&"ignore"==t.__symbolic}function u(t,e,n,r){var i=new Error(t);return i.fileName=e,i.line=n,i.column=r,i}var c=n(0),l=n(29),h=n(61);n.d(e,"a",function(){return m});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var p=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},f={coreDecorators:"@angular/core/src/metadata",diDecorators:"@angular/core/src/di/metadata",diMetadata:"@angular/core/src/di/metadata",diOpaqueToken:"@angular/core/src/di/opaque_token",animationMetadata:"@angular/core/src/animation/metadata",provider:"@angular/core/src/di/provider"},d=/^\$.*\$$/,m=function(){function t(t,e,n,r){var i=this;void 0===e&&(e=[]),void 0===n&&(n=[]),this.symbolResolver=t,this.errorRecorder=r,this.annotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.conversionMap=new Map,this.initializeConversionMap(),e.forEach(function(t){return i._registerDecoratorOrConstructor(i.getStaticSymbol(t.filePath,t.name),t.ctor)}),n.forEach(function(t){return i._registerFunction(i.getStaticSymbol(t.filePath,t.name),t.fn)})}return t.prototype.importUri=function(t){var e=this.findSymbolDeclaration(t);return e?e.filePath:null},t.prototype.resolveIdentifier=function(t,e){return this.findDeclaration(e,t)},t.prototype.findDeclaration=function(t,e,n){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(t,e,n))},t.prototype.findSymbolDeclaration=function(t){var e=this.symbolResolver.resolveSymbol(t);return e&&e.metadata instanceof h.a?this.findSymbolDeclaration(e.metadata):t},t.prototype.resolveEnum=function(t,e){var n=t;return this.getStaticSymbol(n.filePath,n.name,[e])},t.prototype.annotations=function(t){var e=this.annotationCache.get(t);if(!e){e=[];var n=this.getTypeMetadata(t);if(n.extends){var r=this.annotations(this.simplify(t,n.extends));e.push.apply(e,r)}if(n.decorators){var i=this.simplify(t,n.decorators);e.push.apply(e,i)}this.annotationCache.set(t,e.filter(function(t){return!!t}))}return e},t.prototype.propMetadata=function(t){var e=this,n=this.propertyCache.get(t);if(!n){var r=this.getTypeMetadata(t);if(n={},r.extends){var i=this.propMetadata(this.simplify(t,r.extends));Object.keys(i).forEach(function(t){n[t]=i[t]})}var o=r.members||{};Object.keys(o).forEach(function(r){var i=o[r],a=i.find(function(t){return"property"==t.__symbolic||"method"==t.__symbolic}),s=[];n[r]&&s.push.apply(s,n[r]),n[r]=s,a&&a.decorators&&s.push.apply(s,e.simplify(t,a.decorators))}),this.propertyCache.set(t,n)}return n},t.prototype.parameters=function(t){if(!(t instanceof h.a))return this.reportError(new Error("parameters received "+JSON.stringify(t)+" which is not a StaticSymbol"),t),[];try{var e=this.parameterCache.get(t);if(!e){var n=this.getTypeMetadata(t),r=n?n.members:null,i=r?r.__ctor__:null;if(i){var o=i.find(function(t){return"constructor"==t.__symbolic}),a=this.simplify(t,o.parameters||[]),s=this.simplify(t,o.parameterDecorators||[]);e=[],a.forEach(function(t,n){var r=[];t&&r.push(t);var i=s?s[n]:null;i&&r.push.apply(r,i),e.push(r)})}else n.extends&&(e=this.parameters(this.simplify(t,n.extends)));e||(e=[]),this.parameterCache.set(t,e)}return e}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype._methodNames=function(t){var e=this.methodCache.get(t);if(!e){var n=this.getTypeMetadata(t);if(e={},n.extends){var r=this._methodNames(this.simplify(t,n.extends));Object.keys(r).forEach(function(t){e[t]=r[t]})}var i=n.members||{};Object.keys(i).forEach(function(t){var n=i[t],r=n.some(function(t){return"method"==t.__symbolic});e[t]=e[t]||r}),this.methodCache.set(t,e)}return e},t.prototype.hasLifecycleHook=function(t,e){t instanceof h.a||this.reportError(new Error("hasLifecycleHook received "+JSON.stringify(t)+" which is not a StaticSymbol"),t);try{return!!this._methodNames(t)[e]}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype._registerDecoratorOrConstructor=function(t,e){this.conversionMap.set(t,function(t,n){return new(e.bind.apply(e,[void 0].concat(n)))})},t.prototype._registerFunction=function(t,e){this.conversionMap.set(t,function(t,n){return e.apply(void 0,n)})},t.prototype.initializeConversionMap=function(){var t=f.coreDecorators,e=f.diDecorators,n=f.diMetadata,r=f.diOpaqueToken,i=f.animationMetadata;f.provider;this.opaqueToken=this.findDeclaration(r,"OpaqueToken"),this._registerDecoratorOrConstructor(this.findDeclaration(e,"Host"),c.Host),this._registerDecoratorOrConstructor(this.findDeclaration(e,"Injectable"),c.Injectable),this._registerDecoratorOrConstructor(this.findDeclaration(e,"Self"),c.Self),this._registerDecoratorOrConstructor(this.findDeclaration(e,"SkipSelf"),c.SkipSelf),this._registerDecoratorOrConstructor(this.findDeclaration(e,"Inject"),c.Inject),this._registerDecoratorOrConstructor(this.findDeclaration(e,"Optional"),c.Optional),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Attribute"),c.Attribute),this._registerDecoratorOrConstructor(this.findDeclaration(t,"ContentChild"),c.ContentChild),this._registerDecoratorOrConstructor(this.findDeclaration(t,"ContentChildren"),c.ContentChildren),this._registerDecoratorOrConstructor(this.findDeclaration(t,"ViewChild"),c.ViewChild),this._registerDecoratorOrConstructor(this.findDeclaration(t,"ViewChildren"),c.ViewChildren),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Input"),c.Input),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Output"),c.Output),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Pipe"),c.Pipe),this._registerDecoratorOrConstructor(this.findDeclaration(t,"HostBinding"),c.HostBinding),this._registerDecoratorOrConstructor(this.findDeclaration(t,"HostListener"),c.HostListener),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Directive"),c.Directive),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Component"),c.Component),this._registerDecoratorOrConstructor(this.findDeclaration(t,"NgModule"),c.NgModule),this._registerDecoratorOrConstructor(this.findDeclaration(n,"Host"),c.Host),this._registerDecoratorOrConstructor(this.findDeclaration(n,"Self"),c.Self),this._registerDecoratorOrConstructor(this.findDeclaration(n,"SkipSelf"),c.SkipSelf),this._registerDecoratorOrConstructor(this.findDeclaration(n,"Optional"),c.Optional),this._registerFunction(this.findDeclaration(i,"trigger"),c.trigger),this._registerFunction(this.findDeclaration(i,"state"),c.state),this._registerFunction(this.findDeclaration(i,"transition"),c.transition),this._registerFunction(this.findDeclaration(i,"style"),c.style),this._registerFunction(this.findDeclaration(i,"animate"),c.animate),this._registerFunction(this.findDeclaration(i,"keyframes"),c.keyframes),this._registerFunction(this.findDeclaration(i,"sequence"),c.sequence),this._registerFunction(this.findDeclaration(i,"group"),c.group)},t.prototype.getStaticSymbol=function(t,e,n){return this.symbolResolver.getStaticSymbol(t,e,n)},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;this.errorRecorder(t,e&&e.filePath||n)},t.prototype.simplify=function(t,e){function n(t,e,r){function d(t){var e=c.symbolResolver.resolveSymbol(t);return e?e.metadata:null}function m(e,i,o){if(i&&"function"==i.__symbolic){if(f.get(e))throw new Error("Recursion not supported");f.set(e,!0);try{var a=i.value;if(a&&(0!=r||"error"!=a.__symbolic)){var s=i.parameters,u=i.defaults;o=o.map(function(e){return n(t,e,r+1)}),u&&u.length>o.length&&o.push.apply(o,u.slice(o.length).map(function(t){return v(t)}));for(var c=y.build(),l=0;l<s.length;l++)c.define(s[l],o[l]);var h,d=p;try{p=c.done(),h=n(e,a,r+1)}finally{p=d}return h}}finally{f.delete(e)}}return 0===r?{__symbolic:"ignore"}:v({__symbolic:"error",message:"Function call not supported",context:e})}function v(e){if(a(e))return e;if(e instanceof Array){for(var l=[],f=0,g=e;f<g.length;f++){var b=g[f];if(b&&"spread"===b.__symbolic){var _=v(b.expression);if(Array.isArray(_)){for(var x=0,w=_;x<w.length;x++){var C=w[x];l.push(C)}continue}}var S=v(b);s(S)||l.push(S)}return l}if(e instanceof h.a){if(e===c.opaqueToken||c.conversionMap.has(e))return e;var E=e,T=d(E);return T?n(E,T,r+1):E}if(e){if(e.__symbolic){var E=void 0;switch(e.__symbolic){case"binop":var M=v(e.left);if(s(M))return M;var A=v(e.right);if(s(A))return A;switch(e.operator){case"&&":return M&&A;case"||":return M||A;case"|":return M|A;case"^":return M^A;case"&":return M&A;case"==":return M==A;case"!=":return M!=A;case"===":return M===A;case"!==":return M!==A;case"<":return M<A;case">":return M>A;case"<=":return M<=A;case">=":return M>=A;case"<<":return M<<A;case">>":return M>>A;case"+":return M+A;case"-":return M-A;case"*":return M*A;case"/":return M/A;case"%":return M%A}return null;case"if":var P=v(e.condition);return v(P?e.thenExpression:e.elseExpression);case"pre":var k=v(e.operand);if(s(k))return k;switch(e.operator){case"+":return k;case"-":return-k;case"!":return!k;case"~":return~k}return null;case"index":var R=v(e.expression),O=v(e.index);return R&&a(O)?R[O]:null;case"select":var I=e.member,N=t,D=v(e.expression);if(D instanceof h.a){var L=D.members.concat(I);N=c.getStaticSymbol(D.filePath,D.name,L);var T=d(N);return T?n(N,T,r+1):N}return D&&a(I)?n(N,D[I],r+1):null;case"reference":var V=e.name,F=p.resolve(V);if(F!=y.missing)return F;break;case"class":return t;case"function":return t;case"new":case"call":if(E=n(t,e.expression,r+1),E instanceof h.a){if(E===c.opaqueToken)return t;var j=e.arguments||[],B=c.conversionMap.get(E);if(B){var U=j.map(function(e){return n(t,e,r+1)});return B(t,U)}var z=d(E);return m(E,z,j)}break;case"error":var H=i(e);if(e.line)throw H=H+" (position "+(e.line+1)+":"+(e.character+1)+" in the original .ts file)",u(H,t.filePath,e.line,e.character);throw new Error(H)}return null}return o(e,function(t,e){return v(t)})}return null}try{return v(e)}catch(e){var g=t.members.length?"."+t.members.join("."):"",b=e.message+", resolving symbol "+t.name+g+" in "+t.filePath;if(e.fileName)throw u(b,e.fileName,e.line,e.column);throw new l.e(b)}}var r=this,c=this,p=y.empty,f=new Map,d=function(t,e,i){try{return n(t,e,i)}catch(e){r.reportError(e,t)}},m=this.errorRecorder?d(t,e,0):n(t,e,0);if(!s(m))return m},t.prototype.getTypeMetadata=function(t){var e=this.symbolResolver.resolveSymbol(t);return e&&e.metadata?e.metadata:{__symbolic:"class"}},t}(),y=function(){function t(){}return t.prototype.resolve=function(t){},t.build=function(){var e=new Map;return{define:function(t,n){return e.set(t,n),this},done:function(){return e.size>0?new v(e):t.empty}}},t.missing={},t.empty={resolve:function(e){return t.missing}},t}(),v=function(t){function e(e){t.call(this),this.bindings=e}return p(e,t),e.prototype.resolve=function(t){return this.bindings.has(t)?this.bindings.get(t):y.missing},e}(y)},function(t,e,n){"use strict";var r=n(29),i=n(61);n.d(e,"a",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(){function t(t,e){this.symbol=t,this.metadata=e}return t}(),s=3,u=function(){function t(t,e,n,r){this.host=t,this.staticSymbolCache=e,this.summaryResolver=n,this.errorRecorder=r,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.resolvedFilePaths=new Set}return t.prototype.resolveSymbol=function(t){if(t.members.length>0)return this._resolveSymbolMembers(t);var e=this._resolveSymbolFromSummary(t);return e||(this._createSymbolsOf(t.filePath),e=this.resolvedSymbols.get(t)),e},t.prototype._resolveSymbolMembers=function(t){var e=t.members,n=this.resolveSymbol(this.getStaticSymbol(t.filePath,t.name));if(!n)return null;var r=n.metadata;if(r instanceof i.a)return new a(t,this.getStaticSymbol(r.filePath,r.name,e));if(!r||"class"!==r.__symbolic){for(var o=r,s=0;s<e.length&&o;s++)o=o[e[s]];return new a(t,o)}return r.statics&&1===e.length?new a(t,r.statics[e[0]]):null},t.prototype._resolveSymbolFromSummary=function(t){var e=this.summaryResolver.resolveSummary(t);return e?new a(t,e.metadata):null},t.prototype.getStaticSymbol=function(t,e,n){return this.staticSymbolCache.get(t,e,n)},t.prototype.getSymbolsOf=function(t){var e=new Set(this.summaryResolver.getSymbolsOf(t));return this._createSymbolsOf(t),this.resolvedSymbols.forEach(function(n){n.symbol.filePath===t&&e.add(n.symbol)}),Array.from(e)},t.prototype._createSymbolsOf=function(t){var e=this;if(!this.resolvedFilePaths.has(t)){this.resolvedFilePaths.add(t);var n=[],r=this.getModuleMetadata(t);if(r.metadata&&Object.keys(r.metadata).forEach(function(i){var o=r.metadata[i];n.push(e.createResolvedSymbol(e.getStaticSymbol(t,i),o))}),r.exports)for(var i=function(r){if(r.export)r.export.forEach(function(i){var o;o="string"==typeof i?i:i.as;var s=o;"string"!=typeof i&&(s=i.name);var u=e.resolveModule(r.from,t);if(u){var c=e.getStaticSymbol(u,s),l=e.getStaticSymbol(t,o);n.push(new a(l,c))}});else{var i=o.resolveModule(r.from,t);if(i){var s=o.getSymbolsOf(i);s.forEach(function(r){var i=e.getStaticSymbol(t,r.name);n.push(new a(i,r))})}}},o=this,s=0,u=r.exports;s<u.length;s++){var c=u[s];i(c)}n.forEach(function(t){return e.resolvedSymbols.set(t.symbol,t)})}},t.prototype.createResolvedSymbol=function(t,e){var i=this,s=function(e){function n(){e.apply(this,arguments)}return o(n,e),n.prototype.visitStringMap=function(n,r){var o=n.__symbolic;if("function"===o){var a=r.length;r.push.apply(r,n.parameters||[]);var s=e.prototype.visitStringMap.call(this,n,r);return r.length=a,s}if("reference"===o){var u=n.module,c=n.name;if(!c)return null;var l=void 0;if(u){if(l=i.resolveModule(u,t.filePath),!l)return{__symbolic:"error",message:"Could not resolve "+u+" relative to "+t.filePath+"."}}else{var h=r.indexOf(c)>=0;h||(l=t.filePath)}return l?i.getStaticSymbol(l,c):{__symbolic:"reference",name:c}}return e.prototype.visitStringMap.call(this,n,r)},n}(r.g),u=n.i(r.b)(e,new s,[]);return new a(t,u)},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;this.errorRecorder(t,e&&e.filePath||n)},t.prototype.getModuleMetadata=function(t){var e=this.metadataCache.get(t);if(!e){var n=this.host.getMetadataFor(t);if(n){var r=-1;n.forEach(function(t){t.version>r&&(r=t.version,e=t)})}if(e||(e={__symbolic:"module",version:s,module:t,metadata:{}}),e.version!=s){var i=2==e.version?"Unsupported metadata version "+e.version+" for module "+t+". This module should be compiled with a newer version of ngc":"Metadata version mismatch for module "+t+", found version "+e.version+", expected "+s;this.reportError(new Error(i),null)}this.metadataCache.set(t,e)}return e},t.prototype.getSymbolByModule=function(t,e,n){var r=this.resolveModule(t,n);return r?this.getStaticSymbol(r,e):(this.reportError(new Error("Could not resolve module "+t+(n?" relative to $ {\n            containingFile\n          } ":"")),null),this.getStaticSymbol("ERROR:"+t,e))},t.prototype.resolveModule=function(t,e){try{return this.host.moduleNameToFileName(t,e)}catch(n){console.error("Could not resolve module '"+t+"' relative to file "+e),this.reportError(new n,null,e)}},t}()},function(t,e,n){"use strict";var r=n(311);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t,e){this.host=t,this.staticSymbolCache=e,this.summaryCache=new Map,this.loadedFilePaths=new Set}return t.prototype._assertNoMembers=function(t){if(t.members.length)throw new Error("Internal state: StaticSymbols in summaries can't have members! "+JSON.stringify(t))},t.prototype.resolveSummary=function(t){this._assertNoMembers(t);var e=this.summaryCache.get(t);return e||(this._loadSummaryFile(t.filePath),e=this.summaryCache.get(t)),e},t.prototype.getSymbolsOf=function(t){return this._loadSummaryFile(t),Array.from(this.summaryCache.keys()).filter(function(e){return e.filePath===t})},t.prototype._loadSummaryFile=function(t){var e=this;if(!this.loadedFilePaths.has(t)&&(this.loadedFilePaths.add(t),!this.host.isSourceFile(t))){var i=n.i(r.a)(t),o=void 0;try{o=this.host.loadSummary(i)}catch(t){throw console.error("Error loading summary file "+i),t}if(o){var a=n.i(r.b)(this.staticSymbolCache,o);a.forEach(function(t){e.summaryCache.set(t.symbol,t)})}}},t}()},function(t,e,n){"use strict";var r=n(6);n.d(e,"g",function(){return o}),n.d(e,"i",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"t",function(){return l}),n.d(e,"l",function(){return h}),n.d(e,"n",function(){return p}),n.d(e,"c",function(){return f}),n.d(e,"x",function(){return d}),n.d(e,"w",function(){return m}),n.d(e,"r",function(){return y}),n.d(e,"q",function(){return v}),n.d(e,"m",function(){return g}),n.d(e,"k",function(){return b}),n.d(e,"u",function(){return _}),n.d(e,"v",function(){return x}),n.d(e,"j",function(){return w}),n.d(e,"o",function(){return C}),n.d(e,"p",function(){return S}),n.d(e,"b",function(){return E}),n.d(e,"a",function(){return T}),n.d(e,"s",function(){return M}),n.d(e,"f",function(){return A}),n.d(e,"y",function(){return P}),n.d(e,"e",function(){return k});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(){function t(t,e,n,r){this.input=e,this.errLocation=n,this.ctxLocation=r,this.message="Parser Error: "+t+" "+n+" ["+e+"] in "+r}return t}(),a=function(){function t(t,e){this.start=t,this.end=e}return t}(),s=function(){function t(t){this.span=t}return t.prototype.visit=function(t,e){return void 0===e&&(e=null),null},t.prototype.toString=function(){return"AST"},t}(),u=function(t){function e(e,n,r,i){t.call(this,e),this.prefix=n,this.uninterpretedExpression=r,this.location=i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitQuote(this,e)},e.prototype.toString=function(){return"Quote"},e}(s),c=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.visit=function(t,e){void 0===e&&(e=null)},e}(s),l=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitImplicitReceiver(this,e)},e}(s),h=function(t){function e(e,n){t.call(this,e),this.expressions=n}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitChain(this,e)},e}(s),p=function(t){function e(e,n,r,i){t.call(this,e),this.condition=n,this.trueExp=r,this.falseExp=i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitConditional(this,e)},e}(s),f=function(t){function e(e,n,r){t.call(this,e),this.receiver=n,this.name=r}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyRead(this,e)},e}(s),d=function(t){function e(e,n,r,i){t.call(this,e),this.receiver=n,this.name=r,this.value=i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyWrite(this,e)},e}(s),m=function(t){function e(e,n,r){t.call(this,e),this.receiver=n,this.name=r}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafePropertyRead(this,e)},e}(s),y=function(t){function e(e,n,r){t.call(this,e),this.obj=n,this.key=r}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedRead(this,e)},e}(s),v=function(t){function e(e,n,r,i){t.call(this,e),this.obj=n,this.key=r,this.value=i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedWrite(this,e)},e}(s),g=function(t){function e(e,n,r,i){t.call(this,e),this.exp=n,this.name=r,this.args=i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPipe(this,e)},e}(s),b=function(t){function e(e,n){t.call(this,e),this.value=n}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralPrimitive(this,e)},e}(s),_=function(t){function e(e,n){t.call(this,e),this.expressions=n}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralArray(this,e)},e}(s),x=function(t){function e(e,n,r){t.call(this,e),this.keys=n,this.values=r}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralMap(this,e)},e}(s),w=function(t){function e(e,n,r){t.call(this,e),this.strings=n,this.expressions=r}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitInterpolation(this,e)},e}(s),C=function(t){function e(e,n,r,i){t.call(this,e),this.operation=n,this.left=r,this.right=i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitBinary(this,e)},e}(s),S=function(t){function e(e,n){t.call(this,e),this.expression=n}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPrefixNot(this,e)},e}(s),E=function(t){function e(e,n,r,i){t.call(this,e),this.receiver=n,this.name=r,this.args=i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitMethodCall(this,e)},e}(s),T=function(t){function e(e,n,r,i){t.call(this,e),this.receiver=n,this.name=r,this.args=i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafeMethodCall(this,e)},e}(s),M=function(t){function e(e,n,r){t.call(this,e),this.target=n,this.args=r}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitFunctionCall(this,e)},e}(s),A=function(t){function e(e,i,o,s){t.call(this,new a(0,n.i(r.d)(i)?0:i.length)),this.ast=e,this.source=i,this.location=o,this.errors=s}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),this.ast.visit(t,e)},e.prototype.toString=function(){return this.source+" in "+this.location},e}(s),P=function(){function t(t,e,n,r,i){this.span=t,this.key=e,this.keyIsVar=n,this.name=r,this.expression=i}return t}(),k=function(){function t(){}return t.prototype.visitBinary=function(t,e){return t.left.visit(this),t.right.visit(this),null},t.prototype.visitChain=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this),null},t.prototype.visitPipe=function(t,e){return t.exp.visit(this),this.visitAll(t.args,e),null},t.prototype.visitFunctionCall=function(t,e){return t.target.visit(this),this.visitAll(t.args,e),null},t.prototype.visitImplicitReceiver=function(t,e){return null},t.prototype.visitInterpolation=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitKeyedRead=function(t,e){return t.obj.visit(this),t.key.visit(this),null},t.prototype.visitKeyedWrite=function(t,e){return t.obj.visit(this),t.key.visit(this),t.value.visit(this),null},t.prototype.visitLiteralArray=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitLiteralMap=function(t,e){return this.visitAll(t.values,e)},t.prototype.visitLiteralPrimitive=function(t,e){return null},t.prototype.visitMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitPrefixNot=function(t,e){return t.expression.visit(this),null},t.prototype.visitPropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitPropertyWrite=function(t,e){return t.receiver.visit(this),t.value.visit(this),null},t.prototype.visitSafePropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitSafeMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitAll=function(t,e){var n=this;return t.forEach(function(t){return t.visit(n,e)}),null},t.prototype.visitQuote=function(t,e){return null},t}();(function(){function t(){}return t.prototype.visitImplicitReceiver=function(t,e){return t},t.prototype.visitInterpolation=function(t,e){return new w(t.span,t.strings,this.visitAll(t.expressions))},t.prototype.visitLiteralPrimitive=function(t,e){return new b(t.span,t.value)},t.prototype.visitPropertyRead=function(t,e){return new f(t.span,t.receiver.visit(this),t.name)},t.prototype.visitPropertyWrite=function(t,e){return new d(t.span,t.receiver.visit(this),t.name,t.value)},t.prototype.visitSafePropertyRead=function(t,e){return new m(t.span,t.receiver.visit(this),t.name)},t.prototype.visitMethodCall=function(t,e){return new E(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitSafeMethodCall=function(t,e){return new T(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitFunctionCall=function(t,e){return new M(t.span,t.target.visit(this),this.visitAll(t.args))},t.prototype.visitLiteralArray=function(t,e){return new _(t.span,this.visitAll(t.expressions))},t.prototype.visitLiteralMap=function(t,e){return new x(t.span,t.keys,this.visitAll(t.values))},t.prototype.visitBinary=function(t,e){return new C(t.span,t.operation,t.left.visit(this),t.right.visit(this))},t.prototype.visitPrefixNot=function(t,e){return new S(t.span,t.expression.visit(this))},t.prototype.visitConditional=function(t,e){return new p(t.span,t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this))},t.prototype.visitPipe=function(t,e){return new g(t.span,t.exp.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitKeyedRead=function(t,e){return new y(t.span,t.obj.visit(this),t.key.visit(this))},t.prototype.visitKeyedWrite=function(t,e){return new v(t.span,t.obj.visit(this),t.key.visit(this),t.value.visit(this))},t.prototype.visitAll=function(t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n].visit(this);return e},t.prototype.visitChain=function(t,e){return new h(t.span,this.visitAll(t.expressions))},t.prototype.visitQuote=function(t,e){return new u(t.span,t.prefix,t.uninterpretedExpression,t.location)},t})()},function(t,e,n){"use strict";function r(t){return n.i(i.a)(t)}var i=n(315),o=n(154),a=n(320);n.d(e,"c",function(){return f}),e.a=r,n.d(e,"b",function(){return y});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u="messagebundle",c="msg",l="ph",h="ex",p='<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>',f=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.write=function(t){var e=this,n=new m,r=new d,i={},o=new a.a(u);return t.forEach(function(t){var n=e.digest(t);if(!i[n]){i[n]=!0;var s=e.createNameMapper(t),u={id:n};t.description&&(u.desc=t.description),t.meaning&&(u.meaning=t.meaning),o.children.push(new a.b(2),new a.a(c,u,r.serialize(t.nodes,{mapper:s})))}}),o.children.push(new a.b),a.c([new a.d({version:"1.0",encoding:"UTF-8"}),new a.b,new a.e(u,p),new a.b,n.addDefaultExamples(o),new a.b])},e.prototype.load=function(t,e){throw new Error("Unsupported")},e.prototype.digest=function(t){return r(t)},e.prototype.createNameMapper=function(t){return new y(t)},e}(o.a),d=function(){function t(){}return t.prototype.visitText=function(t,e){return[new a.f(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,r=[];return t.children.forEach(function(t){return r.push.apply(r,t.visit(n,e))}),r},t.prototype.visitIcu=function(t,e){var n=this,r=[new a.f("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(i){r.push.apply(r,[new a.f(i+" {")].concat(t.cases[i].visit(n,e),[new a.f("} ")]))}),r.push(new a.f("}")),r},t.prototype.visitTagPlaceholder=function(t,e){var n=new a.a(h,{},[new a.f("<"+t.tag+">")]),r=e.mapper.toPublicName(t.startName),i=new a.a(l,{name:r},[n]);if(t.isVoid)return[i];var o=new a.a(h,{},[new a.f("</"+t.tag+">")]);r=e.mapper.toPublicName(t.closeName);var s=new a.a(l,{name:r},[o]);return[i].concat(this.serialize(t.children,e),[s])},t.prototype.visitPlaceholder=function(t,e){var n=e.mapper.toPublicName(t.name);return[new a.a(l,{name:n})]},t.prototype.visitIcuPlaceholder=function(t,e){var n=e.mapper.toPublicName(t.name);return[new a.a(l,{name:n})]},t.prototype.serialize=function(t,e){var n=this;return(r=[]).concat.apply(r,t.map(function(t){return t.visit(n,e)}));var r},t}(),m=function(){function t(){}return t.prototype.addDefaultExamples=function(t){return t.visit(this),t},t.prototype.visitTag=function(t){var e=this;if(t.name===l){if(!t.children||0==t.children.length){var n=new a.f(t.attrs.name||"...");t.children=[new a.a(h,{},[n])]}}else t.children&&t.children.forEach(function(t){return t.visit(e)})},t.prototype.visitText=function(t){},t.prototype.visitDeclaration=function(t){},t.prototype.visitDoctype=function(t){},t}(),y=function(){function t(t){var e=this;this.internalToXmb={},this.xmbToNextId={},this.xmbToInternal={},t.nodes.forEach(function(t){return t.visit(e)})}return t.prototype.toPublicName=function(t){return this.internalToXmb.hasOwnProperty(t)?this.internalToXmb[t]:null},t.prototype.toInternalName=function(t){return this.xmbToInternal.hasOwnProperty(t)?this.xmbToInternal[t]:null},t.prototype.visitText=function(t,e){return null},t.prototype.visitContainer=function(t,e){var n=this;t.children.forEach(function(t){return t.visit(n)})},t.prototype.visitIcu=function(t,e){var n=this;Object.keys(t.cases).forEach(function(e){t.cases[e].visit(n)})},t.prototype.visitTagPlaceholder=function(t,e){var n=this;this.addPlaceholder(t.startName),t.children.forEach(function(t){return t.visit(n)}),this.addPlaceholder(t.closeName)},t.prototype.visitPlaceholder=function(t,e){this.addPlaceholder(t.name)},t.prototype.visitIcuPlaceholder=function(t,e){this.addPlaceholder(t.name)},t.prototype.addPlaceholder=function(t){if(t&&!this.internalToXmb.hasOwnProperty(t)){var e=t.toUpperCase().replace(/[^A-Z0-9_]/g,"_");if(this.xmbToInternal.hasOwnProperty(e)){var n=this.xmbToNextId[e];this.xmbToNextId[e]=n+1,e=e+"_"+n}else this.xmbToNextId[e]=1;this.internalToXmb[t]=e,this.xmbToInternal[e]=t}},t}()},function(t,e,n){"use strict";function r(t){return a[t.toLowerCase()]||s}var i=n(74);e.a=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t){var e=this,n=void 0===t?{}:t,r=n.closedByChildren,o=n.requiredParents,a=n.implicitNamespacePrefix,s=n.contentType,u=void 0===s?i.a.PARSABLE_DATA:s,c=n.closedByParent,l=void 0!==c&&c,h=n.isVoid,p=void 0!==h&&h,f=n.ignoreFirstLf,d=void 0!==f&&f;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,r&&r.length>0&&r.forEach(function(t){return e.closedByChildren[t]=!0}),this.isVoid=p,this.closedByParent=l||p,o&&o.length>0&&(this.requiredParents={},this.parentToAdd=o[0],o.forEach(function(t){return e.requiredParents[t]=!0})),this.implicitNamespacePrefix=a,this.contentType=u,this.ignoreFirstLf=d}return t.prototype.requireExtraParent=function(t){if(!this.requiredParents)return!1;if(!t)return!0;var e=t.toLowerCase();return 1!=this.requiredParents[e]&&"template"!=e},t.prototype.isClosedByChild=function(t){return this.isVoid||t.toLowerCase()in this.closedByChildren},t}(),a={base:new o({isVoid:!0}),meta:new o({isVoid:!0}),area:new o({isVoid:!0}),embed:new o({isVoid:!0}),link:new o({isVoid:!0}),img:new o({isVoid:!0}),input:new o({isVoid:!0}),param:new o({isVoid:!0}),hr:new o({isVoid:!0}),br:new o({isVoid:!0}),source:new o({isVoid:!0}),track:new o({isVoid:!0}),wbr:new o({isVoid:!0}),p:new o({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new o({closedByChildren:["tbody","tfoot"]}),tbody:new o({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new o({closedByChildren:["tbody"],closedByParent:!0}),tr:new o({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new o({closedByChildren:["td","th"],closedByParent:!0}),th:new o({closedByChildren:["td","th"],closedByParent:!0}),col:new o({requiredParents:["colgroup"],isVoid:!0}),svg:new o({implicitNamespacePrefix:"svg"}),math:new o({implicitNamespacePrefix:"math"}),li:new o({closedByChildren:["li"],closedByParent:!0}),dt:new o({closedByChildren:["dt","dd"]}),dd:new o({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new o({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new o({closedByChildren:["optgroup"],closedByParent:!0}),option:new o({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new o({ignoreFirstLf:!0}),listing:new o({ignoreFirstLf:!0}),style:new o({contentType:i.a.RAW_TEXT}),script:new o({contentType:i.a.RAW_TEXT}),title:new o({contentType:i.a.ESCAPABLE_RAW_TEXT}),textarea:new o({contentType:i.a.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},s=new o},function(t,e,n){"use strict";function r(t,e,r){if(void 0===r&&(r=!0),n.i(o.d)(t))return null;var i=t.replace(s,function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return"$"==t[0]?e?"\\$":"$":"\n"==t[0]?"\\n":"\r"==t[0]?"\\r":"\\"+t[0]}),a=r||!u.test(i);return a?"'"+i+"'":i}function i(t){for(var e="",n=0;n<t;n++)e+="  ";return e}var o=n(6),a=n(9);n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"a",function(){return p}),n.d(e,"d",function(){return f});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=/'|\\|\n|\r|\$/g,u=/^[$A-Z_][0-9A-Z_$]*$/i,c=a.a("error"),l=a.a("stack"),h=(function(){function t(){}return t.prototype.emitStatements=function(t,e,n){},t}(),function(){function t(t){this.indent=t,this.parts=[]}return t}()),p=function(){function t(t,e){this._exportedVars=t,this._indent=e,this._classes=[],this._lines=[new h(e)]}return t.createRoot=function(e){return new t(e,0)},Object.defineProperty(t.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),t.prototype.isExportedVar=function(t){return this._exportedVars.indexOf(t)!==-1},t.prototype.println=function(t){void 0===t&&(t=""),this.print(t,!0)},t.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},t.prototype.print=function(t,e){void 0===e&&(e=!1),t.length>0&&this._currentLine.parts.push(t),e&&this._lines.push(new h(this._indent))},t.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},t.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},t.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},t.prototype.pushClass=function(t){this._classes.push(t)},t.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(t.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.toSource=function(){var t=this._lines;return 0===t[t.length-1].parts.length&&(t=t.slice(0,t.length-1)),t.map(function(t){return t.parts.length>0?i(t.indent)+t.parts.join(""):""}).join("\n")},t}(),f=function(){function t(t){this._escapeDollarInStrings=t}return t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),e.println(";"),null},t.prototype.visitReturnStmt=function(t,e){return e.print("return "),t.value.visitExpression(this,e),e.println(";"),null},t.prototype.visitCastExpr=function(t,e){},t.prototype.visitDeclareClassStmt=function(t,e){},t.prototype.visitIfStmt=function(t,e){e.print("if ("),t.condition.visitExpression(this,e),e.print(") {");var r=n.i(o.c)(t.falseCase)&&t.falseCase.length>0;return t.trueCase.length<=1&&!r?(e.print(" "),this.visitAllStatements(t.trueCase,e),e.removeEmptyLastLine(),e.print(" ")):(e.println(),e.incIndent(),this.visitAllStatements(t.trueCase,e),e.decIndent(),r&&(e.println("} else {"),e.incIndent(),this.visitAllStatements(t.falseCase,e),e.decIndent())),e.println("}"),null},t.prototype.visitTryCatchStmt=function(t,e){},t.prototype.visitThrowStmt=function(t,e){return e.print("throw "),t.error.visitExpression(this,e),e.println(";"),null},t.prototype.visitCommentStmt=function(t,e){var n=t.comment.split("\n");return n.forEach(function(t){e.println("// "+t)}),null},t.prototype.visitDeclareVarStmt=function(t,e){},t.prototype.visitWriteVarExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print("("),e.print(t.name+" = "),t.value.visitExpression(this,e),n||e.print(")"),null},t.prototype.visitWriteKeyExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print("("),t.receiver.visitExpression(this,e),e.print("["),t.index.visitExpression(this,e),e.print("] = "),t.value.visitExpression(this,e),n||e.print(")"),null},t.prototype.visitWritePropExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print("("),t.receiver.visitExpression(this,e),e.print("."+t.name+" = "),t.value.visitExpression(this,e),n||e.print(")"),null},t.prototype.visitInvokeMethodExpr=function(t,e){t.receiver.visitExpression(this,e);var r=t.name;return n.i(o.c)(t.builtin)&&(r=this.getBuiltinMethodName(t.builtin),n.i(o.d)(r))?null:(e.print("."+r+"("),this.visitAllExpressions(t.args,e,","),e.print(")"),null)},t.prototype.getBuiltinMethodName=function(t){},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),e.print("("),this.visitAllExpressions(t.args,e,","),e.print(")"),null},t.prototype.visitReadVarExpr=function(t,e){var r=t.name;if(n.i(o.c)(t.builtin))switch(t.builtin){case a.F.Super:r="super";break;case a.F.This:r="this";break;case a.F.CatchError:r=c.name;break;case a.F.CatchStack:r=l.name;break;default:throw new Error("Unknown builtin variable "+t.builtin)}return e.print(r),null},t.prototype.visitInstantiateExpr=function(t,e){return e.print("new "),t.classExpr.visitExpression(this,e),e.print("("),this.visitAllExpressions(t.args,e,","),e.print(")"),null},t.prototype.visitLiteralExpr=function(t,e){var n=t.value;return"string"==typeof n?e.print(r(n,this._escapeDollarInStrings)):e.print(""+n),null},t.prototype.visitExternalExpr=function(t,e){},t.prototype.visitConditionalExpr=function(t,e){return e.print("("),t.condition.visitExpression(this,e),e.print("? "),t.trueCase.visitExpression(this,e),e.print(": "),t.falseCase.visitExpression(this,e),e.print(")"),null},t.prototype.visitNotExpr=function(t,e){return e.print("!"),t.condition.visitExpression(this,e),null},t.prototype.visitFunctionExpr=function(t,e){},t.prototype.visitDeclareFunctionStmt=function(t,e){},t.prototype.visitBinaryOperatorExpr=function(t,e){var n;switch(t.operator){case a.y.Equals:n="==";break;case a.y.Identical:n="===";break;case a.y.NotEquals:n="!=";break;case a.y.NotIdentical:n="!==";break;case a.y.And:n="&&";break;case a.y.Or:n="||";break;case a.y.Plus:n="+";break;case a.y.Minus:n="-";break;case a.y.Divide:n="/";break;case a.y.Multiply:n="*";break;case a.y.Modulo:n="%";break;case a.y.Lower:n="<";break;case a.y.LowerEquals:n="<=";break;case a.y.Bigger:n=">";break;case a.y.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator "+t.operator)}return e.print("("),t.lhs.visitExpression(this,e),e.print(" "+n+" "),t.rhs.visitExpression(this,e),e.print(")"),null},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print("."),e.print(t.name),null},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print("["),t.index.visitExpression(this,e),e.print("]"),null},t.prototype.visitLiteralArrayExpr=function(t,e){var n=t.entries.length>1;return e.print("[",n),e.incIndent(),this.visitAllExpressions(t.entries,e,",",n),e.decIndent(),e.print("]",n),null},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,i=t.entries.length>1;return e.print("{",i),e.incIndent(),this.visitAllObjects(function(t){e.print(r(t.key,n._escapeDollarInStrings,t.quoted)+": "),t.value.visitExpression(n,e)},t.entries,e,",",i),e.decIndent(),e.print("}",i),null},t.prototype.visitAllExpressions=function(t,e,n,r){var i=this;void 0===r&&(r=!1),this.visitAllObjects(function(t){return t.visitExpression(i,e)},t,e,n,r)},t.prototype.visitAllObjects=function(t,e,n,r,i){void 0===i&&(i=!1);for(var o=0;o<e.length;o++)o>0&&n.print(r,i),t(e[o]);i&&n.println()},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}()},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t){var e=t.parentArgs||[],n=t.parent?[o.D.callFn(e).toStmt()]:[],r=i(Array.isArray(t.builders)?t.builders:[t.builders]),a=new o.q(null,t.ctorParams||[],n.concat(r.ctorStmts));return new o.E(t.name,t.parent,r.fields,r.getters,a,r.methods,t.modifiers||[])}function i(t){return{fields:(e=[]).concat.apply(e,t.map(function(t){return t.fields||[]})),methods:(n=[]).concat.apply(n,t.map(function(t){return t.methods||[]})),getters:(r=[]).concat.apply(r,t.map(function(t){return t.getters||[]})),ctorStmts:(i=[]).concat.apply(i,t.map(function(t){return t.ctorStmts||[]}))};var e,n,r,i}var o=n(9);e.a=r},function(t,e,n){"use strict";function r(t){var e=new h(c),n=a.a.createRoot([]),r=Array.isArray(t)?t:[t];return r.forEach(function(t){if(t instanceof s.R)t.visitStatement(e,n);else if(t instanceof s.L)t.visitExpression(e,n);else{if(!(t instanceof s.S))throw new Error("Don't know how to print debug info for "+t);t.visitType(e,n)}}),n.toSource()}var i=n(13),o=n(6),a=n(214),s=n(9);e.a=r,n.d(e,"b",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c="/debug/lib",l=function(){function t(t){this._importGenerator=t}return t.prototype.emitStatements=function(t,e,n){var r=this,i=new h(t),o=a.a.createRoot(n);i.visitAllStatements(e,o);var s=[];return i.importsWithPrefixes.forEach(function(e,n){s.push("imp"+("ort * as "+e+" from '"+r._importGenerator.fileNameToModuleName(n,t)+"';"))}),s.push(o.toSource()),s.join("\n")},t}(),h=function(t){function e(e){t.call(this,!1),this._moduleUrl=e,this.importsWithPrefixes=new Map}return u(e,t),e.prototype.visitType=function(t,e,r){void 0===r&&(r="any"),n.i(o.c)(t)?t.visitType(this,e):e.print(r)},e.prototype.visitLiteralExpr=function(e,r){var i=e.value;return n.i(o.d)(i)&&e.type!=s.T?(r.print("("+i+" as any)"),null):t.prototype.visitLiteralExpr.call(this,e,r)},e.prototype.visitLiteralArrayExpr=function(e,n){0===e.entries.length&&n.print("(");var r=t.prototype.visitLiteralArrayExpr.call(this,e,n);return 0===e.entries.length&&n.print(" as any[])"),r},e.prototype.visitExternalExpr=function(t,e){return this._visitIdentifier(t.value,t.typeParams,e),null},e.prototype.visitDeclareVarStmt=function(t,e){return e.isExportedVar(t.name)&&e.print("export "),t.hasModifier(s.k.Final)?e.print("const"):e.print("var"),e.print(" "+t.name+":"),this.visitType(t.type,e),e.print(" = "),t.value.visitExpression(this,e),e.println(";"),null},e.prototype.visitCastExpr=function(t,e){return e.print("(<"),t.type.visitType(this,e),e.print(">"),t.value.visitExpression(this,e),e.print(")"),null},e.prototype.visitDeclareClassStmt=function(t,e){var r=this;return e.pushClass(t),e.isExportedVar(t.name)&&e.print("export "),e.print("class "+t.name),n.i(o.c)(t.parent)&&(e.print(" extends "),t.parent.visitExpression(this,e)),e.println(" {"),e.incIndent(),t.fields.forEach(function(t){return r._visitClassField(t,e)}),n.i(o.c)(t.constructorMethod)&&this._visitClassConstructor(t,e),t.getters.forEach(function(t){return r._visitClassGetter(t,e)}),t.methods.forEach(function(t){return r._visitClassMethod(t,e)}),e.decIndent(),e.println("}"),e.popClass(),null},e.prototype._visitClassField=function(t,e){t.hasModifier(s.k.Private)&&e.print("/*private*/ "),e.print(t.name),e.print(":"),this.visitType(t.type,e),e.println(";")},e.prototype._visitClassGetter=function(t,e){t.hasModifier(s.k.Private)&&e.print("private "),e.print("get "+t.name+"()"),e.print(":"),this.visitType(t.type,e),e.println(" {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println("}")},e.prototype._visitClassConstructor=function(t,e){e.print("constructor("),this._visitParams(t.constructorMethod.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.constructorMethod.body,e),e.decIndent(),e.println("}")},e.prototype._visitClassMethod=function(t,e){t.hasModifier(s.k.Private)&&e.print("private "),e.print(t.name+"("),this._visitParams(t.params,e),e.print("):"),this.visitType(t.type,e,"void"),e.println(" {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println("}")},e.prototype.visitFunctionExpr=function(t,e){return e.print("("),this._visitParams(t.params,e),e.print("):"),this.visitType(t.type,e,"void"),e.println(" => {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print("}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.isExportedVar(t.name)&&e.print("export "),e.print("function "+t.name+"("),this._visitParams(t.params,e),e.print("):"),this.visitType(t.type,e,"void"),e.println(" {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println("}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println("try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println("} catch ("+a.b.name+") {"),e.incIndent();var n=[a.c.set(a.b.prop("stack")).toDeclStmt(null,[s.k.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println("}"),null},e.prototype.visitBuiltintType=function(t,e){var n;switch(t.name){case s.U.Bool:n="boolean";break;case s.U.Dynamic:n="any";break;case s.U.Function:n="Function";break;case s.U.Number:n="number";break;case s.U.Int:n="number";break;case s.U.String:n="string";break;default:throw new Error("Unsupported builtin type "+t.name)}return e.print(n),null},e.prototype.visitExpressionType=function(t,e){var r=this;return t.value.visitExpression(this,e),n.i(o.c)(t.typeParams)&&t.typeParams.length>0&&(e.print("<"),this.visitAllObjects(function(t){return t.visitType(r,e)},t.typeParams,e,","),e.print(">")),null},e.prototype.visitArrayType=function(t,e){return this.visitType(t.of,e),e.print("[]"),null},e.prototype.visitMapType=function(t,e){return e.print("{[key: string]:"),this.visitType(t.valueType,e),e.print("}"),null},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case s.O.ConcatArray:e="concat";break;case s.O.SubscribeObservable:e="subscribe";break;case s.O.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e.prototype._visitParams=function(t,e){var n=this;this.visitAllObjects(function(t){e.print(t.name),e.print(":"),n.visitType(t.type,e)},t,e,",")},e.prototype._visitIdentifier=function(t,e,r){var a=this,s=n.i(i.a)(t),u=n.i(i.i)(t);if(n.i(o.d)(s))throw new Error("Internal error: unknown identifier "+t);if(n.i(o.c)(u)&&u!=this._moduleUrl){var c=this.importsWithPrefixes.get(u);n.i(o.d)(c)&&(c="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(u,c)),r.print(c+".")}t.reference&&t.reference.members&&t.reference.members.length?(r.print(t.reference.name),r.print("."),r.print(t.reference.members.join("."))):r.print(s),n.i(o.c)(e)&&e.length>0&&(r.print("<"),this.visitAllObjects(function(t){return t.visitType(a,r)},e,r,","),r.print(">"))},e}(a.d)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.get=function(t){return null},t}()},function(t,e,n){"use strict";var r=n(17);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.resolveSummary=function(t){return null},t.prototype.getSymbolsOf=function(t){return[]},t=i([n.i(r.a)(),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(9);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t,e){this.nodeIndex=t,this.sourceAst=e}return t}(),o=new i(null,null),a=function(){function t(t){this._view=t,this._newState=o,this._currState=o,this._bodyStatements=[],this._debugEnabled=this._view.genConfig.genDebugInfo}return t.prototype._updateDebugContextIfNeeded=function(){if(this._newState.nodeIndex!==this._currState.nodeIndex||this._newState.sourceAst!==this._currState.sourceAst){var t=this._updateDebugContext(this._newState);t&&this._bodyStatements.push(t.toStmt())}},t.prototype._updateDebugContext=function(t){if(this._currState=this._newState=t,this._debugEnabled){var e=t.sourceAst?t.sourceAst.sourceSpan.start:null;return r.e.callMethod("debug",[r.f(t.nodeIndex),e?r.f(e.line):r.b,e?r.f(e.col):r.b])}return null},t.prototype.resetDebugInfoExpr=function(t,e){var n=this._updateDebugContext(new i(t,e));return n||r.b},t.prototype.resetDebugInfo=function(t,e){this._newState=new i(t,e)},t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.addStmts(t)},t.prototype.addStmt=function(t){this._updateDebugContextIfNeeded(),this._bodyStatements.push(t)},t.prototype.addStmts=function(t){this._updateDebugContextIfNeeded(),(e=this._bodyStatements).push.apply(e,t);var e},t.prototype.finish=function(){return this._bodyStatements},t.prototype.isEmpty=function(){return 0===this._bodyStatements.length},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(t,e,n){this.comp=t,this.name=e,this.placeholder=n}return t}(),i=function(){function t(t,e){this.comp=t,this.placeholder=e}return t}(),o=function(){function t(t,e,n){this.dir=t,this.name=e,this.placeholder=n}return t}()},function(t,e,n){"use strict";var r=n(7);n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(){}return t.prototype.onDone=function(t){},t.prototype.onStart=function(t){},t.prototype.init=function(){},t.prototype.hasStarted=function(){},t.prototype.play=function(){},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){},t.prototype.destroy=function(){},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){},Object.defineProperty(t.prototype,"parentPlayer",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},set:function(t){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),t}(),o=function(){function t(){var t=this;this._onDoneFns=[],this._onStartFns=[],this._started=!1,this.parentPlayer=null,n.i(r.a)(function(){return t._onFinish()})}return t.prototype._onFinish=function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]),this._started=!0},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t}()},function(t,e,n){"use strict";var r=n(237),i=n(36);n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=new i.b("Application Initializer"),a=function(){function t(t){var e=this;this._done=!1;var i=[];if(t)for(var o=0;o<t.length;o++){var a=t[o]();n.i(r.a)(a)&&i.push(a)}this._donePromise=Promise.all(i).then(function(){e._done=!0}),0===i.length&&(this._done=!0)}return Object.defineProperty(t.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),t.decorators=[{type:i.a}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:i.e,args:[o]},{type:i.d}]}]},t}()},function(t,e,n){"use strict";function r(){if(A)throw new Error("Cannot enable prod mode after platform setup.");M=!1}function i(){return A=!0,M}function o(t){if(E&&!E.destroyed)throw new Error("There can be only one platform. Destroy the previous one to create a new one.");E=t.get(k);var e=t.get(y.b,null);return e&&e.forEach(function(t){return t()}),E}function a(t,e,n){void 0===n&&(n=[]);var r=new g.b("Platform: "+e);return function(e){return void 0===e&&(e=[]),c()||(t?t(n.concat(e).concat({provide:r,useValue:!0})):o(g.f.resolveAndCreate(n.concat(e).concat({provide:r,useValue:!0})))),s(r)}}function s(t){var e=c();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function u(){E&&!E.destroyed&&E.destroy()}function c(){return E&&!E.destroyed?E:null}function l(t,e){try{var r=e();return n.i(d.a)(r)?r.catch(function(e){throw t.handleError(e),e}):r}catch(e){throw t.handleError(e),e}}var h=n(346),p=n(116),f=n(7),d=n(237),m=n(222),y=n(160),v=n(225),g=n(36),b=n(117),_=n(231),x=n(165),w=n(169),C=n(235),S=n(170);e.a=r,e.g=i,n.d(e,"h",function(){return P}),e.i=o,e.f=a,e.j=s,e.k=u,e.l=c,n.d(e,"e",function(){return k}),n.d(e,"d",function(){return R}),n.d(e,"c",function(){return O}),n.d(e,"b",function(){return I});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var E,T=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},M=!0,A=!1,P=function(){function t(t,e){this.name=t,this.token=e}return t}(),k=function(){function t(){}return t.prototype.bootstrapModuleFactory=function(t){},t.prototype.bootstrapModule=function(t,e){},t.prototype.onDestroy=function(t){},t.prototype.injector=function(){},t.prototype.destroy=function(){},t.prototype.destroyed=function(){},t}(),R=function(t){function e(e){t.call(this),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return T(e,t),e.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},e.prototype.bootstrapModuleFactory=function(t){return this._bootstrapModuleFactoryWithZone(t,null)},e.prototype._bootstrapModuleFactoryWithZone=function(t,e){var n=this;return e||(e=new S.a({enableLongStackTrace:i()})),e.run(function(){var r=g.f.resolveAndCreate([{provide:S.a,useValue:e}],n.injector),i=t.create(r),o=i.injector.get(h.a,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(function(){return p.e.remove(n._modules,i)}),e.onError.subscribe({next:function(t){o.handleError(t)}}),l(o,function(){var t=i.injector.get(m.a);return t.donePromise.then(function(){return n._moduleDoBootstrap(i),i})})})},e.prototype.bootstrapModule=function(t,e){return void 0===e&&(e=[]),this._bootstrapModuleWithZone(t,e,null)},e.prototype._bootstrapModuleWithZone=function(t,e,n,r){var i=this;void 0===e&&(e=[]);var o=this.injector.get(b.c),a=o.createCompiler(Array.isArray(e)?e:[e]);return r?a.compileModuleAndAllComponentsAsync(t).then(function(t){var e=t.ngModuleFactory,o=t.componentFactories;return r(o),i._bootstrapModuleFactoryWithZone(e,n)}):a.compileModuleAsync(t).then(function(t){return i._bootstrapModuleFactoryWithZone(t,n)})},e.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(O);if(t.bootstrapFactories.length>0)t.bootstrapFactories.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+n.i(f.c)(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},e.decorators=[{type:g.a}],e.ctorParameters=function(){return[{type:g.g}]},e}(k),O=function(){function t(){}return t.prototype.bootstrap=function(t){},t.prototype.tick=function(){},t.prototype.componentTypes=function(){},t.prototype.components=function(){},t.prototype.attachView=function(t){},t.prototype.detachView=function(t){},t.prototype.viewCount=function(){},t}(),I=function(t){function e(e,n,r,o,a,s,u,c){var l=this;t.call(this),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=o,this._componentFactoryResolver=a,this._initStatus=s,this._testabilityRegistry=u,this._testability=c,this._bootstrapListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._enforceNoNewChanges=i(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run(function(){l.tick()})}})}return T(e,t),e.prototype.attachView=function(t){var e=t.internalView;this._views.push(e),e.attachToAppRef(this)},e.prototype.detachView=function(t){var e=t.internalView;p.e.remove(this._views,e),e.detach()},e.prototype.bootstrap=function(t){var e=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var n;n=t instanceof _.b?t:this._componentFactoryResolver.resolveComponentFactory(t),this._rootComponentTypes.push(n.componentType);var r=n.create(this._injector,[],n.selector);r.onDestroy(function(){e._unloadComponent(r)});var o=r.injector.get(C.a,null);return o&&r.injector.get(C.b).registerApplication(r.location.nativeElement,o),this._loadComponent(r),i()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r},e.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this._rootComponents.push(t);var e=this._injector.get(y.c,[]).concat(this._bootstrapListeners);e.forEach(function(e){return e(t)})},e.prototype._unloadComponent=function(t){this.detachView(t.hostView),p.e.remove(this._rootComponents,t)},e.prototype.tick=function(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var t=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.ref.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.ref.checkNoChanges()})}finally{this._runningTick=!1,n.i(w.b)(t)}},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),e._tickScope=n.i(w.a)("ApplicationRef#tick()"),e.decorators=[{type:g.a}],e.ctorParameters=function(){return[{type:S.a},{type:v.a},{type:g.g},{type:h.a},{type:x.b},{type:m.a},{type:C.b,decorators:[{type:g.d}]},{type:C.a,decorators:[{type:g.d}]}]},e}(O)},function(t,e,n){"use strict";function r(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var i=n(116),o=n(7);n.d(e,"a",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(){}return t.prototype.supports=function(t){return n.i(i.b)(t)},t.prototype.create=function(t,e){return new u(e)},t}(),s=function(t,e){return e},u=function(){function t(t){this._trackByFn=t,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=this._trackByFn||s}return Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,i=0,o=null;e||n;){var a=!n||e&&e.currentIndex<r(n,i,o)?e:n,s=r(a,i,o),u=a.currentIndex;if(a===n)i--,n=n._nextRemoved;else if(e=e._next,null==a.previousIndex)i++;else{o||(o=[]);var c=s-i,l=u-i;if(c!=l){for(var h=0;h<c;h++){var p=h<o.length?o[h]:o[h]=0,f=p+h;l<=f&&f<c&&(o[h]=p+1)}var d=a.previousIndex;o[d]=l-c}}s!==u&&t(a,s,u)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(n.i(o.k)(t)&&(t=[]),!n.i(i.b)(t))throw new Error("Error trying to diff '"+t+"'");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var r,a,s,u=this._itHead,c=!1;if(Array.isArray(t)){var l=t;this._length=t.length;for(var h=0;h<this._length;h++)a=l[h],s=this._trackByFn(h,a),null!==u&&n.i(o.j)(u.trackById,s)?(c&&(u=this._verifyReinsertion(u,a,s,h)),n.i(o.j)(u.item,a)||this._addIdentityChange(u,a)):(u=this._mismatch(u,a,s,h),c=!0),u=u._next}else r=0,n.i(i.d)(t,function(t){s=e._trackByFn(r,t),null!==u&&n.i(o.j)(u.trackById,s)?(c&&(u=e._verifyReinsertion(u,t,s,r)),n.i(o.j)(u.item,t)||e._addIdentityChange(u,t)):(u=e._mismatch(u,t,s,r),c=!0),u=u._next,r++}),this._length=r;return this._truncate(u),this._collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,r,i){var a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),t=null===this._linkedRecords?null:this._linkedRecords.get(r,i),null!==t?(n.i(o.j)(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,a,i)):(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r),null!==t?(n.i(o.j)(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,a,i)):t=this._addAfter(new c(e,r),a,i)),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new h),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new h),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t.prototype.toString=function(){var t=[];this.forEachItem(function(e){return t.push(e)});var e=[];this.forEachPreviousItem(function(t){return e.push(t)});var n=[];this.forEachAddedItem(function(t){return n.push(t)});var r=[];this.forEachMovedItem(function(t){return r.push(t)});var i=[];this.forEachRemovedItem(function(t){return i.push(t)});var o=[];return this.forEachIdentityChange(function(t){return o.push(t)}),"collection: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+r.join(", ")+"\nremovals: "+i.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},t}(),c=function(){function t(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return t.prototype.toString=function(){return this.previousIndex===this.currentIndex?n.i(o.c)(this.item):n.i(o.c)(this.item)+"["+n.i(o.c)(this.previousIndex)+"->"+n.i(o.c)(this.currentIndex)+"]"},t}(),l=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<r.currentIndex)&&n.i(o.j)(r.trackById,t))return r;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),h=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new l,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){void 0===e&&(e=null);var n=t,r=this.map.get(n);return r?r.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById,n=this.map.get(e);return n.remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.toString=function(){return"_DuplicateMap("+n.i(o.c)(this.map)+")"},t}()},function(t,e,n){"use strict";var r=n(36),i=n(7);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(){}return t.prototype.log=function(t){n.i(i.g)(t)},t.prototype.warn=function(t){n.i(i.h)(t)},t.decorators=[{type:r.a}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t){return t.__forward_ref__=r,t.toString=function(){return n.i(o.c)(this())},t}function i(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===r?t():t}var o=n(7);e.b=r,e.a=i},function(t,e,n){"use strict";var r=n(90);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t){this._desc=t}return t.prototype.toString=function(){return"Token "+this._desc},t.decorators=[{type:r.a}],t.ctorParameters=function(){return[null]},t}()},function(t,e,n){"use strict";var r=n(7),i=n(226);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!")}return Object.defineProperty(t.prototype,"displayName",{get:function(){return n.i(r.c)(this.token)},enumerable:!0,configurable:!0}),t.get=function(t){return s.get(n.i(i.a)(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return s.numberOfKeys},enumerable:!0,configurable:!0}),t}(),a=function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof o)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new o(t,o.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}(),s=new a},function(t,e,n){"use strict";function r(t){var e,r;if(t.useClass){var i=n.i(d.a)(t.useClass);e=p.a.factory(i),r=c(i)}else t.useExisting?(e=function(t){return t},r=[g.fromKey(v.a.get(t.useExisting))]):t.useFactory?(e=t.useFactory,r=u(t.useFactory,t.deps)):(e=function(){return t.useValue},r=b);return new x(e,r)}function i(t){return new _(v.a.get(t.provide),[r(t)],t.multi)}function o(t){var e=s(t,[]),n=e.map(i),r=a(n,new Map);return Array.from(r.values())}function a(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw new y.f(i,r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var a=void 0;a=r.multiProvider?new _(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}function s(t,e){return t.forEach(function(t){if(t instanceof f.a)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(t);else{if(!(t instanceof Array))throw new y.g(t);s(t,e)}}),e}function u(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return l(t,e,n)})}return c(t)}function c(t){var e=p.a.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw new y.h(t,e);return e.map(function(n){return l(t,n,e)})}function l(t,e,r){var i=null,o=!1;if(!Array.isArray(e))return e instanceof m.d?h(e.token,o,null):h(e,o,null);for(var a=null,s=0;s<e.length;++s){var u=e[s];u instanceof f.a?i=u:u instanceof m.d?i=u.token:u instanceof m.e?o=!0:(u instanceof m.b||u instanceof m.c)&&(a=u)}if(i=n.i(d.a)(i),null!=i)return h(i,o,a);throw new y.h(t,r)}function h(t,e,n){return new g(v.a.get(t),e,n)}var p=n(232),f=n(236),d=n(226),m=n(90),y=n(345),v=n(228);n.d(e,"c",function(){return x}),e.b=o,e.a=u;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var g=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),b=[],_=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),x=function(){function t(t,e){this.factory=t,this.dependencies=e}return t}()},function(t,e,n){"use strict";var r=n(11),i=(n.n(r),n(1));n.n(i);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this.__isAsync=e}return o(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};return e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,a)},e}(r.Subject)},function(t,e,n){"use strict";var r=n(166),i=n(168);n.d(e,"c",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(){function t(){}return t.prototype.location=function(){},t.prototype.injector=function(){},t.prototype.instance=function(){},t.prototype.hostView=function(){},t.prototype.changeDetectorRef=function(){},t.prototype.componentType=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),s=function(t){function e(e,n,r,i){t.call(this),this._index=e,this._parentView=n,this._nativeElement=r,this._component=i}return o(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new r.a(this._nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this._parentView.injector(this._index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return this._component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return this._parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this._parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._parentView.detachAndDestroy()},e.prototype.onDestroy=function(t){this.hostView.onDestroy(t)},e}(a),u=function(){function t(t,e,n){this.selector=t,this._viewClass=e,this._componentType=n}return Object.defineProperty(t.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),t.prototype.create=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=t.get(i.ViewUtils);e||(e=[]);var o=new this._viewClass(r,null,null,null);return o.createHostView(n,t,e)},t}()},function(t,e,n){"use strict";var r=n(358),i=n(359);n.d(e,"b",function(){return i.a}),n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=new i.a(new r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.parameters=function(t){},t.prototype.annotations=function(t){},t.prototype.propMetadata=function(t){},t.prototype.importUri=function(t){},t.prototype.resolveIdentifier=function(t,e,n){},t.prototype.resolveEnum=function(t,e){},t}()},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"b",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}return t}(),i=function(){function t(){}return t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.source=function(){},t}(),o=function(){function t(){}return t.prototype.selectRootElement=function(t,e){},t.prototype.createElement=function(t,e,n){},t.prototype.createViewRoot=function(t){},t.prototype.createTemplateAnchor=function(t,e){},t.prototype.createText=function(t,e,n){},t.prototype.projectNodes=function(t,e){},t.prototype.attachViewAfter=function(t,e){},t.prototype.detachView=function(t){},t.prototype.destroyView=function(t,e){},t.prototype.listen=function(t,e,n){},t.prototype.listenGlobal=function(t,e,n){},t.prototype.setElementProperty=function(t,e,n){},t.prototype.setElementAttribute=function(t,e,n){},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){},t.prototype.setElementStyle=function(t,e,n){},t.prototype.invokeElementMethod=function(t,e,n){},t.prototype.setText=function(t,e){},t.prototype.animate=function(t,e,n,r,i,o,a){},t}(),a=function(){function t(){}return t.prototype.renderComponent=function(t){},t}()},function(t,e,n){"use strict";function r(t){l=t}var i=n(36),o=n(7),a=n(170);n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),e.c=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){a.a.assertNotInAngularZone(),n.i(o.a)(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?n.i(o.a)(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findBindings=function(t,e,n){return[]},t.prototype.findProviders=function(t,e,n){return[]},t.decorators=[{type:i.a}],t.ctorParameters=function(){return[{type:a.a}]},t}(),u=function(){function t(){this._applications=new Map,l.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.getTestability=function(t){return this._applications.get(t)},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),l.findTestabilityInTree(this,t,e)},t.decorators=[{type:i.a}],t.ctorParameters=function(){return[]},t}(),c=function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}(),l=new c},function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return i}),e.b=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=Function},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t){return!!t&&"function"==typeof t.then}function i(t){return!(!t||!t[o.$$observable])}var o=n(143);n.n(o);e.a=r,e.b=i},function(t,e,n){"use strict";n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(){}return Object.defineProperty(t.prototype,"control",{get:function(){throw new Error("unimplemented")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return void 0===e&&(e=null),!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return void 0===e&&(e=null),this.control?this.control.getError(t,e):null},t}()},function(t,e,n){"use strict";var r=n(0),i=n(52),o=n(77);n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),u={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},c=function(t){function e(e){t.call(this,e)}return a(e,t),e.decorators=[{type:r.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:u}]}],e.ctorParameters=function(){return[{type:o.a,decorators:[{type:r.Self}]}]},e}(s),l=function(t){function e(e){t.call(this,e)}return a(e,t),e.decorators=[{type:r.Directive,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:u}]}],e.ctorParameters=function(){return[{type:i.a,decorators:[{type:r.Self}]}]},e}(s)},function(t,e,n){"use strict";var r=n(0),i=n(92),o=n(177),a=n(46),s=n(118),u=n(52),c=n(37),l=n(77),h=n(119),p=n(173),f=n(66),d=n(363);n.d(e,"a",function(){return g});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var m=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},y={provide:l.a,useExisting:n.i(r.forwardRef)(function(){return g})},v=Promise.resolve(null),g=function(t){function e(e,r,a,s){t.call(this),this._control=new o.b,this._registered=!1,this.update=new i.a,this._parent=e,this._rawValidators=r||[],this._rawAsyncValidators=a||[],this.valueAccessor=n.i(f.d)(this,s)}return m(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),n.i(f.e)(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?n.i(f.c)(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return n.i(f.a)(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return n.i(f.b)(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._isStandalone=function(){return!this._parent||this.options&&this.options.standalone},e.prototype._setUpStandalone=function(){n.i(f.f)(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof p.a)&&this._parent instanceof s.a?d.a.formGroupNameException():this._parent instanceof p.a||this._parent instanceof h.a||d.a.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||d.a.missingNameException()},e.prototype._updateValue=function(t){var e=this;v.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;v.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e.decorators=[{type:r.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[y],exportAs:"ngModel"}]}],e.ctorParameters=function(){return[{type:u.a,decorators:[{type:r.Optional},{type:r.Host}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.c]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[c.a]}]}]},e.propDecorators={name:[{type:r.Input}],isDisabled:[{type:r.Input,args:["disabled"]}],model:[{type:r.Input,args:["ngModel"]}],options:[{type:r.Input,args:["ngModelOptions"]}],update:[{type:r.Output,args:["ngModelChange"]}]},e}(l.a)},function(t,e,n){"use strict";var r=n(0),i=n(37);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o={provide:i.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:r.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[o]}]}],t.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(37);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o={provide:i.a,useExisting:n.i(r.forwardRef)(function(){return a}),multi:!0},a=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:r.Directive,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[o]}]}],t.ctorParameters=function(){return[{type:r.Renderer},{type:r.ElementRef}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(92),o=n(46),a=n(37),s=n(77),u=n(174),c=n(66);n.d(e,"a",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},h={provide:s.a,useExisting:n.i(r.forwardRef)(function(){return p})},p=function(t){function e(e,r,o){t.call(this),this.update=new i.a,this._rawValidators=e||[],this._rawAsyncValidators=r||[],this.valueAccessor=n.i(c.d)(this,o)}return l(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){u.a.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(n.i(c.f)(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),n.i(c.e)(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return n.i(c.a)(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return n.i(c.b)(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e.decorators=[{type:r.Directive,args:[{selector:"[formControl]",providers:[h],exportAs:"ngForm"}]}],e.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[o.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[o.c]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[a.a]}]}]},e.propDecorators={form:[{type:r.Input,args:["formControl"]}],model:[{type:r.Input,args:["ngModel"]}],update:[{type:r.Output,args:["ngModelChange"]}],isDisabled:[{type:r.Input,args:["disabled"]}]},e}(s.a)},function(t,e,n){"use strict";var r=n(0),i=n(92),o=n(46),a=n(118),s=n(52),u=n(37),c=n(77),l=n(174),h=n(66),p=n(121),f=n(122);n.d(e,"a",function(){return y});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var d=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},m={provide:c.a,useExisting:n.i(r.forwardRef)(function(){return y})},y=function(t){function e(e,r,o,a){t.call(this),this._added=!1,this.update=new i.a,this._parent=e,this._rawValidators=r||[],this._rawAsyncValidators=o||[],this.valueAccessor=n.i(h.d)(this,a)}return d(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){l.a.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),n.i(h.e)(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return n.i(h.c)(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return n.i(h.a)(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return n.i(h.b)(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof f.a)&&this._parent instanceof a.a?l.a.ngModelGroupException():this._parent instanceof f.a||this._parent instanceof p.a||this._parent instanceof f.b||l.a.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e.decorators=[{type:r.Directive,args:[{selector:"[formControlName]",providers:[m]}]}],e.ctorParameters=function(){return[{type:s.a,decorators:[{type:r.Optional},{type:r.Host},{type:r.SkipSelf}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[o.b]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[o.c]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[u.a]}]}]},e.propDecorators={name:[{type:r.Input,args:["formControlName"]}],model:[{type:r.Input,args:["ngModel"]}],update:[{type:r.Output,args:["ngModelChange"]}],isDisabled:[{type:r.Input,args:["disabled"]}]},e}(c.a)},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(67),o=n(124),a=n(179),s=n(180);n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=function(){function t(t){var e=void 0===t?{}:t,r=e.method,i=e.headers,o=e.body,u=e.url,c=e.search,l=e.withCredentials,h=e.responseType;this.method=null!=r?n.i(a.b)(r):null,this.headers=null!=i?i:null,this.body=null!=o?o:null,this.url=null!=u?u:null,this.search=null!=c?"string"==typeof c?new s.a(c):c:null,this.withCredentials=null!=l?l:null,this.responseType=null!=h?h:null}return t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new o.a(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,search:e&&null!=e.search?"string"==typeof e.search?new s.a(e.search):e.search.clone():this.search,withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t}(),l=function(t){function e(){t.call(this,{method:i.a.Get,headers:new o.a})}return u(e,t),e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]},e}(c)},function(t,e,n){"use strict";var r=n(371);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e){t.call(this),this._body=e.body,this.status=e.status,this.ok=this.status>=200&&this.status<=299,this.statusText=e.statusText,this.headers=e.headers,this.type=e.type,this.url=e.url}return i(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(r.a)},function(t,e,n){"use strict";var r=n(253);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(){}return t.prototype.animate=function(t,e,n,i,o,a,s){return void 0===s&&(s=[]),new r.a},t}(),o=function(){function t(){}return t.prototype.animate=function(t,e,n,r,i,o,a){},t.NOOP=new i,t}()},function(t,e,n){"use strict";function r(t){return s.getDebugNode(t)}function i(t,e,n){return s.isDevMode()?o(t,(e||[]).concat(n||[])):t}function o(t,e){return n.i(l.b)().setGlobalVar(f,r),n.i(l.b)().setGlobalVar(d,u.a.merge(p,a(e||[]))),new c.b(t)}function a(t){return t.reduce(function(t,e){return t[e.name]=e.token,t},{})}var s=n(0),u=n(583),c=n(253),l=n(21),h=n(250);n.d(e,"b",function(){return m}),n.d(e,"a",function(){return y});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var p={ApplicationRef:s.ApplicationRef,NgZone:s.NgZone},f="ng.probe",d="ng.coreTokens",m=function(){function t(t,e){this.name=t,this.token=e}return t}(),y=[{provide:s.RootRenderer,useFactory:i,deps:[h.b,[m,new s.Optional],[s.NgProbeToken,new s.Optional]]}]},function(t,e,n){"use strict";function r(t,e){var n=t.parentNode;if(e.length>0&&n){var r=t.nextSibling;if(r)for(var i=0;i<e.length;i++)n.insertBefore(e[i],r);else for(var i=0;i<e.length;i++)n.appendChild(e[i])}}function i(t,e){for(var n=0;n<e.length;n++)t.appendChild(e[n])}function o(t){return function(e){var n=t(e);n===!1&&(e.preventDefault(),e.returnValue=!1)}}function a(t){return P.replace(T,t)}function s(t){return A.replace(T,t)}function u(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?u(t,i,n):(i=i.replace(T,t),n.push(i))}return n}function c(t){return":"===t[0]}function l(t){var e=t.match(k);return[e[1],e[2]]}var h=n(0),p=n(47),f=n(253),d=n(248),m=n(181),y=n(94),v=n(252);n.d(e,"c",function(){return b}),n.d(e,"b",function(){return w}),n.d(e,"a",function(){return C}),e.d=a,e.e=s,e.f=u,e.h=c,e.g=l;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var g=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},b={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},_="template bindings={}",x=/^template bindings=(.*)$/,w=function(){function t(t,e,n,r,i){this.document=t,this.eventManager=e,this.sharedStylesHost=n,this.animationDriver=r,this.appId=i,this.registeredComponents=new Map}return t.prototype.renderComponent=function(t){var e=this.registeredComponents.get(t.id);return e||(e=new E(this,t,this.animationDriver,this.appId+"-"+t.id),this.registeredComponents.set(t.id,e)),e},t}(),C=function(t){function e(e,n,r,i,o){t.call(this,e,n,r,i,o)}return g(e,t),e.decorators=[{type:h.Injectable}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:h.Inject,args:[m.a]}]},{type:y.b},{type:v.a},{type:d.a},{type:void 0,decorators:[{type:h.Inject,args:[h.APP_ID]}]}]},e}(w),S={remove:function(t){t.parentNode&&t.parentNode.removeChild(t)},appendChild:function(t,e){e.appendChild(t)},insertBefore:function(t,e){e.parentNode.insertBefore(t,e)},nextSibling:function(t){return t.nextSibling},parentElement:function(t){return t.parentNode}},E=function(){function t(t,e,n,r){this._rootRenderer=t,this.componentProto=e,this._animationDriver=n,this.directRenderer=S,this._styles=u(r,e.styles,[]),e.encapsulation!==h.ViewEncapsulation.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===h.ViewEncapsulation.Emulated?(this._contentAttr=a(r),this._hostAttr=s(r)):(this._contentAttr=null,this._hostAttr=null)}return t.prototype.selectRootElement=function(t,e){var n;if("string"==typeof t){if(n=this._rootRenderer.document.querySelector(t),!n)throw new Error('The selector "'+t+'" did not match any elements')}else n=t;for(;n.firstChild;)n.removeChild(n.firstChild);return n},t.prototype.createElement=function(t,e,n){var r;if(c(e)){var i=l(e);r=document.createElementNS(b[i[0]],i[1])}else r=document.createElement(e);return this._contentAttr&&r.setAttribute(this._contentAttr,""),t&&t.appendChild(r),r},t.prototype.createViewRoot=function(t){var e;if(this.componentProto.encapsulation===h.ViewEncapsulation.Native){e=t.createShadowRoot(),this._rootRenderer.sharedStylesHost.addHost(e);for(var n=0;n<this._styles.length;n++){var r=document.createElement("style");r.textContent=this._styles[n],e.appendChild(r)}}else this._hostAttr&&t.setAttribute(this._hostAttr,""),e=t;return e},t.prototype.createTemplateAnchor=function(t,e){var n=document.createComment(_);return t&&t.appendChild(n),n},t.prototype.createText=function(t,e,n){var r=document.createTextNode(e);return t&&t.appendChild(r),r},t.prototype.projectNodes=function(t,e){t&&i(t,e)},t.prototype.attachViewAfter=function(t,e){r(t,e)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.parentNode&&n.parentNode.removeChild(n)}},t.prototype.destroyView=function(t,e){this.componentProto.encapsulation===h.ViewEncapsulation.Native&&t&&this._rootRenderer.sharedStylesHost.removeHost(t.shadowRoot)},t.prototype.listen=function(t,e,n){return this._rootRenderer.eventManager.addEventListener(t,e,o(n))},t.prototype.listenGlobal=function(t,e,n){return this._rootRenderer.eventManager.addGlobalEventListener(t,e,o(n))},t.prototype.setElementProperty=function(t,e,n){t[e]=n},t.prototype.setElementAttribute=function(t,e,r){var i,o=e;if(c(e)){var a=l(e);o=a[1],e=a[0]+":"+a[1],i=b[a[0]]}n.i(p.a)(r)?i?t.setAttributeNS(i,e,r):t.setAttribute(e,r):n.i(p.a)(i)?t.removeAttributeNS(i,o):t.removeAttribute(e)},t.prototype.setBindingDebugInfo=function(t,e,n){if(t.nodeType===Node.COMMENT_NODE){var r=t.nodeValue.replace(/\n/g,"").match(x),i=JSON.parse(r[1]);i[e]=n,t.nodeValue=_.replace("{}",JSON.stringify(i,null,2))}else this.setElementAttribute(t,e,n)},t.prototype.setElementClass=function(t,e,n){n?t.classList.add(e):t.classList.remove(e)},t.prototype.setElementStyle=function(t,e,r){n.i(p.a)(r)?t.style[e]=n.i(p.d)(r):t.style[e]=""},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){t.nodeValue=e},t.prototype.animate=function(t,e,n,r,i,o,a){return void 0===a&&(a=[]),this._rootRenderer.document.body.contains(t)?this._animationDriver.animate(t,e,n,r,i,o,a):new f.a},t}(),T=/%COMP%/g,M="%COMP%",A="_nghost-"+M,P="_ngcontent-"+M,k=/^:([^:]+):(.+)$/},function(t,e,n){"use strict";var r=n(0),i=n(94);n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},s=new r.OpaqueToken("HammerGestureConfig"),u=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[]},t}(),c=function(t){function e(e){t.call(this),this._config=e}return o(e,t),e.prototype.supports=function(t){if(!a.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:u,decorators:[{type:r.Inject,args:[s]}]}]},e}(i.c)},function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(181);n.d(e,"b",function(){return s}),n.d(e,"a",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[]},t}(),u=function(t){function e(e){t.call(this),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}return a(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return n.i(i.b)().remove(t)})},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.Inject,args:[o.a]}]}]},e}(s)},function(t,e,n){"use strict";var r=n(0);n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=(r.__core_private__.RenderDebugInfo,r.__core_private__.ReflectionCapabilities,r.__core_private__.DebugDomRootRenderer),o=(r.__core_private__.reflector,r.__core_private__.NoOpAnimationPlayer);r.__core_private__.AnimationPlayer,r.__core_private__.AnimationSequencePlayer,r.__core_private__.AnimationGroupPlayer,r.__core_private__.AnimationKeyframe,r.__core_private__.AnimationStyles,r.__core_private__.prepareFinalAnimationStyles,r.__core_private__.balanceAnimationKeyframes,r.__core_private__.clearStyles,r.__core_private__.collectAndResolveStyles},function(t,e,n){"use strict";function r(t){return t=String(t),t.match(s)||t.match(u)?t:(n.i(o.isDevMode)()&&n.i(a.b)().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function i(t){return t=String(t),t.split(",").map(function(t){return r(t.trim())}).join(", ")}var o=n(0),a=n(21);e.a=r,e.b=i;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,u=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i},function(t,e,n){"use strict";function r(t){return""===t||!!t}var i=n(87),o=n(0),a=n(126),s=n(96);n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=function(){function t(t,e){this.router=t,this.route=e,this.commands=[]}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){null!=t?this.commands=Array.isArray(t)?t:[t]:this.commands=[]},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:r(this.skipLocationChange),replaceUrl:r(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:r(this.preserveQueryParams),preserveFragment:r(this.preserveFragment)})},enumerable:!0,configurable:!0}),t.decorators=[{type:o.Directive,args:[{selector:":not(a)[routerLink]"}]}],t.ctorParameters=function(){return[{type:a.e},{type:s.a}]},t.propDecorators={queryParams:[{type:o.Input}],fragment:[{type:o.Input}],preserveQueryParams:[{type:o.Input}],preserveFragment:[{type:o.Input}],skipLocationChange:[{type:o.Input}],replaceUrl:[{type:o.Input}],routerLink:[{type:o.Input}],onClick:[{type:o.HostListener,args:["click"]}]},t}(),c=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof a.b&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){null!=t?this.commands=Array.isArray(t)?t:[t]:this.commands=[]},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n){if(0!==t||e||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:r(this.skipLocationChange),replaceUrl:r(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:r(this.preserveQueryParams),preserveFragment:r(this.preserveFragment)})},enumerable:!0,configurable:!0}),t.decorators=[{type:o.Directive,args:[{selector:"a[routerLink]"}]}],t.ctorParameters=function(){return[{type:a.e},{type:s.a},{type:i.LocationStrategy}]},t.propDecorators={target:[{type:o.HostBinding,args:["attr.target"]},{type:o.Input}],queryParams:[{type:o.Input}],fragment:[{type:o.Input}],preserveQueryParams:[{type:o.Input}],preserveFragment:[{type:o.Input}],skipLocationChange:[{type:o.Input}],replaceUrl:[{type:o.Input}],href:[{type:o.HostBinding}],routerLink:[{type:o.Input}],onClick:[{type:o.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){},t.prototype.extract=function(t){},t.prototype.merge=function(t,e){},t}(),i=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}()},function(t,e,n){"use strict";function r(t,e){if(t===e.value)return e;for(var n=0,i=e.children;n<i.length;n++){var o=i[n],a=r(t,o);if(a)return a}return null}function i(t,e,n){if(n.push(e),t===e.value)return n;for(var r=0,o=e.children;r<o.length;r++){var a=o[r],s=n.slice(0),u=i(t,a,s);if(u.length>0)return u}return[]}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=r(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=r(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=i(t,this._root,[]);if(e.length<2)return[];var n=e[e.length-2].children.map(function(t){return t.value});return n.filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return i(t,this._root,[]).map(function(t){return t.value})},t}(),a=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}()},function(t,e,n){"use strict";var r=n(0),i=n(123),o=n(139);n.n(o);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u="//reactomedev.oicr.on.ca/ContentService/data",c=function(){function t(t){this.http=t}return t.prototype.findRelatedPathways=function(t){return this.http.get(u+"/pathways/low/entity/"+t).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.getComplexName=function(t){return this.http.get(u+"/query/"+t+"/displayName").map(function(t){return t.text()}).catch(this.handleError)},t.prototype.handleError=function(t){console.log(t);var e=t.message?t.message:t.status?t.status+" - "+t.statusText:"Server error";return console.error(e),o.Observable.throw(e)},t=a([n.i(r.Injectable)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},function(t,e,n){"use strict";var r=n(0),i=n(123),o=n(139),a=(n.n(o),n(260));n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=a.a.complex_ws,l=function(){function t(t){this.http=t}return t.prototype.getComplex=function(t){return this.http.get(c+"/details/"+t).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.getComplexMIJSON=function(t){return this.http.get(c+"/export/"+t).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.findComplex=function(t,e,n,r,o,a,s,u){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===a&&(a=10),void 0===s&&(s="json"),void 0===u&&(u="species_f,ptype_f,pbiorole_f");var l=new i.c,h="";return l.set("first",(o*a-a).toString()),l.set("number",a.toString()),l.set("format",s),l.set("facets",u),0!==e.length&&(h+='species_f:("'+e.join('"AND"')+'"),'),0!==n.length&&(h+='pbiorole_f:("'+n.join('"AND"')+'"),'),0!==r.length&&(h+='ptype_f:("'+r.join('"AND"')+'"),'),l.set("filters",h),this.http.get(c+"/search/"+t,{search:l}).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.handleError=function(t){var e=t.message?t.message:t.status?t.status+" - "+t.statusText:"Server error";return console.error(e),o.Observable.throw(e)},t=s([n.i(r.Injectable)(),u("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={production:!0,analytics_id:"UA-672146-12",complex_ws:"https://wwwdev.ebi.ac.uk/intact/complex-ws"}},function(t,e,n){t.exports=n(653)},function(t,e,n){"use strict";function r(t,e,n,r){this.id=t,this.controller=r,this.fromSequenceData=e,this.toSequenceData=n,this.interactors=[this.fromSequenceData[0].node,this.toSequenceData[0].node]}var i=n(128),o=(n(400),n(26));r.prototype=new i,r.prototype.getToolTip=function(){var t="";t+=this.interactors[0].labelText+" ";for(var e=0;e<this.fromSequenceData.length;e++)e>0&&(t+=","),t+=this.fromSequenceData[e].toString();t+=" to ",t+=this.interactors[1].labelText+" ";for(var n=0;n<this.toSequenceData.length;n++)n>0&&(t+=","),t+=this.toSequenceData[n].toString();return t},r.prototype.initSVG=function(){if("undefined"==typeof this.glyph){this.glyph=document.createElementNS(o.svgns,"path"),this.uncertainGlyph=document.createElementNS(o.svgns,"path"),this.highlightGlyph=document.createElementNS(o.svgns,"path"),this.glyph.setAttribute("stroke-linecap","round"),this.uncertainGlyph.setAttribute("stroke-linecap","round"),this.highlightGlyph.setAttribute("stroke-linecap","round"),this.glyph.setAttribute("class","link"),this.glyph.setAttribute("fill","#E08214"),this.glyph.setAttribute("opacity","0.6"),this.glyph.setAttribute("stroke","#A08214"),this.glyph.setAttribute("stroke-width","2"),this.uncertainGlyph.setAttribute("class","link"),this.uncertainGlyph.setAttribute("fill","#A01284"),this.uncertainGlyph.setAttribute("stroke","#A01284"),this.uncertainGlyph.setAttribute("stroke-opacity","0.7"),this.uncertainGlyph.setAttribute("fill-opacity","0.3"),this.highlightGlyph.setAttribute("class","link"),this.highlightGlyph.setAttribute("fill","none"),this.highlightGlyph.setAttribute("stroke",o.highlightColour),this.highlightGlyph.setAttribute("stroke-width","10"),this.highlightGlyph.setAttribute("stroke-opacity","0"),"undefined"!=typeof this.colour&&this.glyph.setAttribute("fill",this.colour.toString());var t=this;this.uncertainGlyph.onmousedown=function(e){t.mouseDown(e)},this.uncertainGlyph.onmouseover=function(e){t.mouseOver(e)},this.uncertainGlyph.onmouseout=function(e){t.mouseOut(e)},this.glyph.onmousedown=function(e){t.mouseDown(e)},this.glyph.onmouseover=function(e){t.mouseOver(e)},this.glyph.onmouseout=function(e){t.mouseOut(e)},this.highlightGlyph.onmousedown=function(e){t.mouseDown(e)},this.highlightGlyph.onmouseover=function(e){t.mouseOver(e)},this.highlightGlyph.onmouseout=function(e){t.mouseOut(e)}}},r.prototype.showHighlight=function(t){t?this.highlightGlyph.setAttribute("stroke-opacity","1"):this.highlightGlyph.setAttribute("stroke-opacity","0")},r.prototype.check=function(){return this.filteredEvidence().length>0&&this.anyMoleculeIsBar()===!0?(this.show(),!0):(this.hide(),!1)},r.prototype.anyMoleculeIsBar=function(){for(var t=this.interactors.length,e=0;e<t;e++)if(1===this.interactors[e].form)return!0;return!1},r.prototype.show=function(){this.glyph||this.initSVG(),console.log(xiNET),this.uncertainGlyph.setAttribute("stroke-width",this.controller.z*xiNET.linkWidth),this.highlightGlyph.setAttribute("stroke-width",10*this.controller.z),this.setLinkCoordinates();var t=this.controller.res_resLinks;this.interactors[0]===this.interactors[1]&&(t=this.controller.selfRes_resLinks),t.appendChild(this.highlightGlyph),t.appendChild(this.glyph),t.appendChild(this.uncertainGlyph)},r.prototype.hide=function(){var t=this.controller.res_resLinks;this.interactors[0]===this.interactors[1]&&(t=this.controller.selfRes_resLinks);for(var e=[],n=0;n<t.childNodes.length;n++)e[n]=t.childNodes[n];e.indexOf(this.glyph)>-1&&(t.removeChild(this.glyph),t.removeChild(this.uncertainGlyph),t.removeChild(this.highlightGlyph))},r.prototype.setLinkCoordinates=function(t){function e(t){return!isNaN(parseFloat(t))&&isFinite(t)}function n(t,e,n,r,i,o){var a,s;return 0===i.form?(a=i.getPosition(),s=a):(a=i.getResidueCoordinates(n,o),s=i.getResidueCoordinates(r,o))," Q"+e[0]+","+e[1]+" "+a[0]+","+a[1]+" L"+s[0]+","+s[1]+" Q"+e[0]+","+e[1]+" "+t[0]+","+t[1]}function r(t,e){for(var n=null,r=null,i=t.length,o=0;o<i;o++){var a=t[o];if(!isNaN(parseFloat(a.start))&&isFinite(a.start)){var s=1*a.start;(null===n||s<n)&&(n=s)}if(!isNaN(parseFloat(a.uncertainStart))&&isFinite(a.uncertainStart)){var u=1*a.uncertainStart;(null===n||u<n)&&(n=u)}if(!isNaN(parseFloat(a.end))&&isFinite(a.end)){var c=1*a.end;(null===r||c>r)&&(r=c)}if(!isNaN(parseFloat(a.uncertainEnd))&&isFinite(a.uncertainEnd)){var l=1*a.uncertainEnd;(null===r||l>r)&&(r=l)}}return e.getResidueCoordinates((n+r)/2,0)}var i,o,a=this.fromSequenceData[0].node,s=this.toSequenceData[0].node;i=0===a.form?a.getPosition():r(this.fromSequenceData,a),o=0===s.form?s.getPosition():r(this.toSequenceData,s);var u=i[0]-o[0],c=i[1]-o[1],l=Math.atan2(c,u),h=l/(2*Math.PI)*360;h<0&&(h+=360);var p=h-a.rotation;p<0&&(p+=360);var f=10;p<180&&(f=-10);var d=a.rotation/360*Math.PI*2;p>180&&(d-=Math.PI),p=h-s.rotation,p<0&&(p+=360);var m=10;p>180&&(m=-10);var y=s.rotation/360*Math.PI*2;p<180&&(y-=Math.PI);var v=[i[0]+30*Math.sin(d)*this.controller.z,i[1]-30*Math.cos(d)*this.controller.z];0===a.form&&(v=i);var g=[o[0]+30*Math.sin(y)*this.controller.z,o[1]-30*Math.cos(y)*this.controller.z];0===s.form&&(g=o);for(var b,_,x,w=[(v[0]+g[0])/2,(v[1]+g[1])/2],C=this.fromSequenceData.length,S=this.toSequenceData.length,E="M"+w[0]+","+w[1],T="M"+w[0]+","+w[1],M="M"+w[0]+","+w[1],A=0;A<C;A++)b=this.fromSequenceData[A],E+=n(w,v,b.start,b.end,a,f),_=b.start,x=b.end,e(b.uncertainStart)&&(T+=n(w,v,b.uncertainStart,b.start,a,f),_=b.uncertainStart),e(b.uncertainEnd)&&(T+=n(w,v,b.end,b.uncertainEnd,a,f),x=b.uncertainEnd),M+=n(w,v,_,x,a,f);for(var P=0;P<S;P++)b=this.toSequenceData[P],E+=n(w,g,b.start,b.end,s,m),_=b.start,x=b.end,e(b.uncertainStart)&&(T+=n(w,g,b.uncertainStart,b.start,s,m),_=b.uncertainStart),e(b.uncertainEnd)&&(T+=n(w,g,b.end,b.uncertainEnd,s,m),x=b.uncertainEnd),M+=n(w,g,_,x,s,m);this.glyph||this.initSVG(),this.glyph.setAttribute("d",E),this.uncertainGlyph.setAttribute("d",T),this.highlightGlyph.setAttribute("d",M)},t.exports=r},,,,,,,,,,,,,,,,,,,function(t,e,n){var r,i;!function(){function o(t){return t&&(t.ownerDocument||t.document||t).documentElement}function a(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function s(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function u(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function l(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function h(t){return t.length}function p(t){for(var e=1;t*e%1;)e*=10;return e}function f(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function d(){this._=Object.create(null)}function m(t){return(t+="")===Sa||t[0]===Ea?Ea+t:t}function y(t){return(t+="")[0]===Ea?t.slice(1):t}function v(t){return m(t)in this._}function g(t){return(t=m(t))in this._&&delete this._[t]}function b(){var t=[];for(var e in this._)t.push(y(e));return t}function _(){var t=0;for(var e in this._)++t;return t}function x(){for(var t in this._)return!1;return!0}function w(){this._=Object.create(null)}function C(t){return t}function S(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function E(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=Ta.length;n<r;++n){var i=Ta[n]+e;if(i in t)return i}}function T(){}function M(){}function A(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new d;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function P(){fa.event.preventDefault()}function k(){for(var t,e=fa.event;t=e.sourceEvent;)e=t;return e}function R(t){for(var e=new M,n=0,r=arguments.length;++n<r;)e[arguments[n]]=A(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=fa.event;i.target=t,fa.event=i,e[i.type].apply(n,r)}finally{fa.event=o}}},e}function O(t){return Aa(t,Oa),t}function I(t){return"function"==typeof t?t:function(){return Pa(t,this)}}function N(t){return"function"==typeof t?t:function(){return ka(t,this)}}function D(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=fa.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function L(t){return t.trim().replace(/\s+/g," ")}function V(t){return new RegExp("(?:^|\\s+)"+fa.requote(t)+"(?:\\s+|$)","g")}function F(t){return(t+"").trim().split(/^|\s+/)}function j(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=F(t).map(B);var i=t.length;return"function"==typeof e?r:n}function B(t){var e=V(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",L(i+" "+t))):n.setAttribute("class",L(i.replace(e," ")))}}function U(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function z(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function H(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ia&&e.documentElement.namespaceURI===Ia?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=fa.ns.qualify(t)).local?n:e}function G(){var t=this.parentNode;t&&t.removeChild(this)}function q(t){return{__data__:t}}function W(t){return function(){return Ra(this,t)}}function X(t){return arguments.length||(t=s),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function Y(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function K(t){return Aa(t,Da),t}function Z(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<u;);return a}}function Q(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=u(e,ma(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+fa.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),u=$;s>0&&(t=t.slice(0,s));var c=La.get(t);return c&&(t=c,u=J),s?e?i:r:e?T:o}function $(t,e){return function(n){var r=fa.event;fa.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{fa.event=r}}}function J(t,e){var n=$(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function tt(t){var e=".dragsuppress-"+ ++Fa,n="click"+e,r=fa.select(a(t)).on("touchmove"+e,P).on("dragstart"+e,P).on("selectstart"+e,P);if(null==Va&&(Va=!("onselectstart"in t)&&E(t.style,"userSelect")),Va){var i=o(t).style,s=i[Va];i[Va]="none"}return function(t){if(r.on(e,null),Va&&(i[Va]=s),t){var o=function(){r.on(n,null)};r.on(n,function(){P(),o()},!0),setTimeout(o,0)}}}function et(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(ja<0){var i=a(t);if(i.scrollX||i.scrollY){n=fa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();ja=!(o.f||o.e),n.remove()}}return ja?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function nt(){return fa.event.changedTouches[0].identifier}function rt(t){return t>0?1:t<0?-1:0}function it(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function ot(t){return t>1?0:t<-1?za:Math.acos(t)}function at(t){return t>1?qa:t<-1?-qa:Math.asin(t)}function st(t){return((t=Math.exp(t))-1/t)/2}function ut(t){return((t=Math.exp(t))+1/t)/2}function ct(t){return((t=Math.exp(2*t))-1)/(t+1)}function lt(t){return(t=Math.sin(t/2))*t}function ht(){}function pt(t,e,n){return this instanceof pt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof pt?new pt(t.h,t.s,t.l):Tt(""+t,Mt,pt):new pt(t,e,n)}function ft(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+e):n+e-n*e,o=2*n-a,new wt(i(t+120),i(t),i(t-120))}function dt(t,e,n){return this instanceof dt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof dt?new dt(t.h,t.c,t.l):t instanceof yt?gt(t.l,t.a,t.b):gt((t=At((t=fa.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new dt(t,e,n)}function mt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new yt(n,Math.cos(t*=Wa)*e,Math.sin(t)*e)}function yt(t,e,n){return this instanceof yt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof yt?new yt(t.l,t.a,t.b):t instanceof dt?mt(t.h,t.c,t.l):At((t=wt(t)).r,t.g,t.b):new yt(t,e,n)}function vt(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=bt(i)*rs,r=bt(r)*is,o=bt(o)*os,new wt(xt(3.2404542*i-1.5371385*r-.4985314*o),xt(-.969266*i+1.8760108*r+.041556*o),xt(.0556434*i-.2040259*r+1.0572252*o))}function gt(t,e,n){return t>0?new dt(Math.atan2(n,e)*Xa,Math.sqrt(e*e+n*n),t):new dt(NaN,NaN,t)}function bt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function _t(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function xt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function wt(t,e,n){return this instanceof wt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof wt?new wt(t.r,t.g,t.b):Tt(""+t,wt,ft):new wt(t,e,n)}function Ct(t){return new wt(t>>16,t>>8&255,255&t)}function St(t){return Ct(t)+""}function Et(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Tt(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(kt(i[0]),kt(i[1]),kt(i[2]))}return(o=us.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function Mt(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new pt(r,i,u)}function At(t,e,n){t=Pt(t),e=Pt(e),n=Pt(n);var r=_t((.4124564*t+.3575761*e+.1804375*n)/rs),i=_t((.2126729*t+.7151522*e+.072175*n)/is),o=_t((.0193339*t+.119192*e+.9503041*n)/os);return yt(116*i-16,500*(r-i),200*(i-o))}function Pt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Rt(t){return"function"==typeof t?t:function(){return t}}function Ot(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),It(e,n,t,r)}}function It(t,e,n,r){function i(){var t,e=u.status;if(!e&&Dt(u)||e>=200&&e<300||304===e){try{t=n.call(o,u)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=fa.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=fa.event;fa.event=t;try{a.progress.call(o,u)}finally{fa.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(ma(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var l in s)u.setRequestHeader(l,s[l]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},fa.rebind(o,a,"on"),null==r?o:o.get(Nt(r))}function Nt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Dt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Lt(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,o={c:t,t:i,n:null};return ls?ls.n=o:cs=o,ls=o,hs||(ps=clearTimeout(ps),hs=1,fs(Vt)),o}function Vt(){var t=Ft(),e=jt()-t;e>24?(isFinite(e)&&(clearTimeout(ps),ps=setTimeout(Vt,e)),hs=0):(hs=1,fs(Vt))}function Ft(){for(var t=Date.now(),e=cs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function jt(){for(var t,e=cs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:cs=e.n;return ls=t,n}function Bt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ut(t,e){var n=Math.pow(10,3*Ca(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function zt(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:C;return function(t){var n=ms.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",c=n[5],l=+n[6],h=n[7],p=n[8],f=n[9],d=1,m="",y="",v=!1,g=!0;switch(p&&(p=+p.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),f){case"n":h=!0,f="g";break;case"%":d=100,y="%",f="f";break;case"p":d=100,y="%",f="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+f.toLowerCase());case"c":g=!1;case"d":v=!0,p=0;break;case"s":d=-1,f="r"}"$"===u&&(m=i[0],y=i[1]),"r"!=f||p||(f="g"),null!=p&&("g"==f?p=Math.max(1,Math.min(21,p)):"e"!=f&&"f"!=f||(p=Math.max(0,Math.min(20,p)))),f=ys.get(f)||Ht;var b=c&&h;return function(t){var n=y;if(v&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(d<0){var u=fa.formatPrefix(t,p);t=u.scale(t),n=u.symbol+y}else t*=d;t=f(t,p);var _,x,w=t.lastIndexOf(".");if(w<0){var C=g?t.lastIndexOf("e"):-1;C<0?(_=t,x=""):(_=t.substring(0,C),x=t.substring(C))}else _=t.substring(0,w),x=e+t.substring(w+1);!c&&h&&(_=o(_,1/0));var S=m.length+_.length+x.length+(b?0:i.length),E=S<l?new Array(S=l-S+1).join(r):"";return b&&(_=o(E+_,E.length?l-x.length:1/0)),i+=m,t=_+x,("<"===a?i+t+E:">"===a?E+i+t:"^"===a?E.substring(0,S>>=1)+i+t+E.substring(S):i+(b?t:E+t))+n}}}function Ht(t){return t+""}function Gt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function qt(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new gs(n-1)),1),n}function o(t,n){return e(t=new gs(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<r;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{gs=Gt;var r=new Gt;return r._=t,a(r,e,n)}finally{gs=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=Wt(t);return u.floor=u,u.round=Wt(r),u.ceil=Wt(i),u.offset=Wt(o),u.range=s,t}function Wt(t){return function(e,n){try{gs=Gt;var r=new Gt;return r._=e,t(r,n)._}finally{gs=Date}}}function Xt(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=_s[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=A[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&gs!==Gt,a=new(o?Gt:gs);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,u=e.length,c=n.length;s<u;){if(r>=c)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=P[a in _s?e.charAt(s++):a],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=C.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){T.lastIndex=0;var r=T.exec(e.slice(n));return r?(t.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){S.lastIndex=0;var r=S.exec(e.slice(n));return r?(t.m=E.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,A.c.toString(),e,r)}function u(t,e,r){return n(t,A.x.toString(),e,r)}function c(t,e,r){return n(t,A.X.toString(),e,r)}function l(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var h=t.dateTime,p=t.date,f=t.time,d=t.periods,m=t.days,y=t.shortDays,v=t.months,g=t.shortMonths;e.utc=function(t){function n(t){try{gs=Gt;var e=new gs;return e._=t,r(e)}finally{gs=Date}}var r=e(t);return n.parse=function(t){try{gs=Gt;var e=r.parse(t);return e&&e._}finally{gs=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=fe;var b=fa.map(),_=Kt(m),x=Zt(m),w=Kt(y),C=Zt(y),S=Kt(v),E=Zt(v),T=Kt(g),M=Zt(g);d.forEach(function(t,e){b.set(t.toLowerCase(),e)});var A={a:function(t){return y[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return g[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return Yt(t.getDate(),e,2)},e:function(t,e){return Yt(t.getDate(),e,2)},H:function(t,e){return Yt(t.getHours(),e,2)},I:function(t,e){return Yt(t.getHours()%12||12,e,2)},j:function(t,e){return Yt(1+vs.dayOfYear(t),e,3)},L:function(t,e){return Yt(t.getMilliseconds(),e,3)},m:function(t,e){return Yt(t.getMonth()+1,e,2)},M:function(t,e){return Yt(t.getMinutes(),e,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,e){return Yt(t.getSeconds(),e,2)},U:function(t,e){return Yt(vs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Yt(vs.mondayOfYear(t),e,2)},x:e(p),X:e(f),y:function(t,e){return Yt(t.getFullYear()%100,e,2)},Y:function(t,e){return Yt(t.getFullYear()%1e4,e,4)},Z:he,"%":function(){return"%"}},P={a:r,A:i,b:o,B:a,c:s,d:oe,e:oe,H:se,I:se,j:ae,L:le,m:ie,M:ue,p:l,S:ce,U:$t,w:Qt,W:Jt,x:u,X:c,y:ee,Y:te,Z:ne,"%":pe};return e}function Yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Kt(t){return new RegExp("^(?:"+t.map(fa.requote).join("|")+")","i")}function Zt(t){for(var e=new d,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Qt(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $t(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Jt(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function te(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ee(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n,n+2));return r?(t.y=re(+r[0]),n+r[0].length):-1}function ne(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function re(t){return t+(t>68?1900:2e3)}function ie(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function oe(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ae(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function se(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ue(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ce(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function le(t,e,n){xs.lastIndex=0;var r=xs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function he(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=Ca(e)/60|0,i=Ca(e)%60;return n+Yt(r,"0",2)+Yt(i,"0",2)}function pe(t,e,n){ws.lastIndex=0;var r=ws.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fe(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function de(){}function me(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function ye(t,e){t&&Ts.hasOwnProperty(t.type)&&Ts[t.type](t,e)}function ve(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function ge(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ve(t[n],e,1);e.polygonEnd()}function be(){function t(t,e){t*=Wa,e=e*Wa/2+za/4;var n=t-r,a=n>=0?1:-1,s=a*n,u=Math.cos(e),c=Math.sin(e),l=o*c,h=i*u+l*Math.cos(s),p=l*a*Math.sin(s);As.add(Math.atan2(p,h)),r=t,i=u,o=c}var e,n,r,i,o;Ps.point=function(a,s){Ps.point=t,r=(e=a)*Wa,i=Math.cos(s=(n=s)*Wa/2+za/4),o=Math.sin(s)},Ps.lineEnd=function(){t(e,n)}}function _e(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function xe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function we(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ce(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Se(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ee(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Te(t){return[Math.atan2(t[1],t[0]),at(t[2])]}function Me(t,e){return Ca(t[0]-e[0])<Ba&&Ca(t[1]-e[1])<Ba}function Ae(t,e){t*=Wa;var n=Math.cos(e*=Wa);Pe(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Pe(t,e,n){++ks,Os+=(t-Os)/ks,Is+=(e-Is)/ks,Ns+=(n-Ns)/ks}function ke(){function t(t,i){t*=Wa;var o=Math.cos(i*=Wa),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),c=Math.atan2(Math.sqrt((c=n*u-r*s)*c+(c=r*a-e*u)*c+(c=e*s-n*a)*c),e*a+n*s+r*u);Rs+=c,Ds+=c*(e+(e=a)),Ls+=c*(n+(n=s)),Vs+=c*(r+(r=u)),Pe(e,n,r)}var e,n,r;Us.point=function(i,o){i*=Wa;var a=Math.cos(o*=Wa);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Us.point=t,Pe(e,n,r)}}function Re(){Us.point=Ae}function Oe(){function t(t,e){t*=Wa;var n=Math.cos(e*=Wa),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),c=i*u-o*s,l=o*a-r*u,h=r*s-i*a,p=Math.sqrt(c*c+l*l+h*h),f=r*a+i*s+o*u,d=p&&-ot(f)/p,m=Math.atan2(p,f);Fs+=d*c,js+=d*l,Bs+=d*h,Rs+=m,Ds+=m*(r+(r=a)),Ls+=m*(i+(i=s)),Vs+=m*(o+(o=u)),Pe(r,i,o)}var e,n,r,i,o;Us.point=function(a,s){e=a,n=s,Us.point=t,a*=Wa;var u=Math.cos(s*=Wa);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),Pe(r,i,o)},Us.lineEnd=function(){t(e,n),Us.lineEnd=Re,
Us.point=Ae}}function Ie(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Ne(){return!0}function De(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Me(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var u=new Ve(n,t,null,!0),c=new Ve(n,null,u,!1);u.o=c,o.push(u),a.push(c),u=new Ve(r,t,null,!1),c=new Ve(r,null,u,!0),u.o=c,o.push(u),a.push(c)}}),a.sort(e),Le(o),Le(a),o.length){for(var s=0,u=n,c=a.length;s<c;++s)a[s].e=u=!u;for(var l,h,p=o[0];;){for(var f=p,d=!0;f.v;)if((f=f.n)===p)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(var s=0,c=l.length;s<c;++s)i.point((h=l[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d){l=f.p.z;for(var s=l.length-1;s>=0;--s)i.point((h=l[s])[0],h[1])}else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,l=f.z,d=!d}while(!f.v);i.lineEnd()}}}function Le(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Ve(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Fe(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);y.point(n[0],n[1])}function u(){g.point=s,y.lineStart()}function c(){g.point=a,y.lineEnd()}function l(t,e){m.push([t,e]);var n=i(t,e);_.point(n[0],n[1])}function h(){_.lineStart(),m=[]}function p(){l(m[0][0],m[0][1]),_.lineEnd();var t,e=_.clean(),n=b.buffer(),r=n.length;if(m.pop(),d.push(m),m=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(x||(o.polygonStart(),x=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(je))}var f,d,m,y=e(o),v=i.invert(r[0],r[1]),g={point:a,lineStart:u,lineEnd:c,polygonStart:function(){g.point=l,g.lineStart=h,g.lineEnd=p,f=[],d=[]},polygonEnd:function(){g.point=a,g.lineStart=u,g.lineEnd=c,f=fa.merge(f);var t=qe(v,d);f.length?(x||(o.polygonStart(),x=!0),De(f,Ue,t,n,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),f=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Be(),_=e(b),x=!1;return g}}function je(t){return t.length>1}function Be(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:T,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ue(t,e){return((t=t.x)[0]<0?t[1]-qa-Ba:qa-t[1])-((e=e.x)[0]<0?e[1]-qa-Ba:qa-e[1])}function ze(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?za:-za,u=Ca(o-n);Ca(u-za)<Ba?(t.point(n,r=(r+a)/2>0?qa:-qa),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=za&&(Ca(n-i)<Ba&&(n-=i*Ba),Ca(o-s)<Ba&&(o-=s*Ba),r=He(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function He(t,e,n,r){var i,o,a=Math.sin(t-n);return Ca(a)>Ba?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Ge(t,e,n,r){var i;if(null==t)i=n*qa,r.point(-za,i),r.point(0,i),r.point(za,i),r.point(za,0),r.point(za,-i),r.point(0,-i),r.point(-za,-i),r.point(-za,0),r.point(-za,i);else if(Ca(t[0]-e[0])>Ba){var o=t[0]<e[0]?za:-za;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function qe(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;As.reset();for(var s=0,u=e.length;s<u;++s){var c=e[s],l=c.length;if(l)for(var h=c[0],p=h[0],f=h[1]/2+za/4,d=Math.sin(f),m=Math.cos(f),y=1;;){y===l&&(y=0),t=c[y];var v=t[0],g=t[1]/2+za/4,b=Math.sin(g),_=Math.cos(g),x=v-p,w=x>=0?1:-1,C=w*x,S=C>za,E=d*b;if(As.add(Math.atan2(E*w*Math.sin(C),m*_+E*Math.cos(C))),o+=S?x+w*Ha:x,S^p>=n^v>=n){var T=we(_e(h),_e(t));Ee(T);var M=we(i,T);Ee(M);var A=(S^x>=0?-1:1)*at(M[2]);(r>A||r===A&&(T[0]||T[1]))&&(a+=S^x>=0?1:-1)}if(!y++)break;p=v,d=b,m=_,h=t}}return(o<-Ba||o<Ba&&As<-Ba)^1&a}function We(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(h,p){var f,d=[h,p],m=e(h,p),y=a?m?0:i(h,p):m?i(h+(h<0?za:-za),p):0;if(!n&&(c=u=m)&&t.lineStart(),m!==u&&(f=r(n,d),(Me(n,f)||Me(d,f))&&(d[0]+=Ba,d[1]+=Ba,m=e(d[0],d[1]))),m!==u)l=0,m?(t.lineStart(),f=r(d,n),t.point(f[0],f[1])):(f=r(n,d),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(s&&n&&a^m){var v;y&o||!(v=r(d,n,!0))||(l=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||n&&Me(n,d)||t.point(d[0],d[1]),n=d,u=m,o=y},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return l|(c&&u)<<1}}}function r(t,e,n){var r=_e(t),i=_e(e),a=[1,0,0],s=we(r,i),u=xe(s,s),c=s[0],l=u-c*c;if(!l)return!n&&t;var h=o*u/l,p=-o*c/l,f=we(a,s),d=Se(a,h),m=Se(s,p);Ce(d,m);var y=f,v=xe(d,y),g=xe(y,y),b=v*v-g*(xe(d,d)-1);if(!(b<0)){var _=Math.sqrt(b),x=Se(y,(-v-_)/g);if(Ce(x,d),x=Te(x),!n)return x;var w,C=t[0],S=e[0],E=t[1],T=e[1];S<C&&(w=C,C=S,S=w);var M=S-C,A=Ca(M-za)<Ba,P=A||M<Ba;if(!A&&T<E&&(w=E,E=T,T=w),P?A?E+T>0^x[1]<(Ca(x[0]-C)<Ba?E:T):E<=x[1]&&x[1]<=T:M>za^(C<=x[0]&&x[0]<=S)){var k=Se(y,(-v+_)/g);return Ce(k,d),[x,Te(k)]}}}function i(e,n){var r=a?t:za-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=Ca(o)>Ba,u=_n(t,6*Wa);return Fe(e,n,u,a?[0,-t]:[-za,t-za])}function Xe(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,c=a.y,l=s.x,h=s.y,p=0,f=1,d=l-u,m=h-c;if(o=t-u,d||!(o>0)){if(o/=d,d<0){if(o<p)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>p&&(p=o)}if(o=n-u,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>p&&(p=o)}else if(d>0){if(o<p)return;o<f&&(f=o)}if(o=e-c,m||!(o>0)){if(o/=m,m<0){if(o<p)return;o<f&&(f=o)}else if(m>0){if(o>f)return;o>p&&(p=o)}if(o=r-c,m||!(o<0)){if(o/=m,m<0){if(o>f)return;o>p&&(p=o)}else if(m>0){if(o<p)return;o<f&&(f=o)}return p>0&&(i.a={x:u+p*d,y:c+p*m}),f<1&&(i.b={x:u+f*d,y:c+f*m}),i}}}}}}function Ye(t,e,n,r){function i(r,i){return Ca(r[0]-t)<Ba?i>0?0:3:Ca(r[0]-n)<Ba?i>0?2:1:Ca(r[1]-e)<Ba?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=y.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=y[i],u=s.length,c=s[0];a<u;++a)o=s[a],c[1]<=r?o[1]>r&&it(c,o,t)>0&&++e:o[1]<=r&&it(c,o,t)<0&&--e,c=o;return 0!==e}function c(o,s,u,c){var l=0,h=0;if(null==o||(l=i(o,u))!==(h=i(s,u))||a(o,s)<0^u>0){do c.point(0===l||3===l?t:n,l>1?r:e);while((l=(l+u+4)%4)!==h)}else c.point(s[0],s[1])}function l(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function h(t,e){l(t,e)&&s.point(t,e)}function p(){P.point=d,y&&y.push(v=[]),S=!0,C=!1,x=w=NaN}function f(){m&&(d(g,b),_&&C&&M.rejoin(),m.push(M.buffer())),P.point=h,C&&s.lineEnd()}function d(t,e){t=Math.max(-Hs,Math.min(Hs,t)),e=Math.max(-Hs,Math.min(Hs,e));var n=l(t,e);if(y&&v.push([t,e]),S)g=t,b=e,_=n,S=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&C)s.point(t,e);else{var r={a:{x:x,y:w},b:{x:t,y:e}};A(r)?(C||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),E=!1):n&&(s.lineStart(),s.point(t,e),E=!1)}x=t,w=e,C=n}var m,y,v,g,b,_,x,w,C,S,E,T=s,M=Be(),A=Xe(t,e,n,r),P={point:h,lineStart:p,lineEnd:f,polygonStart:function(){s=M,m=[],y=[],E=!0},polygonEnd:function(){s=T,m=fa.merge(m);var e=u([t,r]),n=E&&e,i=m.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),i&&De(m,o,e,c,s),s.polygonEnd()),m=y=v=null}};return P}}function Ke(t){var e=0,n=za/3,r=pn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*za/180,n=t[1]*za/180):[e/za*180,n/za*180]},i}function Ze(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,at((o-(t*t+n*n)*i*i)/(2*i))]},n}function Qe(){function t(t,e){qs+=i*t-r*e,r=t,i=e}var e,n,r,i;Zs.point=function(o,a){Zs.point=t,e=r=o,n=i=a},Zs.lineEnd=function(){t(e,n)}}function $e(t,e){t<Ws&&(Ws=t),t>Ys&&(Ys=t),e<Xs&&(Xs=e),e>Ks&&(Ks=e)}function Je(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=tn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=tn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function tn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function en(t,e){Os+=t,Is+=e,++Ns}function nn(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);Ds+=a*(e+t)/2,Ls+=a*(n+r)/2,Vs+=a,en(e=t,n=r)}var e,n;$s.point=function(r,i){$s.point=t,en(e=r,n=i)}}function rn(){$s.point=en}function on(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);Ds+=a*(r+t)/2,Ls+=a*(i+e)/2,Vs+=a,a=i*t-r*e,Fs+=a*(r+t),js+=a*(i+e),Bs+=3*a,en(r=t,i=e)}var e,n,r,i;$s.point=function(o,a){$s.point=t,en(e=r=o,n=i=a)},$s.lineEnd=function(){t(e,n)}}function an(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Ha)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:T};return s}function sn(t){function e(t){return(s?r:n)(t)}function n(e){return ln(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=NaN,S.point=o,e.lineStart()}function o(n,r){var o=_e([n,r]),a=t(n,r);i(b,_,g,x,w,C,b=a[0],_=a[1],g=n,x=o[0],w=o[1],C=o[2],s,e),e.point(b,_)}function a(){S.point=n,e.lineEnd()}function u(){r(),S.point=c,S.lineEnd=l}function c(t,e){o(h=t,p=e),f=b,d=_,m=x,y=w,v=C,S.point=o}function l(){i(b,_,g,x,w,C,f,d,h,m,y,v,s,e),S.lineEnd=a,a()}var h,p,f,d,m,y,v,g,b,_,x,w,C,S={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),S.lineStart=u},polygonEnd:function(){e.polygonEnd(),S.lineStart=r}};return S}function i(e,n,r,s,u,c,l,h,p,f,d,m,y,v){var g=l-e,b=h-n,_=g*g+b*b;if(_>4*o&&y--){var x=s+f,w=u+d,C=c+m,S=Math.sqrt(x*x+w*w+C*C),E=Math.asin(C/=S),T=Ca(Ca(C)-1)<Ba||Ca(r-p)<Ba?(r+p)/2:Math.atan2(w,x),M=t(T,E),A=M[0],P=M[1],k=A-e,R=P-n,O=b*k-g*R;(O*O/_>o||Ca((g*k+b*R)/_-.5)>.3||s*f+u*d+c*m<a)&&(i(e,n,r,s,u,c,A,P,T,x/=S,w/=S,C,y,v),v.point(A,P),i(A,P,T,x,w,C,l,h,p,f,d,m,y,v))}}var o=.5,a=Math.cos(30*Wa),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function un(t){var e=sn(function(e,n){return t([e*Xa,n*Xa])});return function(t){return fn(e(t))}}function cn(t){this.stream=t}function ln(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function hn(t){return pn(function(){return t})()}function pn(t){function e(t){return t=s(t[0]*Wa,t[1]*Wa),[t[0]*p+u,c-t[1]*p]}function n(t){return t=s.invert((t[0]-u)/p,(c-t[1])/p),t&&[t[0]*Xa,t[1]*Xa]}function r(){s=Ie(a=yn(v,g,b),o);var t=o(m,y);return u=f-t[0]*p,c=d+t[1]*p,i()}function i(){return l&&(l.valid=!1,l=null),e}var o,a,s,u,c,l,h=sn(function(t,e){return t=o(t,e),[t[0]*p+u,c-t[1]*p]}),p=150,f=480,d=250,m=0,y=0,v=0,g=0,b=0,_=zs,x=C,w=null,S=null;return e.stream=function(t){return l&&(l.valid=!1),l=fn(_(a,h(x(t)))),l.valid=!0,l},e.clipAngle=function(t){return arguments.length?(_=null==t?(w=t,zs):We((w=+t)*Wa),i()):w},e.clipExtent=function(t){return arguments.length?(S=t,x=t?Ye(t[0][0],t[0][1],t[1][0],t[1][1]):C,i()):S},e.scale=function(t){return arguments.length?(p=+t,r()):p},e.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],r()):[f,d]},e.center=function(t){return arguments.length?(m=t[0]%360*Wa,y=t[1]%360*Wa,r()):[m*Xa,y*Xa]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Wa,g=t[1]%360*Wa,b=t.length>2?t[2]%360*Wa:0,r()):[v*Xa,g*Xa,b*Xa]},fa.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function fn(t){return ln(t,function(e,n){t.point(e*Wa,n*Wa)})}function dn(t,e){return[t,e]}function mn(t,e){return[t>za?t-Ha:t<-za?t+Ha:t,e]}function yn(t,e,n){return t?e||n?Ie(gn(t),bn(e,n)):gn(t):e||n?bn(e,n):mn}function vn(t){return function(e,n){return e+=t,[e>za?e-Ha:e<-za?e+Ha:e,n]}}function gn(t){var e=vn(t);return e.invert=vn(-t),e}function bn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*r+s*i;return[Math.atan2(u*o-l*a,s*r-c*i),at(l*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*o-u*a;return[Math.atan2(u*o+c*a,s*r+l*i),at(l*r-s*i)]},n}function _n(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=xn(n,i),o=xn(n,o),(a>0?i<o:i>o)&&(i+=a*Ha)):(i=t+a*Ha,o=t-.5*u);for(var c,l=i;a>0?l>o:l<o;l-=u)s.point((c=Te([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],c[1])}}function xn(t,e){var n=_e(e);n[0]-=t,Ee(n);var r=ot(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ba)%(2*Math.PI)}function wn(t,e,n){var r=fa.range(t,e-Ba,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Cn(t,e,n){var r=fa.range(t,e-Ba,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Sn(t){return t.source}function En(t){return t.target}function Tn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),c=i*Math.sin(t),l=a*Math.cos(n),h=a*Math.sin(n),p=2*Math.asin(Math.sqrt(lt(r-e)+i*a*lt(n-t))),f=1/Math.sin(p),d=p?function(t){var e=Math.sin(t*=p)*f,n=Math.sin(p-t)*f,r=n*u+e*l,i=n*c+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Xa,Math.atan2(a,Math.sqrt(r*r+i*i))*Xa]}:function(){return[t*Xa,e*Xa]};return d.distance=p,d}function Mn(){function t(t,i){var o=Math.sin(i*=Wa),a=Math.cos(i),s=Ca((t*=Wa)-e),u=Math.cos(s);Js+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;tu.point=function(i,o){e=i*Wa,n=Math.sin(o*=Wa),r=Math.cos(o),tu.point=t},tu.lineEnd=function(){tu.point=tu.lineEnd=T}}function An(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function Pn(t,e){function n(t,e){a>0?e<-qa+Ba&&(e=-qa+Ba):e>qa-Ba&&(e=qa-Ba);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(za/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=rt(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-qa]},n):Rn}function kn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return Ca(i)<Ba?dn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-rt(i)*Math.sqrt(t*t+n*n)]},n)}function Rn(t,e){return[t,Math.log(Math.tan(za/4+e/2))]}function On(t){var e,n=hn(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=za*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function In(t,e){return[Math.log(Math.tan(za/4+e/2)),-t]}function Nn(t){return t[0]}function Dn(t){return t[1]}function Ln(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&it(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Vn(t,e){return t[0]-e[0]||t[1]-e[1]}function Fn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function jn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],c=n[1],l=e[1]-u,h=r[1]-c,p=(s*(u-c)-h*(i-o))/(h*a-s*l);return[i+p*a,u+p*l]}function Bn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Un(){ur(this),this.edge=this.site=this.circle=null}function zn(t){var e=pu.pop()||new Un;return e.site=t,e}function Hn(t){Jn(t),cu.remove(t),pu.push(t),ur(t)}function Gn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Hn(t);for(var u=o;u.circle&&Ca(n-u.circle.x)<Ba&&Ca(r-u.circle.cy)<Ba;)o=u.P,s.unshift(u),Hn(u),u=o;s.unshift(u),Jn(u);for(var c=a;c.circle&&Ca(n-c.circle.x)<Ba&&Ca(r-c.circle.cy)<Ba;)a=c.N,s.push(c),Hn(c),c=a;s.push(c),Jn(c);var l,h=s.length;for(l=1;l<h;++l)c=s[l],u=s[l-1],or(c.edge,u.site,c.site,i);u=s[0],c=s[h-1],c.edge=rr(u.site,c.site,null,i),$n(u),$n(c)}function qn(t){for(var e,n,r,i,o=t.x,a=t.y,s=cu._;s;)if(r=Wn(s,a)-o,r>Ba)s=s.L;else{if(i=o-Xn(s,a),!(i>Ba)){r>-Ba?(e=s.P,n=s):i>-Ba?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=zn(t);if(cu.insert(e,u),e||n){if(e===n)return Jn(e),n=zn(e.site),cu.insert(u,n),u.edge=n.edge=rr(e.site,u.site),$n(e),void $n(n);if(!n)return void(u.edge=rr(e.site,u.site));Jn(e),Jn(n);var c=e.site,l=c.x,h=c.y,p=t.x-l,f=t.y-h,d=n.site,m=d.x-l,y=d.y-h,v=2*(p*y-f*m),g=p*p+f*f,b=m*m+y*y,_={x:(y*g-f*b)/v+l,y:(p*b-m*g)/v+h};or(n.edge,c,d,_),u.edge=rr(c,t,null,_),n.edge=rr(t,d,null,_),$n(e),$n(n)}}function Wn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,c=u-e;if(!c)return s;var l=s-r,h=1/o-1/c,p=l/c;return h?(-p+Math.sqrt(p*p-2*h*(l*l/(-2*c)-u+c/2+i-o/2)))/h+r:(r+s)/2}function Xn(t,e){var n=t.N;if(n)return Wn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Yn(t){this.site=t,this.edges=[]}function Kn(t){for(var e,n,r,i,o,a,s,u,c,l,h=t[0][0],p=t[1][0],f=t[0][1],d=t[1][1],m=uu,y=m.length;y--;)if(o=m[y],o&&o.prepare())for(s=o.edges,u=s.length,a=0;a<u;)l=s[a].end(),r=l.x,i=l.y,c=s[++a%u].start(),e=c.x,n=c.y,(Ca(r-e)>Ba||Ca(i-n)>Ba)&&(s.splice(a,0,new ar(ir(o.site,l,Ca(r-h)<Ba&&d-i>Ba?{x:h,y:Ca(e-h)<Ba?n:d}:Ca(i-d)<Ba&&p-r>Ba?{x:Ca(n-d)<Ba?e:p,y:d}:Ca(r-p)<Ba&&i-f>Ba?{x:p,y:Ca(e-p)<Ba?n:f}:Ca(i-f)<Ba&&r-h>Ba?{x:Ca(n-f)<Ba?e:h,y:f}:null),o.site,null)),++u)}function Zn(t,e){return e.angle-t.angle}function Qn(){ur(this),this.x=this.y=this.arc=this.site=this.cy=null}function $n(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,c=r.y-s,l=o.x-a,h=o.y-s,p=2*(u*h-c*l);if(!(p>=-Ua)){var f=u*u+c*c,d=l*l+h*h,m=(h*f-c*d)/p,y=(u*d-l*f)/p,h=y+s,v=fu.pop()||new Qn;v.arc=t,v.site=i,v.x=m+a,v.y=h+Math.sqrt(m*m+y*y),v.cy=h,t.circle=v;for(var g=null,b=hu._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}hu.insert(g,v),g||(lu=v)}}}}function Jn(t){var e=t.circle;e&&(e.P||(lu=e.N),hu.remove(e),fu.push(e),ur(e),t.circle=null)}function tr(t){for(var e,n=su,r=Xe(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!er(e,t)||!r(e)||Ca(e.a.x-e.b.x)<Ba&&Ca(e.a.y-e.b.y)<Ba)&&(e.a=e.b=null,n.splice(i,1))}function er(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],c=e[1][1],l=t.l,h=t.r,p=l.x,f=l.y,d=h.x,m=h.y,y=(p+d)/2,v=(f+m)/2;if(m===f){if(y<a||y>=s)return;if(p>d){if(o){if(o.y>=c)return}else o={x:y,y:u};n={x:y,y:c}}else{if(o){if(o.y<u)return}else o={x:y,y:c};n={x:y,y:u}}}else if(r=(p-d)/(m-f),i=v-r*y,r<-1||r>1)if(p>d){if(o){if(o.y>=c)return}else o={x:(u-i)/r,y:u};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<u)return}else o={x:(c-i)/r,y:c};n={x:(u-i)/r,y:u}}else if(f<m){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function nr(t,e){this.l=t,this.r=e,this.a=this.b=null}function rr(t,e,n,r){var i=new nr(t,e);return su.push(i),n&&or(i,t,e,n),r&&or(i,e,t,r),uu[t.i].edges.push(new ar(i,t,e)),uu[e.i].edges.push(new ar(i,e,t)),i}function ir(t,e,n){var r=new nr(t,null);return r.a=e,r.b=n,su.push(r),r}function or(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function ar(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function sr(){this._=null}function ur(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function cr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function lr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function hr(t){for(;t.L;)t=t.L;return t}function pr(t,e){var n,r,i,o=t.sort(fr).pop();for(su=[],uu=new Array(t.length),cu=new sr,hu=new sr;;)if(i=lu,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(uu[o.i]=new Yn(o),qn(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Gn(i.arc)}e&&(tr(e),Kn(e));var a={cells:uu,edges:su};return cu=hu=su=uu=null,a}function fr(t,e){return e.y-t.y||e.x-t.x}function dr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function mr(t){return t.x}function yr(t){return t.y}function vr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&gr(t,u[0],n,r,a,s),u[1]&&gr(t,u[1],a,r,i,s),u[2]&&gr(t,u[2],n,s,a,o),u[3]&&gr(t,u[3],a,s,i,o)}}function br(t,e,n,r,i,o,a){var s,u=1/0;return function t(c,l,h,p,f){if(!(l>o||h>a||p<r||f<i)){if(d=c.point){var d,m=e-c.x,y=n-c.y,v=m*m+y*y;if(v<u){var g=Math.sqrt(u=v);r=e-g,i=n-g,o=e+g,a=n+g,s=d}}for(var b=c.nodes,_=.5*(l+p),x=.5*(h+f),w=e>=_,C=n>=x,S=C<<1|w,E=S+4;S<E;++S)if(c=b[3&S])switch(3&S){case 0:t(c,l,h,_,x);break;case 1:t(c,_,h,p,x);break;case 2:t(c,l,x,_,f);break;case 3:t(c,_,x,p,f)}}}(t,r,i,o,a),s}function _r(t,e){t=fa.rgb(t),e=fa.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+Et(Math.round(n+o*t))+Et(Math.round(r+a*t))+Et(Math.round(i+s*t))}}function xr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=Sr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function wr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cr(t,e){var n,r,i,o=mu.lastIndex=yu.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=mu.exec(t))&&(r=yu.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:wr(n,r)})),o=yu.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function Sr(t,e){for(var n,r=fa.interpolators.length;--r>=0&&!(n=fa.interpolators[r](t,e)););return n}function Er(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(Sr(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function Tr(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Mr(t){return function(e){return 1-t(1-e)}}function Ar(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Pr(t){return t*t}function kr(t){return t*t*t}function Rr(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Or(t){return function(e){return Math.pow(e,t)}}function Ir(t){return 1-Math.cos(t*qa)}function Nr(t){return Math.pow(2,10*(t-1))}function Dr(t){return 1-Math.sqrt(1-t*t)}function Lr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ha*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Ha/e)}}function Vr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Fr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function jr(t,e){t=fa.hcl(t),e=fa.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return mt(n+o*t,r+a*t,i+s*t)+""}}function Br(t,e){t=fa.hsl(t),e=fa.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return ft(n+o*t,r+a*t,i+s*t)+""}}function Ur(t,e){t=fa.lab(t),e=fa.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return vt(n+o*t,r+a*t,i+s*t)+""}}function zr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Hr(t){var e=[t.a,t.b],n=[t.c,t.d],r=qr(e),i=Gr(e,n),o=qr(Wr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Xa,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Xa:0}function Gr(t,e){return t[0]*e[0]+t[1]*e[1]}function qr(t){var e=Math.sqrt(Gr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Wr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Xr(t){return t.length?t.pop()+",":""}function Yr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:wr(t[0],e[0])},{i:i-2,x:wr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Kr(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Xr(n)+"rotate(",null,")")-2,x:wr(t,e)})):e&&n.push(Xr(n)+"rotate("+e+")")}function Zr(t,e,n,r){t!==e?r.push({i:n.push(Xr(n)+"skewX(",null,")")-2,x:wr(t,e)}):e&&n.push(Xr(n)+"skewX("+e+")")}function Qr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Xr(n)+"scale(",null,",",null,")");r.push({i:i-4,x:wr(t[0],e[0])},{i:i-2,x:wr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Xr(n)+"scale("+e+")")}function $r(t,e){var n=[],r=[];return t=fa.transform(t),e=fa.transform(e),Yr(t.translate,e.translate,n,r),Kr(t.rotate,e.rotate,n,r),Zr(t.skew,e.skew,n,r),Qr(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,o=r.length;++i<o;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function Jr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function ti(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function ei(t){for(var e=t.source,n=t.target,r=ri(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function ni(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ri(t,e){if(t===e)return t;for(var n=ni(t),r=ni(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function ii(t){t.fixed|=2}function oi(t){t.fixed&=-7}function ai(t){t.fixed|=4,t.px=t.x,t.py=t.y}function si(t){t.fixed&=-5}function ui(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(ui(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ci(t,e){return fa.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=mi,t}function li(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function hi(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function pi(t){return t.children}function fi(t){return t.value}function di(t,e){return e.value-t.value}function mi(t){return fa.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function yi(t){return t.x}function vi(t){return t.y}function gi(t,e,n){t.y0=e,t.y=n}function bi(t){return fa.range(t.length)}function _i(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function xi(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function wi(t){return t.reduce(Ci,0)}function Ci(t,e){return t+e[1]}function Si(t,e){return Ei(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Ei(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Ti(t){return[fa.min(t),fa.max(t)]}function Mi(t,e){return t.value-e.value}function Ai(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Pi(t,e){t._pack_next=e,e._pack_prev=t}function ki(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Ri(t){function e(t){l=Math.min(t.x-t.r,l),h=Math.max(t.x+t.r,h),p=Math.min(t.y-t.r,p),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(c=n.length)){var n,r,i,o,a,s,u,c,l=1/0,h=-(1/0),p=1/0,f=-(1/0);if(n.forEach(Oi),r=n[0],r.x=-r.r,r.y=0,e(r),c>1&&(i=n[1],i.x=i.r,i.y=0,e(i),c>2))for(o=n[2],Di(r,i,o),e(o),Ai(r,o),r._pack_prev=o,Ai(o,i),i=r._pack_next,a=3;a<c;a++){Di(r,i,o=n[a]);var d=0,m=1,y=1;for(s=i._pack_next;s!==i;s=s._pack_next,m++)if(ki(s,o)){d=1;break}if(1==d)for(u=r._pack_prev;u!==s._pack_prev&&!ki(u,o);u=u._pack_prev,y++);d?(m<y||m==y&&i.r<r.r?Pi(r,i=s):Pi(r=u,i),a--):(Ai(r,o),i=o,e(o))}var v=(l+h)/2,g=(p+f)/2,b=0;for(a=0;a<c;a++)o=n[a],o.x-=v,o.y-=g,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(Ii)}}function Oi(t){t._pack_next=t._pack_prev=t}function Ii(t){delete t._pack_next,delete t._pack_prev}function Ni(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ni(i[o],e,n,r)}function Di(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+c*o,n.y=t.y+u*o-c*i}else n.x=t.x+r,n.y=t.y}function Li(t,e){return t.parent==e.parent?1:2}function Vi(t){var e=t.children;return e.length?e[0]:t.t}function Fi(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ji(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Bi(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Ui(t,e,n){return t.a.parent===e.parent?t.a:n}function zi(t){return 1+fa.max(t,function(t){return t.y})}function Hi(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Gi(t){var e=t.children;return e&&e.length?Gi(e[0]):t}function qi(t){var e,n=t.children;return n&&(e=n.length)?qi(n[e-1]):t}function Wi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Xi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Yi(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Ki(t){return t.rangeExtent?t.rangeExtent():Yi(t.range())}function Zi(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Qi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function $i(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Mu}function Ji(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=fa.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function to(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Ji:Zi,u=r?ti:Jr;return a=i(t,e,u,n),s=i(e,t,u,Sr),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(zr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return io(t,e);
},o.tickFormat=function(e,n){return oo(t,e,n)},o.nice=function(e){return no(t,e),i()},o.copy=function(){return to(t,e,n,r)},i()}function eo(t,e){return fa.rebind(t,e,"range","rangeRound","interpolate","clamp")}function no(t,e){return Qi(t,$i(ro(t,e)[2])),Qi(t,$i(ro(t,e)[2])),t}function ro(t,e){null==e&&(e=10);var n=Yi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function io(t,e){return fa.range.apply(fa,ro(t,e))}function oo(t,e,n){var r=ro(t,e);if(n){var i=ms.exec(n);if(i.shift(),"s"===i[8]){var o=fa.formatPrefix(Math.max(Ca(r[0]),Ca(r[1])));return i[7]||(i[7]="."+ao(o.scale(r[2]))),i[8]="f",n=fa.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+so(i[8],r)),n=i.join("")}else n=",."+ao(r[2])+"f";return fa.format(n)}function ao(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function so(t,e){var n=ao(e[2]);return t in Au?Math.abs(n-ao(Math.max(Ca(e[0]),Ca(e[1]))))+ +("e"!==t):n-2*("%"===t)}function uo(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=Qi(r.map(i),n?Math:ku);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Yi(r),a=[],s=t[0],u=t[1],c=Math.floor(i(s)),l=Math.ceil(i(u)),h=e%1?2:e;if(isFinite(l-c)){if(n){for(;c<l;c++)for(var p=1;p<h;p++)a.push(o(c)*p);a.push(o(c))}else for(a.push(o(c));c++<l;)for(var p=h-1;p>0;p--)a.push(o(c)*p);for(c=0;a[c]<s;c++);for(l=a.length;a[l-1]>u;l--);a=a.slice(c,l)}return a},a.tickFormat=function(t,n){if(!arguments.length)return Pu;arguments.length<2?n=Pu:"function"!=typeof n&&(n=fa.format(n));var r=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/o(Math.round(i(t)));return a*e<e-.5&&(a*=e),a<=r?n(t):""}},a.copy=function(){return uo(t.copy(),e,n,r)},eo(a,t)}function co(t,e,n){function r(e){return t(i(e))}var i=lo(e),o=lo(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return io(n,t)},r.tickFormat=function(t,e){return oo(n,t,e)},r.nice=function(t){return r.domain(no(n,t))},r.exponent=function(a){return arguments.length?(i=lo(e=a),o=lo(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return co(t.copy(),e,n)},eo(r,t)}function lo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ho(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%o.length]}function r(e,n){return fa.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new d;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],c=i[1],l=t.length<2?(u=(u+c)/2,0):(c-u)/(t.length-1+s);return o=r(u+l*s/2,l),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],c=i[1],l=t.length<2?(u=c=Math.round((u+c)/2),0):(c-u)/(t.length-1+s)|0;return o=r(u+Math.round(l*s/2+(c-u-(t.length-1+s)*l)/2),l),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var c=i[1]<i[0],l=i[c-0],h=i[1-c],p=(h-l)/(t.length-s+2*u);return o=r(l+p*u,p),c&&o.reverse(),a=p*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var c=i[1]<i[0],l=i[c-0],h=i[1-c],p=Math.floor((h-l)/(t.length-s+2*u));return o=r(l+Math.round((h-l-(t.length-s)*p)/2),p),c&&o.reverse(),a=Math.round(p*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Yi(e.a[0])},n.copy=function(){return ho(t,e)},n.domain(t)}function po(t,e){function n(){var n=0,o=e.length;for(i=[];++n<o;)i[n-1]=fa.quantile(t,n/o);return r}function r(t){if(!isNaN(t=+t))return e[fa.bisect(i,t)]}var i;return r.domain=function(e){return arguments.length?(t=e.map(u).filter(c).sort(s),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return i},r.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?i[n-1]:t[0],n<i.length?i[n]:t[t.length-1]]},r.copy=function(){return po(t,e)},n()}function fo(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/o+t,[e,e+1/o]},r.copy=function(){return fo(t,e,n)},i()}function mo(t,e){function n(n){if(n<=n)return e[fa.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return mo(t,e)},n}function yo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return io(t,e)},e.tickFormat=function(e,n){return oo(t,e,n)},e.copy=function(){return yo(t)},e}function vo(){return 0}function go(t){return t.innerRadius}function bo(t){return t.outerRadius}function _o(t){return t.startAngle}function xo(t){return t.endAngle}function wo(t){return t&&t.padAngle}function Co(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function So(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,c=-s*o,l=t[0]+u,h=t[1]+c,p=e[0]+u,f=e[1]+c,d=(l+p)/2,m=(h+f)/2,y=p-l,v=f-h,g=y*y+v*v,b=n-r,_=l*f-p*h,x=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*g-_*_)),w=(_*v-y*x)/g,C=(-_*y-v*x)/g,S=(_*v+y*x)/g,E=(-_*y+v*x)/g,T=w-d,M=C-m,A=S-d,P=E-m;return T*T+M*M>A*A+P*P&&(w=S,C=E),[[w-u,C-c],[w*n/b,C*n/b]]}function Eo(t){function e(e){function a(){c.push("M",o(t(l),s))}for(var u,c=[],l=[],h=-1,p=e.length,f=Rt(n),d=Rt(r);++h<p;)i.call(this,u=e[h],h)?l.push([+f.call(this,u,h),+d.call(this,u,h)]):l.length&&(a(),l=[]);return l.length&&a(),c.length?c.join(""):null}var n=Nn,r=Dn,i=Ne,o=To,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Lu.get(t)||To).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function To(t){return t.length>1?t.join("L"):t+"Z"}function Mo(t){return t.join("L")+"Z"}function Ao(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Po(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ko(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Ro(t,e){return t.length<4?To(t):t[1]+No(t.slice(1,-1),Do(t,e))}function Oo(t,e){return t.length<3?Mo(t):t[0]+No((t.push(t[0]),t),Do([t[t.length-2]].concat(t,[t[1]]),e))}function Io(t,e){return t.length<3?To(t):t[0]+No(t,Do(t,e))}function No(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return To(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,u++)o=t[u],s=e[c],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var l=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+l[0]+","+l[1]}return r}function Do(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Lo(t){if(t.length<3)return To(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Bo(ju,a),",",Bo(ju,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Uo(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Vo(t){if(t.length<4)return To(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Bo(ju,o)+","+Bo(ju,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Uo(n,o,a);return n.join("")}function Fo(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Bo(ju,a),",",Bo(ju,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Uo(e,a,s);return e.join("")}function jo(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,c=-1;++c<=n;)r=t[c],i=c/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Lo(t)}function Bo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Uo(t,e,n){t.push("C",Bo(Vu,e),",",Bo(Vu,n),",",Bo(Fu,e),",",Bo(Fu,n),",",Bo(ju,e),",",Bo(ju,n))}function zo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ho(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=zo(i,o);++e<n;)r[e]=(a+(a=zo(i=o,o=t[e+1])))/2;return r[e]=a,r}function Go(t){for(var e,n,r,i,o=[],a=Ho(t),s=-1,u=t.length-1;++s<u;)e=zo(t[s],t[s+1]),Ca(e)<Ba?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function qo(t){return t.length<3?To(t):t[0]+No(t,Go(t))}function Wo(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]-qa,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Xo(t){function e(e){function u(){m.push("M",s(t(v),h),l,c(t(y.reverse()),h),"Z")}for(var p,f,d,m=[],y=[],v=[],g=-1,b=e.length,_=Rt(n),x=Rt(i),w=n===r?function(){return f}:Rt(r),C=i===o?function(){return d}:Rt(o);++g<b;)a.call(this,p=e[g],g)?(y.push([f=+_.call(this,p,g),d=+x.call(this,p,g)]),v.push([+w.call(this,p,g),+C.call(this,p,g)])):y.length&&(u(),y=[],v=[]);return y.length&&u(),m.length?m.join(""):null}var n=Nn,r=Nn,i=0,o=Dn,a=Ne,s=To,u=s.key,c=s,l="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Lu.get(t)||To).key,c=s.reverse||s,l=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Yo(t){return t.radius}function Ko(t){return[t.x,t.y]}function Zo(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-qa;return[n*Math.cos(r),n*Math.sin(r)]}}function Qo(){return 64}function $o(){return"circle"}function Jo(t){var e=Math.sqrt(t/za);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function ta(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ea(t,e,n){return Aa(t,Wu),t.namespace=e,t.id=n,t}function na(t,e,n,r){var i=t.id,o=t.namespace;return Y(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function ra(t){return null==t&&(t=""),function(){this.textContent=t}}function ia(t){return null==t?"__transition__":"__transition_"+t+"__"}function oa(t,e,n,r,i){function o(t){var e=m.delay;return c.t=e+u,e<=t?a(t-e):void(c.c=a)}function a(n){var i=f.active,o=f[i];o&&(o.timer.c=null,o.timer.t=NaN,--f.count,delete f[i],o.event&&o.event.interrupt.call(t,t.__data__,o.index));for(var a in f)if(+a<r){var d=f[a];d.timer.c=null,d.timer.t=NaN,--f.count,delete f[a]}c.c=s,Lt(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,u),f.active=r,m.event&&m.event.start.call(t,t.__data__,e),p=[],m.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&p.push(r)}),h=m.ease,l=m.duration}function s(i){for(var o=i/l,a=h(o),s=p.length;s>0;)p[--s].call(t,a);if(o>=1)return m.event&&m.event.end.call(t,t.__data__,e),--f.count?delete f[r]:delete t[n],1}var u,c,l,h,p,f=t[n]||(t[n]={active:0,count:0}),m=f[r];m||(u=i.time,c=Lt(o,0,u),m=f[r]={tween:new d,time:u,timer:c,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++f.count)}function aa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function sa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function ua(t){return t.toISOString()}function ca(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=fa.bisect(ec,i);return o==ec.length?[e.year,ro(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/ec[o-1]<ec[o]/i?o-1:o]:[ic,ro(t,n)[2]]}return r.invert=function(e){return la(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(la)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,la(+n+1),e).length}var o=r.domain(),a=Yi(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(Qi(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=la(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=la(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Yi(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],la(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return ca(t.copy(),e,n)},eo(r,t)}function la(t){return new Date(t)}function ha(t){return JSON.parse(t.responseText)}function pa(t){var e=ya.createRange();return e.selectNode(ya.body),e.createContextualFragment(t.responseText)}var fa={version:"3.5.17"},da=[].slice,ma=function(t){return da.call(t)},ya=this.document;if(ya)try{ma(ya.documentElement.childNodes)[0].nodeType}catch(t){ma=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ya)try{ya.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var va=this.Element.prototype,ga=va.setAttribute,ba=va.setAttributeNS,_a=this.CSSStyleDeclaration.prototype,xa=_a.setProperty;va.setAttribute=function(t,e){ga.call(this,t,e+"")},va.setAttributeNS=function(t,e,n){ba.call(this,t,e,n+"")},_a.setProperty=function(t,e,n){xa.call(this,t,e+"",n)}}fa.ascending=s,fa.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},fa.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},fa.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},fa.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},fa.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=+t[o])&&(r+=n);else for(;++o<i;)c(n=+e.call(t,t[o],o))&&(r+=n);return r},fa.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)c(n=u(t[o]))?r+=n:--a;else for(;++o<i;)c(n=u(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},fa.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},fa.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=u(t[o]))&&r.push(n);else for(;++o<i;)c(n=u(e.call(t,t[o],o)))&&r.push(n);if(r.length)return fa.quantile(r.sort(s),.5)},fa.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)c(n=u(t[s]))&&(r=n-o,o+=r/++l,a+=r*(n-o));else for(;++s<i;)c(n=u(e.call(t,t[s],s)))&&(r=n-o,o+=r/++l,a+=r*(n-o));if(l>1)return a/(l-1)},fa.deviation=function(){var t=fa.variance.apply(this,arguments);return t?Math.sqrt(t):t};var wa=l(s);fa.bisectLeft=wa.left,fa.bisect=fa.bisectRight=wa.right,fa.bisector=function(t){return l(1===t.length?function(e,n){return s(t(e),n)}:t)},fa.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},fa.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},fa.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=[e=i,i=t[++n]];return o},fa.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=fa.min(t,h),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r},fa.zip=function(){return fa.transpose(arguments)},fa.keys=function(t){var e=[];for(var n in t)e.push(n);return e},fa.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},fa.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},fa.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var Ca=Math.abs;fa.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=p(Ca(n)),a=-1;if(t*=o,e*=o,n*=o,n<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},fa.map=function(t,e){var n=new d;if(t instanceof d)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var Sa="__proto__",Ea="\0";f(d,{has:v,get:function(t){return this._[m(t)]},set:function(t,e){return this._[m(t)]=e},remove:g,keys:b,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:y(e),value:this._[e]});return t},size:_,empty:x,forEach:function(t){for(var e in this._)t.call(this,y(e),this._[e])}}),fa.nest=function(){function t(e,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var u,c,l,h,p=-1,f=a.length,m=o[s++],y=new d;++p<f;)(h=y.get(u=m(c=a[p])))?h.push(c):y.set(u,[c]);return e?(c=e(),l=function(n,r){c.set(n,t(e,r,s))}):(c={},l=function(n,r){c[n]=t(e,r,s)}),y.forEach(l),c}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(fa.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},fa.set=function(t){var e=new w;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},f(w,{has:v,add:function(t){return this._[m(t+="")]=!0,t},remove:g,values:b,size:_,empty:x,forEach:function(t){for(var e in this._)t.call(this,y(e))}}),fa.behavior={},fa.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=S(t,e,e[n]);return t};var Ta=["webkit","ms","moz","Moz","o","O"];fa.dispatch=function(){for(var t=new M,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=A(t);return t},M.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},fa.event=null,fa.requote=function(t){return t.replace(Ma,"\\$&")};var Ma=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Aa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Pa=function(t,e){return e.querySelector(t)},ka=function(t,e){return e.querySelectorAll(t)},Ra=function(t,e){var n=t.matches||t[E(t,"matchesSelector")];return(Ra=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Pa=function(t,e){return Sizzle(t,e)[0]||null},ka=Sizzle,Ra=Sizzle.matchesSelector),fa.selection=function(){return fa.select(ya.documentElement)};var Oa=fa.selection.prototype=[];Oa.select=function(t){var e,n,r,i,o=[];t=I(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,c=r.length;++u<c;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return O(o)},Oa.selectAll=function(t){var e,n,r=[];t=N(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=ma(t.call(n,n.__data__,s,i))),e.parentNode=n);return O(r)};var Ia="http://www.w3.org/1999/xhtml",Na={svg:"http://www.w3.org/2000/svg",xhtml:Ia,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};fa.ns={prefix:Na,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Na.hasOwnProperty(n)?{space:Na[n],local:t}:t}},Oa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=fa.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},Oa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=F(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!V(t[i]).test(e))return!1;return!0}for(e in t)this.each(j(e,t[e]));return this}return this.each(j(t,e))},Oa.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.each(U(n,t[n],e));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(U(t,e,n))},Oa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(z(e,t[e]));return this}return this.each(z(t,e))},Oa.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Oa.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Oa.append=function(t){return t=H(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Oa.insert=function(t,e){return t=H(t),e=I(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Oa.remove=function(){return this.each(G)},Oa.data=function(t,e){function n(t,n){var r,i,o,a=t.length,l=n.length,h=Math.min(a,l),p=new Array(l),f=new Array(l),m=new Array(a);if(e){var y,v=new d,g=new Array(a);for(r=-1;++r<a;)(i=t[r])&&(v.has(y=e.call(i,i.__data__,r))?m[r]=i:v.set(y,i),g[r]=y);for(r=-1;++r<l;)(i=v.get(y=e.call(n,o=n[r],r)))?i!==!0&&(p[r]=i,i.__data__=o):f[r]=q(o),v.set(y,!0);for(r=-1;++r<a;)r in g&&v.get(g[r])!==!0&&(m[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=n[r],i?(i.__data__=o,p[r]=i):f[r]=q(o);for(;r<l;++r)f[r]=q(n[r]);for(;r<a;++r)m[r]=t[r]}f.update=p,f.parentNode=p.parentNode=m.parentNode=t.parentNode,s.push(f),u.push(p),c.push(m)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var s=K([]),u=O([]),c=O([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return u.enter=function(){return s},u.exit=function(){return c},u},Oa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Oa.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=W(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return O(i)},Oa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Oa.sort=function(t){t=X.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Oa.each=function(t){return Y(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Oa.call=function(t){var e=ma(arguments);return t.apply(e[0]=this,e),this},Oa.empty=function(){return!this.node()},Oa.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Oa.size=function(){var t=0;return Y(this,function(){++t}),t};var Da=[];fa.selection.enter=K,fa.selection.enter.prototype=Da,Da.append=Oa.append,Da.empty=Oa.empty,Da.node=Oa.node,Da.call=Oa.call,Da.size=Oa.size,Da.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(e.push(r[c]=n=t.call(i.parentNode,o.__data__,c,s)),n.__data__=o.__data__):e.push(null)}return O(a)},Da.insert=function(t,e){return arguments.length<2&&(e=Z(this)),Oa.insert.call(this,t,e)},fa.select=function(t){var e;return"string"==typeof t?(e=[Pa(t,ya)],e.parentNode=ya.documentElement):(e=[t],e.parentNode=o(t)),O([e])},fa.selectAll=function(t){var e;return"string"==typeof t?(e=ma(ka(t,ya)),e.parentNode=ya.documentElement):(e=ma(t),e.parentNode=null),O([e])},Oa.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(Q(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(Q(t,e,n))};var La=fa.map({mouseenter:"mouseover",mouseleave:"mouseout"});ya&&La.forEach(function(t){"on"+t in ya&&La.remove(t)});var Va,Fa=0;fa.mouse=function(t){return et(t,k())};var ja=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;fa.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=k().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return et(t,r)},fa.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(t,e,i,o,a){return function(){function s(){var t,n,r=e(p,m);r&&(t=r[0]-b[0],n=r[1]-b[1],d|=t|n,b=r,f({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:t,dy:n}))}function u(){e(p,m)&&(v.on(o+y,null).on(a+y,null),g(d),f({type:"dragend"}))}var c,l=this,h=fa.event.target.correspondingElement||fa.event.target,p=l.parentNode,f=n.of(l,arguments),d=0,m=t(),y=".drag"+(null==m?"":"-"+m),v=fa.select(i(h)).on(o+y,s).on(a+y,u),g=tt(h),b=e(p,m);r?(c=r.apply(l,arguments),c=[c.x-b[0],c.y-b[1]]):c=[0,0],f({type:"dragstart"})}}var n=R(t,"drag","dragstart","dragend"),r=null,i=e(T,fa.mouse,a,"mousemove","mouseup"),o=e(nt,fa.touch,C,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},fa.rebind(t,n,"on")},fa.touches=function(t,e){return arguments.length<2&&(e=k().touches),e?ma(e).map(function(e){var n=et(t,e);return n.identifier=e.identifier,n}):[]};var Ba=1e-6,Ua=Ba*Ba,za=Math.PI,Ha=2*za,Ga=Ha-Ba,qa=za/2,Wa=za/180,Xa=180/za,Ya=Math.SQRT2,Ka=2,Za=4;fa.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],l=s-i,h=u-o,p=l*l+h*h;if(p<Ua)r=Math.log(c/a)/Ya,n=function(t){return[i+t*l,o+t*h,a*Math.exp(Ya*t*r)]};else{var f=Math.sqrt(p),d=(c*c-a*a+Za*p)/(2*a*Ka*f),m=(c*c-a*a-Za*p)/(2*c*Ka*f),y=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-y)/Ya,n=function(t){var e=t*r,n=ut(y),s=a/(Ka*f)*(n*ct(Ya*e+y)-st(y));return[i+s*l,o+s*h,a*n/ut(Ya*e+y)]}}return n.duration=1e3*r,n},fa.behavior.zoom=function(){function t(t){t.on(k,h).on($a+".zoom",f).on("dblclick.zoom",d).on(N,p)}function e(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function n(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function r(t){S.k=Math.max(T[0],Math.min(T[1],t))}function i(t,e){e=n(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function o(e,n,o,a){e.__chart__={x:S.x,y:S.y,k:S.k},r(Math.pow(2,a)),i(y=n,o),e=fa.select(e),M>0&&(e=e.transition().duration(M)),e.call(t.event)}function s(){x&&x.domain(_.range().map(function(t){return(t-S.x)/S.k}).map(_.invert)),C&&C.domain(w.range().map(function(t){return(t-S.y)/S.k}).map(w.invert))}function u(t){A++||t({type:"zoomstart"})}function c(t){s(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function l(t){--A||(t({type:"zoomend"}),y=null)}function h(){function t(){s=1,i(fa.mouse(r),p),c(o)}function n(){h.on(O,null).on(I,null),f(s),l(o)}var r=this,o=D.of(r,arguments),s=0,h=fa.select(a(r)).on(O,t).on(I,n),p=e(fa.mouse(r)),f=tt(r);qu.call(r),u(o)}function p(){function t(){var t=fa.touches(d);return f=S.k,t.forEach(function(t){t.identifier in y&&(y[t.identifier]=e(t))}),t}function n(){var e=fa.event.target;fa.select(e).on(_,a).on(x,s),w.push(e);for(var n=fa.event.changedTouches,r=0,i=n.length;r<i;++r)y[n[r].identifier]=null;var u=t(),c=Date.now();if(1===u.length){if(c-b<500){var l=u[0];o(d,l,y[l.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),P()}b=c}else if(u.length>1){var l=u[0],h=u[1],p=l[0]-h[0],f=l[1]-h[1];v=p*p+f*f}}function a(){var t,e,n,o,a=fa.touches(d);qu.call(d);for(var s=0,u=a.length;s<u;++s,o=null)if(n=a[s],o=y[n.identifier]){if(e)break;t=n,e=o}if(o){var l=(l=n[0]-t[0])*l+(l=n[1]-t[1])*l,h=v&&Math.sqrt(l/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(h*f)}b=null,i(t,e),c(m)}function s(){if(fa.event.touches.length){for(var e=fa.event.changedTouches,n=0,r=e.length;n<r;++n)delete y[e[n].identifier];for(var i in y)return void t()}fa.selectAll(w).on(g,null),C.on(k,h).on(N,p),E(),l(m)}var f,d=this,m=D.of(d,arguments),y={},v=0,g=".zoom-"+fa.event.changedTouches[0].identifier,_="touchmove"+g,x="touchend"+g,w=[],C=fa.select(d),E=tt(d);n(),u(m),C.on(k,null).on(N,n)}function f(){var t=D.of(this,arguments);g?clearTimeout(g):(qu.call(this),m=e(y=v||fa.mouse(this)),u(t)),g=setTimeout(function(){g=null,l(t)},50),P(),r(Math.pow(2,.002*Qa())*S.k),i(y,m),c(t)}function d(){var t=fa.mouse(this),n=Math.log(S.k)/Math.LN2;o(this,t,e(t),fa.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var m,y,v,g,b,_,x,w,C,S={x:0,y:0,k:1},E=[960,500],T=Ja,M=250,A=0,k="mousedown.zoom",O="mousemove.zoom",I="mouseup.zoom",N="touchstart.zoom",D=R(t,"zoomstart","zoom","zoomend");return $a||($a="onwheel"in ya?(Qa=function(){return-fa.event.deltaY*(fa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ya?(Qa=function(){return fa.event.wheelDelta},"mousewheel"):(Qa=function(){return-fa.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=D.of(this,arguments),e=S;Hu?fa.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=E[0],r=E[1],i=y?y[0]:n/2,o=y?y[1]:r/2,a=fa.interpolateZoom([(i-S.x)/S.k,(o-S.y)/S.k,n/S.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=S={x:i-r[0]*s,y:o-r[1]*s,k:s},c(t)}}).each("interrupt.zoom",function(){l(t)}).each("end.zoom",function(){l(t)}):(this.__chart__=S,u(t),c(t),l(t))})},t.translate=function(e){return arguments.length?(S={
x:+e[0],y:+e[1],k:S.k},s(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:null},r(+e),s(),t):S.k},t.scaleExtent=function(e){return arguments.length?(T=null==e?Ja:[+e[0],+e[1]],t):T},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(E=e&&[+e[0],+e[1]],t):E},t.duration=function(e){return arguments.length?(M=+e,t):M},t.x=function(e){return arguments.length?(x=e,_=e.copy(),S={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(C=e,w=e.copy(),S={x:0,y:0,k:1},t):C},fa.rebind(t,D,"on")};var Qa,$a,Ja=[0,1/0];fa.color=ht,ht.prototype.toString=function(){return this.rgb()+""},fa.hsl=pt;var ts=pt.prototype=new ht;ts.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new pt(this.h,this.s,this.l/t)},ts.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new pt(this.h,this.s,t*this.l)},ts.rgb=function(){return ft(this.h,this.s,this.l)},fa.hcl=dt;var es=dt.prototype=new ht;es.brighter=function(t){return new dt(this.h,this.c,Math.min(100,this.l+ns*(arguments.length?t:1)))},es.darker=function(t){return new dt(this.h,this.c,Math.max(0,this.l-ns*(arguments.length?t:1)))},es.rgb=function(){return mt(this.h,this.c,this.l).rgb()},fa.lab=yt;var ns=18,rs=.95047,is=1,os=1.08883,as=yt.prototype=new ht;as.brighter=function(t){return new yt(Math.min(100,this.l+ns*(arguments.length?t:1)),this.a,this.b)},as.darker=function(t){return new yt(Math.max(0,this.l-ns*(arguments.length?t:1)),this.a,this.b)},as.rgb=function(){return vt(this.l,this.a,this.b)},fa.rgb=wt;var ss=wt.prototype=new ht;ss.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new wt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new wt(i,i,i)},ss.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new wt(t*this.r,t*this.g,t*this.b)},ss.hsl=function(){return Mt(this.r,this.g,this.b)},ss.toString=function(){return"#"+Et(this.r)+Et(this.g)+Et(this.b)};var us=fa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});us.forEach(function(t,e){us.set(t,Ct(e))}),fa.functor=Rt,fa.xhr=Ot(C),fa.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=It(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(l>=c)return a;if(i)return i=!1,o;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<c;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}l=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++l):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l<c;){var r=t.charCodeAt(l++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(l)&&(++l,++s);else if(r!==u)continue;return t.slice(e,l-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],c=t.length,l=0,h=0;(r=n())!==a;){for(var p=[];r!==o&&r!==a;)p.push(r),r=n();e&&null==(p=e(p,h++))||s.push(p)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new w,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},fa.csv=fa.dsv(",","text/csv"),fa.tsv=fa.dsv("\t","text/tab-separated-values");var cs,ls,hs,ps,fs=this[E(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};fa.timer=function(){Lt.apply(this,arguments)},fa.timer.flush=function(){Ft(),jt()},fa.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ds=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ut);fa.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=fa.round(t,Bt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ds[8+n/3]};var ms=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ys=fa.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=fa.round(t,Bt(t,e))).toFixed(Math.max(0,Math.min(20,Bt(t*(1+1e-15),e))))}}),vs=fa.time={},gs=Date;Gt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){bs.setUTCDate.apply(this._,arguments)},setDay:function(){bs.setUTCDay.apply(this._,arguments)},setFullYear:function(){bs.setUTCFullYear.apply(this._,arguments)},setHours:function(){bs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){bs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){bs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){bs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){bs.setUTCSeconds.apply(this._,arguments)},setTime:function(){bs.setTime.apply(this._,arguments)}};var bs=Date.prototype;vs.year=qt(function(t){return t=vs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),vs.years=vs.year.range,vs.years.utc=vs.year.utc.range,vs.day=qt(function(t){var e=new gs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),vs.days=vs.day.range,vs.days.utc=vs.day.utc.range,vs.dayOfYear=function(t){var e=vs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=vs[t]=qt(function(t){return(t=vs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=vs.year(t).getDay();return Math.floor((vs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});vs[t+"s"]=n.range,vs[t+"s"].utc=n.utc.range,vs[t+"OfYear"]=function(t){var n=vs.year(t).getDay();return Math.floor((vs.dayOfYear(t)+(n+e)%7)/7)}}),vs.week=vs.sunday,vs.weeks=vs.sunday.range,vs.weeks.utc=vs.sunday.utc.range,vs.weekOfYear=vs.sundayOfYear;var _s={"-":"",_:" ",0:"0"},xs=/^\s*\d+/,ws=/^%/;fa.locale=function(t){return{numberFormat:zt(t),timeFormat:Xt(t)}};var Cs=fa.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});fa.format=Cs.numberFormat,fa.geo={},de.prototype={s:0,t:0,add:function(t){me(t,this.t,Ss),me(Ss.s,this.s,this),this.s?this.t+=Ss.t:this.s=Ss.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ss=new de;fa.geo.stream=function(t,e){t&&Es.hasOwnProperty(t.type)?Es[t.type](t,e):ye(t,e)};var Es={Feature:function(t,e){ye(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ye(n[r].geometry,e)}},Ts={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ve(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ve(n[r],e,0)},Polygon:function(t,e){ge(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ge(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ye(n[r],e)}};fa.geo.area=function(t){return Ms=0,fa.geo.stream(t,Ps),Ms};var Ms,As=new de,Ps={sphere:function(){Ms+=4*za},point:T,lineStart:T,lineEnd:T,polygonStart:function(){As.reset(),Ps.lineStart=be},polygonEnd:function(){var t=2*As;Ms+=t<0?4*za+t:t,Ps.lineStart=Ps.lineEnd=Ps.point=T}};fa.geo.bounds=function(){function t(t,e){b.push(_=[l=t,p=t]),e<h&&(h=e),e>f&&(f=e)}function e(e,n){var r=_e([e*Wa,n*Wa]);if(v){var i=we(v,r),o=[i[1],-i[0],0],a=we(o,i);Ee(a),a=Te(a);var u=e-d,c=u>0?1:-1,m=a[0]*Xa*c,y=Ca(u)>180;if(y^(c*d<m&&m<c*e)){var g=a[1]*Xa;g>f&&(f=g)}else if(m=(m+360)%360-180,y^(c*d<m&&m<c*e)){var g=-a[1]*Xa;g<h&&(h=g)}else n<h&&(h=n),n>f&&(f=n);y?e<d?s(l,e)>s(l,p)&&(p=e):s(e,p)>s(l,p)&&(l=e):p>=l?(e<l&&(l=e),e>p&&(p=e)):e>d?s(l,e)>s(l,p)&&(p=e):s(e,p)>s(l,p)&&(l=e)}else t(e,n);v=r,d=e}function n(){x.point=e}function r(){_[0]=l,_[1]=p,x.point=t,v=null}function i(t,n){if(v){var r=t-d;g+=Ca(r)>180?r+(r>0?360:-360):r}else m=t,y=n;Ps.point(t,n),e(t,n)}function o(){Ps.lineStart()}function a(){i(m,y),Ps.lineEnd(),Ca(g)>Ba&&(l=-(p=180)),_[0]=l,_[1]=p,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var l,h,p,f,d,m,y,v,g,b,_,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=o,x.lineEnd=a,g=0,Ps.polygonStart()},polygonEnd:function(){Ps.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,As<0?(l=-(p=180),h=-(f=90)):g>Ba?f=90:g<-Ba&&(h=-90),_[0]=l,_[1]=p}};return function(t){f=p=-(l=h=1/0),b=[],fa.geo.stream(t,x);var e=b.length;if(e){b.sort(u);for(var n,r=1,i=b[0],o=[i];r<e;++r)n=b[r],c(n[0],i)||c(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,d=-(1/0),e=o.length-1,r=0,i=o[e];r<=e;i=n,++r)n=o[r],(a=s(i[1],n[0]))>d&&(d=a,l=n[0],p=i[1])}return b=_=null,l===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[l,h],[p,f]]}}(),fa.geo.centroid=function(t){ks=Rs=Os=Is=Ns=Ds=Ls=Vs=Fs=js=Bs=0,fa.geo.stream(t,Us);var e=Fs,n=js,r=Bs,i=e*e+n*n+r*r;return i<Ua&&(e=Ds,n=Ls,r=Vs,Rs<Ba&&(e=Os,n=Is,r=Ns),i=e*e+n*n+r*r,i<Ua)?[NaN,NaN]:[Math.atan2(n,e)*Xa,at(r/Math.sqrt(i))*Xa]};var ks,Rs,Os,Is,Ns,Ds,Ls,Vs,Fs,js,Bs,Us={sphere:T,point:Ae,lineStart:ke,lineEnd:Re,polygonStart:function(){Us.lineStart=Oe},polygonEnd:function(){Us.lineStart=ke}},zs=Fe(Ne,ze,Ge,[-za,-za/2]),Hs=1e9;fa.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=Ye(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(fa.geo.conicEqualArea=function(){return Ke(Ze)}).raw=Ze,fa.geo.albers=function(){return fa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},fa.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=fa.geo.albers(),a=fa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=fa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var c=o.scale(),l=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[l-.455*c,h-.238*c],[l+.455*c,h+.238*c]]).stream(u).point,r=a.translate([l-.307*c,h+.201*c]).clipExtent([[l-.425*c+Ba,h+.12*c+Ba],[l-.214*c-Ba,h+.234*c-Ba]]).stream(u).point,i=s.translate([l-.205*c,h+.212*c]).clipExtent([[l-.214*c+Ba,h+.166*c+Ba],[l-.115*c-Ba,h+.234*c-Ba]]).stream(u).point,t},t.scale(1070)};var Gs,qs,Ws,Xs,Ys,Ks,Zs={point:T,lineStart:T,lineEnd:T,polygonStart:function(){qs=0,Zs.lineStart=Qe},polygonEnd:function(){Zs.lineStart=Zs.lineEnd=Zs.point=T,Gs+=Ca(qs/2)}},Qs={point:$e,lineStart:T,lineEnd:T,polygonStart:T,polygonEnd:T},$s={point:en,lineStart:nn,lineEnd:rn,polygonStart:function(){$s.lineStart=on},polygonEnd:function(){$s.point=en,$s.lineStart=nn,$s.lineEnd=rn}};fa.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),fa.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Gs=0,fa.geo.stream(t,i(Zs)),Gs},t.centroid=function(t){return Os=Is=Ns=Ds=Ls=Vs=Fs=js=Bs=0,fa.geo.stream(t,i($s)),Bs?[Fs/Bs,js/Bs]:Vs?[Ds/Vs,Ls/Vs]:Ns?[Os/Ns,Is/Ns]:[NaN,NaN]},t.bounds=function(t){return Ys=Ks=-(Ws=Xs=1/0),fa.geo.stream(t,i(Qs)),[[Ws,Xs],[Ys,Ks]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||un(t):C,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Je:new an(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(fa.geo.albersUsa()).context(null)},fa.geo.transform=function(t){return{stream:function(e){var n=new cn(e);for(var r in t)n[r]=t[r];return n}}},cn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},fa.geo.projection=hn,fa.geo.projectionMutator=pn,(fa.geo.equirectangular=function(){return hn(dn)}).raw=dn.invert=dn,fa.geo.rotation=function(t){function e(e){return e=t(e[0]*Wa,e[1]*Wa),e[0]*=Xa,e[1]*=Xa,e}return t=yn(t[0]%360*Wa,t[1]*Wa,t.length>2?t[2]*Wa:0),e.invert=function(e){return e=t.invert(e[0]*Wa,e[1]*Wa),e[0]*=Xa,e[1]*=Xa,e},e},mn.invert=dn,fa.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=yn(-t[0]*Wa,-t[1]*Wa,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Xa,t[1]*=Xa}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=_n((e=+r)*Wa,i*Wa),t):e},t.precision=function(r){return arguments.length?(n=_n(e*Wa,(i=+r)*Wa),t):i},t.angle(90)},fa.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Wa,i=t[1]*Wa,o=e[1]*Wa,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),c=Math.cos(i),l=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=c*l-u*h*s)*n),u*l+c*h*s)},fa.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return fa.range(Math.ceil(o/y)*y,i,y).map(p).concat(fa.range(Math.ceil(c/v)*v,u,v).map(f)).concat(fa.range(Math.ceil(r/d)*d,n,d).filter(function(t){return Ca(t%y)>Ba}).map(l)).concat(fa.range(Math.ceil(s/m)*m,a,m).filter(function(t){return Ca(t%v)>Ba}).map(h))}var n,r,i,o,a,s,u,c,l,h,p,f,d=10,m=d,y=90,v=360,g=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(f(u).slice(1),p(i).reverse().slice(1),f(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],c=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),c>u&&(e=c,c=u,u=e),t.precision(g)):[[o,c],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(g)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(y=+e[0],v=+e[1],t):[y,v]},t.minorStep=function(e){return arguments.length?(d=+e[0],m=+e[1],t):[d,m]},t.precision=function(e){return arguments.length?(g=+e,l=wn(s,a,90),h=Cn(r,n,g),p=wn(c,u,90),f=Cn(o,i,g),t):g},t.majorExtent([[-180,-90+Ba],[180,90-Ba]]).minorExtent([[-180,-80-Ba],[180,80+Ba]])},fa.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=Sn,i=En;return t.distance=function(){return fa.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},fa.geo.interpolate=function(t,e){return Tn(t[0]*Wa,t[1]*Wa,e[0]*Wa,e[1]*Wa)},fa.geo.length=function(t){return Js=0,fa.geo.stream(t,tu),Js};var Js,tu={sphere:T,point:T,lineStart:Mn,lineEnd:T,polygonStart:T,polygonEnd:T},eu=An(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(fa.geo.azimuthalEqualArea=function(){return hn(eu)}).raw=eu;var nu=An(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},C);(fa.geo.azimuthalEquidistant=function(){return hn(nu)}).raw=nu,(fa.geo.conicConformal=function(){return Ke(Pn)}).raw=Pn,(fa.geo.conicEquidistant=function(){return Ke(kn)}).raw=kn;var ru=An(function(t){return 1/t},Math.atan);(fa.geo.gnomonic=function(){return hn(ru)}).raw=ru,Rn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-qa]},(fa.geo.mercator=function(){return On(Rn)}).raw=Rn;var iu=An(function(){return 1},Math.asin);(fa.geo.orthographic=function(){return hn(iu)}).raw=iu;var ou=An(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(fa.geo.stereographic=function(){return hn(ou)}).raw=ou,In.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-qa]},(fa.geo.transverseMercator=function(){var t=On(In),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=In,fa.geom={},fa.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Rt(n),o=Rt(r),a=t.length,s=[],u=[];for(e=0;e<a;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Vn),e=0;e<a;e++)u.push([s[e][0],-s[e][1]]);var c=Ln(s),l=Ln(u),h=l[0]===c[0],p=l[l.length-1]===c[c.length-1],f=[];for(e=c.length-1;e>=0;--e)f.push(t[s[c[e]][2]]);for(e=+h;e<l.length-p;++e)f.push(t[s[l[e]][2]]);return f}var n=Nn,r=Dn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},fa.geom.polygon=function(t){return Aa(t,au),t};var au=fa.geom.polygon.prototype=[];au.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},au.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},au.clip=function(t){for(var e,n,r,i,o,a,s=Bn(t),u=-1,c=this.length-Bn(this),l=this[c-1];++u<c;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],Fn(a,l,i)?(Fn(o,l,i)||t.push(jn(o,a,l,i)),t.push(a)):Fn(o,l,i)&&t.push(jn(o,a,l,i)),o=a;s&&t.push(t[0]),l=i}return t};var su,uu,cu,lu,hu,pu=[],fu=[];Yn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Zn),e.length},ar.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},sr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=hr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(cr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,lr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(lr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,cr(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?hr(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,cr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,lr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,cr(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,lr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,cr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,lr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},fa.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return pr(n(t),s).cells.forEach(function(n,s){var u=n.edges,c=n.site,l=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=r&&c.x<=o&&c.y>=i&&c.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];l.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ba)*Ba,y:Math.round(a(t,e)/Ba)*Ba,i:e}})}var r=Nn,i=Dn,o=r,a=i,s=du;return t?e(t):(e.links=function(t){return pr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return pr(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Zn),u=-1,c=s.length,l=s[c-1].edge,h=l.l===a?l.r:l.l;++u<c;)i=l,o=h,l=s[u].edge,h=l.l===a?l.r:l.l,r<o.i&&r<h.i&&dr(a,o,h)<0&&e.push([t[r],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=Rt(r=t),e):r},e.y=function(t){return arguments.length?(a=Rt(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?du:t,e):s===du?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===du?null:s&&s[1]},e)};var du=[[-1e6,-1e6],[1e6,1e6]];fa.geom.delaunay=function(t){return fa.geom.voronoi().triangles(t)},fa.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(Ca(u-n)+Ca(l-r)<.01)c(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,c(t,h,u,l,i,o,a,s),c(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else c(t,e,n,r,i,o,a,s)}function c(t,e,n,r,i,a,s,u){var c=.5*(i+s),l=.5*(a+u),h=n>=c,p=r>=l,f=p<<1|h;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=vr()),h?i=c:s=c,p?a=l:u=l,o(t,e,n,r,i,a,s,u)}var l,h,p,f,d,m,y,v,g,b=Rt(s),_=Rt(u);if(null!=e)m=e,y=n,v=r,g=i;else if(v=g=-(m=y=1/0),h=[],p=[],d=t.length,a)for(f=0;f<d;++f)l=t[f],l.x<m&&(m=l.x),l.y<y&&(y=l.y),l.x>v&&(v=l.x),l.y>g&&(g=l.y),h.push(l.x),p.push(l.y);else for(f=0;f<d;++f){var x=+b(l=t[f],f),w=+_(l,f);x<m&&(m=x),w<y&&(y=w),x>v&&(v=x),w>g&&(g=w),h.push(x),p.push(w)}var C=v-m,S=g-y;C>S?g=y+C:v=m+S;var E=vr();if(E.add=function(t){o(E,t,+b(t,++f),+_(t,f),m,y,v,g)},E.visit=function(t){gr(t,E,m,y,v,g)},E.find=function(t){return br(E,t[0],t[1],m,y,v,g)},f=-1,null==e){for(;++f<d;)o(E,t[f],h[f],p[f],m,y,v,g);--f}else t.forEach(E.add);return h=p=t=l=null,E}var a,s=Nn,u=Dn;return(a=arguments.length)?(s=mr,u=yr,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},fa.interpolateRgb=_r,fa.interpolateObject=xr,fa.interpolateNumber=wr,fa.interpolateString=Cr;var mu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yu=new RegExp(mu.source,"g");fa.interpolate=Sr,fa.interpolators=[function(t,e){var n=typeof e;return("string"===n?us.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?_r:Cr:e instanceof ht?_r:Array.isArray(e)?Er:"object"===n&&isNaN(e)?xr:wr)(t,e)}],fa.interpolateArray=Er;var vu=function(){return C},gu=fa.map({linear:vu,poly:Or,quad:function(){return Pr},cubic:function(){return kr},sin:function(){return Ir},exp:function(){return Nr},circle:function(){return Dr},elastic:Lr,back:Vr,bounce:function(){return Fr}}),bu=fa.map({in:C,out:Mr,"in-out":Ar,"out-in":function(t){return Ar(Mr(t))}});fa.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=gu.get(n)||vu,r=bu.get(r)||C,Tr(r(n.apply(null,da.call(arguments,1))))},fa.interpolateHcl=jr,fa.interpolateHsl=Br,fa.interpolateLab=Ur,fa.interpolateRound=zr,fa.transform=function(t){var e=ya.createElementNS(fa.ns.prefix.svg,"g");return(fa.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Hr(n?n.matrix:_u)})(t)},Hr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var _u={a:1,b:0,c:0,d:1,e:0,f:0};fa.interpolateTransform=$r,fa.layout={},fa.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(ei(t[n]));return e}},fa.layout.chord=function(){function t(){var t,c,h,p,f,d={},m=[],y=fa.range(o),v=[];for(n=[],r=[],t=0,p=-1;++p<o;){for(c=0,f=-1;++f<o;)c+=i[p][f];m.push(c),v.push(fa.range(o)),t+=c}for(a&&y.sort(function(t,e){return a(m[t],m[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Ha-l*o)/t,c=0,p=-1;++p<o;){for(h=c,f=-1;++f<o;){var g=y[p],b=v[g][f],_=i[g][b],x=c,w=c+=_*t;d[g+"-"+b]={index:g,subindex:b,startAngle:x,endAngle:w,value:_}}r[g]={index:g,startAngle:h,endAngle:c,value:m[g]},c+=l}for(p=-1;++p<o;)for(f=p-1;++f<o;){var C=d[p+"-"+f],S=d[f+"-"+p];(C.value||S.value)&&n.push(C.value<S.value?{source:S,target:C}:{source:C,target:S})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,u,c={},l=0;return c.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,c):i},c.padding=function(t){return arguments.length?(l=t,n=r=null,c):l},c.sortGroups=function(t){return arguments.length?(a=t,n=r=null,c):a},c.sortSubgroups=function(t){return arguments.length?(s=t,n=null,c):s},c.sortChords=function(t){return arguments.length?(u=t,n&&e(),c):u},c.chords=function(){return n||t(),n},c.groups=function(){return r||t(),r},c},fa.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(s*s/v<u){if(u<m){var c=e.charge/u;t.px-=o*c,t.py-=a*c}return!0}if(e.point&&u&&u<m){var c=e.pointCharge/u;t.px-=o*c,t.py-=a*c}}return!e.charge}}function e(t){t.px=fa.event.x,t.py=fa.event.y,u.resume()}var n,r,i,o,a,s,u={},c=fa.dispatch("start","tick","end"),l=[1,1],h=.9,p=xu,f=wu,d=-30,m=Cu,y=.1,v=.64,g=[],b=[];return u.tick=function(){if((i*=.99)<.005)return n=null,c.end({type:"end",alpha:i=0}),!0;var e,r,u,p,f,m,v,_,x,w=g.length,C=b.length;for(r=0;r<C;++r)u=b[r],p=u.source,f=u.target,_=f.x-p.x,x=f.y-p.y,(m=_*_+x*x)&&(m=i*a[r]*((m=Math.sqrt(m))-o[r])/m,_*=m,x*=m,f.x-=_*(v=p.weight+f.weight?p.weight/(p.weight+f.weight):.5),f.y-=x*v,p.x+=_*(v=1-v),p.y+=x*v);if((v=i*y)&&(_=l[0]/2,x=l[1]/2,r=-1,v))for(;++r<w;)u=g[r],u.x+=(_-u.x)*v,u.y+=(x-u.y)*v;if(d)for(ui(e=fa.geom.quadtree(g),i,s),r=-1;++r<w;)(u=g[r]).fixed||e.visit(t(u));for(r=-1;++r<w;)u=g[r],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*h,u.y-=(u.py-(u.py=u.y))*h);c.tick({type:"tick",alpha:i})},u.nodes=function(t){return arguments.length?(g=t,u):g},u.links=function(t){return arguments.length?(b=t,u):b},u.size=function(t){return arguments.length?(l=t,u):l},u.linkDistance=function(t){return arguments.length?(p="function"==typeof t?t:+t,u):p},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,u):f},u.friction=function(t){return arguments.length?(h=+t,u):h},u.charge=function(t){
return arguments.length?(d="function"==typeof t?t:+t,u):d},u.chargeDistance=function(t){return arguments.length?(m=t*t,u):Math.sqrt(m)},u.gravity=function(t){return arguments.length?(y=+t,u):y},u.theta=function(t){return arguments.length?(v=t*t,u):Math.sqrt(v)},u.alpha=function(t){return arguments.length?(t=+t,i?t>0?i=t:(n.c=null,n.t=NaN,n=null,c.end({type:"end",alpha:i=0})):t>0&&(c.start({type:"start",alpha:i=t}),n=Lt(u.tick)),u):i},u.start=function(){function t(t,r){if(!n){for(n=new Array(i),u=0;u<i;++u)n[u]=[];for(u=0;u<c;++u){var o=b[u];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,s=n[e],u=-1,l=s.length;++u<l;)if(!isNaN(a=s[u][t]))return a;return Math.random()*r}var e,n,r,i=g.length,c=b.length,h=l[0],m=l[1];for(e=0;e<i;++e)(r=g[e]).index=e,r.weight=0;for(e=0;e<c;++e)r=b[e],"number"==typeof r.source&&(r.source=g[r.source]),"number"==typeof r.target&&(r.target=g[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<i;++e)r=g[e],isNaN(r.x)&&(r.x=t("x",h)),isNaN(r.y)&&(r.y=t("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof p)for(e=0;e<c;++e)o[e]=+p.call(this,b[e],e);else for(e=0;e<c;++e)o[e]=p;if(a=[],"function"==typeof f)for(e=0;e<c;++e)a[e]=+f.call(this,b[e],e);else for(e=0;e<c;++e)a[e]=f;if(s=[],"function"==typeof d)for(e=0;e<i;++e)s[e]=+d.call(this,g[e],e);else for(e=0;e<i;++e)s[e]=d;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return r||(r=fa.behavior.drag().origin(C).on("dragstart.force",ii).on("drag.force",e).on("dragend.force",oi)),arguments.length?void this.on("mouseover.force",ai).on("mouseout.force",si).call(r):r},fa.rebind(u,c,"on")};var xu=20,wu=1,Cu=1/0;fa.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(c=n.call(t,o,o.depth))&&(u=c.length)){for(var u,c,l;--u>=0;)a.push(l=c[u]),l.parent=o,l.depth=o.depth+1;r&&(o.value=0),o.children=c}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return hi(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=di,n=pi,r=fi;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(li(e,function(t){t.children&&(t.value=0)}),hi(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},fa.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,c=-1;for(r=e.value?r/e.value:0;++c<a;)t(s=o[c],n,u=s.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=fa.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},ci(n,r)},fa.layout.pie=function(){function t(a){var s,u=a.length,c=a.map(function(n,r){return+e.call(t,n,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof i?i.apply(this,arguments):i)-l,p=Math.min(Math.abs(h)/u,+("function"==typeof o?o.apply(this,arguments):o)),f=p*(h<0?-1:1),d=fa.sum(c),m=d?(h-u*f)/d:0,y=fa.range(u),v=[];return null!=n&&y.sort(n===Su?function(t,e){return c[e]-c[t]}:function(t,e){return n(a[t],a[e])}),y.forEach(function(t){v[t]={data:a[t],value:s=c[t],startAngle:l,endAngle:l+=s*m+f,padAngle:p}}),v}var e=Number,n=Su,r=0,i=Ha,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var Su={};fa.layout.stack=function(){function t(s,u){if(!(p=s.length))return s;var c=s.map(function(n,r){return e.call(t,n,r)}),l=c.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,l,u);c=fa.permute(c,h),l=fa.permute(l,h);var p,f,d,m,y=r.call(t,l,u),v=c[0].length;for(d=0;d<v;++d)for(i.call(t,c[0][d],m=y[d],l[0][d][1]),f=1;f<p;++f)i.call(t,c[f][d],m+=l[f-1][d][1],l[f][d][1]);return s}var e=C,n=bi,r=_i,i=gi,o=yi,a=vi;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:Eu.get(e)||bi,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:Tu.get(e)||_i,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var Eu=fa.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(xi),o=t.map(wi),a=fa.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,c=[],l=[];for(e=0;e<r;++e)n=a[e],s<u?(s+=o[n],c.push(n)):(u+=o[n],l.push(n));return l.reverse().concat(c)},reverse:function(t){return fa.range(t.length).reverse()},default:bi}),Tu=fa.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,c,l=t.length,h=t[0],p=h.length,f=[];for(f[0]=u=c=0,n=1;n<p;++n){for(e=0,i=0;e<l;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];e<l;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}f[n]=u-=i?o/i*s:0,u<c&&(c=u)}for(n=0;n<p;++n)f[n]-=c;return f},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:_i});fa.layout.histogram=function(){function t(t,o){for(var a,s,u=[],c=t.map(n,this),l=r.call(this,c,o),h=i.call(this,l,c,o),o=-1,p=c.length,f=h.length-1,d=e?1:1/p;++o<f;)a=u[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(f>0)for(o=-1;++o<p;)s=c[o],s>=l[0]&&s<=l[1]&&(a=u[fa.bisect(h,s,1,f)-1],a.y+=d,a.push(t[o]));return u}var e=!0,n=Number,r=Ti,i=Si;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Rt(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return Ei(t,e)}:Rt(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},fa.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],c=i[1],l=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,hi(s,function(t){t.r=+l(t.value)}),hi(s,Ri),r){var h=r*(e?1:Math.max(2*s.r/u,2*s.r/c))/2;hi(s,function(t){t.r+=h}),hi(s,Ri),hi(s,function(t){t.r-=h})}return Ni(s,u/2,c/2,e?1:1/Math.max(2*s.r/u,2*s.r/c)),a}var e,n=fa.layout.hierarchy().sort(Mi),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},ci(t,n)},fa.layout.tree=function(){function t(t,i){var l=a.call(this,t,i),h=l[0],p=e(h);if(hi(p,n),p.parent.m=-p.z,li(p,r),c)li(h,o);else{var f=h,d=h,m=h;li(h,function(t){t.x<f.x&&(f=t),t.x>d.x&&(d=t),t.depth>m.depth&&(m=t)});var y=s(f,d)/2-f.x,v=u[0]/(d.x+s(d,f)/2+y),g=u[1]/(m.depth||1);li(h,function(t){t.x=(t.x+y)*v,t.y=t.depth*g})}return l}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Bi(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,u=i.parent.children[0],c=i.m,l=o.m,h=a.m,p=u.m;a=Fi(a),i=Vi(i),a&&i;)u=Vi(u),o=Fi(o),o.a=t,r=a.z+h-i.z-c+s(a._,i._),r>0&&(ji(Ui(a,t,n),t,r),c+=r,l+=r),h+=a.m,c+=i.m,p+=u.m,l+=o.m;a&&!Fi(o)&&(o.t=a,o.m+=h-l),i&&!Vi(u)&&(u.t=i,u.m+=c-p,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=fa.layout.hierarchy().sort(null).value(null),s=Li,u=[1,1],c=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(c=null==(u=e)?o:null,t):c?null:u},t.nodeSize=function(e){return arguments.length?(c=null==(u=e)?null:o,t):c?u:null},ci(t,a)},fa.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],c=0;hi(u,function(t){var e=t.children;e&&e.length?(t.x=Hi(e),t.y=zi(e)):(t.x=a?c+=n(t,a):0,t.y=0,a=t)});var l=Gi(u),h=qi(u),p=l.x-n(l,h)/2,f=h.x+n(h,l)/2;return hi(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-p)/(f-p)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=fa.layout.hierarchy().sort(null).value(null),n=Li,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},ci(t,e)},fa.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,u,c=h(n),l=[],p=o.slice(),d=1/0,m="slice"===f?c.dx:"dice"===f?c.dy:"slice-dice"===f?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(p,c.dx*c.dy/n.value),l.area=0;(u=p.length)>0;)l.push(a=p[u-1]),l.area+=a.area,"squarify"!==f||(s=r(l,m))<=d?(p.pop(),d=s):(l.area-=l.pop().area,i(l,m,c,!1),m=Math.min(c.dx,c.dy),l.length=l.area=0,d=1/0);l.length&&(i(l,m,c,!0),l.length=l.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=h(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*d/r,r/(e*o*d)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,c=n.y,l=e?u(t.area/e):0;if(e==n.dx){for((r||l>n.dy)&&(l=n.dy);++o<a;)i=t[o],i.x=s,i.y=c,i.dy=l,s+=i.dx=Math.min(n.x+n.dx-s,l?u(i.area/l):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((r||l>n.dx)&&(l=n.dx);++o<a;)i=t[o],i.x=s,i.y=c,i.dx=l,c+=i.dy=Math.min(n.y+n.dy-c,l?u(i.area/l):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=l,n.dx-=l}}function o(r){var i=a||s(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=c[0],o.dy=c[1]):o.dx=o.dy=0,a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),p&&(a=i),i}var a,s=fa.layout.hierarchy(),u=Math.round,c=[1,1],l=null,h=Wi,p=!1,f="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(c=t,o):c},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Wi(e):Xi(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Xi(e,t)}if(!arguments.length)return l;var r;return h=null==(l=t)?Wi:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(p=t,a=null,o):p},o.ratio=function(t){return arguments.length?(d=t,o):d},o.mode=function(t){return arguments.length?(f=t+"",o):f},ci(o,s)},fa.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=fa.random.normal.apply(fa,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=fa.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},fa.scale={};var Mu={floor:C,ceil:C};fa.scale.linear=function(){return to([0,1],[0,1],Sr,!1)};var Au={s:1,g:1,p:1,r:1,e:1};fa.scale.log=function(){return uo(fa.scale.linear().domain([0,1]),10,!0,[1,10])};var Pu=fa.format(".0e"),ku={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};fa.scale.pow=function(){return co(fa.scale.linear(),1,[0,1])},fa.scale.sqrt=function(){return fa.scale.pow().exponent(.5)},fa.scale.ordinal=function(){return ho([],{t:"range",a:[[]]})},fa.scale.category10=function(){return fa.scale.ordinal().range(Ru)},fa.scale.category20=function(){return fa.scale.ordinal().range(Ou)},fa.scale.category20b=function(){return fa.scale.ordinal().range(Iu)},fa.scale.category20c=function(){return fa.scale.ordinal().range(Nu)};var Ru=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(St),Ou=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(St),Iu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(St),Nu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(St);fa.scale.quantile=function(){return po([],[])},fa.scale.quantize=function(){return fo(0,1,[0,1])},fa.scale.threshold=function(){return mo([.5],[0,1])},fa.scale.identity=function(){return yo([0,1])},fa.svg={},fa.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),l=a.apply(this,arguments)-qa,h=s.apply(this,arguments)-qa,p=Math.abs(h-l),f=l>h?0:1;if(c<t&&(d=c,c=t,t=d),p>=Ga)return e(c,f)+(t?e(t,1-f):"")+"Z";var d,m,y,v,g,b,_,x,w,C,S,E,T=0,M=0,A=[];if((v=(+u.apply(this,arguments)||0)/2)&&(y=o===Du?Math.sqrt(t*t+c*c):+o.apply(this,arguments),f||(M*=-1),c&&(M=at(y/c*Math.sin(v))),t&&(T=at(y/t*Math.sin(v)))),c){g=c*Math.cos(l+M),b=c*Math.sin(l+M),_=c*Math.cos(h-M),x=c*Math.sin(h-M);var P=Math.abs(h-l-2*M)<=za?0:1;if(M&&Co(g,b,_,x)===f^P){var k=(l+h)/2;g=c*Math.cos(k),b=c*Math.sin(k),_=x=null}}else g=b=0;if(t){w=t*Math.cos(h-T),C=t*Math.sin(h-T),S=t*Math.cos(l+T),E=t*Math.sin(l+T);var R=Math.abs(l-h+2*T)<=za?0:1;if(T&&Co(w,C,S,E)===1-f^R){var O=(l+h)/2;w=t*Math.cos(O),C=t*Math.sin(O),S=E=null}}else w=C=0;if(p>Ba&&(d=Math.min(Math.abs(c-t)/2,+i.apply(this,arguments)))>.001){m=t<c^f?0:1;var I=d,N=d;if(p<za){var D=null==S?[w,C]:null==_?[g,b]:jn([g,b],[S,E],[_,x],[w,C]),L=g-D[0],V=b-D[1],F=_-D[0],j=x-D[1],B=1/Math.sin(Math.acos((L*F+V*j)/(Math.sqrt(L*L+V*V)*Math.sqrt(F*F+j*j)))/2),U=Math.sqrt(D[0]*D[0]+D[1]*D[1]);N=Math.min(d,(t-U)/(B-1)),I=Math.min(d,(c-U)/(B+1))}if(null!=_){var z=So(null==S?[w,C]:[S,E],[g,b],c,I,f),H=So([_,x],[w,C],c,I,f);d===I?A.push("M",z[0],"A",I,",",I," 0 0,",m," ",z[1],"A",c,",",c," 0 ",1-f^Co(z[1][0],z[1][1],H[1][0],H[1][1]),",",f," ",H[1],"A",I,",",I," 0 0,",m," ",H[0]):A.push("M",z[0],"A",I,",",I," 0 1,",m," ",H[0])}else A.push("M",g,",",b);if(null!=S){var G=So([g,b],[S,E],t,-N,f),q=So([w,C],null==_?[g,b]:[_,x],t,-N,f);d===N?A.push("L",q[0],"A",N,",",N," 0 0,",m," ",q[1],"A",t,",",t," 0 ",f^Co(q[1][0],q[1][1],G[1][0],G[1][1]),",",1-f," ",G[1],"A",N,",",N," 0 0,",m," ",G[0]):A.push("L",q[0],"A",N,",",N," 0 0,",m," ",G[0])}else A.push("L",w,",",C)}else A.push("M",g,",",b),null!=_&&A.push("A",c,",",c," 0 ",P,",",f," ",_,",",x),A.push("L",w,",",C),null!=S&&A.push("A",t,",",t," 0 ",R,",",1-f," ",S,",",E);return A.push("Z"),A.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=go,r=bo,i=vo,o=Du,a=_o,s=xo,u=wo;return t.innerRadius=function(e){return arguments.length?(n=Rt(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Rt(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=Rt(e),t):i},t.padRadius=function(e){return arguments.length?(o=e==Du?Du:Rt(e),t):o},t.startAngle=function(e){return arguments.length?(a=Rt(e),t):a},t.endAngle=function(e){return arguments.length?(s=Rt(e),t):s},t.padAngle=function(e){return arguments.length?(u=Rt(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-qa;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Du="auto";fa.svg.line=function(){return Eo(C)};var Lu=fa.map({linear:To,"linear-closed":Mo,step:Ao,"step-before":Po,"step-after":ko,basis:Lo,"basis-open":Vo,"basis-closed":Fo,bundle:jo,cardinal:Io,"cardinal-open":Ro,"cardinal-closed":Oo,monotone:qo});Lu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Vu=[0,2/3,1/3,0],Fu=[0,1/3,2/3,0],ju=[0,1/6,2/3,1/6];fa.svg.line.radial=function(){var t=Eo(Wo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Po.reverse=ko,ko.reverse=Po,fa.svg.area=function(){return Xo(C)},fa.svg.area.radial=function(){var t=Xo(Wo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},fa.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),c=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,c)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)-qa,l=c.call(t,i,r)-qa;return{r:o,a0:a,a1:l,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(l),o*Math.sin(l)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>za)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=Sn,a=En,s=Yo,u=_o,c=xo;return t.radius=function(e){return arguments.length?(s=Rt(e),t):s},t.source=function(e){return arguments.length?(o=Rt(e),t):o},t.target=function(e){return arguments.length?(a=Rt(e),t):a},t.startAngle=function(e){return arguments.length?(u=Rt(e),t):u},t.endAngle=function(e){return arguments.length?(c=Rt(e),t):c},t},fa.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=Sn,n=En,r=Ko;return t.source=function(n){return arguments.length?(e=Rt(n),t):e},t.target=function(e){return arguments.length?(n=Rt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},fa.svg.diagonal.radial=function(){var t=fa.svg.diagonal(),e=Ko,n=t.projection;return t.projection=function(t){return arguments.length?n(Zo(e=t)):e},t},fa.svg.symbol=function(){function t(t,r){return(Bu.get(e.call(this,t,r))||Jo)(n.call(this,t,r))}var e=$o,n=Qo;return t.type=function(n){return arguments.length?(e=Rt(n),t):e},t.size=function(e){return arguments.length?(n=Rt(e),t):n},t};var Bu=fa.map({circle:Jo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*zu)),n=e*zu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Uu),n=e*Uu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Uu),n=e*Uu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});fa.svg.symbolTypes=Bu.keys();var Uu=Math.sqrt(3),zu=Math.tan(30*Wa);Oa.transition=function(t){for(var e,n,r=Hu||++Xu,i=ia(t),o=[],a=Gu||{time:Date.now(),ease:Rr,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var c=this[s],l=-1,h=c.length;++l<h;)(n=c[l])&&oa(n,l,i,r,a),e.push(n)}return ea(o,i,r)},Oa.interrupt=function(t){return this.each(null==t?qu:ta(ia(t)))};var Hu,Gu,qu=ta(ia()),Wu=[],Xu=0;Wu.call=Oa.call,Wu.empty=Oa.empty,Wu.node=Oa.node,Wu.size=Oa.size,fa.transition=function(t,e){return t&&t.transition?Hu?t.transition(e):t:fa.selection().transition(t)},fa.transition.prototype=Wu,Wu.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=I(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var c=this[s],l=-1,h=c.length;++l<h;)(r=c[l])&&(n=t.call(r,r.__data__,l,s))?("__data__"in r&&(n.__data__=r.__data__),oa(n,l,o,i,r[o][i]),e.push(n)):e.push(null)}return ea(a,o,i)},Wu.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=N(t);for(var c=-1,l=this.length;++c<l;)for(var h=this[c],p=-1,f=h.length;++p<f;)if(r=h[p]){o=r[s][a],n=t.call(r,r.__data__,p,c),u.push(e=[]);for(var d=-1,m=n.length;++d<m;)(i=n[d])&&oa(i,d,s,a,o),e.push(i)}return ea(u,s,a)},Wu.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=W(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]);for(var n=this[o],s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return ea(i,this.namespace,this.id)},Wu.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):Y(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Wu.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?$r:Sr,s=fa.ns.qualify(t);return na(this,"attr."+t,e,s.local?o:i)},Wu.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=fa.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Wu.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=Sr(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(o<3){if("string"!=typeof t){o<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return na(this,"style."+t,e,i)},Wu.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Wu.text=function(t){return na(this,"text",t,ra)},Wu.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Wu.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=fa.ease.apply(fa,arguments)),Y(this,function(r){r[n][e].ease=t}))},Wu.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:Y(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Wu.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:Y(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Wu.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Gu,o=Hu;try{Hu=n,Y(this,function(e,i,o){Gu=e[r][n],t.call(e,e.__data__,i,o)})}finally{Gu=i,Hu=o}}else Y(this,function(i){var o=i[r][n];(o.event||(o.event=fa.dispatch("start","end","interrupt"))).on(t,e)});return this},Wu.transition=function(){for(var t,e,n,r,i=this.id,o=++Xu,a=this.namespace,s=[],u=0,c=this.length;u<c;u++){s.push(t=[]);for(var e=this[u],l=0,h=e.length;l<h;l++)(n=e[l])&&(r=n[a][i],oa(n,l,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return ea(s,a,o)},fa.svg.axis=function(){function t(t){t.each(function(){var t,c=fa.select(this),l=this.__chart__||n,h=this.__chart__=n.copy(),p=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,f=null==e?h.tickFormat?h.tickFormat.apply(h,s):C:e,d=c.selectAll(".tick").data(p,h),m=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Ba),y=fa.transition(d.exit()).style("opacity",Ba).remove(),v=fa.transition(d.order()).style("opacity",1),g=Math.max(i,0)+a,b=Ki(h),_=c.selectAll(".domain").data([0]),x=(_.enter().append("path").attr("class","domain"),fa.transition(_));m.append("line"),m.append("text");var w,S,E,T,M=m.select("line"),A=v.select("line"),P=d.select("text").text(f),k=m.select("text"),R=v.select("text"),O="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=aa,w="x",E="y",S="x2",T="y2",P.attr("dy",O<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+b[0]+","+O*o+"V0H"+b[1]+"V"+O*o)):(t=sa,w="y",E="x",S="y2",T="x2",P.attr("dy",".32em").style("text-anchor",O<0?"end":"start"),x.attr("d","M"+O*o+","+b[0]+"H0V"+b[1]+"H"+O*o)),M.attr(T,O*i),k.attr(E,O*g),A.attr(S,0).attr(T,O*i),R.attr(w,0).attr(E,O*g),h.rangeBand){var I=h,N=I.rangeBand()/2;l=h=function(t){return I(t)+N}}else l.rangeBand?l=h:y.call(t,h,l);m.call(t,l,h),v.call(t,h,h)})}var e,n=fa.scale.linear(),r=Yu,i=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Ku?e+"":Yu,t):r},t.ticks=function(){return arguments.length?(s=ma(arguments),t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Yu="bottom",Ku={top:1,right:1,bottom:1,left:1};fa.svg.brush=function(){function t(o){o.each(function(){var o=fa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(m,C);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Zu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,h=fa.transition(o),p=fa.transition(a);c&&(u=Ki(c),p.attr("x",u[0]).attr("width",u[1]-u[0]),n(h)),l&&(u=Ki(l),p.attr("y",u[0]).attr("height",u[1]-u[0]),r(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+p[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function r(t){t.select(".extent").attr("y",p[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function i(){function i(){32==fa.event.keyCode&&(A||(b=null,R[0]-=h[1],R[1]-=p[1],A=2),P())}function m(){32==fa.event.keyCode&&2==A&&(R[0]+=h[1],R[1]+=p[1],A=0,P())}function y(){var t=fa.mouse(x),i=!1;_&&(t[0]+=_[0],t[1]+=_[1]),A||(fa.event.altKey?(b||(b=[(h[0]+h[1])/2,(p[0]+p[1])/2]),R[0]=h[+(t[0]<b[0])],R[1]=p[+(t[1]<b[1])]):b=null),T&&v(t,c,0)&&(n(S),i=!0),M&&v(t,l,1)&&(r(S),i=!0),i&&(e(S),C({type:"brush",mode:A?"move":"resize"}))}function v(t,e,n){var r,i,a=Ki(e),u=a[0],c=a[1],l=R[n],m=n?p:h,y=m[1]-m[0];if(A&&(u-=l,c-=y+l),r=(n?d:f)?Math.max(u,Math.min(c,t[n])):t[n],A?i=(r+=l)+y:(b&&(l=Math.max(u,Math.min(c,2*b[n]-r))),l<r?(i=r,r=l):i=l),m[0]!=r||m[1]!=i)return n?s=null:o=null,m[0]=r,m[1]=i,!0}function g(){y(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),fa.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),C({type:"brushend"})}var b,_,x=this,w=fa.select(fa.event.target),C=u.of(x,arguments),S=fa.select(x),E=w.datum(),T=!/^(n|s)$/.test(E)&&c,M=!/^(e|w)$/.test(E)&&l,A=w.classed("extent"),k=tt(x),R=fa.mouse(x),O=fa.select(a(x)).on("keydown.brush",i).on("keyup.brush",m);if(fa.event.changedTouches?O.on("touchmove.brush",y).on("touchend.brush",g):O.on("mousemove.brush",y).on("mouseup.brush",g),S.interrupt().selectAll("*").interrupt(),A)R[0]=h[0]-R[0],R[1]=p[0]-R[1];else if(E){var I=+/w$/.test(E),N=+/^n/.test(E);_=[h[1-I]-R[0],p[1-N]-R[1]],R[0]=h[I],R[1]=p[N]}else fa.event.altKey&&(b=R.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),fa.select("body").style("cursor",w.style("cursor")),C({type:"brushstart"}),y()}var o,s,u=R(t,"brushstart","brush","brushend"),c=null,l=null,h=[0,0],p=[0,0],f=!0,d=!0,m=Qu[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:h,y:p,i:o,j:s},n=this.__chart__||e;this.__chart__=e,Hu?fa.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,h=n.x,p=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Er(h,e.x),r=Er(p,e.y);return o=s=null,function(i){h=e.x=n(i),p=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(c=e,m=Qu[!c<<1|!l],t):c},t.y=function(e){return arguments.length?(l=e,m=Qu[!c<<1|!l],t):l},t.clamp=function(e){return arguments.length?(c&&l?(f=!!e[0],d=!!e[1]):c?f=!!e:l&&(d=!!e),t):c&&l?[f,d]:c?f:l?d:null},t.extent=function(e){var n,r,i,a,u;return arguments.length?(c&&(n=e[0],r=e[1],l&&(n=n[0],r=r[0]),o=[n,r],c.invert&&(n=c(n),r=c(r)),r<n&&(u=n,n=r,r=u),n==h[0]&&r==h[1]||(h=[n,r])),l&&(i=e[0],a=e[1],c&&(i=i[1],a=a[1]),s=[i,a],l.invert&&(i=l(i),a=l(a)),a<i&&(u=i,i=a,a=u),i==p[0]&&a==p[1]||(p=[i,a])),t):(c&&(o?(n=o[0],r=o[1]):(n=h[0],r=h[1],c.invert&&(n=c.invert(n),r=c.invert(r)),r<n&&(u=n,n=r,r=u))),l&&(s?(i=s[0],a=s[1]):(i=p[0],a=p[1],l.invert&&(i=l.invert(i),a=l.invert(a)),a<i&&(u=i,i=a,a=u))),c&&l?[[n,i],[r,a]]:c?[n,r]:l&&[i,a])},t.clear=function(){return t.empty()||(h=[0,0],p=[0,0],o=s=null),t},t.empty=function(){return!!c&&h[0]==h[1]||!!l&&p[0]==p[1]},fa.rebind(t,u,"on")};var Zu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Qu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],$u=vs.format=Cs.timeFormat,Ju=$u.utc,tc=Ju("%Y-%m-%dT%H:%M:%S.%LZ");$u.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ua:tc,ua.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ua.toString=tc.toString,vs.second=qt(function(t){return new gs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),vs.seconds=vs.second.range,vs.seconds.utc=vs.second.utc.range,vs.minute=qt(function(t){return new gs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),vs.minutes=vs.minute.range,vs.minutes.utc=vs.minute.utc.range,vs.hour=qt(function(t){var e=t.getTimezoneOffset()/60;return new gs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),vs.hours=vs.hour.range,vs.hours.utc=vs.hour.utc.range,vs.month=qt(function(t){return t=vs.day(t),t.setDate(1),
t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),vs.months=vs.month.range,vs.months.utc=vs.month.utc.range;var ec=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],nc=[[vs.second,1],[vs.second,5],[vs.second,15],[vs.second,30],[vs.minute,1],[vs.minute,5],[vs.minute,15],[vs.minute,30],[vs.hour,1],[vs.hour,3],[vs.hour,6],[vs.hour,12],[vs.day,1],[vs.day,2],[vs.week,1],[vs.month,1],[vs.month,3],[vs.year,1]],rc=$u.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ne]]),ic={range:function(t,e,n){return fa.range(Math.ceil(t/n)*n,+e,n).map(la)},floor:C,ceil:C};nc.year=vs.year,vs.scale=function(){return ca(fa.scale.linear(),nc,rc)};var oc=nc.map(function(t){return[t[0].utc,t[1]]}),ac=Ju.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ne]]);oc.year=vs.year.utc,vs.scale.utc=function(){return ca(fa.scale.linear(),oc,ac)},fa.text=Ot(function(t){return t.responseText}),fa.json=function(t,e){return It(t,"application/json",ha,e)},fa.html=function(t,e){return It(t,"text/html",pa,e)},fa.xml=Ot(function(t){return t.responseXML}),this.d3=fa,r=fa,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}()},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){m&&f&&(m=!1,f.length?d=f.concat(d):y=-1,d.length&&s())}function s(){if(!m){var t=i(a);m=!0;for(var e=d.length;e;){for(f=d,d=[];++y<e;)f&&f[y].run();y=-1,e=d.length}f=null,m=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var f,d=[],m=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){"use strict";function r(t,e,n){this.props=t,this.context=e,this.refs=a,this.updater=n||o}var i=n(136),o=n(286),a=(n(442),n(283));n(135),n(84);r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?i("85"):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")};t.exports=r},function(t,e,n){"use strict";function r(t,e){}var i=(n(84),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){r(t,"forceUpdate")},enqueueReplaceState:function(t,e){r(t,"replaceState")},enqueueSetState:function(t,e){r(t,"setState")}});t.exports=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;return e?void r.complete():(r.next(n),void(r.closed||(t.done=!0,this.schedule(t))))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;return r?r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t}):(t.next(n),void(t.closed||t.complete()))},e}(i.Observable);e.ScalarObservable=o},function(t,e,n){"use strict";function r(t){var e=new s(t),n=this.lift(e);return e.caught=n}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e._catch=r;var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this.unsubscribe(),this.closed=!1,this.isStopped=!1,this.add(a.subscribeToResult(this,n))}},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&a.isArray(t[0])&&(t=t[0].slice()),t.unshift(this),this.lift.call(new o.ArrayObservable(t),new l(n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(59),a=n(51),s=n(4),u=n(5),c={};e.combineLatest=r;var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project))},t}();e.CombineLatestOperator=l;var h=function(t){function e(e,n){t.call(this,e),this.project=n,this.active=0,this.values=[],this.observables=[]}return i(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(u.subscribeToResult(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0===(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=o[n],s=this.toRespond?a===c?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.OuterSubscriber);e.CombineLatestSubscriber=h},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,r=t;return o.isScheduler(r[t.length-1])&&(n=r.pop()),null===n&&1===t.length?t[0]:new a.ArrayObservable(t,n).lift(new s.MergeAllOperator(1))}var o=n(71),a=n(59),s=n(102);e.concat=r,e.concatStatic=i},function(t,e,n){"use strict";function r(){return this.lift(new i.MergeAllOperator(1))}var i=n(102);e.concatAll=r},function(t,e,n){"use strict";function r(t,e){return this.lift(new i.MergeMapOperator(t,e,1))}var i=n(103);e.concatMap=r},function(t,e,n){"use strict";function r(t,e){return this.lift(new a(t,e,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.every=r;var a=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg,this.source))},t}(),s=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.filter=r;var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0,this.predicate=n}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e,n){return this.lift(new s(t,e,n,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(144);e.first=r;var s=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return i(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){return this.resultSelector?void this._tryResultSelector(t,e):void this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new a.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=0),this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(138);e.observeOn=r;var s=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=s;var u=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination,r=t.subscription;e.observe(n),r&&r.unsubscribe()},e.prototype.scheduleMessage=function(t){var n=new c(t,this.destination);n.subscription=this.add(this.scheduler.schedule(e.dispatch,this.delay,n))},e.prototype._next=function(t){this.scheduleMessage(a.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(a.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=u;var c=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=c},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),new a.ArrayObservable(t).lift(new p(n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(59),s=n(51),u=n(3),c=n(4),l=n(5),h=n(142);e.zipProto=r,e.zipStatic=i;var p=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}();e.ZipOperator=p;var f=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof n?n:null,this.values=r}return o(e,t),e.prototype._next=function(t){var e=this.iterators;s.isArray(t)?e.push(new m(t)):"function"==typeof t[h.$$iterator]?e.push(new d(t[h.$$iterator]())):e.push(new y(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],r=0;r<e;r++){var i=t[r],s=i.next();if(i.hasCompleted()&&(o=!0),s.done)return void n.complete();a.push(s.value)}this.project?this._tryProject(a):n.next(a),o&&n.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.Subscriber);e.ZipSubscriber=f;var d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),m=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[h.$$iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),y=function(t){function e(e,n,r){t.call(this,e),this.parent=n,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(e,t),e.prototype[h.$$iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return l.subscribeToResult(this,this.observable,this,e)},e}(c.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return!i.isArray(t)&&t-parseFloat(t)+1>=0}var i=n(51);e.isNumeric=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},t.prototype._createContainer=function(){var t=document.createElement("div");t.classList.add("overlay-container"),document.body.appendChild(t),this._containerElement=t},t}()},function(t,e,n){"use strict";var r=n(0),i=n(1188),o=n(472),a=n(299);n.d(e,"a",function(){return s});var s=function(){function t(t,e,n,r,i){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=r,this._ngZone=i,this._paneElements={}}return t.prototype.create=function(t,e){return this._createOverlayRef(this.getPaneElement(t,e))},t.prototype.getPaneElement=function(t,e){return this._paneElements[t]||(this._paneElements[t]=this._createPaneElement(t,e)),this._paneElements[t]},t.prototype._createPaneElement=function(t,e){var n=document.createElement("div");return n.id="toast-container",n.classList.add(t),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n},t.prototype._createPortalHost=function(t){return new i.a(t,this._componentFactoryResolver,this._appRef,this._injector)},t.prototype._createOverlayRef=function(t){return new o.a(this._createPortalHost(t),t,this._ngZone)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:a.a},{type:r.ComponentFactoryResolver},{type:r.ApplicationRef},{type:r.Injector},{type:r.NgZone}]},t}();[s,a.a]},function(t,e,n){"use strict";var r=n(1189);n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(){function t(){}return t.prototype.attach=function(t,e){if(null==t)throw new r.a;if(t.hasAttached())throw new r.b;return this._attachedHost=t,t.attach(this,e)},t.prototype.detach=function(){var t=this._attachedHost;if(null==t)throw new r.c;return this._attachedHost=null,t.detach()},Object.defineProperty(t.prototype,"isAttached",{get:function(){return null!=this._attachedHost},enumerable:!0,configurable:!0}),t.prototype.setAttachedHost=function(t){this._attachedHost=t},t}(),a=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this),this.component=e,this.viewContainerRef=n,this.injector=r}return i(e,t),e}(o),s=function(){function t(){this._isDisposed=!1}return t.prototype.hasAttached=function(){return null!=this._attachedPortal},t.prototype.attach=function(t,e){if(null==t)throw new r.d;if(this.hasAttached())throw new r.b;if(this._isDisposed)throw new r.e;return this._attachedPortal=t,this.attachComponentPortal(t,e)},t.prototype.detach=function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(null),this._attachedPortal=null,null!=this._disposeFn&&(this._disposeFn(),this._disposeFn=null)},t.prototype.dispose=function(){this.hasAttached()&&this.detach(),this._isDisposed=!0},t.prototype.setDisposeFn=function(t){this._disposeFn=t},t}()},function(t,e,n){"use strict";var r=n(0),i=n(78),o=n(145),a=n(303),s=n(473);n.d(e,"a",function(){return u});var u=function(){function t(t,e,n,r,i){var o=this;this.toastrService=t,this.data=e,this.toastRef=n,this.appRef=r,this.width=100,this.toastClasses="",this.state="inactive",this.options=e.optionsOverride,this.toastId=e.toastId,this.message=e.message,this.message&&this.options.enableHtml&&(this.message=i.bypassSecurityTrustHtml(e.message)),this.title=e.title,this.toastType=e.toastType,this.onTap=e.onTap,this.sub=n.afterActivate().subscribe(function(t){o.activateToast()})}return t.prototype.ngOnDestroy=function(){this.sub.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout),clearTimeout(this.removalTimeout)},t.prototype.activateToast=function(){var t=this;this.state="active",this.options.timeOut=+this.options.timeOut,this.toastClasses=this.toastType+" "+this.options.toastClass,0!==this.options.timeOut&&(this.timeout=setTimeout(function(){t.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(function(){return t.updateProgress()},10))),this.options.onActivateTick&&this.appRef.tick()},t.prototype.updateProgress=function(){if(0!==this.width){var t=(new Date).getTime(),e=this.hideTime-t;this.width=e/this.options.timeOut*100,this.width<=0&&(this.width=0)}},t.prototype.tapToast=function(){this.onTap.next(),this.onTap.complete(),this.options.tapToDismiss&&this.remove()},t.prototype.remove=function(){var t=this;"removed"!==this.state&&(this.state="removed",this.removalTimeout=setTimeout(function(){return t.toastrService.remove(t.toastId)},300))},t.prototype.delayedHideToast=function(){var t=this;0!==+this.options.extendedTimeOut&&(this.width=100,this.timeout=setTimeout(function(){return t.remove()},this.options.extendedTimeOut),this.options.timeOut=+this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+this.options.timeOut)},t.prototype.stickAround=function(){clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.options.progressBar=!1},t.decorators=[{type:r.Component,args:[{selector:"[toast-component]",template:'\n  <button *ngIf="options.closeButton" (click)="remove()" class="toast-close-button">\n    &times;\n  </button>\n  <div *ngIf="title" class="{{options.titleClass}}" [attr.aria-label]="title">\n    {{title}}\n  </div>\n  <div *ngIf="message && options.enableHtml" class="{{options.messageClass}}" [innerHTML]="message">\n  </div>\n  <div *ngIf="message && !options.enableHtml" class="{{options.messageClass}}" [attr.aria-label]="message">\n    {{message}}\n  </div>\n  <div *ngIf="options.progressBar">\n    <div class="toast-progress" [style.width.%]="width"></div>\n  </div>\n  ',animations:[n.i(r.trigger)("flyInOut",[n.i(r.state)("inactive",n.i(r.style)({display:"none",opacity:0})),n.i(r.state)("active",n.i(r.style)({opacity:1})),n.i(r.state)("removed",n.i(r.style)({opacity:0})),n.i(r.transition)("inactive <=> active",n.i(r.animate)("300ms ease-in")),n.i(r.transition)("active <=> removed",n.i(r.animate)("300ms ease-in"))])]}]}],t.ctorParameters=function(){return[{type:a.a},{type:o.b},{type:s.a},{type:r.ApplicationRef},{type:i.DomSanitizer}]},t.propDecorators={toastClasses:[{type:r.HostBinding,args:["class"]}],state:[{type:r.HostBinding,args:["@flyInOut"]}],tapToast:[{type:r.HostListener,args:["click"]}],delayedHideToast:[{type:r.HostListener,args:["mouseleave"]}],stickAround:[{type:r.HostListener,args:["mouseenter"]}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(11),o=(n.n(i),n(300)),a=n(301),s=n(145),u=n(473);n.d(e,"a",function(){return c});var c=function(){function t(t,e,n){this.toastrConfig=t,this.overlay=e,this._injector=n,this.index=0,this.toasts=[],this.previousToastMessage="",this.currentlyActive=0}return t.prototype.success=function(t,e,n){var r=this.toastrConfig.iconClasses.success;return this._buildNotification(r,t,e,this.createToastConfig(n))},t.prototype.error=function(t,e,n){var r=this.toastrConfig.iconClasses.error;return this._buildNotification(r,t,e,this.createToastConfig(n))},t.prototype.info=function(t,e,n){var r=this.toastrConfig.iconClasses.info;return this._buildNotification(r,t,e,this.createToastConfig(n))},t.prototype.warning=function(t,e,n){var r=this.toastrConfig.iconClasses.warning;return this._buildNotification(r,t,e,this.createToastConfig(n))},t.prototype.createToastConfig=function(t){return t?t instanceof s.c?t:new s.c(t):Object.create(this.toastrConfig)},t.prototype.clear=function(t){for(var e=0,n=this.toasts;e<n.length;e++){var r=n[e];if(void 0!==t){if(r.toastId===t)return void r.portal._component.remove()}else r.portal._component.remove()}},t.prototype.remove=function(t){var e=this._findToast(t),n=e.index,r=e.activeToast;if(!r)return!1;if(r.toastRef.close(),this.toasts.splice(n,1),this.currentlyActive=this.currentlyActive-1,this.toastrConfig.maxOpened&&this.toasts.length){if(this.currentlyActive<=this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var i=this.toasts[this.currentlyActive].portal;"inactive"===i._component.state&&(this.currentlyActive=this.currentlyActive+1,this.toasts[this.currentlyActive].toastRef.activate())}return!0}},t.prototype._findToast=function(t){for(var e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return{index:null,activeToast:null}},t.prototype.isDuplicate=function(t){for(var e=0;e<this.toasts.length;e++)if(this.toasts[e].message===t)return!0;return!1},t.prototype._buildNotification=function(t,e,n,r){var o=this;if(void 0===r&&(r=Object.create(this.toastrConfig)),!this.toastrConfig.preventDuplicates||!this.isDuplicate(e)){this.previousToastMessage=e;var c=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(c=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[this.toasts.length-1].toastId));var l=this.overlay.create(r.positionClass,this.overlayContainer),h={toastId:this.index++,message:e,toastRef:new u.a(l)};h.onShown=h.toastRef.afterActivate(),h.onHidden=h.toastRef.afterClosed();var p=new s.b;p.toastId=h.toastId,p.optionsOverride=r,p.message=e,p.title=n,p.toastType=t,p.onTap=new i.Subject,h.onTap=p.onTap.asObservable();var f=new u.b(h.toastRef,p,this._injector),d=new a.b(r.toastComponent,null,f);return h.portal=l.attach(d,this.toastrConfig.newestOnTop),c||setTimeout(function(){h.toastRef.activate(),o.currentlyActive=o.currentlyActive+1}),this.toasts.push(h),h}},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:s.a},{type:o.a},{type:r.Injector}]},t}()},function(t,e,n){"use strict";var r=(n(301),n(300),n(299),n(1190),n(472),n(302),n(303));n.d(e,"b",function(){return r.a});var i=n(145);n.d(e,"c",function(){return i.a});var o=n(1191);n.d(e,"a",function(){return o.a})},function(t,e,n){"use strict";var r=n(487),i=n(488),o=n(489),a=n(490),s=n(491),u=n(306),c=n(492);n.d(e,"b",function(){return r.a}),n.d(e,"c",function(){return i.a}),n.d(e,"d",function(){return o.a}),n.d(e,"e",function(){return a.a}),n.d(e,"f",function(){return a.b}),n.d(e,"g",function(){return s.a}),n.d(e,"h",function(){return u.a}),n.d(e,"i",function(){return u.b}),n.d(e,"j",function(){return u.c}),n.d(e,"k",function(){return c.a}),n.d(e,"a",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=[r.a,i.a,o.a,c.a,s.a,u.a,u.b,u.c,a.a,a.b]},function(t,e,n){"use strict";var r=n(0);n.d(e,"d",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),o=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++){var n=this._defaultViews[e];n.enforceState(t)}}},t.decorators=[{type:r.Directive,args:[{selector:"[ngSwitch]"}]}],t.ctorParameters=function(){return[]},t.propDecorators={ngSwitch:[{type:r.Input}]},t}(),a=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new i(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t.decorators=[{type:r.Directive,args:[{selector:"[ngSwitchCase]"}]}],t.ctorParameters=function(){return[{type:r.ViewContainerRef},{type:r.TemplateRef},{type:o,decorators:[{type:r.Host}]}]},t.propDecorators={ngSwitchCase:[{type:r.Input}]},t}(),s=function(){function t(t,e,n){n._addDefault(new i(t,e))}return t.decorators=[{type:r.Directive,args:[{selector:"[ngSwitchDefault]"}]}],t.ctorParameters=function(){return[{type:r.ViewContainerRef},{type:r.TemplateRef},{type:o,decorators:[{type:r.Host}]}]},t}()},function(t,e,n){"use strict";var r=n(498),i=n(499),o=n(500),a=n(501),s=n(502),u=n(503),c=n(504),l=n(505),h=n(506);n.d(e,"b",function(){return r.a}),n.d(e,"h",function(){return c.c}),n.d(e,"c",function(){return i.a}),n.d(e,"i",function(){return c.a}),n.d(e,"d",function(){return o.a}),n.d(e,"e",function(){return a.a}),n.d(e,"f",function(){return s.a}),n.d(e,"g",function(){return u.a}),n.d(e,"j",function(){return c.b}),n.d(e,"k",function(){return l.a}),n.d(e,"l",function(){return h.a}),n.d(e,"a",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var p=[r.a,h.a,u.a,s.a,l.a,c.a,c.b,c.c,i.a,o.a,a.a]},function(t,e,n){"use strict";function r(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function i(t){return function(e,n){return t(e,n).split(" ")[1]}}function o(t){return function(e,n){return t(e,n).split(" ")[0]}}function a(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function s(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=a(t,n,e);return r?r.substring(3):""}}function u(t,e){return t.hour12=e,t}function c(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function l(t,e){var n={};return e<4?n[t]=e>1?"short":"narrow":n[t]="long",n}function h(t){return(e=Object).assign.apply(e,[{}].concat(t));var e}function p(t){return function(e,n){return a(e,n,t)}}function f(t,e,n){var r=g[t];if(r)return r(e,n);var i=t,o=_.get(i);if(!o){o=[];var a=void 0;for(v.exec(t);t;)a=v.exec(t),a?(o=o.concat(a.slice(1)),t=o.pop()):(o.push(t),t=null);_.set(i,o)}return o.reduce(function(t,r){var i=b[r];return t+(i?i(e,n):d(r))},"")}function d(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}n.d(e,"b",function(){return m}),n.d(e,"c",function(){return y}),n.d(e,"a",function(){return x});var m={};m.Decimal=0,m.Percent=1,m.Currency=2,m[m.Decimal]="Decimal",m[m.Percent]="Percent",m[m.Currency]="Currency";var y=function(){function t(){}return t.format=function(t,e,n,r){var i=void 0===r?{}:r,o=i.minimumIntegerDigits,a=i.minimumFractionDigits,s=i.maximumFractionDigits,u=i.currency,c=i.currencyAsSymbol,l=void 0!==c&&c,h={minimumIntegerDigits:o,minimumFractionDigits:a,maximumFractionDigits:s,style:m[n].toLowerCase()};return n==m.Currency&&(h.currency=u,h.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(e,h).format(t)},t}(),v=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,g={yMMMdjms:p(h([c("year",1),l("month",3),c("day",1),c("hour",1),c("minute",1),c("second",1)])),yMdjm:p(h([c("year",1),c("month",1),c("day",1),c("hour",1),c("minute",1)])),yMMMMEEEEd:p(h([c("year",1),l("month",4),l("weekday",4),c("day",1)])),yMMMMd:p(h([c("year",1),l("month",4),c("day",1)])),yMMMd:p(h([c("year",1),l("month",3),c("day",1)])),yMd:p(h([c("year",1),c("month",1),c("day",1)])),jms:p(h([c("hour",1),c("second",1),c("minute",1)])),jm:p(h([c("hour",1),c("minute",1)]))},b={yyyy:p(c("year",4)),yy:p(c("year",2)),y:p(c("year",1)),MMMM:p(l("month",4)),MMM:p(l("month",3)),MM:p(c("month",2)),M:p(c("month",1)),LLLL:p(l("month",4)),L:p(l("month",1)),dd:p(c("day",2)),d:p(c("day",1)),HH:r(o(p(u(c("hour",2),!1)))),H:o(p(u(c("hour",1),!1))),hh:r(o(p(u(c("hour",2),!0)))),h:o(p(u(c("hour",1),!0))),jj:p(c("hour",2)),j:p(c("hour",1)),mm:r(p(c("minute",2))),m:p(c("minute",1)),ss:r(p(c("second",2))),s:p(c("second",1)),sss:p(c("second",3)),EEEE:p(l("weekday",4)),EEE:p(l("weekday",3)),EE:p(l("weekday",2)),E:p(l("weekday",1)),a:i(p(u(c("hour",1),!0))),Z:s("short"),z:s("long"),ww:p({}),w:p({}),G:p(l("era",1)),GG:p(l("era",2)),GGG:p(l("era",3)),GGGG:p(l("era",4))},_=new Map,x=function(){function t(){}return t.format=function(t,e,n){return f(n,t,e)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"b",function(){return h}),n.d(e,"h",function(){return p}),n.d(e,"d",function(){return f}),n.d(e,"j",function(){return d}),n.d(e,"e",function(){return m});var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(){function t(){this.startTime=0,this.playTime=0}return t.prototype.visit=function(t,e){},t}(),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.visit=function(t,e){},e}(i),a=function(t){function e(e,n,r){t.call(this),this.name=e,this.stateDeclarations=n,this.stateTransitions=r}return r(e,t),e.prototype.visit=function(t,e){return t.visitAnimationEntry(this,e)},e}(i),s=function(t){function e(e,n){t.call(this),this.stateName=e,this.styles=n}return r(e,t),e.prototype.visit=function(t,e){return t.visitAnimationStateDeclaration(this,e)},e}(o),u=function(){function t(t,e){this.fromState=t,this.toState=e}return t}(),c=function(t){function e(e,n){t.call(this),this.stateChanges=e,this.animation=n}return r(e,t),e.prototype.visit=function(t,e){return t.visitAnimationStateTransition(this,e)},e}(o),l=function(t){function e(e,n,r,i,o){t.call(this),this.startingStyles=e,this.keyframes=n,this.duration=r,this.delay=i,this.easing=o}return r(e,t),e.prototype.visit=function(t,e){return t.visitAnimationStep(this,e)},e}(i),h=function(t){function e(e){t.call(this),this.styles=e}return r(e,t),e.prototype.visit=function(t,e){return t.visitAnimationStyles(this,e)},e}(i),p=function(t){function e(e,n){t.call(this),this.offset=e,this.styles=n}return r(e,t),e.prototype.visit=function(t,e){return t.visitAnimationKeyframe(this,e)},e}(i),f=function(t){function e(e){t.call(this),this.steps=e}return r(e,t),e}(i),d=function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype.visit=function(t,e){return t.visitAnimationGroup(this,e)},e}(f),m=function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype.visit=function(t,e){return t.visitAnimationSequence(this,e)},e}(f)},function(t,e,n){"use strict";function r(t,e){var n=u.f(c.H);switch(e){case c.H:return t.equals(n);case c.a:return u.f(!0);default:return t.equals(u.f(e))}}function i(t){if(t instanceof l.i&&t.duration>0&&2==t.keyframes.length){var e=o(t.keyframes[0])[0],n=o(t.keyframes[1])[0];return 0===Object.keys(e).length&&0===Object.keys(n).length}return!1}function o(t){return t.styles.styles}var a=n(6),s=n(16),u=n(9),c=n(14),l=n(309);n.d(e,"a",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=function(){function t(t,e,n){this.name=t,this.statements=e,this.fnExp=n}return t}(),p=function(){function t(){}return t.prototype.compile=function(t,e){return e.map(function(e){var n=t+"_"+e.name,r=new A(e.name,n);return r.build(e)})},t}(),f=u.a("element"),d=u.a("defaultStateStyles"),m=u.a("view"),y=m.prop("animationContext"),v=m.prop("renderer"),g=u.a("currentState"),b=u.a("nextState"),_=u.a("player"),x=u.a("totalTime"),w=u.a("startStateStyles"),C=u.a("endStateStyles"),S=u.a("collectedStyles"),E=u.a("previousPlayers"),T=u.l([]),M=u.h([]),A=function(){function t(t,e){this.animationName=t,this._fnVarName=e+"_factory",this._statesMapVarName=e+"_states",this._statesMapVar=u.a(this._statesMapVarName)}return t.prototype.visitAnimationStyles=function(t,e){var r=[];return e.isExpectingFirstStyleStep&&(r.push(w),e.isExpectingFirstStyleStep=!1),t.styles.forEach(function(t){var e=Object.keys(t).map(function(e){return[e,u.f(t[e])]});r.push(u.l(e,null,!0))}),u.g(n.i(s.a)(s.b.AnimationStyles)).instantiate([u.g(n.i(s.a)(s.b.collectAndResolveStyles)).callFn([S,u.h(r)])])},t.prototype.visitAnimationKeyframe=function(t,e){return u.g(n.i(s.a)(s.b.AnimationKeyframe)).instantiate([u.f(t.offset),t.styles.visit(this,e)])},t.prototype.visitAnimationStep=function(t,e){var n=this;if(e.endStateAnimateStep===t)return this._visitEndStateAnimation(t,e);var r=t.startingStyles.visit(this,e),i=t.keyframes.map(function(t){return t.visit(n,e)});return this._callAnimateMethod(t,r,u.h(i),e)},t.prototype._visitEndStateAnimation=function(t,e){var r=this,i=t.startingStyles.visit(this,e),o=t.keyframes.map(function(t){return t.visit(r,e)}),a=u.g(n.i(s.a)(s.b.balanceAnimationKeyframes)).callFn([S,C,u.h(o)]);return this._callAnimateMethod(t,i,a,e)},t.prototype._callAnimateMethod=function(t,e,n,r){var i=M;return r.isExpectingFirstAnimateStep&&(i=E,r.isExpectingFirstAnimateStep=!1),r.totalTransitionTime+=t.duration+t.delay,v.callMethod("animate",[f,e,n,u.f(t.duration),u.f(t.delay),u.f(t.easing),i])},t.prototype.visitAnimationSequence=function(t,e){var r=this,i=t.steps.map(function(t){return t.visit(r,e)});return u.g(n.i(s.a)(s.b.AnimationSequencePlayer)).instantiate([u.h(i)])},t.prototype.visitAnimationGroup=function(t,e){var r=this,i=t.steps.map(function(t){return t.visit(r,e)});return u.g(n.i(s.a)(s.b.AnimationGroupPlayer)).instantiate([u.h(i)])},t.prototype.visitAnimationStateDeclaration=function(t,e){var n={};o(t).forEach(function(t){Object.keys(t).forEach(function(e){n[e]=t[e]})}),e.stateMap.registerState(t.stateName,n)},t.prototype.visitAnimationStateTransition=function(t,e){var n=t.animation.steps,o=n[n.length-1];i(o)&&(e.endStateAnimateStep=o),e.totalTransitionTime=0,e.isExpectingFirstStyleStep=!0,e.isExpectingFirstAnimateStep=!0;var a=[];t.stateChanges.forEach(function(t){a.push(r(g,t.fromState).and(r(b,t.toState))),t.fromState!=c.a&&e.stateMap.registerState(t.fromState),t.toState!=c.a&&e.stateMap.registerState(t.toState)});var s=t.animation.visit(this,e),l=a.reduce(function(t,e){return t.or(e)}),h=_.equals(u.b).and(l),p=_.set(s).toStmt(),f=x.set(u.f(e.totalTransitionTime)).toStmt();return new u.u(h,[p,f])},t.prototype.visitAnimationEntry=function(t,e){var r=this;t.stateDeclarations.forEach(function(t){return t.visit(r,e)}),e.stateMap.registerState(c.M,{});var i=[];i.push(E.set(y.callMethod("getAnimationPlayers",[f,b.equals(u.f(c.H)).conditional(u.b,u.f(this.animationName))])).toDeclStmt()),i.push(S.set(T).toDeclStmt()),i.push(_.set(u.b).toDeclStmt()),i.push(x.set(u.f(0)).toDeclStmt()),i.push(d.set(this._statesMapVar.key(u.f(c.M))).toDeclStmt()),i.push(w.set(this._statesMapVar.key(g)).toDeclStmt()),i.push(new u.u(w.equals(u.b),[w.set(d).toStmt()])),i.push(C.set(this._statesMapVar.key(b)).toDeclStmt()),i.push(new u.u(C.equals(u.b),[C.set(d).toStmt()]));var o=u.g(n.i(s.a)(s.b.renderStyles));return t.stateTransitions.forEach(function(t){return i.push(t.visit(r,e))}),i.push(new u.u(_.equals(u.b),[_.set(u.g(n.i(s.a)(s.b.NoOpAnimationPlayer)).instantiate([])).toStmt()])),i.push(_.callMethod("onDone",[u.B([],[_.callMethod("destroy",[]).toStmt(),o.callFn([f,v,u.g(n.i(s.a)(s.b.prepareFinalAnimationStyles)).callFn([w,C])]).toStmt()])]).toStmt()),i.push(u.g(n.i(s.a)(s.b.AnimationSequencePlayer)).instantiate([E]).callMethod("destroy",[]).toStmt()),i.push(o.callFn([f,v,u.g(n.i(s.a)(s.b.clearStyles)).callFn([w])]).toStmt()),i.push(y.callMethod("queueAnimation",[f,u.f(this.animationName),_]).toStmt()),i.push(new u.t(u.g(n.i(s.a)(s.b.AnimationTransition)).instantiate([_,g,b,x]))),u.B([new u.o(m.name,u.d(n.i(s.a)(s.b.AppView),[u.m])),new u.o(f.name,u.m),new u.o(g.name,u.m),new u.o(b.name,u.m)],i,u.d(n.i(s.a)(s.b.AnimationTransition)))},t.prototype.build=function(t){var e=new P,r=t.visit(this,e).toDeclStmt(this._fnVarName),i=u.a(this._fnVarName),o=[];Object.keys(e.stateMap.states).forEach(function(t){var r=e.stateMap.states[t],i=T;if(n.i(a.c)(r)){var s=[];Object.keys(r).forEach(function(t){s.push([t,u.f(r[t])])}),i=u.l(s,null,!0)}o.push([t,i])});var s=this._statesMapVar.set(u.l(o,null,!0)).toDeclStmt(),c=[s,r];return new h(this.animationName,c,i)},t}(),P=function(){function t(){this.stateMap=new k,this.endStateAnimateStep=null,this.isExpectingFirstStyleStep=!1,this.isExpectingFirstAnimateStep=!1,this.totalTransitionTime=0}return t}(),k=function(){function t(){this._states={}}return Object.defineProperty(t.prototype,"states",{get:function(){return this._states},enumerable:!0,configurable:!0}),t.prototype.registerState=function(t,e){void 0===e&&(e=null);var n=this._states[t];n||(this._states[t]=e)},t}()},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=new h(t);r.forEach(function(t){return o.addOrMergeSummary({symbol:t.symbol,metadata:t.metadata})});for(var s=0;s<o.symbols.length;s++){var u=o.symbols[s];if(!t.isSourceFile(u.filePath)){var c=e.resolveSummary(u);if(!c){var l=n.resolveSymbol(u);l&&(c={symbol:l.symbol,metadata:l.metadata})}c&&o.addOrMergeSummary(c)}}return i.forEach(function(n){if(o.addOrMergeSummary({symbol:n.type.reference,metadata:{__symbolic:"class"},type:n}),n.summaryKind===a.q.NgModule){var r=n;r.exportedDirectives.concat(r.exportedPipes).forEach(function(n){var r=n.reference;t.isSourceFile(r.filePath)||o.addOrMergeSummary(e.resolveSummary(r))})}}),o.serialize()}function i(t,e){var n=new p(t);return n.deserialize(e)}function o(t){var e=t.replace(l,"");return e+".ngsummary.json"}var a=n(13),s=n(29),u=n(61);e.c=r,e.b=i,e.a=o;var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,h=function(t){function e(e){t.call(this),this.host=e,this.symbols=[],this.indexBySymbol=new Map,this.processedSummaryBySymbol=new Map,this.processedSummaries=[]}return c(e,t),e.prototype.addOrMergeSummary=function(t){var e=t.metadata;e&&"class"===e.__symbolic&&(e={__symbolic:"class",statics:e.statics});var n=this.processedSummaryBySymbol.get(t.symbol);n||(n=this.processValue({symbol:t.symbol}),this.processedSummaries.push(n),this.processedSummaryBySymbol.set(t.symbol,n)),null==n.metadata&&null!=e&&(n.metadata=this.processValue(e)),null==n.type&&null!=t.type&&(n.type=this.processValue(t.type))},e.prototype.serialize=function(){var t=this;return JSON.stringify({summaries:this.processedSummaries,symbols:this.symbols.map(function(e,n){return{__symbol:n,name:e.name,filePath:t.host.getOutputFileName(e.filePath)}})})},e.prototype.processValue=function(t){return n.i(s.b)(t,this,null)},e.prototype.visitOther=function(t,e){if(t instanceof u.a){var n=this.indexBySymbol.get(t);return null==n&&(n=this.indexBySymbol.size,this.indexBySymbol.set(t,n),this.symbols.push(t)),{__symbol:n}}},e}(s.g),p=function(t){function e(e){t.call(this),this.symbolCache=e}return c(e,t),e.prototype.deserialize=function(t){var e=this,r=JSON.parse(t);return this.symbols=r.symbols.map(function(t){return e.symbolCache.get(t.filePath,t.name)}),n.i(s.b)(r.summaries,this,null)},e.prototype.visitStringMap=function(e,n){return"__symbol"in e?this.symbols[e.__symbol]:t.prototype.visitStringMap.call(this,e,n)},e}(s.g)},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e){if(n.i(o.isDevMode)()&&!n.i(a.d)(e)){if(!Array.isArray(e))throw new Error("Expected '"+t+"' to be an array of strings.");for(var r=0;r<e.length;r+=1)if("string"!=typeof e[r])throw new Error("Expected '"+t+"' to be an array of strings.")}}function i(t,e){if(n.i(a.c)(e)&&(!Array.isArray(e)||2!=e.length))throw new Error("Expected '"+t+"' to be an array, [start, end].");if(n.i(o.isDevMode)()&&!n.i(a.d)(e)){var r=e[0],i=e[1];s.forEach(function(t){if(t.test(r)||t.test(i))throw new Error("['"+r+"', '"+i+"'] contains unusable interpolation symbol.")})}}var o=n(0),a=n(6);e.b=r,e.a=i;var s=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//]},function(t,e,n){"use strict";function r(t){var e=""+t.fields.length,r=o(e);return t.fields.push(new s.c(r.name,null,[s.k.Private])),t.ctorStmts.push(s.e.prop(r.name).set(s.g(n.i(a.a)(a.b.UNINITIALIZED))).toStmt()),new u(r,e)}function i(t,e,r,i){var o=s.g(n.i(a.a)(a.b.checkBinding)).callFn([r,e,t.currValExpr]);return t.forceUpdate&&(o=t.forceUpdate.or(o)),t.stmts.concat([new s.u(o,i.concat([s.e.prop(e.name).set(t.currValExpr).toStmt()]))])}function o(t){return s.e.prop("_expr_"+t)}var a=n(16),s=n(9);e.a=r,e.b=i;var u=function(){function t(t,e){this.expression=t,this.bindingId=e}return t}()},function(t,e,n){"use strict";function r(t,e,r,o,a,l){var p=[],f=t.prop("renderer");switch(o=i(t,e,o,l),e.type){case h.f.Property:a&&p.push(c.g(n.i(u.a)(u.b.setBindingDebugInfo)).callFn([f,r,c.f(e.name),o]).toStmt()),p.push(f.callMethod("setElementProperty",[r,c.f(e.name),o]).toStmt());break;case h.f.Attribute:o=o.isBlank().conditional(c.b,o.callMethod("toString",[])),p.push(f.callMethod("setElementAttribute",[r,c.f(e.name),o]).toStmt());break;case h.f.Class:p.push(f.callMethod("setElementClass",[r,c.f(e.name),o]).toStmt());break;case h.f.Style:var d=o.callMethod("toString",[]);n.i(s.c)(e.unit)&&(d=d.plus(c.f(e.unit))),o=o.isBlank().conditional(c.b,d),p.push(f.callMethod("setElementStyle",[r,c.f(e.name),o]).toStmt());break;case h.f.Animation:throw new Error("Illegal state: Should not come here!")}return p}function i(t,e,r,i){if(e.securityContext===a.SecurityContext.NONE)return r;if(e.needsRuntimeSecurityContext||(i=n.i(p.d)(u.b.SecurityContext,e.securityContext)),!i)throw new Error("internal error, no SecurityContext given "+e.name);var o=t.prop("viewUtils").prop("sanitizer"),s=[i,r];return o.callMethod("sanitize",s)}function o(t,e,r,i,o,a,s,p){var f=[],d=[],m=r.name,y=e.prop("componentType").prop("animations").key(c.f(m)),v=c.f(l.H),g=c.g(n.i(u.a)(u.b.UNINITIALIZED)),b=c.a("animationTransition_"+m);d.push(b.set(y.callFn([t,a,p.equals(g).conditional(v,p),s.equals(g).conditional(v,s)])).toDeclStmt()),f.push(b.set(y.callFn([t,a,p,v])).toDeclStmt());var _=[],x=i.find(function(t){return t.isAnimation&&t.name==m&&"start"==t.phase});x&&_.push(b.callMethod("onStart",[o.callMethod(c.O.Bind,[t,c.f(h.g.calcFullName(m,null,"start"))])]).toStmt());var w=i.find(function(t){return t.isAnimation&&t.name==m&&"done"==t.phase});return w&&_.push(b.callMethod("onDone",[o.callMethod(c.O.Bind,[t,c.f(h.g.calcFullName(m,null,"done"))])]).toStmt()),d.push.apply(d,_),f.push.apply(f,_),{updateStmts:d,detachStmts:f}}var a=n(0),s=n(6),u=n(16),c=n(9),l=n(14),h=n(45),p=n(43);e.b=r,e.a=o},function(t,e,n){"use strict";function r(t){return a(o(t.nodes).join("")+("["+t.meaning+"]"))}function i(t){var e=new O,n=t.nodes.map(function(t){return t.visit(e,null)});return c(n.join(""),t.meaning)}function o(t){return t.map(function(t){return t.visit(R,null)})}function a(t){var e=p(t),n=_(e,I.Big),r=8*e.length,i=new Array(80),o=[1732584193,4023233417,2562383102,271733878,3285377520],a=o[0],u=o[1],c=o[2],l=o[3],h=o[4];n[r>>5]|=128<<24-r%32,n[(r+64>>9<<4)+15]=r;for(var f=0;f<n.length;f+=16){for(var m=[a,u,c,l,h],y=m[0],v=m[1],b=m[2],x=m[3],w=m[4],S=0;S<80;S++){S<16?i[S]=n[f+S]:i[S]=g(i[S-3]^i[S-8]^i[S-14]^i[S-16],1);var T=s(S,u,c,l),M=T[0],A=T[1],P=[g(a,5),M,h,A,i[S]].reduce(d);k=[l,c,g(u,30),a,P],h=k[0],l=k[1],c=k[2],u=k[3],a=k[4]}R=[d(a,y),d(u,v),d(c,b),d(l,x),d(h,w)],a=R[0],u=R[1],c=R[2],l=R[3],h=R[4]}return E(C([a,u,c,l,h]));var k,R}function s(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function u(t){var e=p(t),n=[l(e,0),l(e,102072)],r=n[0],i=n[1];return 0!=r||0!=i&&1!=i||(r^=319790063,i^=-1801410264),[r,i]}function c(t,e){var n=u(t),r=n[0],i=n[1];if(e){var o=u(e),a=o[0],s=o[1];c=y(b([r,i],1),[a,s]),r=c[0],i=c[1]}return T(C([2147483647&r,i]));var c}function l(t,e){var n,r=[2654435769,2654435769],i=r[0],o=r[1],a=t.length;for(n=0;n+12<=a;n+=12)i=d(i,w(t,n,I.Little)),o=d(o,w(t,n+4,I.Little)),e=d(e,w(t,n+8,I.Little)),s=h([i,o,e]),i=s[0],o=s[1],e=s[2];return i=d(i,w(t,n,I.Little)),o=d(o,w(t,n+4,I.Little)),e=d(e,a),e=d(e,w(t,n+8,I.Little)<<8),h([i,o,e])[2];var s}function h(t){var e=t[0],n=t[1],r=t[2];return e=v(e,n),e=v(e,r),e^=r>>>13,n=v(n,r),n=v(n,e),n^=e<<8,r=v(r,e),r=v(r,n),r^=n>>>13,e=v(e,n),e=v(e,r),e^=r>>>12,n=v(n,r),n=v(n,e),n^=e<<16,r=v(r,e),r=v(r,n),r^=n>>>5,e=v(e,n),e=v(e,r),e^=r>>>3,n=v(n,r),n=v(n,e),n^=e<<10,r=v(r,e),r=v(r,n),r^=n>>>15,[e,n,r]}function p(t){for(var e="",n=0;n<t.length;n++){var r=f(t,n);r<=127?e+=String.fromCharCode(r):r<=2047?e+=String.fromCharCode(192|r>>>6,128|63&r):r<=65535?e+=String.fromCharCode(224|r>>>12,128|r>>>6&63,128|63&r):r<=2097151&&(e+=String.fromCharCode(240|r>>>18,128|r>>>12&63,128|r>>>6&63,128|63&r))}return e}function f(t,e){if(e<0||e>=t.length)throw new Error("index="+e+' is out of range in "'+t+'"');var n=t.charCodeAt(e);if(n>=55296&&n<=57343&&t.length>e+1){var r=x(t,e+1);if(r>=56320&&r<=57343)return 1024*(n-55296)+r-56320+65536}return n}function d(t,e){return m(t,e)[1]}function m(t,e){var n=(65535&t)+(65535&e),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function y(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=m(r,o),s=a[0],u=a[1],c=d(d(n,i),s);return[c,u]}function v(t,e){var n=(65535&t)-(65535&e),r=(t>>16)-(e>>16)+(n>>16);return r<<16|65535&n}function g(t,e){return t<<e|t>>>32-e}function b(t,e){var n=t[0],r=t[1],i=n<<e|r>>>32-e,o=r<<e|n>>>32-e;return[i,o]}function _(t,e){for(var n=Array(t.length+3>>>2),r=0;r<n.length;r++)n[r]=w(t,4*r,e);return n}function x(t,e){return e>=t.length?0:255&t.charCodeAt(e)}function w(t,e,n){var r=0;if(n===I.Big)for(var i=0;i<4;i++)r+=x(t,e+i)<<24-8*i;else for(var i=0;i<4;i++)r+=x(t,e+i)<<8*i;return r}function C(t){return t.reduce(function(t,e){return t+S(e)},"")}function S(t){for(var e="",n=0;n<4;n++)e+=String.fromCharCode(t>>>8*(3-n)&255);return e}function E(t){for(var e="",n=0;n<t.length;n++){var r=x(t,n);e+=(r>>>4).toString(16)+(15&r).toString(16)}return e.toLowerCase()}function T(t){for(var e="",n="1",r=t.length-1;r>=0;r--)e=M(e,A(x(t,r),n)),n=A(256,n);return e.split("").reverse().join("")}function M(t,e){for(var n="",r=Math.max(t.length,e.length),i=0,o=0;i<r||o;i++){var a=o+ +(t[i]||0)+ +(e[i]||0);a>=10?(o=1,n+=a-10):(o=0,n+=a)}return n}function A(t,e){for(var n="",r=e;0!==t;t>>>=1)1&t&&(n=M(n,r)),r=M(r,r);return n}e.b=r,e.a=i;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var P=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},k=function(){function t(){}return t.prototype.visitText=function(t,e){return t.value},t.prototype.visitContainer=function(t,e){var n=this;return"["+t.children.map(function(t){return t.visit(n)}).join(", ")+"]"},t.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.expression+", "+t.type+", "+r.join(", ")+"}"},t.prototype.visitTagPlaceholder=function(t,e){var n=this;return t.isVoid?'<ph tag name="'+t.startName+'"/>':'<ph tag name="'+t.startName+'">'+t.children.map(function(t){return t.visit(n)}).join(", ")+'</ph name="'+t.closeName+'">'},t.prototype.visitPlaceholder=function(t,e){return t.value?'<ph name="'+t.name+'">'+t.value+"</ph>":'<ph name="'+t.name+'"/>'},t.prototype.visitIcuPlaceholder=function(t,e){return'<ph icu name="'+t.name+'">'+t.value.visit(this)+"</ph>"},t}(),R=new k,O=function(t){function e(){t.apply(this,arguments)}return P(e,t),e.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.type+", "+r.join(", ")+"}"},e}(k),I={};I.Little=0,I.Big=1,I[I.Little]="Little",I[I.Big]="Big"},function(t,e,n){"use strict";function r(t,e,n,r){var i=new b(n,r);return i.extract(t,e)}function i(t,e,n,r,i){var o=new b(r,i);return o.merge(t,e,n)}function o(t){return t instanceof c.a&&t.value&&t.value.startsWith("i18n")}function a(t){return t instanceof c.a&&t.value&&"/i18n"===t.value}function s(t){return t.attrs.find(function(t){return t.name===d})||null}function u(t){if(!t)return["",""];var e=t.indexOf("|");return e==-1?["",t]:[t.slice(0,e),t.slice(e+1)]}var c=n(64),l=n(89),h=n(151),p=n(514),f=n(153);e.a=r,e.b=i;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var d="i18n",m="i18n-",y=/^i18n:?/,v=function(){function t(t,e){this.messages=t,this.errors=e}return t}(),g={};g.Extract=0,g.Merge=1,g[g.Extract]="Extract",g[g.Merge]="Merge";var b=function(){function t(t,e){this._implicitTags=t,this._implicitAttrs=e}return t.prototype.extract=function(t,e){var n=this;return this._init(g.Extract,e),t.forEach(function(t){return t.visit(n,null)}),this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new v(this._messages,this._errors)},t.prototype.merge=function(t,e,n){this._init(g.Merge,n),this._translations=e;var r=new c.e("wrapper",[],t,null,null,null),i=r.visit(this,null);return this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new l.b(i.children,this._errors)},t.prototype.visitExpansionCase=function(t,e){var n=c.g(this,t.expression,e);if(this._mode===g.Merge)return new c.c(t.value,n,t.sourceSpan,t.valueSourceSpan,t.expSourceSpan)},t.prototype.visitExpansion=function(t,e){this._mayBeAddBlockChildren(t);var n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([t]),this._inIcu=!0);var r=c.g(this,t.cases,e);return this._mode===g.Merge&&(t=new c.b(t.switchValue,t.type,r,t.sourceSpan,t.switchValueSourceSpan)),this._inIcu=n,t},t.prototype.visitComment=function(t,e){var n=o(t);if(n&&this._isInTranslatableSection)return void this._reportError(t,"Could not start a block inside a translatable section");var r=a(t);if(r&&!this._inI18nBlock)return void this._reportError(t,"Trying to close an unopened block");if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(r){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(t,this._blockChildren),this._inI18nBlock=!1;var i=this._addMessage(this._blockChildren,this._blockMeaningAndDesc),s=this._translateMessage(t,i);return c.g(this,s)}return void this._reportError(t,"I18N blocks should not cross element boundaries")}}else n&&(this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=t.value.replace(y,"").trim(),this._openTranslatableSection(t))},t.prototype.visitText=function(t,e){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(t),t},t.prototype.visitElement=function(t,e){var n=this;this._mayBeAddBlockChildren(t),this._depth++;var r,i=this._inI18nNode,o=this._inImplicitNode,a=[],u=s(t),l=u?u.value:"",h=this._implicitTags.some(function(e){return t.name===e})&&!this._inIcu&&!this._isInTranslatableSection,p=!o&&h;if(this._inImplicitNode=o||h,this._isInTranslatableSection||this._inIcu)(u||p)&&this._reportError(t,"Could not mark an element as translatable inside a translatable section"),this._mode==g.Extract&&c.g(this,t.children);else{if(u||p){this._inI18nNode=!0;var f=this._addMessage(t.children,l);r=this._translateMessage(t,f)}if(this._mode==g.Extract){var d=u||p;d&&this._openTranslatableSection(t),c.g(this,t.children),d&&this._closeTranslatableSection(t,t.children)}}if(this._mode===g.Merge){var m=r||t.children;m.forEach(function(t){var r=t.visit(n,e);r&&!n._isInTranslatableSection&&(a=a.concat(r))})}if(this._visitAttributesOf(t),this._depth--,this._inI18nNode=i,this._inImplicitNode=o,this._mode===g.Merge){var y=this._translateAttributes(t);return new c.e(t.name,y,a,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}},t.prototype.visitAttribute=function(t,e){throw new Error("unreachable code")},t.prototype._init=function(t,e){this._mode=t,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=n.i(p.a)(e)},t.prototype._visitAttributesOf=function(t){var e=this,n={},r=this._implicitAttrs[t.name]||[];t.attrs.filter(function(t){return t.name.startsWith(m)}).forEach(function(t){return n[t.name.slice(m.length)]=t.value}),t.attrs.forEach(function(t){t.name in n?e._addMessage([t],n[t.name]):r.some(function(e){return t.name===e})&&e._addMessage([t])})},t.prototype._addMessage=function(t,e){if(!(0==t.length||1==t.length&&t[0]instanceof c.f&&!t[0].value)){var n=u(e),r=n[0],i=n[1],o=this._createI18nMessage(t,r,i);return this._messages.push(o),o}},t.prototype._translateMessage=function(t,e){if(e&&this._mode===g.Merge){var n=this._translations.get(e);if(n)return n;this._reportError(t,'Translation unavailable for message id="'+this._translations.digest(e)+'"')}return[]},t.prototype._translateAttributes=function(t){var e=this,n=t.attrs,r={};n.forEach(function(t){t.name.startsWith(m)&&(r[t.name.slice(m.length)]=u(t.value)[0])});var i=[];return n.forEach(function(n){if(n.name!==d&&!n.name.startsWith(m))if(n.value&&""!=n.value&&r.hasOwnProperty(n.name)){var o=r[n.name],a=e._createI18nMessage([n],o,""),s=e._translations.get(a);if(s)if(0==s.length)i.push(new c.f(n.name,"",n.sourceSpan));else if(s[0]instanceof c.d){var u=s[0].value;i.push(new c.f(n.name,u,n.sourceSpan))}else e._reportError(t,'Unexpected translation for attribute "'+n.name+'" (id="'+e._translations.digest(a)+'")');else e._reportError(t,'Translation unavailable for attribute "'+n.name+'" (id="'+e._translations.digest(a)+'")')}else i.push(n)}),i},t.prototype._mayBeAddBlockChildren=function(t){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(t)},t.prototype._openTranslatableSection=function(t){this._isInTranslatableSection?this._reportError(t,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(t.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),t.prototype._closeTranslatableSection=function(t,e){if(!this._isInTranslatableSection)return void this._reportError(t,"Unexpected section end");var n=this._msgCountAtSectionStart,r=e.reduce(function(t,e){return t+(e instanceof c.a?0:1)},0);if(1==r)for(var i=this._messages.length-1;i>=n;i--){var o=this._messages[i].nodes;if(!(1==o.length&&o[0]instanceof h.a)){this._messages.splice(i,1);break}}this._msgCountAtSectionStart=void 0},t.prototype._reportError=function(t,e){this._errors.push(new f.a(t.sourceSpan,e))},t}()},function(t,e,n){"use strict";var r=(n(513),n(152));n.d(e,"a",function(){return r.a});n(318),n(154),n(319),n(212),n(321)},function(t,e,n){"use strict";var r=n(316);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t,e,n){this._htmlParser=t,this._implicitTags=e,this._implicitAttrs=n,this._messages=[]}return t.prototype.updateFromTemplate=function(t,e,i){var o=this._htmlParser.parse(t,e,!0,i);if(o.errors.length)return o.errors;var a=n.i(r.a)(o.rootNodes,i,this._implicitTags,this._implicitAttrs);if(a.errors.length)return a.errors;(s=this._messages).push.apply(s,a.messages);var s},t.prototype.getMessages=function(){return this._messages},t.prototype.write=function(t){return t.write(this._messages)},t}()},function(t,e,n){"use strict";function r(t){switch(t.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+t}}var i=n(64),o=n(323),a=n(315),s=n(151),u=n(153),c=n(154),l=n(320);n.d(e,"a",function(){return b});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},p="1.2",f="urn:oasis:names:tc:xliff:document:1.2",d="en",m="x",y="source",v="target",g="trans-unit",b=function(t){function e(){t.apply(this,arguments)}return h(e,t),e.prototype.write=function(t){var e=this,n=new _,r={},i=[];t.forEach(function(t){var o=e.digest(t);if(!r[o]){r[o]=!0;var a=new l.a(g,{id:o,datatype:"html"});a.children.push(new l.b(8),new l.a(y,{},n.serialize(t.nodes)),new l.b(8),new l.a(v)),t.description&&a.children.push(new l.b(8),new l.a("note",{priority:"1",from:"description"},[new l.f(t.description)])),t.meaning&&a.children.push(new l.b(8),new l.a("note",{priority:"1",from:"meaning"},[new l.f(t.meaning)])),a.children.push(new l.b(6)),i.push(new l.b(6),a)}});var o=new l.a("body",{},i.concat([new l.b(4)])),a=new l.a("file",{"source-language":d,datatype:"plaintext",original:"ng2.template"},[new l.b(4),o,new l.b(2)]),s=new l.a("xliff",{version:p,xmlns:f},[new l.b(2),a,new l.b]);return l.c([new l.d({version:"1.0",encoding:"UTF-8"}),new l.b,s,new l.b])},e.prototype.load=function(t,e){var n=new x,r=n.parse(t,e),i=r.mlNodesByMsgId,o=r.errors,a={},s=new w;if(Object.keys(i).forEach(function(t){var e=s.convert(i[t]),n=e.i18nNodes,r=e.errors;o.push.apply(o,r),a[t]=n}),o.length)throw new Error("xliff parse errors:\n"+o.join("\n"));return a},e.prototype.digest=function(t){return n.i(a.b)(t)},e}(c.a),_=function(){function t(){}return t.prototype.visitText=function(t,e){return[new l.f(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,r=[];return t.children.forEach(function(t){return r.push.apply(r,t.visit(n))}),r},t.prototype.visitIcu=function(t,e){if(this._isInIcu)throw new Error("xliff does not support nested ICU messages");this._isInIcu=!0;var n=[];return this._isInIcu=!1,n},t.prototype.visitTagPlaceholder=function(t,e){var n=r(t.tag),i=new l.a(m,{id:t.startName,ctype:n});if(t.isVoid)return[i];var o=new l.a(m,{id:t.closeName,ctype:n});return[i].concat(this.serialize(t.children),[o])},t.prototype.visitPlaceholder=function(t,e){return[new l.a(m,{id:t.name})]},t.prototype.visitIcuPlaceholder=function(t,e){return[new l.a(m,{id:t.name})]},t.prototype.serialize=function(t){var e=this;return this._isInIcu=!1,(n=[]).concat.apply(n,t.map(function(t){return t.visit(e)}));var n},t}(),x=function(){function t(){}return t.prototype.parse=function(t,e){this._unitMlNodes=[],this._mlNodesByMsgId={};var n=(new o.a).parse(t,e,!1);return this._errors=n.errors,i.g(this,n.rootNodes,null),{mlNodesByMsgId:this._mlNodesByMsgId,errors:this._errors}},t.prototype.visitElement=function(t,e){switch(t.name){case g:this._unitMlNodes=null;var n=t.attrs.find(function(t){return"id"===t.name});if(n){var r=n.value;this._mlNodesByMsgId.hasOwnProperty(r)?this._addError(t,"Duplicated translations for msg "+r):(i.g(this,t.children,null),this._unitMlNodes?this._mlNodesByMsgId[r]=this._unitMlNodes:this._addError(t,"Message "+r+" misses a translation"))}else this._addError(t,"<"+g+'> misses the "id" attribute');break;case y:break;case v:this._unitMlNodes=t.children;break;default:i.g(this,t.children,null)}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new u.a(t.sourceSpan,e))},t}(),w=function(){function t(){}return t.prototype.convert=function(t){return this._errors=[],{i18nNodes:i.g(this,t),errors:this._errors}},t.prototype.visitText=function(t,e){return new s.a(t.value,t.sourceSpan)},t.prototype.visitElement=function(t,e){if(t.name===m){var n=t.attrs.find(function(t){return"id"===t.name});if(n)return new s.d("",n.value,t.sourceSpan);this._addError(t,"<"+m+'> misses the "id" attribute')}else this._addError(t,"Unexpected tag")},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new u.a(t.sourceSpan,e))},t}()},function(t,e,n){"use strict";function r(t){return t.map(function(t){return t.visit(s)}).join("")}function i(t){return f.reduce(function(t,e){return t.replace(e[0],e[1])},t)}e.c=r,n.d(e,"d",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"f",function(){return h}),n.d(e,"b",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(){function t(){}return t.prototype.visitTag=function(t){var e=this,n=this._serializeAttributes(t.attrs);if(0==t.children.length)return"<"+t.name+n+"/>";var r=t.children.map(function(t){return t.visit(e)});return"<"+t.name+n+">"+r.join("")+"</"+t.name+">"},t.prototype.visitText=function(t){return t.value},t.prototype.visitDeclaration=function(t){return"<?xml"+this._serializeAttributes(t.attrs)+" ?>"},t.prototype._serializeAttributes=function(t){var e=Object.keys(t).map(function(e){return e+'="'+t[e]+'"'}).join(" ");return e.length>0?" "+e:""},t.prototype.visitDoctype=function(t){return"<!DOCTYPE "+t.rootTag+" [\n"+t.dtd+"\n]>"},t}(),s=new a,u=function(){function t(t){var e=this;this.attrs={},Object.keys(t).forEach(function(n){e.attrs[n]=i(t[n])})}return t.prototype.visit=function(t){return t.visitDeclaration(this)},t}(),c=function(){function t(t,e){this.rootTag=t,this.dtd=e}return t.prototype.visit=function(t){return t.visitDoctype(this)},t}(),l=function(){function t(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n=[]),this.name=t,this.children=n,this.attrs={},Object.keys(e).forEach(function(t){r.attrs[t]=i(e[t])})}return t.prototype.visit=function(t){return t.visitTag(this)},t}(),h=function(){function t(t){this.value=i(t)}return t.prototype.visit=function(t){return t.visitText(this)},t}(),p=function(t){function e(e){void 0===e&&(e=0),t.call(this,"\n"+new Array(e+1).join(" "))}return o(e,t),e}(h),f=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]]},function(t,e,n){"use strict";var r=n(64),i=n(323),o=n(151),a=n(153),s=n(154),u=n(212);n.d(e,"a",function(){return f});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l="translationbundle",h="translation",p="ph",f=function(t){function e(){t.apply(this,arguments)}return c(e,t),e.prototype.write=function(t){throw new Error("Unsupported")},e.prototype.load=function(t,e){var n=new d,r=n.parse(t,e),i=r.mlNodesByMsgId,o=r.errors,a={},s=new m;if(Object.keys(i).forEach(function(t){var e=s.convert(i[t]),n=e.i18nNodes,r=e.errors;o.push.apply(o,r),a[t]=n}),o.length)throw new Error("xtb parse errors:\n"+o.join("\n"));return a},e.prototype.digest=function(t){return n.i(u.a)(t)},e.prototype.createNameMapper=function(t){return new u.b(t)},e}(s.a),d=function(){function t(){}return t.prototype.parse=function(t,e){this._bundleDepth=0,this._mlNodesByMsgId={};var n=(new i.a).parse(t,e,!0);return this._errors=n.errors,r.g(this,n.rootNodes),{mlNodesByMsgId:this._mlNodesByMsgId,errors:this._errors}},t.prototype.visitElement=function(t,e){switch(t.name){case l:this._bundleDepth++,this._bundleDepth>1&&this._addError(t,"<"+l+"> elements can not be nested"),r.g(this,t.children,null),this._bundleDepth--;break;case h:var n=t.attrs.find(function(t){return"id"===t.name});if(n){var i=n.value;this._mlNodesByMsgId.hasOwnProperty(i)?this._addError(t,"Duplicated translations for msg "+i):this._mlNodesByMsgId[i]=t.children}else this._addError(t,"<"+h+'> misses the "id" attribute');break;default:this._addError(t,"Unexpected tag")}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new a.a(t.sourceSpan,e))},t}(),m=function(){function t(){}return t.prototype.convert=function(t){return this._errors=[],{i18nNodes:r.g(this,t),errors:this._errors}},t.prototype.visitText=function(t,e){return new o.a(t.value,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){var n={};return r.g(this,t.cases).forEach(function(e){n[e.value]=new o.b(e.nodes,t.sourceSpan)}),new o.c(t.switchValue,t.type,n,t.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){return{value:t.value,nodes:r.g(this,t.expression)}},t.prototype.visitElement=function(t,e){if(t.name===p){var n=t.attrs.find(function(t){return"name"===t.name});if(n)return new o.d("",n.value,t.sourceSpan);this._addError(t,"<"+p+'> misses the "name" attribute')}else this._addError(t,"Unexpected tag")},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new a.a(t.sourceSpan,e))},t}()},function(t,e,n){"use strict";function r(t){if(!t.isComponent)throw new Error("Could not compile '"+n.i(s.a)(t.type)+"' because it is not a component.")}var i=n(0),o=n(310),a=n(149),s=n(13),u=n(62),c=n(63),l=n(6),h=n(17),p=n(110),f=n(155),d=n(9),m=n(523),y=n(524),v=n(158),g=n(113),b=n(29),_=n(114);n.d(e,"a",function(){return C});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var x=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},w=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},C=function(){function t(t,e,n,r,i,a,s,u,c){this._injector=t,this._metadataResolver=e,this._templateParser=n,this._styleCompiler=r,this._viewCompiler=i,this._ngModuleCompiler=a,this._directiveWrapperCompiler=s,this._compilerConfig=u,this._animationParser=c,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._animationCompiler=new o.a}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.compileModuleSync=function(t){return this._compileModuleAndComponents(t,!0).syncResult},t.prototype.compileModuleAsync=function(t){return this._compileModuleAndComponents(t,!1).asyncResult},t.prototype.compileModuleAndAllComponentsSync=function(t){return this._compileModuleAndAllComponents(t,!0).syncResult},t.prototype.compileModuleAndAllComponentsAsync=function(t){return this._compileModuleAndAllComponents(t,!1).asyncResult},t.prototype.getNgContentSelectors=function(t){var e=this._compiledTemplateCache.get(t);if(!e)throw new Error("The component "+n.i(l.e)(t)+" is not yet compiled!");return e.compMeta.template.ngContentSelectors},t.prototype._compileModuleAndComponents=function(t,e){var n=this,r=this._loadModules(t,e),i=function(){return n._compileComponents(t,null),n._compileModule(t)};return e?new b.h(i()):new b.h(null,r.then(i))},t.prototype._compileModuleAndAllComponents=function(t,e){var n=this,r=this._loadModules(t,e),o=function(){var e=[];return n._compileComponents(t,e),new i.ModuleWithComponentFactories(n._compileModule(t),e)};return e?new b.h(o()):new b.h(null,r.then(o))},t.prototype._loadModules=function(t,e){var n=this,r=[],i=this._metadataResolver.getNgModuleMetadata(t);return i.transitiveModule.modules.forEach(function(t){r.push(n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.reference,e))}),Promise.all(r)},t.prototype._compileModule=function(t){var e=this,r=this._compiledNgModuleCache.get(t);if(!r){var o=this._metadataResolver.getNgModuleMetadata(t),a=[this._metadataResolver.getProviderMetadata(new s.u(i.Compiler,{useFactory:function(){return new E(e,o.type.reference)}}))],u=this._ngModuleCompiler.compile(o,a);u.dependencies.forEach(function(t){t.placeholder.reference=e._assertComponentKnown(t.comp.reference,!0).proxyComponentFactory}),r=this._compilerConfig.useJit?n.i(y.a)("/"+n.i(s.a)(o.type)+"/module.ngfactory.js",u.statements,u.ngModuleFactoryVar):n.i(m.a)(u.statements,u.ngModuleFactoryVar),this._compiledNgModuleCache.set(o.type.reference,r)}return r},t.prototype._compileComponents=function(t,e){var n=this,r=this._metadataResolver.getNgModuleMetadata(t),i=new Map,o=new Set;r.transitiveModule.modules.forEach(function(t){var r=n._metadataResolver.getNgModuleMetadata(t.reference);r.declaredDirectives.forEach(function(t){i.set(t.reference,r);var a=n._metadataResolver.getDirectiveMetadata(t.reference);if(n._compileDirectiveWrapper(a,r),a.isComponent&&(o.add(n._createCompiledTemplate(a,r)),e)){var s=n._createCompiledHostTemplate(a.type.reference,r);o.add(s),e.push(s.proxyComponentFactory)}})}),r.transitiveModule.modules.forEach(function(t){var e=n._metadataResolver.getNgModuleMetadata(t.reference);e.declaredDirectives.forEach(function(t){var e=n._metadataResolver.getDirectiveMetadata(t.reference);e.isComponent&&e.entryComponents.forEach(function(t){var e=i.get(t.reference);o.add(n._createCompiledHostTemplate(t.reference,e))})}),e.entryComponents.forEach(function(t){var e=i.get(t.reference);o.add(n._createCompiledHostTemplate(t.reference,e))})}),o.forEach(function(t){return n._compileTemplate(t)})},t.prototype.clearCacheFor=function(t){this._compiledNgModuleCache.delete(t),this._metadataResolver.clearCacheFor(t),this._compiledHostTemplateCache.delete(t);var e=this._compiledTemplateCache.get(t);e&&this._compiledTemplateCache.delete(t)},t.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()},t.prototype._createCompiledHostTemplate=function(t,e){if(!e)throw new Error("Component "+n.i(l.e)(t)+" is not part of any NgModule or the module has not been imported into your module.");var i=this._compiledHostTemplateCache.get(t);if(!i){var o=this._metadataResolver.getDirectiveMetadata(t);r(o);var a=function(){};a.overriddenName=n.i(s.a)(o.type)+"_Host";var u=n.i(s.v)(a,o);i=new S(!0,o.selector,o.type,u,e,[o.type]),this._compiledHostTemplateCache.set(t,i)}return i},t.prototype._createCompiledTemplate=function(t,e){var n=this._compiledTemplateCache.get(t.type.reference);return n||(r(t),n=new S(!1,t.selector,t.type,t,e,e.transitiveModule.directives),this._compiledTemplateCache.set(t.type.reference,n)),n},t.prototype._assertComponentKnown=function(t,e){var r=e?this._compiledHostTemplateCache.get(t):this._compiledTemplateCache.get(t);if(!r)throw new Error("Illegal state: Compiled view for component "+n.i(l.e)(t)+" (host: "+e+") does not exist!");return r},t.prototype._assertDirectiveWrapper=function(t){var e=this._compiledDirectiveWrapperCache.get(t);if(!e)throw new Error("Illegal state: Directive wrapper for "+n.i(l.e)(t)+" has not been compiled!");return e},t.prototype._compileDirectiveWrapper=function(t,e){var r,i=this._directiveWrapperCompiler.compile(t),o=i.statements;r=this._compilerConfig.useJit?n.i(y.a)("/"+n.i(s.a)(e.type)+"/"+n.i(s.a)(t.type)+"/wrapper.ngfactory.js",o,i.dirWrapperClassVar):n.i(m.a)(o,i.dirWrapperClassVar),this._compiledDirectiveWrapperCache.set(t.type.reference,r)},t.prototype._compileTemplate=function(t){var e=this;if(!t.isCompiled){var r=t.compMeta,i=new Map,o=this._styleCompiler.compileComponent(r);o.externalStylesheets.forEach(function(t){i.set(t.meta.moduleUrl,t)}),this._resolveStylesCompileResult(o.componentStylesheet,i);var a=this._animationParser.parseComponent(r),u=t.directives.map(function(t){return e._metadataResolver.getDirectiveSummary(t.reference)}),c=t.ngModule.transitiveModule.pipes.map(function(t){return e._metadataResolver.getPipeSummary(t.reference)}),l=this._templateParser.parse(r,r.template.template,u,c,t.ngModule.schemas,n.i(s.a)(r.type)),h=this._animationCompiler.compile(n.i(s.a)(r.type),a),p=this._viewCompiler.compileComponent(r,l,d.a(o.componentStylesheet.stylesVar),c,h);p.dependencies.forEach(function(t){var n;if(t instanceof _.a){var r=t;n=e._assertComponentKnown(r.comp.reference,!1),r.placeholder.reference=n.proxyViewClass}else if(t instanceof _.b){var i=t;n=e._assertComponentKnown(i.comp.reference,!0),i.placeholder.reference=n.proxyComponentFactory}else if(t instanceof _.c){var o=t;o.placeholder.reference=e._assertDirectiveWrapper(o.dir.reference)}});var f,v=(g=o.componentStylesheet.statements).concat.apply(g,h.map(function(t){return t.statements})).concat(p.statements);f=this._compilerConfig.useJit?n.i(y.a)("/"+n.i(s.a)(t.ngModule.type)+"/"+n.i(s.a)(t.compType)+"/"+(t.isHost?"host":"component")+".ngfactory.js",v,p.viewClassVar):n.i(m.a)(v,p.viewClassVar),t.compiled(f);var g}},t.prototype._resolveStylesCompileResult=function(t,e){var n=this;t.dependencies.forEach(function(t,r){var i=e.get(t.moduleUrl),o=n._resolveAndEvalStylesCompileResult(i,e);t.valuePlaceholder.reference=o})},t.prototype._resolveAndEvalStylesCompileResult=function(t,e){return this._resolveStylesCompileResult(t,e),this._compilerConfig.useJit?n.i(y.a)("/"+t.meta.moduleUrl+".ngstyle.js",t.statements,t.stylesVar):n.i(m.a)(t.statements,t.stylesVar)},t=x([n.i(h.a)(),w("design:paramtypes",[i.Injector,p.a,g.a,v.a,_.d,f.a,c.a,u.a,a.a])],t)}(),S=function(){function t(t,e,r,o,a,s){this.isHost=t,this.compType=r,this.compMeta=o,this.ngModule=a,this.directives=s,this._viewClass=null,this.isCompiled=!1;var u=this;this.proxyViewClass=function(){if(!u._viewClass)throw new Error("Illegal state: CompiledTemplate for "+n.i(l.e)(u.compType)+" is not compiled yet!");return u._viewClass.apply(this,arguments)},this.proxyComponentFactory=t?new i.ComponentFactory(e,this.proxyViewClass,r.reference):null}return t.prototype.compiled=function(t){this._viewClass=t,this.proxyViewClass.prototype=t.prototype,this.isCompiled=!0},t}(),E=function(){function t(t,e){this._delegate=t,this._ngModule=e}return Object.defineProperty(t.prototype,"_injector",{get:function(){return this._delegate.injector},enumerable:!0,configurable:!0}),t.prototype.compileModuleSync=function(t){return this._delegate.compileModuleSync(t)},t.prototype.compileModuleAsync=function(t){return this._delegate.compileModuleAsync(t)},t.prototype.compileModuleAndAllComponentsSync=function(t){return this._delegate.compileModuleAndAllComponentsSync(t)},t.prototype.compileModuleAndAllComponentsAsync=function(t){return this._delegate.compileModuleAndAllComponentsAsync(t)},t.prototype.getNgContentSelectors=function(t){return this._delegate.getNgContentSelectors(t)},t.prototype.clearCache=function(){this._delegate.clearCache()},t.prototype.clearCacheFor=function(t){this._delegate.clearCacheFor(t)},t}()},function(t,e,n){"use strict";var r=n(89),i=n(521);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){t.call(this,i.a)}return o(e,t),e.prototype.parse=function(e,n,r){return void 0===r&&(r=!1),t.prototype.parse.call(this,e,n,r,null)},e}(r.a)},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=null),n.i(i.b)(t,new s,e)}var i=n(29),o=n(9);e.a=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a="$quoted$",s=function(){function t(){}return t.prototype.visitArray=function(t,e){var r=this;return o.h(t.map(function(t){return n.i(i.b)(t,r,null)}),e)},t.prototype.visitStringMap=function(t,e){var r=this,s=[],u=new Set(t&&t[a]);return Object.keys(t).forEach(function(e){s.push(new o.J(e,n.i(i.b)(t[e],r,null),u.has(e)))}),new o.K(s,e)},t.prototype.visitPrimitive=function(t,e){return o.f(t,e)},t.prototype.visitOther=function(t,e){return t instanceof o.L?t:o.g({reference:t})},t}()},function(t,e,n){"use strict";function r(t,e){var n=e.useExisting,r=e.useValue,i=e.deps;return{token:t.token,useClass:t.useClass,useExisting:n,useFactory:t.useFactory,useValue:r,deps:i,multi:t.multi}}function i(t,e){var n=e.eager,r=e.providers;return new d.b(t.token,t.multiProvider,t.eager||n,r,t.providerType,t.lifecycleHooks,t.sourceSpan)}function o(t,e,n){var r=new Map;t.forEach(function(t){var i={token:{identifier:t.type},useClass:t.type};a([i],t.isComponent?d.c.Component:d.c.Directive,!0,e,n,r)});var i=t.filter(function(t){return t.isComponent}).concat(t.filter(function(t){return!t.isComponent}));return i.forEach(function(t){a(t.providers,d.c.PublicService,!1,e,n,r),a(t.viewProviders,d.c.PrivateService,!1,e,n,r)}),r}function a(t,e,r,i,o,a){t.forEach(function(t){var s=a.get(n.i(l.j)(t.token));if(n.i(h.c)(s)&&!!s.multiProvider!=!!t.multi&&o.push(new y("Mixing multi and non multi provider is not possible for token "+n.i(l.k)(s.token),i)),s)t.multi||(s.providers.length=0),s.providers.push(t);else{var u=t.token.identifier&&t.token.identifier.lifecycleHooks?t.token.identifier.lifecycleHooks:[];s=new d.b(t.token,t.multi,r||u.length>0,[t],e,u,i),a.set(n.i(l.j)(t.token),s)}})}function s(t){var e=new Map;return t.viewQueries&&t.viewQueries.forEach(function(t){return c(e,t)}),e}function u(t){var e=new Map;return t.forEach(function(t){t.queries&&t.queries.forEach(function(t){return c(e,t)})}),e}function c(t,e){e.selectors.forEach(function(r){var i=t.get(n.i(l.j)(r));i||(i=[],t.set(n.i(l.j)(r),i)),i.push(e)})}var l=n(13),h=n(6),p=n(16),f=n(35),d=n(45);n.d(e,"b",function(){return v}),n.d(e,"c",function(){return g}),n.d(e,"a",function(){return b});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var m=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},y=function(t){function e(e,n){t.call(this,n,e)}return m(e,t),e}(f.a),v=function(){function t(t,e){var r=this;this.component=t,this.sourceSpan=e,this.errors=[],this.viewQueries=s(t),this.viewProviders=new Map,t.viewProviders.forEach(function(t){n.i(h.d)(r.viewProviders.get(n.i(l.j)(t.token)))&&r.viewProviders.set(n.i(l.j)(t.token),!0)})}return t}(),g=function(){function t(t,e,r,i,a,s,c){var f=this;this.viewContext=t,this._parent=e,this._isViewRoot=r,this._directiveAsts=i,this._sourceSpan=c,this._transformedProviders=new Map,this._seenProviders=new Map,this._hasViewContainer=!1,this._attrs={},a.forEach(function(t){return f._attrs[t.name]=t.value});var d=i.map(function(t){return t.directive});this._allProviders=o(d,c,t.errors),this._contentQueries=u(d);var m=new Map;Array.from(this._allProviders.values()).forEach(function(t){f._addQueryReadsTo(t.token,m)}),s.forEach(function(t){f._addQueryReadsTo({value:t.name},m)}),n.i(h.c)(m.get(n.i(p.e)(p.b.ViewContainerRef)))&&(this._hasViewContainer=!0),Array.from(this._allProviders.values()).forEach(function(t){var e=t.eager||n.i(h.c)(m.get(n.i(l.j)(t.token)));e&&f._getOrCreateLocalProvider(t.providerType,t.token,!0)})}return t.prototype.afterElement=function(){var t=this;Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.providerType,e.token,!1)})},Object.defineProperty(t.prototype,"transformProviders",{get:function(){return Array.from(this._transformedProviders.values())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedDirectiveAsts",{get:function(){var t=this.transformProviders.map(function(t){return t.token.identifier}),e=this._directiveAsts.slice();return e.sort(function(e,n){return t.indexOf(e.directive.type)-t.indexOf(n.directive.type)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),t.prototype._addQueryReadsTo=function(t,e){this._getQueriesFor(t).forEach(function(r){var i=r.read||t;n.i(h.d)(e.get(n.i(l.j)(i)))&&e.set(n.i(l.j)(i),!0)})},t.prototype._getQueriesFor=function(t){for(var e,r=[],i=this,o=0;null!==i;)e=i._contentQueries.get(n.i(l.j)(t)),e&&r.push.apply(r,e.filter(function(t){return t.descendants||o<=1})),i._directiveAsts.length>0&&o++,i=i._parent;return e=this.viewContext.viewQueries.get(n.i(l.j)(t)),e&&r.push.apply(r,e),r},t.prototype._getOrCreateLocalProvider=function(t,e,o){var a=this,s=this._allProviders.get(n.i(l.j)(e));if(!s||(t===d.c.Directive||t===d.c.PublicService)&&s.providerType===d.c.PrivateService||(t===d.c.PrivateService||t===d.c.PublicService)&&s.providerType===d.c.Builtin)return null;var u=this._transformedProviders.get(n.i(l.j)(e));if(u)return u;if(n.i(h.c)(this._seenProviders.get(n.i(l.j)(e))))return this.viewContext.errors.push(new y("Cannot instantiate cyclic dependency! "+n.i(l.k)(e),this._sourceSpan)),null;this._seenProviders.set(n.i(l.j)(e),!0);var c=s.providers.map(function(t){var e,i=t.useValue,u=t.useExisting;if(n.i(h.c)(t.useExisting)){var c=a._getDependency(s.providerType,{token:t.useExisting},o);n.i(h.c)(c.token)?u=c.token:(u=null,i=c.value)}else if(t.useFactory){var l=t.deps||t.useFactory.diDeps;e=l.map(function(t){return a._getDependency(s.providerType,t,o)})}else if(t.useClass){var l=t.deps||t.useClass.diDeps;e=l.map(function(t){return a._getDependency(s.providerType,t,o)})}return r(t,{useExisting:u,useValue:i,deps:e})});return u=i(s,{eager:o,providers:c}),this._transformedProviders.set(n.i(l.j)(e),u),u},t.prototype._getLocalDependency=function(t,e,r){if(void 0===r&&(r=null),e.isAttribute){var i=this._attrs[e.token.value];return{isValue:!0,value:null==i?null:i}}if(n.i(h.c)(e.token)){if(t===d.c.Directive||t===d.c.Component){if(n.i(l.j)(e.token)===n.i(p.e)(p.b.Renderer)||n.i(l.j)(e.token)===n.i(p.e)(p.b.ElementRef)||n.i(l.j)(e.token)===n.i(p.e)(p.b.ChangeDetectorRef)||n.i(l.j)(e.token)===n.i(p.e)(p.b.TemplateRef))return e;n.i(l.j)(e.token)===n.i(p.e)(p.b.ViewContainerRef)&&(this._hasViewContainer=!0)}if(n.i(l.j)(e.token)===n.i(p.e)(p.b.Injector))return e;if(n.i(h.c)(this._getOrCreateLocalProvider(t,e.token,r)))return e}return null},t.prototype._getDependency=function(t,e,r){void 0===r&&(r=null);var i=this,o=r,a=null;if(e.isSkipSelf||(a=this._getLocalDependency(t,e,r)),e.isSelf)!a&&e.isOptional&&(a={isValue:!0,value:null});else{for(;!a&&i._parent;){var s=i;i=i._parent,s._isViewRoot&&(o=!1),a=i._getLocalDependency(d.c.PublicService,e,o)}a||(a=!e.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===n.i(l.j)(e.token)||n.i(h.c)(this.viewContext.viewProviders.get(n.i(l.j)(e.token)))?e:e.isOptional?a={isValue:!0,value:null}:null)}return a||this.viewContext.errors.push(new y("No provider for "+n.i(l.k)(e.token),this._sourceSpan)),a},t}(),b=function(){function t(t,e,n){var r=this;this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,t.transitiveModule.modules.forEach(function(t){var e={token:{identifier:t},useClass:t};a([e],d.c.PublicService,!0,n,r._errors,r._allProviders)}),a(t.transitiveModule.providers.map(function(t){return t.provider}).concat(e),d.c.PublicService,!1,n,this._errors,this._allProviders)}return t.prototype.parse=function(){var t=this;if(Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.token,e.eager)}),this._errors.length>0){var e=this._errors.join("\n");throw new Error("Provider parse errors:\n"+e)}return Array.from(this._transformedProviders.values())},t.prototype._getOrCreateLocalProvider=function(t,e){var o=this,a=this._allProviders.get(n.i(l.j)(t));if(!a)return null;var s=this._transformedProviders.get(n.i(l.j)(t));if(s)return s;if(n.i(h.c)(this._seenProviders.get(n.i(l.j)(t))))return this._errors.push(new y("Cannot instantiate cyclic dependency! "+n.i(l.k)(t),a.sourceSpan)),null;this._seenProviders.set(n.i(l.j)(t),!0);var u=a.providers.map(function(t){var i,s=t.useValue,u=t.useExisting;if(n.i(h.c)(t.useExisting)){var c=o._getDependency({token:t.useExisting},e,a.sourceSpan);n.i(h.c)(c.token)?u=c.token:(u=null,s=c.value)}else if(t.useFactory){var l=t.deps||t.useFactory.diDeps;i=l.map(function(t){return o._getDependency(t,e,a.sourceSpan)})}else if(t.useClass){var l=t.deps||t.useClass.diDeps;i=l.map(function(t){return o._getDependency(t,e,a.sourceSpan)})}return r(t,{useExisting:u,useValue:s,deps:i})});return s=i(a,{eager:e,providers:u}),this._transformedProviders.set(n.i(l.j)(t),s),s},t.prototype._getDependency=function(t,e,r){void 0===e&&(e=null);var i=!1;!t.isSkipSelf&&n.i(h.c)(t.token)&&(n.i(l.j)(t.token)===n.i(p.e)(p.b.Injector)||n.i(l.j)(t.token)===n.i(p.e)(p.b.ComponentFactoryResolver)?i=!0:n.i(h.c)(this._getOrCreateLocalProvider(t.token,e))&&(i=!0));var o=t;return t.isSelf&&!i&&(t.isOptional?o={isValue:!0,value:null}:this._errors.push(new y("No provider for "+n.i(l.k)(t.token),r))),o},t}()},function(t,e,n){"use strict";function r(t){if(null==t||0===t.length||"/"==t[0])return!1;var e=t.match(u);return null===e||"package"==e[1]||"asset"==e[1]}function i(t,e,n){var i=[],u=n.replace(s,"").replace(a,function(){for(var n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];var a=n[1]||n[2];return r(a)?(i.push(t.resolve(e,a)),""):n[0]});return new o(u,i)}e.a=r,e.b=i;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t,e){this.style=t,this.styleUrls=e}return t}(),a=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,s=/\/\*.+?\*\//g,u=/^([^:\/?#]+):/},function(t,e,n){"use strict";function r(t){return"@"==t[0]}function i(t,e,n,r){var i=[];return c.a.parse(e).forEach(function(e){var o=e.element?[e.element]:t.allKnownElementNames(),a=new Set(e.notSelectors.filter(function(t){return t.isElementSelector()}).map(function(t){return t.element})),s=o.filter(function(t){return!a.has(t)});i.push.apply(i,s.map(function(e){return t.securityContext(e,n,r)}))}),0===i.length?[o.SecurityContext.NONE]:Array.from(new Set(i)).sort()}var o=n(0),a=n(211),s=n(74),u=n(35),c=n(157),l=n(29),h=n(45);n.d(e,"a",function(){return _});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var p=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},f=".",d="attr",m="class",y="style",v="animate-",g={};g.DEFAULT=0,g.LITERAL_ATTR=1,g.ANIMATION=2,g[g.DEFAULT]="DEFAULT",g[g.LITERAL_ATTR]="LITERAL_ATTR",g[g.ANIMATION]="ANIMATION";var b=function(){function t(t,e,n,r){this.name=t,this.expression=e,this.type=n,this.sourceSpan=r}return Object.defineProperty(t.prototype,"isLiteral",{get:function(){return this.type===g.LITERAL_ATTR},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimation",{get:function(){return this.type===g.ANIMATION},enumerable:!0,configurable:!0}),t}(),_=function(){function t(t,e,n,r,i){var o=this;this._exprParser=t,this._interpolationConfig=e,this._schemaRegistry=n,this._targetErrors=i,this.pipesByName=new Map,r.forEach(function(t){return o.pipesByName.set(t.name,t)})}return t.prototype.createDirectiveHostPropertyAsts=function(t,e){var n=this;if(t.hostProperties){var r=[];return Object.keys(t.hostProperties).forEach(function(i){var o=t.hostProperties[i];"string"==typeof o?n.parsePropertyBinding(i,o,!0,e,[],r):n._reportError('Value of the host property binding "'+i+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",e)}),r.map(function(e){return n.createElementPropertyAst(t.selector,e)})}},t.prototype.createDirectiveHostEventAsts=function(t,e){var n=this;if(t.hostListeners){var r=[];return Object.keys(t.hostListeners).forEach(function(i){var o=t.hostListeners[i];"string"==typeof o?n.parseEvent(i,o,e,[],r):n._reportError('Value of the host listener "'+i+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",e)}),r}},t.prototype.parseInterpolation=function(t,e){var n=e.start.toString();try{var r=this._exprParser.parseInterpolation(t,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,e),this._checkPipes(r,e),r}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype.parseInlineTemplateBinding=function(t,e,n,r,i,o){for(var a=this._parseTemplateBindings(t,e,n),s=0;s<a.length;s++){var u=a[s];u.keyIsVar?o.push(new h.d(u.key,u.name,n)):u.expression?this._parsePropertyAst(u.key,u.expression,n,r,i):(r.push([u.key,""]),this.parseLiteralAttr(u.key,null,n,r,i))}},t.prototype._parseTemplateBindings=function(t,e,n){var r=this,i=n.start.toString();try{var o=this._exprParser.parseTemplateBindings(t,e,i);return this._reportExpressionParserErrors(o.errors,n),o.templateBindings.forEach(function(t){t.expression&&r._checkPipes(t.expression,n)}),o.warnings.forEach(function(t){r._reportError(t,n,u.e.WARNING)}),o.templateBindings}catch(t){return this._reportError(""+t,n),[]}},t.prototype.parseLiteralAttr=function(t,e,n,i,o){r(t)?(t=t.substring(1),e&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,u.e.FATAL),this._parseAnimation(t,e,n,i,o)):o.push(new b(t,this._exprParser.wrapLiteralPrimitive(e,""),g.LITERAL_ATTR,n))},t.prototype.parsePropertyBinding=function(t,e,n,i,o,a){var s=!1;t.startsWith(v)?(s=!0,t=t.substring(v.length)):r(t)&&(s=!0,t=t.substring(1)),s?this._parseAnimation(t,e,i,o,a):this._parsePropertyAst(t,this._parseBinding(e,n,i),i,o,a)},t.prototype.parsePropertyInterpolation=function(t,e,n,r,i){var o=this.parseInterpolation(e,n);return!!o&&(this._parsePropertyAst(t,o,n,r,i),!0)},t.prototype._parsePropertyAst=function(t,e,n,r,i){r.push([t,e.source]),i.push(new b(t,e,g.DEFAULT,n))},t.prototype._parseAnimation=function(t,e,n,r,i){var o=this._parseBinding(e||"null",!1,n);r.push([t,o.source]),i.push(new b(t,o,g.ANIMATION,n))},t.prototype._parseBinding=function(t,e,n){var r=n.start.toString();try{var i=e?this._exprParser.parseSimpleBinding(t,r,this._interpolationConfig):this._exprParser.parseBinding(t,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),this._checkPipes(i,n),i}catch(t){return this._reportError(""+t,n),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},t.prototype.createElementPropertyAst=function(t,e){if(e.isAnimation)return new h.e(e.name,h.f.Animation,o.SecurityContext.NONE,!1,e.expression,null,e.sourceSpan);var r,a,u=null,c=null,l=e.name.split(f);if(l.length>1)if(l[0]==d){c=l[1],this._validatePropertyOrAttributeName(c,e.sourceSpan,!0),a=i(this._schemaRegistry,t,c,!0);var p=c.indexOf(":");if(p>-1){var v=c.substring(0,p),g=c.substring(p+1);c=n.i(s.b)(v,g)}r=h.f.Attribute}else l[0]==m?(c=l[1],r=h.f.Class,a=[o.SecurityContext.NONE]):l[0]==y&&(u=l.length>2?l[2]:null,c=l[1],r=h.f.Style,a=[o.SecurityContext.STYLE]);return null===c&&(c=this._schemaRegistry.getMappedPropName(e.name),a=i(this._schemaRegistry,t,c,!1),r=h.f.Property,this._validatePropertyOrAttributeName(c,e.sourceSpan,!1)),new h.e(c,r,1===a.length?a[0]:null,a.length>1,e.expression,u,e.sourceSpan)},t.prototype.parseEvent=function(t,e,n,i,o){r(t)?(t=t.substr(1),this._parseAnimationEvent(t,e,n,o)):this._parseEvent(t,e,n,i,o)},t.prototype._parseAnimationEvent=function(t,e,r,i){var o=n.i(l.c)(t,[t,""]),a=o[0],s=o[1].toLowerCase();if(s)switch(s){case"start":case"done":var u=this._parseAction(e,r);i.push(new h.g(a,null,s,u,r));break;default:this._reportError('The provided animation output phase value "'+s+'" for "@'+a+'" is not supported (use start or done)',r)}else this._reportError("The animation trigger output event (@"+a+") is missing its phase value name (start or done are currently supported)",r)},t.prototype._parseEvent=function(t,e,r,i,o){var a=n.i(l.a)(t,[null,t]),s=a[0],u=a[1],c=this._parseAction(e,r);i.push([t,c.source]),o.push(new h.g(u,s,null,c,r))},t.prototype._parseAction=function(t,e){var n=e.start.toString();try{var r=this._exprParser.parseAction(t,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,e),!r||r.ast instanceof a.d?(this._reportError("Empty expressions are not allowed",e),this._exprParser.wrapLiteralPrimitive("ERROR",n)):(this._checkPipes(r,e),r)}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype._reportError=function(t,e,n){void 0===n&&(n=u.e.FATAL),this._targetErrors.push(new u.a(e,t,n))},t.prototype._reportExpressionParserErrors=function(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];this._reportError(i.message,e)}},t.prototype._checkPipes=function(t,e){var n=this;if(t){var r=new x;t.visit(r),r.pipes.forEach(function(t,r){n.pipesByName.has(r)||n._reportError("The pipe '"+r+"' could not be found",new u.c(e.start.moveBy(t.span.start),e.start.moveBy(t.span.end)))})}},t.prototype._validatePropertyOrAttributeName=function(t,e,n){var r=n?this._schemaRegistry.validateAttribute(t):this._schemaRegistry.validateProperty(t);r.error&&this._reportError(r.msg,e,u.e.FATAL)},t}(),x=function(t){function e(){t.apply(this,arguments),this.pipes=new Map}return p(e,t),e.prototype.visitPipe=function(t,e){return this.pipes.set(t.name,t),t.exp.visit(this),this.visitAll(t.args,e),null},e}(a.e)},function(t,e,n){"use strict";function r(t){var e=null,r=null,g=null,b=!1,_=null;t.attrs.forEach(function(t){var n=t.name.toLowerCase();n==a?e=t.value:n==l?r=t.value:n==c?g=t.value:t.name==d?b=!0:t.name==m&&t.value.length>0&&(_=t.value)}),e=i(e);var x=t.name.toLowerCase(),w=y.OTHER;return n.i(o.e)(x)[1]==s?w=y.NG_CONTENT:x==p?w=y.STYLE:x==f?w=y.SCRIPT:x==u&&g==h&&(w=y.STYLESHEET),new v(w,e,r,b,_)}function i(t){return null===t||0===t.length?"*":t}var o=n(74);e.a=r,n.d(e,"b",function(){return y});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a="select",s="ng-content",u="link",c="rel",l="href",h="stylesheet",p="style",f="script",d="ngNonBindable",m="ngProjectAs",y={};y.NG_CONTENT=0,y.STYLE=1,y.STYLESHEET=2,y.SCRIPT=3,y.OTHER=4,y[y.NG_CONTENT]="NG_CONTENT",y[y.STYLE]="STYLE",y[y.STYLESHEET]="STYLESHEET",y[y.SCRIPT]="SCRIPT",y[y.OTHER]="OTHER";var v=function(){function t(t,e,n,r,i){this.type=t,this.selectAttr=e,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}return t}()},function(t,e,n){"use strict";function r(t,e,r,i){var o;return o=e>0?l.f(t).lowerEquals(m.f.requestNodeIndex).and(m.f.requestNodeIndex.lowerEquals(l.f(t+e))):l.f(t).identical(m.f.requestNodeIndex),new l.u(m.f.token.identical(n.i(a.b)(r.token)).and(o),[new l.t(i)])}function i(t,e,n,r,i){var o,a,s=i.view;if(n?(o=l.h(e),a=new l.i(l.m)):(o=e[0],a=e[0].type),a||(a=l.m),r)s.fields.push(new l.c(t,a)),s.createMethod.addStmt(l.e.prop(t).set(o).toStmt());else{var u="_"+t;s.fields.push(new l.c(u,a));var c=new f.a(s);c.resetDebugInfo(i.nodeIndex,i.sourceAst),c.addStmt(new l.u(l.e.prop(u).isBlank(),[l.e.prop(u).set(o).toStmt()])),c.addStmt(new l.t(l.e.prop(u))),s.getters.push(new l.H(t,c.finish(),a))}return l.e.prop(t)}var o=n(13),a=n(43),s=n(63),u=n(6),c=n(16),l=n(9),h=n(324),p=n(45),f=n(219),d=n(330),m=n(159),y=n(220),v=n(76);n.d(e,"b",function(){return b}),n.d(e,"a",function(){return _});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var g=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},b=function(){function t(t,e,n,r,i){this.parent=t,this.view=e,this.nodeIndex=n,this.renderNode=r,this.sourceAst=i}return t.prototype.isNull=function(){return!this.renderNode},t.prototype.isRootElement=function(){return this.view!=this.parent.view},t}(),_=function(t){function e(e,r,i,o,a,s,u,h,p,f,d){var m=this;t.call(this,e,r,i,o,a),this.component=s,this._directives=u,this._resolvedProvidersArray=h,this.hasViewContainer=p,this.hasEmbeddedView=f,this.compViewExpr=null,this.instances=new Map,this.directiveWrapperInstance=new Map,this._queryCount=0,this._queries=new Map,this.contentNodesByNgContentIndex=null,this.referenceTokens={},d.forEach(function(t){return m.referenceTokens[t.name]=t.value}),this.elementRef=l.g(n.i(c.a)(c.b.ElementRef)).instantiate([this.renderNode]),this.instances.set(n.i(c.e)(c.b.ElementRef),this.elementRef),this.instances.set(n.i(c.e)(c.b.Injector),l.e.callMethod("injector",[l.f(this.nodeIndex)])),this.instances.set(n.i(c.e)(c.b.Renderer),l.e.prop("renderer")),(this.hasViewContainer||this.hasEmbeddedView)&&this._createViewContainer(),this.component&&this._createComponentFactoryResolver()}return g(e,t),e.createNull=function(){return new e(null,null,null,null,null,null,[],[],!1,!1,[])},e.prototype._createViewContainer=function(){var t="_vc_"+this.nodeIndex,e=this.isRootElement()?null:this.parent.nodeIndex;this.view.fields.push(new l.c(t,l.d(n.i(c.a)(c.b.ViewContainer)),[l.k.Private]));var r=l.e.prop(t).set(l.g(n.i(c.a)(c.b.ViewContainer)).instantiate([l.f(this.nodeIndex),l.f(e),l.e,this.renderNode])).toStmt();this.view.createMethod.addStmt(r),this.viewContainer=l.e.prop(t),this.instances.set(n.i(c.e)(c.b.ViewContainer),this.viewContainer),this.view.viewContainers.push(this.viewContainer)},e.prototype._createComponentFactoryResolver=function(){var t=this,e=this.component.entryComponents.map(function(e){var n={reference:null};return t.view.targetDependencies.push(new y.b(e,n)),n});if(e&&0!==e.length){var r=l.g(n.i(c.a)(c.b.CodegenComponentFactoryResolver)).instantiate([l.h(e.map(function(t){return l.g(t)})),n.i(v.b)(this.view,n.i(c.f)(c.b.ComponentFactoryResolver),!1)]),i={token:n.i(c.f)(c.b.ComponentFactoryResolver),useValue:r};this._resolvedProvidersArray.unshift(new p.b(i.token,!1,!0,[i],p.c.PrivateService,[],this.sourceAst.sourceSpan))}},e.prototype.setComponentView=function(t){this.compViewExpr=t,this.contentNodesByNgContentIndex=new Array(this.component.template.ngContentSelectors.length);for(var e=0;e<this.contentNodesByNgContentIndex.length;e++)this.contentNodesByNgContentIndex[e]=[]},e.prototype.setEmbeddedView=function(t){if(this.embeddedView=t,n.i(u.c)(t)){var e=l.g(n.i(c.a)(c.b.TemplateRef_)).instantiate([l.e,l.f(this.nodeIndex),this.renderNode]),r={token:n.i(c.f)(c.b.TemplateRef),useValue:e};this._resolvedProvidersArray.unshift(new p.b(r.token,!1,!0,[r],p.c.Builtin,[],this.sourceAst.sourceSpan))}},e.prototype.beforeChildren=function(){var t=this;this.hasViewContainer&&this.instances.set(n.i(c.e)(c.b.ViewContainerRef),this.viewContainer.prop("vcRef")),this._resolvedProviders=new Map,this._resolvedProvidersArray.forEach(function(e){return t._resolvedProviders.set(n.i(o.j)(e.token),e)}),Array.from(this._resolvedProviders.values()).forEach(function(e){var r=e.providerType===p.c.Component||e.providerType===p.c.Directive,a=e.providers.map(function(i){if(i.useExisting)return t._getDependency(e.providerType,{token:i.useExisting});if(i.useFactory){var o=i.deps||i.useFactory.diDeps,a=o.map(function(n){return t._getDependency(e.providerType,n)});return l.g(i.useFactory).callFn(a)}if(i.useClass){var o=i.deps||i.useClass.diDeps,a=o.map(function(n){return t._getDependency(e.providerType,n)});if(r){var u={reference:null};return t.view.targetDependencies.push(new y.c(i.useClass,s.a.dirWrapperClassName(i.useClass),u)),s.b.create(u,a)}return l.g(i.useClass).instantiate(a,l.d(i.useClass))}return n.i(h.a)(i.useValue)}),u="_"+n.i(o.k)(e.token)+"_"+t.nodeIndex+"_"+t.instances.size,c=i(u,a,e.multiProvider,e.eager,t);r?(t.directiveWrapperInstance.set(n.i(o.j)(e.token),c),t.instances.set(n.i(o.j)(e.token),s.b.context(c))):t.instances.set(n.i(o.j)(e.token),c)});for(var e=function(e){var i=r._directives[e],a=r.instances.get(n.i(o.j)(n.i(c.c)(i.type)));i.queries.forEach(function(e){t._addQuery(e,a)})},r=this,a=0;a<this._directives.length;a++)e(a);Object.keys(this.referenceTokens).forEach(function(e){var r,i=t.referenceTokens[e];r=i?t.instances.get(n.i(o.j)(i)):t.renderNode,t.view.locals.set(e,r)})},e.prototype.afterChildren=function(t){var e=this;Array.from(this._resolvedProviders.values()).forEach(function(i){var a=e.instances.get(n.i(o.j)(i.token)),s=i.providerType===p.c.PrivateService?0:t;e.view.injectorGetMethod.addStmt(r(e.nodeIndex,s,i,a))})},e.prototype.finish=function(){var t=this;Array.from(this._queries.values()).forEach(function(e){return e.forEach(function(e){return e.generateStatements(t.view.createMethod,t.view.updateContentQueriesMethod)})})},e.prototype.addContentNode=function(t,e){this.contentNodesByNgContentIndex[t].push(e)},e.prototype.getComponent=function(){return n.i(u.c)(this.component)?this.instances.get(n.i(o.j)(n.i(c.c)(this.component.type))):null},e.prototype.getProviderTokens=function(){return Array.from(this._resolvedProviders.values()).map(function(t){return t.token})},e.prototype.getQueriesFor=function(t){for(var e,r=[],i=this,a=0;!i.isNull();)e=i._queries.get(n.i(o.j)(t)),n.i(u.c)(e)&&r.push.apply(r,e.filter(function(t){return t.meta.descendants||a<=1})),i._directives.length>0&&a++,i=i.parent;return e=this.view.componentView.viewQueries.get(n.i(o.j)(t)),n.i(u.c)(e)&&r.push.apply(r,e),r},e.prototype._addQuery=function(t,e){var r="_query_"+n.i(o.k)(t.selectors[0])+"_"+this.nodeIndex+"_"+this._queryCount++,i=n.i(d.a)(r,this.view),a=new d.b(t,i,e,this.view);return n.i(d.c)(this._queries,a),a},e.prototype._getLocalDependency=function(t,e){var r=null;if(n.i(u.c)(e.token)){if(!r&&n.i(o.j)(e.token)===n.i(c.e)(c.b.ChangeDetectorRef))return t===p.c.Component?this.compViewExpr.prop("ref"):n.i(v.c)(l.e.prop("ref"),this.view,this.view.componentView);if(!r){var i=this._resolvedProviders.get(n.i(o.j)(e.token));if(i&&(t===p.c.Directive||t===p.c.PublicService)&&i.providerType===p.c.PrivateService)return null;r=this.instances.get(n.i(o.j)(e.token))}}return r},e.prototype._getDependency=function(t,e){var r=this,i=null;for(e.isValue&&(i=l.f(e.value)),i||e.isSkipSelf||(i=this._getLocalDependency(t,e));!i&&!r.parent.isNull();)r=r.parent,i=r._getLocalDependency(p.c.PublicService,{token:e.token});return i||(i=n.i(v.b)(this.view,e.token,e.isOptional)),i||(i=l.b),n.i(v.c)(i,this.view,r.view)},e}(b)},function(t,e,n){"use strict";function r(t){return u.b.flatten(t.values.map(function(t){return t instanceof p?i(t.view.declarationElement.viewContainer,t.view,r(t)):t}))}function i(t,e,n){var r=n.map(function(t){return l.I(l.e.name,l.a("nestedView"),t)});return t.callMethod("mapNestedViews",[l.a(e.className),l.B([new l.o("nestedView",e.classType)],[new l.t(l.h(r))],l.m)])}function o(t,e){e.fields.push(new l.c(t,l.d(n.i(c.a)(c.b.QueryList),[l.m])));var r=l.e.prop(t);return e.createMethod.addStmt(l.e.prop(t).set(l.g(n.i(c.a)(c.b.QueryList),[l.m]).instantiate([])).toStmt()),r}function a(t,e){e.meta.selectors.forEach(function(r){var i=t.get(n.i(s.j)(r));i||(i=[],t.set(n.i(s.j)(r),i)),i.push(e)})}var s=n(13),u=n(72),c=n(16),l=n(9),h=n(76);n.d(e,"b",function(){return f}),e.a=o,e.c=a;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var p=function(){function t(t,e){this.view=t,this.values=e}return t}(),f=function(){function t(t,e,n,r){this.meta=t,this.queryList=e,this.ownerDirectiveExpression=n,this.view=r,this._values=new p(r,[])}return t.prototype.addValue=function(t,e){for(var r=e,i=[];r&&r!==this.view;){var o=r.declarationElement;i.unshift(o),r=o.view}var a=n.i(h.c)(this.queryList,e,this.view),s=this._values;i.forEach(function(t){var e=s.values.length>0?s.values[s.values.length-1]:null;if(e instanceof p&&e.view===t.embeddedView)s=e;else{var n=new p(t.embeddedView,[]);s.values.push(n),s=n}}),s.values.push(t),i.length>0&&e.dirtyParentQueriesMethod.addStmt(a.callMethod("setDirty",[]).toStmt())},t.prototype._isStatic=function(){return!this._values.values.some(function(t){return t instanceof p})},t.prototype.generateStatements=function(t,e){var n=r(this._values),i=[this.queryList.callMethod("reset",[l.h(n)]).toStmt()];if(this.ownerDirectiveExpression){var o=this.meta.first?this.queryList.prop("first"):this.queryList;i.push(this.ownerDirectiveExpression.prop(this.meta.propertyName).set(o).toStmt())}this.meta.first||i.push(this.queryList.callMethod("notifyOnChanges",[]).toStmt()),this.meta.first&&this._isStatic()?t.addStmts(i):e.addStmt(new l.u(this.queryList.prop("dirty"),i))},t}()},function(t,e,n){"use strict";function r(t,e){return e>0?u.n.EMBEDDED:t.isHost?u.n.HOST:u.n.COMPONENT}var i=n(13),o=n(106),a=n(6),s=n(9),u=n(14),c=n(219),l=n(529),h=n(330),p=n(76);n.d(e,"c",function(){return f}),n.d(e,"b",function(){return d}),n.d(e,"a",function(){return m});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var f={};f.Node=0,f.ViewContainer=1,f.NgContent=2,f[f.Node]="Node",f[f.ViewContainer]="ViewContainer",f[f.NgContent]="NgContent";var d=function(){function t(t,e,n){this.type=t,this.expr=e,this.ngContentIndex=n}return t}(),m=function(){function t(t,e,o,a,l,f,d,m,y){var v=this;this.component=t,this.genConfig=e,this.pipeMetas=o,this.styles=a,this.animations=l,this.viewIndex=f,this.declarationElement=d,this.templateVariableBindings=m,this.targetDependencies=y,this.viewChildren=[],this.nodes=[],this.rootNodes=[],this.lastRenderNode=s.b,this.viewContainers=[],this.methods=[],this.ctorStmts=[],this.fields=[],this.getters=[],this.disposables=[],this.purePipes=new Map,this.pipes=[],this.locals=new Map,this.literalArrayCount=0,this.literalMapCount=0,this.pipeCount=0,this.createMethod=new c.a(this),this.animationBindingsMethod=new c.a(this),this.injectorGetMethod=new c.a(this),this.updateContentQueriesMethod=new c.a(this),this.dirtyParentQueriesMethod=new c.a(this),this.updateViewQueriesMethod=new c.a(this),this.detectChangesInInputsMethod=new c.a(this),this.detectChangesRenderPropertiesMethod=new c.a(this),this.afterContentLifecycleCallbacksMethod=new c.a(this),this.afterViewLifecycleCallbacksMethod=new c.a(this),this.destroyMethod=new c.a(this),this.detachMethod=new c.a(this),this.viewType=r(t,f),this.className=n.i(p.a)(t,f),this.classType=s.P(s.a(this.className)),this.classExpr=s.a(this.className),this.viewType===u.n.COMPONENT||this.viewType===u.n.HOST?this.componentView=this:this.componentView=this.declarationElement.view.componentView,this.componentContext=n.i(p.c)(s.e.prop("context"),this,this.componentView);var g=new Map;if(this.viewType===u.n.COMPONENT){var b=s.e.prop("context");this.component.viewQueries.forEach(function(t,e){var r="_viewQuery_"+n.i(i.k)(t.selectors[0])+"_"+e,o=n.i(h.a)(r,v),a=new h.b(t,o,b,v);n.i(h.c)(g,a)})}this.viewQueries=g,m.forEach(function(t){v.locals.set(t[1],s.e.prop("context").prop(t[0]))}),this.declarationElement.isNull()||this.declarationElement.setEmbeddedView(this)}return t.prototype.callPipe=function(t,e,n){return l.a.call(this,t,[e].concat(n))},t.prototype.getLocal=function(t){if(t==o.d.event.name)return o.d.event;for(var e=this,r=e.locals.get(t);!r&&n.i(a.c)(e.declarationElement.view);)e=e.declarationElement.view,r=e.locals.get(t);return n.i(a.c)(r)?n.i(p.c)(r,this,e):null},t.prototype.finish=function(){var t=this;Array.from(this.viewQueries.values()).forEach(function(e){return e.forEach(function(e){return e.generateStatements(t.createMethod,t.updateViewQueriesMethod)})})},t}()},function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r="true",i="*",o="*",a="void"},function(t,e,n){"use strict";var r=n(7);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t){var e=this;this._players=t,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this.parentPlayer=null;var i=0,o=this._players.length;0==o?n.i(r.a)(function(){return e._onFinish()}):this._players.forEach(function(t){t.parentPlayer=e,t.onDone(function(){++i>=o&&e._onFinish()})})}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){n.i(r.b)(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this._players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this._players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this._players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this._players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._destroyed||(this._onFinish(),this._players.forEach(function(t){return t.destroy()}),this._destroyed=!0)},t.prototype.reset=function(){this._players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){this._players.forEach(function(e){e.setPosition(t)})},t.prototype.getPosition=function(){var t=0;return this._players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},Object.defineProperty(t.prototype,"players",{get:function(){return this._players},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(t,e){this.offset=t,this.styles=e}return t}()},function(t,e,n){"use strict";var r=n(90),i=n(170);n.d(e,"a",function(){return o});var o=function(){function t(t){this._zone=t,this.entries=[]}return t.prototype.enqueue=function(t){this.entries.push(t)},t.prototype.flush=function(){var t=this;this.entries.length&&this._zone.runOutsideAngular(function(){Promise.resolve(null).then(function(){return t._triggerAnimations()})})},t.prototype._triggerAnimations=function(){for(i.a.assertNotInAngularZone();this.entries.length;){var t=this.entries.shift();t.hasStarted()||t.play()}},t.decorators=[{type:r.a}],t.ctorParameters=function(){return[{type:i.a}]},t}()},function(t,e,n){"use strict";var r=n(7),i=n(221);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t){var e=this;this._players=t,this._currentIndex=0,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this.parentPlayer=null,this._players.forEach(function(t){t.parentPlayer=e}),this._onNext(!1)}return t.prototype._onNext=function(t){var e=this;if(!this._finished)if(0==this._players.length)this._activePlayer=new i.a,n.i(r.a)(function(){return e._onFinish()});else if(this._currentIndex>=this._players.length)this._activePlayer=new i.a,this._onFinish();else{var o=this._players[this._currentIndex++];o.onDone(function(){return e._onNext(!0)}),this._activePlayer=o,t&&o.play()}},t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){n.i(r.b)(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this._activePlayer.play()},t.prototype.pause=function(){this._activePlayer.pause()},t.prototype.restart=function(){this.reset(),this._players.length>0&&this._players[0].restart()},t.prototype.reset=function(){this._players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.finish=function(){this._onFinish(),this._players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._destroyed||(this._onFinish(),this._players.forEach(function(t){return t.destroy()}),this._destroyed=!0,this._activePlayer=new i.a)},t.prototype.setPosition=function(t){this._players[0].setPosition(t)},t.prototype.getPosition=function(){return this._players[0].getPosition()},Object.defineProperty(t.prototype,"players",{get:function(){return this._players},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(t){this.styles=t}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t){var e=t.fromState,n=t.toState,r=t.totalTime,i=t.phaseName;this.fromState=e,this.toState=n,this.totalTime=r,this.phaseName=i}return t}()},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=null);var r=e;if(!n.i(h.b)(r)){var i={};r=new _([i],1)}return new x(t,r)}function i(t){return new S(t)}function o(t){return new C(t)}function a(t){var e,r=null;return"string"==typeof t?e=[t]:(e=Array.isArray(t)?t:[t],e.forEach(function(t){var e=t.offset;n.i(h.b)(e)&&(r=null==r?parseFloat(e):r)})),new _(e,r)}function s(t,e){return new y(t,e)}function u(t){return new b(t)}function c(t,e){var n=Array.isArray(e)?new C(e):e;return new v(t,n)}function l(t,e){return new d(t,e)}var h=n(7);n.d(e,"a",function(){return f}),n.d(e,"g",function(){return d}),n.d(e,"h",function(){return m}),n.d(e,"i",function(){return y}),n.d(e,"j",function(){return v}),n.d(e,"k",function(){return g}),n.d(e,"l",function(){return b}),n.d(e,"m",function(){return _}),n.d(e,"n",function(){return x}),n.d(e,"o",function(){return w}),n.d(e,"p",function(){return C}),n.d(e,"q",function(){return S}),e.b=r,e.r=i,e.s=o,e.c=a,e.d=s,e.t=u,e.e=c,e.f=l;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var p=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},f="*",d=function(){function t(t,e){this.name=t,this.definitions=e}return t}(),m=function(){function t(){}return t}(),y=function(t){function e(e,n){t.call(this),this.stateNameExpr=e,this.styles=n}return p(e,t),e}(m),v=function(t){function e(e,n){t.call(this),this.stateChangeExpr=e,this.steps=n}return p(e,t),e}(m),g=function(){function t(){}return t}(),b=function(t){function e(e){t.call(this),this.steps=e}return p(e,t),e}(g),_=function(t){function e(e,n){void 0===n&&(n=null),t.call(this),this.styles=e,this.offset=n}return p(e,t),e}(g),x=function(t){function e(e,n){t.call(this),this.timings=e,this.styles=n}return p(e,t),e}(g),w=function(t){function e(){t.call(this)}return p(e,t),Object.defineProperty(e.prototype,"steps",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),e}(g),C=function(t){function e(e){t.call(this),this._steps=e}return p(e,t),Object.defineProperty(e.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),e}(w),S=function(t){function e(e){t.call(this),this._steps=e}return p(e,t),Object.defineProperty(e.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),e}(w)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.markForCheck=function(){},t.prototype.detach=function(){},t.prototype.detectChanges=function(){},t.prototype.checkNoChanges=function(){},t.prototype.reattach=function(){},t}()},function(t,e,n){"use strict";var r=n(7);n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||n.i(r.e)(t)},t.prototype.create=function(t){return new o},t}(),o=function(){function t(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||n.i(r.e)(t)))throw new Error("Error trying to diff '"+t+"'")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._records,r=this._mapHead,i=null,o=null,s=!1;return this._forEach(t,function(t,u){var c;r&&u===r.key?(c=r,e._maybeAddToChanges(c,t)):(s=!0,null!==r&&(e._removeFromSeq(i,r),e._addToRemovals(r)),n.has(u)?(c=n.get(u),e._maybeAddToChanges(c,t)):(c=new a(u),n.set(u,c),c.currentValue=t,e._addToAdditions(c))),s&&(e._isInRemovals(c)&&e._removeFromRemovals(c),null==o?e._mapHead=c:o._next=c),i=r,o=c,r=r&&r._next}),this._truncate(i,r),this.isDirty},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(t=this._previousMapHead=this._mapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},t.prototype._truncate=function(t,e){for(;null!==e;){null===t?this._mapHead=null:t._next=null;var n=e._next;this._addToRemovals(e),t=e,e=n}for(var r=this._removalsHead;null!==r;r=r._nextRemoved)r.previousValue=r.currentValue,r.currentValue=null,this._records.delete(r.key)},t.prototype._maybeAddToChanges=function(t,e){n.i(r.j)(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._isInRemovals=function(t){return t===this._removalsHead||null!==t._nextRemoved||null!==t._prevRemoved},t.prototype._addToRemovals=function(t){null===this._removalsHead?this._removalsHead=this._removalsTail=t:(this._removalsTail._nextRemoved=t,t._prevRemoved=this._removalsTail,this._removalsTail=t)},t.prototype._removeFromSeq=function(t,e){var n=e._next;null===t?this._mapHead=n:t._next=n,e._next=null},t.prototype._removeFromRemovals=function(t){var e=t._prevRemoved,n=t._nextRemoved;null===e?this._removalsHead=n:e._nextRemoved=n,null===n?this._removalsTail=e:n._prevRemoved=e,t._prevRemoved=t._nextRemoved=null},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype.toString=function(){var t,e=[],i=[],o=[],a=[],s=[];for(t=this._mapHead;null!==t;t=t._next)e.push(n.i(r.c)(t));for(t=this._previousMapHead;null!==t;t=t._nextPrevious)i.push(n.i(r.c)(t));for(t=this._changesHead;null!==t;t=t._nextChanged)o.push(n.i(r.c)(t));for(t=this._additionsHead;null!==t;t=t._nextAdded)a.push(n.i(r.c)(t));for(t=this._removalsHead;null!==t;t=t._nextRemoved)s.push(n.i(r.c)(t));return"map: "+e.join(", ")+"\nprevious: "+i.join(", ")+"\nadditions: "+a.join(", ")+"\nchanges: "+o.join(", ")+"\nremovals: "+s.join(", ")+"\n"},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),a=function(){function t(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return t.prototype.toString=function(){return n.i(r.j)(this.previousValue,this.currentValue)?n.i(r.c)(this.key):n.i(r.c)(this.key)+"["+n.i(r.c)(this.previousValue)+"->"+n.i(r.c)(this.currentValue)+"]"},t}()},function(t,e,n){"use strict";var r=n(36),i=n(7);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t){this.factories=t}return t.create=function(e,r){if(n.i(i.b)(r)){var o=r.factories.slice();return e=e.concat(o),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new r.c,new r.d]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(n.i(i.b)(e))return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+n.i(i.l)(t)+"'")},t}()},function(t,e,n){"use strict";var r=n(36),i=n(7);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t){this.factories=t}return t.create=function(e,r){if(n.i(i.b)(r)){var o=r.factories.slice();return e=e.concat(o),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new r.c,new r.d]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(n.i(i.b)(e))return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}()},function(t,e,n){"use strict";function r(t){return t.map(function(t){return t.nativeElement})}function i(t,e,n){t.childNodes.forEach(function(t){t instanceof p&&(e(t)&&n.push(t),i(t,e,n))})}function o(t,e,n){t instanceof p&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof p&&o(t,e,n)})}function a(t){return f.get(t)}function s(t){f.set(t.nativeNode,t)}function u(t){f.delete(t.nativeNode)}n.d(e,"f",function(){return l}),n.d(e,"d",function(){return h}),n.d(e,"a",function(){return p}),e.g=r,e.c=a,e.b=s,e.e=u;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l=function(){function t(t,e){this.name=t,this.callback=e}return t}(),h=function(){function t(t,e,n){this._debugInfo=n,this.nativeNode=t,e&&e instanceof p?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugInfo?this._debugInfo.injector:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugInfo?this._debugInfo.component:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugInfo?this._debugInfo.context:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugInfo?this._debugInfo.references:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugInfo?this._debugInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._debugInfo?this._debugInfo.source:null},enumerable:!0,configurable:!0}),t}(),p=function(t){function e(e,n,r){t.call(this,e,n,r),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}return c(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);e!==-1&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this.childNodes.indexOf(t);if(n!==-1){var r=this.childNodes.slice(0,n+1),i=this.childNodes.slice(n+1);this.childNodes=r.concat(e,i);for(var o=0;o<e.length;++o){var a=e[o];a.parent&&a.parent.removeChild(a),a.parent=this}}},e.prototype.query=function(t){var e=this.queryAll(t);return e[0]||null},e.prototype.queryAll=function(t){var e=[];return i(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return o(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(h),f=new Map},function(t,e,n){"use strict";function r(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}function i(t){if(t.length>1){var e=r(t.slice().reverse()),i=e.map(function(t){return n.i(a.c)(t.token)});return" ("+i.join(" -> ")+")"}return""}var o=n(164),a=n(7);n.d(e,"c",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"d",function(){return h}),n.d(e,"g",function(){return p}),n.d(e,"h",function(){return f}),n.d(e,"a",function(){return d}),n.d(e,"f",function(){return m});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=function(t){function e(e,n,r){t.call(this,"DI Error"),this.keys=[n],this.injectors=[e],this.constructResolvingMessage=r,this.message=this.constructResolvingMessage(this.keys)}return s(e,t),e.prototype.addKey=function(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)},e}(o.a),c=function(t){function e(e,r){t.call(this,e,r,function(t){var e=n.i(a.c)(t[0].token);return"No provider for "+e+"!"+i(t)})}return s(e,t),e}(u),l=function(t){function e(e,n){t.call(this,e,n,function(t){return"Cannot instantiate cyclic dependency!"+i(t)})}return s(e,t),e}(u),h=function(t){function e(e,n,r,i){t.call(this,"DI Error",n),this.keys=[i],this.injectors=[e]}return s(e,t),e.prototype.addKey=function(t,e){this.injectors.push(t),this.keys.push(e)},Object.defineProperty(e.prototype,"message",{get:function(){var t=n.i(a.c)(this.keys[0].token);return this.originalError.message+": Error during instantiation of "+t+"!"+i(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),e}(o.b),p=function(t){function e(e){t.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+e)}return s(e,t),e}(o.a),f=function(t){function e(n,r){t.call(this,e._genMessage(n,r))}return s(e,t),e._genMessage=function(t,e){for(var r=[],i=0,o=e.length;i<o;i++){var s=e[i];s&&0!=s.length?r.push(s.map(a.c).join(" ")):r.push("?")}return"Cannot resolve all parameters for '"+n.i(a.c)(t)+"'("+r.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+n.i(a.c)(t)+"' is decorated with Injectable."},e}(o.a),d=function(t){function e(e){t.call(this,"Index "+e+" is out-of-bounds.")}return s(e,t),e}(o.a),m=function(t){function e(e,n){t.call(this,"Cannot mix multi providers and regular providers, got: "+e.toString()+" "+n.toString())}return s(e,t),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(t){void 0===t&&(t=!0),this._console=console,this.rethrowError=t}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findOriginalStack(t),r=this._findContext(t);if(this._console.error("EXCEPTION: "+this._extractMessage(t)),e&&this._console.error("ORIGINAL EXCEPTION: "+this._extractMessage(e)),n&&(this._console.error("ORIGINAL STACKTRACE:"),this._console.error(n)),r&&(this._console.error("ERROR CONTEXT:"),this._console.error(r)),this.rethrowError)throw t},t.prototype._extractMessage=function(t){return t instanceof Error?t.message:t.toString()},t.prototype._findContext=function(t){return t?t.context?t.context:this._findContext(t.originalError):null},t.prototype._findOriginalError=function(t){for(var e=t.originalError;e&&e.originalError;)e=e.originalError;return e},t.prototype._findOriginalStack=function(t){if(!(t instanceof Error))return null;for(var e=t,n=e.stack;e instanceof Error&&e.originalError;)e=e.originalError,e instanceof Error&&e.stack&&(n=e.stack);return n},t}()},function(t,e,n){"use strict";var r=n(227);n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=new r.a("LocaleId"),o=new r.a("Translations"),a=new r.a("TranslationsFormat")},function(t,e,n){"use strict";var r=n(7),i=n(167);n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t,e,n){this.providerTokens=t,this.componentToken=e,this.refTokens=n}return t}(),a=function(){function t(t,e,n,r){this._view=t,this._nodeIndex=e,this._tplRow=n,this._tplCol=r}return Object.defineProperty(t.prototype,"_staticNodeInfo",{get:function(){return n.i(r.b)(this._nodeIndex)?this._view.staticNodeDebugInfos[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){var t=this._staticNodeInfo;return n.i(r.b)(t)&&n.i(r.b)(t.componentToken)?this.injector.get(t.componentToken):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){for(var t=this._view;n.i(r.b)(t.parentView)&&t.type!==i.a.COMPONENT;)t=t.parentView;return t.parentElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this._view.injector(this._nodeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return n.i(r.b)(this._nodeIndex)&&this._view.allNodes?this._view.allNodes[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=this._staticNodeInfo;return n.i(r.b)(t)?t.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._view.componentType.templateUrl+":"+this._tplRow+":"+this._tplCol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t=this,e={},i=this._staticNodeInfo;if(n.i(r.b)(i)){var o=i.refTokens;Object.keys(o).forEach(function(i){var a,s=o[i];a=n.i(r.k)(s)?t._view.allNodes?t._view.allNodes[t._nodeIndex]:null:t._view.injectorGet(s,t._nodeIndex,null),e[i]=a})}return e},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";var r=n(162),i=n(164);n.d(e,"a",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e,n){var i="Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";e===r.b&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),t.call(this,i)}return o(e,t),e}(i.a),s=function(t){function e(e,n){t.call(this,"Error in "+n.source,e),this.context=n}return o(e,t),e}(i.b),u=function(t){function e(e){t.call(this,"Attempt to use a destroyed view: "+e)}return o(e,t),e}(i.a)},function(t,e,n){"use strict";var r=n(115),i=n(7),o=n(165);n.d(e,"c",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(){function t(){}return t.prototype.injector=function(){},t.prototype.componentFactoryResolver=function(){},t.prototype.instance=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),u=function(){function t(t,e){this._injectorClass=t,this._moduleType=e}return Object.defineProperty(t.prototype,"moduleType",{get:function(){return this._moduleType},enumerable:!0,configurable:!0}),t.prototype.create=function(t){t||(t=r.b.NULL);var e=new this._injectorClass(t);return e.create(),e},t}(),c=new Object,l=function(t){function e(e,n,r){t.call(this,n,e.get(o.b,o.b.NULL)),this.parent=e,this.bootstrapFactories=r,this._destroyListeners=[],this._destroyed=!1}return a(e,t),e.prototype.create=function(){this.instance=this.createInternal()},e.prototype.createInternal=function(){},e.prototype.get=function(t,e){if(void 0===e&&(e=r.a),t===r.b||t===o.b)return this;var n=this.getInternal(t,c);return n===c?this.parent.get(t,e):n},e.prototype.getInternal=function(t,e){},Object.defineProperty(e.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+n.i(i.c)(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,this.destroyInternal(),this._destroyListeners.forEach(function(t){return t()})},e.prototype.onDestroy=function(t){this._destroyListeners.push(t)},e.prototype.destroyInternal=function(){},e}(o.a)},function(t,e,n){"use strict";function r(t,e){var n=a.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);a.set(t,e)}function i(t){var e=a.get(t);if(!e)throw new Error("No module with ID "+t+" loaded");return e}n.d(e,"b",function(){return o}),e.a=r,e.c=i;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(){}return t.prototype.load=function(t){},t}(),a=new Map},function(t,e,n){"use strict";var r=n(166);n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(){function t(){}return t.prototype.elementRef=function(){},t.prototype.createEmbeddedView=function(t){},t}(),a=function(t){function e(e,n,r){t.call(this),this._parentView=e,this._nodeIndex=n,this._nativeElement=r}return i(e,t),e.prototype.createEmbeddedView=function(t){var e=this._parentView.createEmbeddedViewInternal(this._nodeIndex);return e.create(t||{}),e.ref},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new r.a(this._nativeElement)},enumerable:!0,configurable:!0}),e}(o)},function(t,e,n){"use strict";var r=n(7),i=n(169);n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(){}return t.prototype.element=function(){},t.prototype.injector=function(){},t.prototype.parentInjector=function(){},t.prototype.clear=function(){},t.prototype.get=function(t){},t.prototype.length=function(){},t.prototype.createEmbeddedView=function(t,e,n){},t.prototype.createComponent=function(t,e,n,r){},t.prototype.insert=function(t,e){},t.prototype.move=function(t,e){},t.prototype.indexOf=function(t){},t.prototype.remove=function(t){},t.prototype.detach=function(t){},t}(),a=function(){function t(t){this._element=t,this._createComponentInContainerScope=n.i(i.a)("ViewContainerRef#createComponent()"),this._insertScope=n.i(i.a)("ViewContainerRef#insert()"),this._removeScope=n.i(i.a)("ViewContainerRef#remove()"),this._detachScope=n.i(i.a)("ViewContainerRef#detach()")}return t.prototype.get=function(t){return this._element.nestedViews[t].ref},Object.defineProperty(t.prototype,"length",{get:function(){var t=this._element.nestedViews;return n.i(r.b)(t)?t.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this._element.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){return this._element.parentInjector},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=-1);var r=t.createEmbeddedView(e);return this.insert(r,n),r},t.prototype.createComponent=function(t,e,r,o){void 0===e&&(e=-1),void 0===r&&(r=null),void 0===o&&(o=null);var a=this._createComponentInContainerScope(),s=r||this._element.parentInjector,u=t.create(s,o);return this.insert(u.hostView,e),n.i(i.b)(a,u)},t.prototype.insert=function(t,e){void 0===e&&(e=-1);var r=this._insertScope();e==-1&&(e=this.length);var o=t;return this._element.attachView(o.internalView,e),n.i(i.b)(r,o)},t.prototype.move=function(t,e){var r=this._insertScope();if(e!=-1){var o=t;return this._element.moveView(o.internalView,e),n.i(i.b)(r,o)}},t.prototype.indexOf=function(t){return this.length?this._element.nestedViews.indexOf(t.internalView):-1},t.prototype.remove=function(t){void 0===t&&(t=-1);var e=this._removeScope();t==-1&&(t=this.length-1);var r=this._element.detachView(t);r.destroy(),n.i(i.b)(e)},t.prototype.detach=function(t){void 0===t&&(t=-1);var e=this._detachScope();t==-1&&(t=this.length-1);var r=this._element.detachView(t);return n.i(i.b)(e,r.ref)},t.prototype.clear=function(){for(var t=this.length-1;t>=0;t--)this.remove(t)},t}()},function(t,e,n){"use strict";var r=n(340),i=n(163);n.d(e,"c",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.destroy=function(){},e.prototype.destroyed=function(){},e.prototype.onDestroy=function(t){},e}(r.a),s=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.context=function(){},e.prototype.rootNodes=function(){},e}(a),u=function(){function t(t,e){this._view=t,this.animationQueue=e,this._view=t,this._originalMode=this._view.cdMode}return Object.defineProperty(t.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){this._view.markPathToRootAsCheckOnce()},t.prototype.detach=function(){this._view.cdMode=i.b.Detached},t.prototype.detectChanges=function(){this._view.detectChanges(!1),this.animationQueue.flush()},t.prototype.checkNoChanges=function(){this._view.detectChanges(!0)},t.prototype.reattach=function(){this._view.cdMode=this._originalMode,this.markForCheck()},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._view.detachAndDestroy()},t}()},function(t,e,n){"use strict";var r=n(552);n.d(e,"j",function(){return r.b}),n.d(e,"c",function(){return r.a}),n.d(e,"k",function(){return r.c}),n.d(e,"l",function(){return r.d}),n.d(e,"m",function(){return r.e}),n.d(e,"n",function(){return r.f}),n.d(e,"o",function(){return r.g});var i=n(553);n.d(e,"g",function(){return i.d}),n.d(e,"d",function(){return i.b}),n.d(e,"h",function(){return i.e}),n.d(e,"i",function(){return i.f}),n.d(e,"e",function(){return i.c}),n.d(e,"p",function(){return i.g}),n.d(e,"b",function(){return i.a});var o=n(356);n.d(e,"q",function(){return o.c}),n.d(e,"r",function(){return o.d}),n.d(e,"s",function(){return o.e}),n.d(e,"t",function(){return o.f}),n.d(e,"u",function(){return o.g}),n.d(e,"v",function(){return o.h}),n.d(e,"w",function(){return o.i}),n.d(e,"x",function(){return o.j});var a=n(554);n.d(e,"y",function(){return a.b}),n.d(e,"z",function(){return a.c}),n.d(e,"a",function(){return a.a});var s=n(357);n.d(e,"f",function(){return s.b})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"h",function(){return o}),n.d(e,"j",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"i",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"f",function(){return h}),n.d(e,"e",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r={};r.OnInit=0,r.OnDestroy=1,r.DoCheck=2,r.OnChanges=3,r.AfterContentInit=4,r.AfterContentChecked=5,r.AfterViewInit=6,r.AfterViewChecked=7,r[r.OnInit]="OnInit",r[r.OnDestroy]="OnDestroy",r[r.DoCheck]="DoCheck",r[r.OnChanges]="OnChanges",r[r.AfterContentInit]="AfterContentInit",r[r.AfterContentChecked]="AfterContentChecked",r[r.AfterViewInit]="AfterViewInit",r[r.AfterViewChecked]="AfterViewChecked";var i=[r.OnInit,r.OnDestroy,r.DoCheck,r.OnChanges,r.AfterContentInit,r.AfterContentChecked,r.AfterViewInit,r.AfterViewChecked],o=function(){function t(){}return t.prototype.ngOnChanges=function(t){},t}(),a=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),s=function(){function t(){}return t.prototype.ngDoCheck=function(){},t}(),u=function(){function t(){}return t.prototype.ngOnDestroy=function(){},t}(),c=function(){function t(){}return t.prototype.ngAfterContentInit=function(){},t}(),l=function(){function t(){}return t.prototype.ngAfterContentChecked=function(){},t}(),h=function(){function t(){}return t.prototype.ngAfterViewInit=function(){},t}(),p=function(){function t(){}return t.prototype.ngAfterViewChecked=function(){},t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r={};r.Emulated=0,r.Native=1,r.None=2,r[r.Emulated]="Emulated",r[r.Native]="Native",r[r.None]="None";var i=function(){function t(t){var e=void 0===t?{}:t,n=e.templateUrl,r=e.template,i=e.encapsulation,o=e.styles,a=e.styleUrls,s=e.animations,u=e.interpolation;this.templateUrl=n,this.template=r,this.styleUrls=a,this.styles=o,this.encapsulation=i,this.animations=s,this.interpolation=u}return t}()},function(t,e,n){"use strict";function r(t){return t?t.map(function(t){var e=t.type,n=e.annotationCls,r=t.args?t.args:[];return new(n.bind.apply(n,[void 0].concat(r)))}):[]}function i(t){var e=Object.getPrototypeOf(t.prototype),n=e?e.constructor:null;return n||Object}var o=n(7),a=n(236);n.d(e,"a",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=/^function\s+\S+\(\)\s*{\s*("use strict";)?\s*(return\s+)?\S+\.apply\(this,\s*arguments\)/,u=function(){function t(t){this._reflect=t||o.d.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var r;r="undefined"==typeof t?new Array(e.length):new Array(t.length);for(var i=0;i<r.length;i++)"undefined"==typeof t?r[i]=[]:t[i]!=Object?r[i]=[t[i]]:r[i]=[],e&&n.i(o.b)(e[i])&&(r[i]=r[i].concat(e[i]));return r},t.prototype._ownParameters=function(t,e){if(s.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var i=t.ctorParameters;if(i&&i!==e.ctorParameters){var a="function"==typeof i?i():i,u=a.map(function(t){return t&&t.type}),c=a.map(function(t){return t&&r(t.decorators)});return this._zipTypesAndAnnotations(u,c)}if(n.i(o.b)(this._reflect)&&n.i(o.b)(this._reflect.getOwnMetadata)){var c=this._reflect.getOwnMetadata("parameters",t),u=this._reflect.getOwnMetadata("design:paramtypes",t);if(u||c)return this._zipTypesAndAnnotations(u,c)}return new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!n.i(a.b)(t))return[];var e=i(t),r=this._ownParameters(t,e);return r||e===Object||(r=this.parameters(e)),r||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?r(t.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",t):void 0},t.prototype.annotations=function(t){if(!n.i(a.b)(t))return[];var e=i(t),r=this._ownAnnotations(t,e)||[],o=e!==Object?this.annotations(e):[];return o.concat(r)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var i=t.propDecorators,o={};return Object.keys(i).forEach(function(t){o[t]=r(i[t])}),o}if(this._reflect&&this._reflect.getOwnMetadata)return this._reflect.getOwnMetadata("propMetadata",t)},t.prototype.propMetadata=function(t){if(!n.i(a.b)(t))return{};var e=i(t),r={};if(e!==Object){var o=this.propMetadata(e);Object.keys(o).forEach(function(t){r[t]=o[t]})}var s=this._ownPropMetadata(t,e);return s&&Object.keys(s).forEach(function(t){var e=[];r.hasOwnProperty(t)&&e.push.apply(e,r[t]),e.push.apply(e,s[t]),r[t]=e}),r},t.prototype.hasLifecycleHook=function(t,e){return t instanceof a.a&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+n.i(o.c)(t)},t.prototype.resolveIdentifier=function(t,e,n){return n},t.prototype.resolveEnum=function(t,e){return t[e]},t}()},function(t,e,n){"use strict";var r=n(233);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e){t.call(this),this.reflectionCapabilities=e}return i(e,t),e.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},e.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},e.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},e.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},e.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},e.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},e.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},e.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},e.prototype.method=function(t){return this.reflectionCapabilities.method(t)},e.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},e.prototype.resolveIdentifier=function(t,e,n){return this.reflectionCapabilities.resolveIdentifier(t,e,n)},e.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},e}(r.a)},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var r={};r.NONE=0,r.HTML=1,r.STYLE=2,r.SCRIPT=3,r.URL=4,r.RESOURCE_URL=5,r[r.NONE]="NONE",r[r.HTML]="HTML",r[r.STYLE]="STYLE",r[r.SCRIPT]="SCRIPT",r[r.URL]="URL",r[r.RESOURCE_URL]="RESOURCE_URL";var i=function(){function t(){}return t.prototype.sanitize=function(t,e){},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(){function t(t){this.full=t}return Object.defineProperty(t.prototype,"major",{get:function(){return this.full.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minor",{get:function(){return this.full.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patch",{get:function(){return this.full.split(".").slice(2).join(".")},enumerable:!0,configurable:!0}),t}(),i=new r("2.4.7")},function(t,e,n){"use strict";n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; let i=index">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '}},function(t,e,n){"use strict";var r=n(362);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+r.a.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+r.a.ngModelWithFormGroup)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+r.a.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+r.a.ngModelGroup)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+r.a.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+r.a.ngModelGroup)},t}()},function(t,e,n){"use strict";var r=n(0),i=n(46);n.d(e,"a",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return m});var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a={provide:i.b,useExisting:n.i(r.forwardRef)(function(){return u}),multi:!0},s={provide:i.b,useExisting:n.i(r.forwardRef)(function(){return c}),multi:!0},u=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&t!==!1&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?i.a.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.decorators=[{type:r.Directive,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[a],host:{"[attr.required]":'required ? "" : null'}}]}],t.ctorParameters=function(){return[]},t.propDecorators={required:[{type:r.Input}]},t}(),c=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.validate=function(t){return this.required?i.a.requiredTrue(t):null},e.decorators=[{type:r.Directive,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[s],host:{"[attr.required]":'required ? "" : null'}}]}],e.ctorParameters=function(){return[]},e}(u),l={provide:i.b,useExisting:n.i(r.forwardRef)(function(){return h}),multi:!0},h=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=i.a.minLength(parseInt(this.minlength,10))},t.decorators=[{type:r.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[l],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],t.ctorParameters=function(){return[]},t.propDecorators={minlength:[{type:r.Input}]},t}(),p={provide:i.b,useExisting:n.i(r.forwardRef)(function(){return f}),multi:!0},f=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=i.a.maxLength(parseInt(this.maxlength,10))},t.decorators=[{type:r.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[p],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],t.ctorParameters=function(){return[]},t.propDecorators={maxlength:[{type:r.Input}]},t}(),d={provide:i.b,useExisting:n.i(r.forwardRef)(function(){return m}),multi:!0},m=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=i.a.pattern(this.pattern)},t.decorators=[{type:r.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[d],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],t.ctorParameters=function(){return[]},t.propDecorators={pattern:[{type:r.Input}]},t}()},function(t,e,n){"use strict";n(93);n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(){}return t.merge=function(t,e){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=t[o]}for(var a=0,s=Object.keys(e);a<s.length;a++){var o=s[a];n[o]=e[o]}return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!==e[o])return!1}return!0},t}(),i=function(){function t(){}return t.findLast=function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);r>-1&&t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.flatten=function(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t.flatten(n):n;return e.concat(r)},[])},t}()},function(t,e,n){"use strict";var r=n(0),i=n(93),o=n(177);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var r=this._reduceControls(t),a=n.i(i.a)(e)?e.validator:null,s=n.i(i.a)(e)?e.asyncValidator:null;return new o.a(r,a,s)},t.prototype.control=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),new o.b(t,e,n)},t.prototype.array=function(t,e,n){var r=this;void 0===e&&(e=null),void 0===n&&(n=null);var i=t.map(function(t){return r._createControl(t)});return new o.c(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){if(t instanceof o.b||t instanceof o.a||t instanceof o.c)return t;if(Array.isArray(t)){var e=t[0],n=t.length>1?t[1]:null,r=t.length>2?t[2]:null;return this.control(e,n,r)}return this.control(t)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=r.__core_private__.isPromise,o=r.__core_private__.isObservable},function(t,e,n){"use strict";function r(){var t="object"==typeof window?window:{};return null===s&&(s=t[a]={}),s}var i=n(0);n.d(e,"a",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=0,a="__ng_jsonp__",s=null,u=function(){function t(){}return t.prototype.build=function(t){var e=document.createElement("script");return e.src=t,e},t.prototype.nextRequestID=function(){return"__req"+o++},t.prototype.requestCallback=function(t){return""+a+t+"_finished"},t.prototype.exposeConnection=function(t,e){var n=r();n[t]=e},t.prototype.removeConnection=function(t){var e=r();e[t]=null},t.prototype.send=function(t){document.body.appendChild(t)},t.prototype.cleanup=function(t){t.parentNode&&t.parentNode.removeChild(t)},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(1),o=(n.n(i),n(178)),a=n(67),s=n(125),u=n(247),c=n(368);n.d(e,"a",function(){return m}),n.d(e,"b",function(){return y});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},h="JSONP injected script did not invoke callback.",p="JSONP requests must use GET request method.",f=function(){function t(){}return t.prototype.finished=function(t){},t}(),d=function(t){function e(e,n,r){var s=this;if(t.call(this),this._dom=n,this.baseResponseOptions=r,this._finished=!1,e.method!==a.a.Get)throw new TypeError(p);this.request=e,this.response=new i.Observable(function(t){s.readyState=a.c.Loading;var i=s._id=n.nextRequestID();n.exposeConnection(i,s);var c=n.requestCallback(s._id),l=e.url;l.indexOf("=JSONP_CALLBACK&")>-1?l=l.replace("=JSONP_CALLBACK&","="+c+"&"):l.lastIndexOf("=JSONP_CALLBACK")===l.length-"=JSONP_CALLBACK".length&&(l=l.substring(0,l.length-"=JSONP_CALLBACK".length)+("="+c));var p=s._script=n.build(l),f=function(e){if(s.readyState!==a.c.Cancelled){if(s.readyState=a.c.Done,n.cleanup(p),!s._finished){var i=new o.a({body:h,type:a.d.Error,url:l});return r&&(i=r.merge(i)),void t.error(new u.a(i))}var c=new o.a({body:s._responseData,url:l});s.baseResponseOptions&&(c=s.baseResponseOptions.merge(c)),t.next(new u.a(c)),t.complete()}},d=function(e){if(s.readyState!==a.c.Cancelled){s.readyState=a.c.Done,n.cleanup(p);var i=new o.a({body:e.message,type:a.d.Error});r&&(i=r.merge(i)),t.error(new u.a(i))}};return p.addEventListener("load",f),p.addEventListener("error",d),n.send(p),function(){s.readyState=a.c.Cancelled,p.removeEventListener("load",f),p.removeEventListener("error",d),s._dom.cleanup(p)}})}return l(e,t),e.prototype.finished=function(t){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==a.c.Cancelled&&(this._responseData=t)},e}(f),m=function(t){function e(){t.apply(this,arguments)}return l(e,t),e}(s.b),y=function(t){function e(e,n){t.call(this),this._browserJSONP=e,this._baseResponseOptions=n}return l(e,t),e.prototype.createConnection=function(t){return new d(t,this._browserJSONP,this._baseResponseOptions)},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:c.a},{type:o.a}]},e}(m)},function(t,e,n){"use strict";var r=n(0),i=n(78),o=n(1),a=(n.n(o),n(178)),s=n(67),u=n(124),c=n(179),l=n(125),h=n(247),p=n(245);n.d(e,"a",function(){return m}),n.d(e,"b",function(){return y});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var f=/^\)\]\}',?\n/,d=function(){function t(t,e,r){var i=this;this.request=t,this.response=new o.Observable(function(o){var l=e.build();l.open(s.a[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(l.withCredentials=t.withCredentials);var p=function(){var e=1223===l.status?204:l.status,i=null;204!==e&&(i="undefined"==typeof l.response?l.responseText:l.response,"string"==typeof i&&(i=i.replace(f,""))),0===e&&(e=i?200:0);var s=u.a.fromResponseHeaderString(l.getAllResponseHeaders()),p=n.i(c.c)(l)||t.url,d=l.statusText||"OK",m=new a.a({body:i,status:e,headers:s,statusText:d,url:p});null!=r&&(m=r.merge(m));var y=new h.a(m);return y.ok=n.i(c.d)(e),y.ok?(o.next(y),void o.complete()):void o.error(y)},d=function(t){var e=new a.a({body:t,type:s.d.Error,status:l.status,statusText:l.statusText});null!=r&&(e=r.merge(e)),o.error(new h.a(e))};if(i.setDetectedContentType(t,l),null==t.headers&&(t.headers=new u.a),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return l.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=l.responseType)switch(t.responseType){case s.e.ArrayBuffer:l.responseType="arraybuffer";break;case s.e.Json:l.responseType="json";break;case s.e.Text:l.responseType="text";break;case s.e.Blob:l.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return l.addEventListener("load",p),l.addEventListener("error",d),l.send(i.request.getBody()),function(){l.removeEventListener("load",p),l.removeEventListener("error",d),l.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case s.b.NONE:break;case s.b.JSON:e.setRequestHeader("content-type","application/json");break;case s.b.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case s.b.TEXT:e.setRequestHeader("content-type","text/plain");break;case s.b.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),m=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=i.__platform_browser_private__.getDOM().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),y=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new d(t,this._browserXHR,this._baseResponseOptions)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:p.a},{type:a.a},{type:l.a}]},t}()},function(t,e,n){"use strict";var r=n(179),i=n(180);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(){return this._body instanceof i.a?this._body.toString():this._body instanceof ArrayBuffer?String.fromCharCode.apply(null,new Uint16Array(this._body)):null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:n.i(r.a)(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}()},function(t,e,n){"use strict";function r(t,e){return t.createConnection(e).response}function i(t,e,n,r){var i=t;return e?i.merge(new a.a({method:e.method||n,url:e.url||r,search:e.search,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType})):i.merge(new a.a({method:n,url:r}))}var o=n(0),a=n(246),s=n(67),u=n(125),c=n(373);n.d(e,"a",function(){return h}),n.d(e,"b",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},h=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=r(this._backend,new c.a(i(this._defaultOptions,e,s.a.Get,t)));else{if(!(t instanceof c.a))throw new Error("First argument must be a url string or Request instance.");n=r(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new c.a(i(this._defaultOptions,e,s.a.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new c.a(i(this._defaultOptions.merge(new a.a({body:e})),n,s.a.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new c.a(i(this._defaultOptions.merge(new a.a({body:e})),n,s.a.Put,t)))},t.prototype.delete=function(t,e){return this.request(new c.a(i(this._defaultOptions,e,s.a.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new c.a(i(this._defaultOptions.merge(new a.a({body:e})),n,s.a.Patch,t)))},t.prototype.head=function(t,e){return this.request(new c.a(i(this._defaultOptions,e,s.a.Head,t)))},t.prototype.options=function(t,e){return this.request(new c.a(i(this._defaultOptions,e,s.a.Options,t)))},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:u.b},{type:a.a}]},t}(),p=function(t){function e(e,n){t.call(this,e,n)}return l(e,t),e.prototype.request=function(t,e){var n;if("string"==typeof t&&(t=new c.a(i(this._defaultOptions,e,s.a.Get,t))),!(t instanceof c.a))throw new Error("First argument must be a url string or Request instance.");if(t.method!==s.a.Get)throw new Error("JSONP requests must use GET request method.");return n=r(this._backend,t)},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:u.b},{type:a.a}]},e}(h)},function(t,e,n){"use strict";var r=n(371),i=n(67),o=n(124),a=n(179),s=n(180);n.d(e,"a",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=function(t){function e(e){t.call(this);var r=e.url;if(this.url=e.url,e.search){var i=e.search.toString();if(i.length>0){var s="?";this.url.indexOf("?")!=-1&&(s="&"==this.url[this.url.length-1]?"":"&"),this.url=r+s+i}}this._body=e.body,this.method=n.i(a.b)(e.method),this.headers=new o.a(e.headers),this.contentType=this.detectContentType(),this.withCredentials=e.withCredentials,this.responseType=e.responseType}return u(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return i.b.JSON;case"application/x-www-form-urlencoded":return i.b.FORM;case"multipart/form-data":return i.b.FORM_DATA;case"text/plain":case"text/html":return i.b.TEXT;case"application/octet-stream":return this._body instanceof d?i.b.ARRAY_BUFFER:i.b.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?i.b.NONE:this._body instanceof s.a?i.b.FORM:this._body instanceof p?i.b.FORM_DATA:this._body instanceof f?i.b.BLOB:this._body instanceof d?i.b.ARRAY_BUFFER:this._body&&"object"==typeof this._body?i.b.JSON:i.b.TEXT},e.prototype.getBody=function(){switch(this.contentType){case i.b.JSON:return this.text();case i.b.FORM:return this.text();case i.b.FORM_DATA:return this._body;case i.b.TEXT:return this.text();case i.b.BLOB:return this.blob();case i.b.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(r.a),l=function(){},h="object"==typeof window?window:l,p=h.FormData||l,f=h.Blob||l,d=h.ArrayBuffer||l},function(t,e,n){"use strict";var r=n(148),i=n(0),o=n(573),a=n(375);n.d(e,"a",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=[o.a,{provide:i.COMPILER_OPTIONS,useValue:{providers:[{provide:r.a,useClass:a.a}]},multi:!0}]},function(t,e,n){"use strict";var r=n(148),i=n(0);n.d(e,"a",function(){return a});var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.get=function(t){var e,n,r=new Promise(function(t,r){e=t,n=r}),i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="text",i.onload=function(){var r=i.response||i.responseText,o=1223===i.status?204:i.status;0===o&&(o=r?200:0),200<=o&&o<=300?e(r):n("Failed to load "+t)},i.onerror=function(){n("Failed to load "+t)},i.send(),r},e.decorators=[{type:i.Injectable}],e.ctorParameters=function(){return[]},e}(r.a)},function(t,e,n){"use strict";function r(){h.a.makeCurrent(),f.a.init()}function i(){return new u.ErrorHandler}function o(){return n.i(y.b)().defaultDoc()}function a(){return n.i(y.b)().supportsWebAnimation()?new l.a:c.a.NOOP}var s=n(87),u=n(0),c=n(248),l=n(383),h=n(377),p=n(378),f=n(379),d=n(380),m=n(249),y=n(21),v=n(250),g=n(181),b=n(381),_=n(94),x=n(251),w=n(382),C=n(252),S=n(384);n.d(e,"c",function(){return E}),n.d(e,"d",function(){return T}),n.d(e,"e",function(){return M}),e.b=r,n.d(e,"a",function(){return A});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var E=[{provide:u.PLATFORM_INITIALIZER,useValue:r,multi:!0},{provide:s.PlatformLocation,useClass:p.a}],T=[{provide:u.Sanitizer,useExisting:S.a},{provide:S.a,useClass:S.b}],M=n.i(u.createPlatformFactory)(u.platformCore,"browser",E),A=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.decorators=[{type:u.NgModule,args:[{providers:[T,{provide:u.ErrorHandler,useFactory:i,deps:[]},{provide:g.a,useFactory:o,deps:[]},{provide:_.a,useClass:b.a,multi:!0},{provide:_.a,useClass:w.a,multi:!0},{provide:_.a,useClass:x.a,multi:!0},{provide:x.b,useClass:x.c},{provide:v.b,useClass:v.a},{provide:u.RootRenderer,useExisting:v.b},{provide:C.b,useExisting:C.a},{provide:c.a,useFactory:a},C.a,u.Testability,_.b,m.a,d.a],exports:[s.CommonModule,u.ApplicationModule]}]}],t.ctorParameters=function(){return[{type:t,decorators:[{type:u.Optional},{type:u.SkipSelf}]}]},t}()},function(t,e,n){"use strict";function r(){return y||(y=document.querySelector("base"))?y.getAttribute("href"):null}function i(t){return c||(c=document.createElement("a")),c.setAttribute("href",t),"/"===c.pathname.charAt(0)?c.pathname:"/"+c.pathname}function o(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),a=o==-1?[i,""]:[i.slice(0,o),i.slice(o+1)],s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}return null}var a=n(21),s=n(47),u=n(576);n.d(e,"a",function(){return m});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c,l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},h={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},p=3,f={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},d={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},m=function(t){function e(){t.apply(this,arguments)}return l(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){n.i(a.c)(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){(r=t)[e].apply(r,n);var r},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return h},enumerable:!0,configurable:!0}),e.prototype.query=function(t){return document.querySelector(t)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=document.createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||n.i(s.a)(t.returnValue)&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&t instanceof HTMLTemplateElement?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e){t.parentNode.insertBefore(e,t)},e.prototype.insertAllBefore=function(t,e){e.forEach(function(e){return t.parentNode.insertBefore(e,t)})},e.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return document.createComment(t)},e.prototype.createTemplate=function(t){var e=document.createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return void 0===e&&(e=document),e.createElement(t)},e.prototype.createElementNS=function(t,e,n){return void 0===n&&(n=document),n.createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return void 0===e&&(e=document),e.createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){void 0===n&&(n=document);var r=n.createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){void 0===e&&(e=document);var n=e.createElement("style");return this.appendChild(n,this.createTextNode(t)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){void 0===n&&(n=null);var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n[r];e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.defaultDoc=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(){return document.title},e.prototype.setTitle=function(t){document.title=t||""},e.prototype.elementMatches=function(t,e){return t instanceof HTMLElement&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return t instanceof HTMLElement&&"TEMPLATE"==t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return n.i(s.a)(t.shadowRoot)&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.href},e.prototype.getEventKey=function(t){var e=t.key;if(n.i(s.f)(e)){if(e=t.keyIdentifier,n.i(s.f)(e))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===p&&d.hasOwnProperty(e)&&(e=d[e]))}return f[e]||e},e.prototype.getGlobalEventTarget=function(t){return"window"===t?window:"document"===t?document:"body"===t?document.body:void 0},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(){var t=r();return n.i(s.f)(t)?null:i(t)},e.prototype.resetBaseElement=function(){y=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.setGlobalVar=function(t,e){n.i(s.g)(s.e,t,e)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return o(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(u.a),y=null},function(t,e,n){"use strict";var r=n(87),i=n(0),o=n(21),a=n(577);n.d(e,"a",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=function(t){function e(){t.call(this),this._init()}return s(e,t),e.prototype._init=function(){this._location=n.i(o.b)().getLocation(),this._history=n.i(o.b)().getHistory()},Object.defineProperty(e.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return n.i(o.b)().getBaseHref()},e.prototype.onPopState=function(t){n.i(o.b)().getGlobalEventTarget("window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){n.i(o.b)().getGlobalEventTarget("window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this._location.pathname},set:function(t){this._location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,r){n.i(a.a)()?this._history.pushState(t,e,r):this._location.hash=r},e.prototype.replaceState=function(t,e,r){n.i(a.a)()?this._history.replaceState(t,e,r):this._location.hash=r},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.decorators=[{type:i.Injectable}],e.ctorParameters=function(){return[]},e}(r.PlatformLocation)},function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(47);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(){}return t.init=function(){n.i(r.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){o.e.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},o.e.getAllAngularTestabilities=function(){return t.getAllTestabilities()},o.e.getAllAngularRootElements=function(){return t.getAllRootElements()};var e=function(t){var e=o.e.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})};o.e.frameworkStabilizers||(o.e.frameworkStabilizers=[]),o.e.frameworkStabilizers.push(e)},t.prototype.findTestabilityInTree=function(t,e,r){if(null==e)return null;var a=t.getTestability(e);return n.i(o.a)(a)?a:r?n.i(i.b)().isShadowRoot(e)?this.findTestabilityInTree(t,n.i(i.b)().getHost(e),!0):this.findTestabilityInTree(t,n.i(i.b)().parentElement(e),!0):null},t}()},function(t,e,n){"use strict";var r=n(21);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(){}return t.prototype.getTitle=function(){return n.i(r.b)().getTitle()},t.prototype.setTitle=function(t){n.i(r.b)().setTitle(t)},t}()},function(t,e,n){"use strict";var r=n(0),i=n(94);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){return t.addEventListener(e,n,!1),function(){return t.removeEventListener(e,n,!1)}},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]},e}(i.c)},function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(94);n.d(e,"a",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=["alt","control","meta","shift"],u={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},c=function(t){function e(){t.call(this)}return a(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,r,o){var a=e.parseEventName(r),s=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return n.i(i.b)().onAndCancel(t,a.domEventName,s)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(s.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",r=n.i(i.b)().getEventKey(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),s.forEach(function(n){if(n!=r){var i=u[n];i(t)&&(e+=n+".")}}),e+=r},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]},e}(o.c)},function(t,e,n){"use strict";function r(t,e){var r={};return t.styles.forEach(function(t){Object.keys(t).forEach(function(e){r[e]=t[e]})}),Object.keys(e).forEach(function(t){n.i(o.a)(r[t])||(r[t]=e[t])}),r}function i(t){return t instanceof a.a}var o=n(47),a=n(581);n.d(e,"a",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=function(){function t(){}return t.prototype.animate=function(t,e,s,u,c,l,h){void 0===h&&(h=[]);var p=[],f={};if(n.i(o.a)(e)&&(f=r(e,{})),s.forEach(function(t){var e=r(t.styles,f);e.offset=Math.max(0,Math.min(1,t.offset)),p.push(e)}),0==p.length)p=[f,f];else if(1==p.length){var d=f,m=p[0];m.offset=null,p=[d,m]}var y={duration:u,delay:c,fill:"both"};return l&&(y.easing=l),h=h.filter(i),new a.a(t,p,y,h)},t}()},function(t,e,n){"use strict";var r=n(0),i=n(586),o=n(587),a=n(254);n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=function(){function t(){}return t.prototype.sanitize=function(t,e){},t.prototype.bypassSecurityTrustHtml=function(t){},t.prototype.bypassSecurityTrustStyle=function(t){},t.prototype.bypassSecurityTrustScript=function(t){},t.prototype.bypassSecurityTrustUrl=function(t){},t.prototype.bypassSecurityTrustResourceUrl=function(t){},t}(),c=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case r.SecurityContext.NONE:return e;case r.SecurityContext.HTML:return e instanceof h?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),n.i(i.a)(String(e)));case r.SecurityContext.STYLE:return e instanceof p?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),n.i(o.a)(e));case r.SecurityContext.SCRIPT:if(e instanceof f)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.SecurityContext.URL:return e instanceof m||e instanceof d?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),n.i(a.a)(String(e)));case r.SecurityContext.RESOURCE_URL:if(e instanceof m)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof l)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new h(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new p(t)},e.prototype.bypassSecurityTrustScript=function(t){return new f(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new d(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new m(t)},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]},e}(u),l=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.getTypeName=function(){},t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),h=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(l),p=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.getTypeName=function(){return"Style"},e}(l),f=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.getTypeName=function(){return"Script"},e}(l),d=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.getTypeName=function(){return"URL"},e}(l),m=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(l)},function(t,e,n){"use strict";var r=n(0),i=n(126),o=n(255);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(t,e,n,r){var o=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.active=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof i.b&&o.update()})}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var e=this.hasActiveLinks();this.active!==e&&(this.active=e,this.classes.forEach(function(n){return t.renderer.setElementClass(t.element.nativeElement,n,e)}),this.cdr.detectChanges())}},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t.decorators=[{type:r.Directive,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],t.ctorParameters=function(){return[{type:i.e},{type:r.ElementRef},{type:r.Renderer},{type:r.ChangeDetectorRef}]},t.propDecorators={links:[{type:r.ContentChildren,args:[o.a,{descendants:!0}]}],linksWithHrefs:[{type:r.ContentChildren,args:[o.b,{descendants:!0}]}],routerLinkActiveOptions:[{type:r.Input}],routerLinkActive:[{type:r.Input}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(182),o=n(48);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(t,e,n,i){this.parentOutletMap=t,this.location=e,this.resolver=n,this.name=i,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,t.registerOutlet(i?i:o.a,this)}return t.prototype.ngOnDestroy=function(){this.parentOutletMap.removeOutlet(this.name?this.name:o.a)},Object.defineProperty(t.prototype,"locationInjector",{get:function(){return this.location.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationFactoryResolver",{get:function(){return this.resolver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activate=function(t,e,n,i,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this.outletMap=o,this._activatedRoute=t;var a=t._futureSnapshot,s=a._routeConfig.component,u=e.resolveComponentFactory(s),c=r.ReflectiveInjector.fromResolvedProviders(i,n);this.activated=this.location.createComponent(u,this.location.length,c,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},t.decorators=[{type:r.Directive,args:[{selector:"router-outlet"}]}],t.ctorParameters=function(){return[{type:i.a},{type:r.ViewContainerRef},{type:r.ComponentFactoryResolver},{type:void 0,decorators:[{type:r.Attribute,args:["name"]}]}]},t.propDecorators={activateEvents:[{type:r.Output,args:["activate"]}],deactivateEvents:[{type:r.Output,args:["deactivate"]}]},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(){}return t.prototype.shouldDetach=function(t){},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){},t.prototype.retrieve=function(t){},t.prototype.shouldReuseRoute=function(t,e){},t}()},function(t,e,n){"use strict";function r(){return new p.NgProbeToken("Router",g.e)}function i(t,e,n){return void 0===n&&(n={}),n.useHash?new h.HashLocationStrategy(t,e):new h.PathLocationStrategy(t,e)}function o(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function a(t){return[{provide:p.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:b.a,multi:!0,useValue:t}]}function s(t,e,r,i,o,a,s,u,c,l,h){void 0===c&&(c={});var p=new g.e(null,e,r,i,o,a,s,n.i(E.a)(u));if(l&&(p.urlHandlingStrategy=l),h&&(p.routeReuseStrategy=h),c.errorHandler&&(p.errorHandler=c.errorHandler),c.enableTracing){var f=n.i(y.a)();p.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return p}function u(t){return t.routerState.root}function c(t,e,n,r){return function(i){i===e.components[0]&&(t.resetRootComponentType(e.componentTypes[0]),n.setUpPreloading(),r.initialNavigation===!1?t.setUpLocationChangeListener():t.initialNavigation())}}function l(){return[{provide:R,useFactory:c,deps:[g.e,p.ApplicationRef,x.d,M]},{provide:p.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:R}]}var h=n(87),p=n(0),f=n(255),d=n(385),m=n(386),y=n(596),v=n(387),g=n(126),b=n(127),_=n(182),x=n(389),w=n(96),C=n(256),S=n(79),E=n(53);n.d(e,"a",function(){return M}),n.d(e,"e",function(){return P}),n.d(e,"c",function(){return k}),e.d=a,n.d(e,"b",function(){return R});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var T=[m.a,f.a,f.b,d.a],M=new p.OpaqueToken("ROUTER_CONFIGURATION"),A=new p.OpaqueToken("ROUTER_FORROOT_GUARD"),P=[h.Location,{provide:S.d,useClass:S.a},{provide:g.e,useFactory:s,deps:[p.ApplicationRef,S.d,_.a,h.Location,p.Injector,p.NgModuleFactoryLoader,p.Compiler,b.a,M,[C.a,new p.Optional],[v.a,new p.Optional]]},_.a,{provide:w.a,useFactory:u,deps:[g.e]},{provide:p.NgModuleFactoryLoader,useClass:p.SystemJsNgModuleLoader},x.d,x.a,x.b,{provide:M,useValue:{enableTracing:!1}}],k=function(){function t(t){}return t.forRoot=function(e,n){return{ngModule:t,providers:[P,a(e),{provide:A,useFactory:o,deps:[[g.e,new p.Optional,new p.SkipSelf]]},{provide:M,useValue:n?n:{}},{provide:h.LocationStrategy,useFactory:i,deps:[h.PlatformLocation,[new p.Inject(h.APP_BASE_HREF),new p.Optional],M]},{provide:x.c,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:x.a},{provide:p.NgProbeToken,multi:!0,useFactory:r},l()]}},t.forChild=function(e){return{ngModule:t,providers:[a(e)]}},t.decorators=[{type:p.NgModule,args:[{declarations:T,exports:T}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:p.Optional},{type:p.Inject,args:[A]}]}]},t}(),R=new p.OpaqueToken("Router Initializer")},function(t,e,n){"use strict";var r=n(0),i=n(196),o=(n.n(i),n(85)),a=(n.n(o),n(288)),s=(n.n(a),n(292)),u=(n.n(s),n(294)),c=(n.n(u),n(102)),l=(n.n(c),n(103)),h=(n.n(l),n(126)),p=n(127);n.d(e,"c",function(){return f}),n.d(e,"b",function(){return d}),n.d(e,"a",function(){return m}),n.d(e,"d",function(){return y});/**
*@license
*Copyright Google Inc. All Rights Reserved.
*
*Use of this source code is governed by an MIT-style license that can be
*found in the LICENSE file at https://angular.io/license
*/
var f=function(){function t(){}return t.prototype.preload=function(t,e){},t}(),d=function(){function t(){}return t.prototype.preload=function(t,e){return a._catch.call(e(),function(){return n.i(o.of)(null)})},t}(),m=function(){function t(){}return t.prototype.preload=function(t,e){return n.i(o.of)(null)},t}(),y=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new p.b(e,n)}return t.prototype.setUpPreloading=function(){var t=this,e=u.filter.call(this.router.events,function(t){return t instanceof h.b});this.subscription=s.concatMap.call(e,function(){return t.preload()}).subscribe(function(t){})},t.prototype.preload=function(){return this.processRoutes(this.injector,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var r=[],o=0,a=e;o<a.length;o++){var s=a[o];if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var u=s._loadedConfig;r.push(this.processRoutes(u.injector,u.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children))}return c.mergeAll.call(n.i(i.from)(r))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t,e.loadChildren);return l.mergeMap.call(r,function(t){var r=e;return r._loadedConfig=t,n.processRoutes(t.injector,t.routes)})})},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:h.e},{type:r.NgModuleFactoryLoader},{type:r.Compiler},{type:r.Injector},{type:f}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(95),o=n(259);n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e){this.route=t,this.complexPortalService=e,this._gxa=expressionAtlasHeatmapHighcharts}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t._query=e.id,t.complexPortalService.getComplex(t._query).subscribe(function(e){return t.complexDetails=e}),t.complexPortalService.getComplexMIJSON(t._query).subscribe(function(e){return t.complexMIJSON=e})})},Object.defineProperty(t.prototype,"complexDetails",{get:function(){return this._complexDetails},set:function(t){this._complexDetails=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complexMIJSON",{get:function(){return this._complexMIJSON},set:function(t){this._complexMIJSON=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"query",{get:function(){return this._query},set:function(t){this._query=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gxa",{get:function(){return this._gxa},set:function(t){this._gxa=t},enumerable:!0,configurable:!0}),t=a([n.i(r.Component)({selector:"app-complex-details",template:n(870),styles:[n(827)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.ActivatedRoute&&i.ActivatedRoute)&&e||Object,"function"==typeof(u="undefined"!=typeof o.a&&o.a)&&u||Object])],t);var e,u}()},function(t,e,n){"use strict";var r=n(0),i=n(123),o=n(139);n.n(o);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u="//www.ebi.ac.uk/europepmc/webservices/rest/search?query=",c=function(){function t(t){this.http=t}return t.prototype.getPublicationInformation=function(t){return this.http.get(u+"ext_id:"+t+"%20src:med&format=json").map(function(t){return t.json()}).catch(this.handleError)},t.prototype.handleError=function(t){var e=t.message?t.message:t.status?t.status+" - "+t.statusText:"Server error";return console.error(e),o.Observable.throw(e)},t=a([n.i(r.Injectable)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},function(t,e,n){"use strict";var r=n(0),i=n(95),o=n(259);n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n){this.route=t,this.router=e,this.complexPortalService=n,this._pageSize=10}return t.prototype.ngOnInit=function(){var t=this;this.route.queryParams.subscribe(function(e){t._query=e.query?e.query:console.log("Error"),t._spicesFilter=e.species?e.species.split(","):[],t._bioRoleFilter=e.bioRole?e.bioRole.split(","):[],t._interactorTypeFilter=e.interactorType?e.interactorType.split(","):[],t._currentPageIndex=e.page?Number(e.page):1,t.complexPortalService.findComplex(t.query,t.spicesFilter,t.bioRoleFilter,t.interactorTypeFilter,t.currentPageIndex,t.pageSize).subscribe(function(e){t.complexSearch=e,console.log(t.complexSearch.totalNumberOfResults),0!==t.complexSearch.totalNumberOfResults&&(t.lastPageIndex=Math.ceil(e.totalNumberOfResults/t.pageSize))})})},t.prototype.reloadPage=function(){var t={};t.query=this._query,t.page=this._currentPageIndex,this.prepareFiltersForParams(t),this.router.navigate(["search"],{queryParams:t})},t.prototype.prepareFiltersForParams=function(t){void 0!==this._spicesFilter&&0!==this._spicesFilter.length&&(t.species=this._spicesFilter),void 0!==this._bioRoleFilter&&0!==this._bioRoleFilter.length&&(t.bioRole=this._bioRoleFilter),void 0!==this._interactorTypeFilter&&0!==this._interactorTypeFilter.length&&(t.interactorType=this._interactorTypeFilter)},t.prototype.onPageChange=function(t){this.currentPageIndex=t,this.reloadPage()},t.prototype.onResetAllFilters=function(){this.spicesFilter=[],this.bioRoleFilter=[],this.interactorTypeFilter=[],this.currentPageIndex=1,this.reloadPage()},t.prototype.onSpicesFilterChanged=function(t){this.spicesFilter=t,this.currentPageIndex=1,this.reloadPage()},t.prototype.onBiologicalRoleFilterChanged=function(t){this.bioRoleFilter=t,this.currentPageIndex=1,this.reloadPage()},t.prototype.onInteractorTyoeFilterChanged=function(t){this.interactorTypeFilter=t,this.currentPageIndex=1,this.reloadPage()},Object.defineProperty(t.prototype,"query",{get:function(){return this._query},set:function(t){this._query=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPageIndex",{get:function(){return this._currentPageIndex},set:function(t){this._currentPageIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complexSearch",{get:function(){return this._complexSearch},set:function(t){this._complexSearch=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastPageIndex",{get:function(){return this._lastPageIndex},set:function(t){this._lastPageIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this._pageSize},set:function(t){this._pageSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spicesFilter",{get:function(){return this._spicesFilter},set:function(t){this._spicesFilter=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bioRoleFilter",{get:function(){return this._bioRoleFilter},set:function(t){this._bioRoleFilter=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactorTypeFilter",{get:function(){return this._interactorTypeFilter},set:function(t){this._interactorTypeFilter=t},enumerable:!0,configurable:!0}),t=a([n.i(r.Component)({selector:"app-complex-results",template:n(901),styles:[n(858)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.ActivatedRoute&&i.ActivatedRoute)&&e||Object,"function"==typeof(u="undefined"!=typeof i.Router&&i.Router)&&u||Object,"function"==typeof(c="undefined"!=typeof o.a&&o.a)&&c||Object])],t);var e,u,c}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([n.i(r.Component)({selector:"app-download",template:n(902),styles:[n(859)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([n.i(r.Component)({selector:"app-home",template:n(904),styles:[n(861)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0),i=n(123),o=n(139);n.n(o);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u="https://www.ebi.ac.uk/ols/api/ontologies",c=function(){function t(t){this.http=t}return t.prototype.getEfoName=function(t){return this.http.get(u+"/ordo/terms?iri=http://www.orpha.net/ORDO/"+t.replace(":","_")).map(function(t){return t}).catch(this.handleError)},t.prototype.handleError=function(t){var e=t.message?t.message:t.status?t.status+" - "+t.statusText:"Server error";return console.error(e),o.Observable.throw(e)},t=a([n.i(r.Injectable)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},function(t,e,n){"use strict";var r=n(0),i=n(78),o=n(33),a=function(){function t(t,e,n){this.elRef=t,this.angulartics2=e,this.eventManager=n,this.el=t.nativeElement}return t.prototype.ngAfterContentInit=function(){var t=this;this.eventManager.addEventListener(this.el,this.angulartics2On||"click",function(e){return t.eventTrack(e)})},t.prototype.eventTrack=function(t){var e=this.angularticsEvent,n={eventType:t.type};this.angularticsCategory&&(n.category=this.angularticsCategory),this.angularticsProperties&&Object.assign(n,this.angularticsProperties),this.angulartics2.eventTrack.next({action:e,properties:n})},t.decorators=[{type:r.Injectable},{type:r.Directive,args:[{selector:"[angulartics2On]"}]}],t.ctorParameters=function(){return[{type:r.ElementRef},{type:o.Angulartics2},{type:i.EventManager}]},t.propDecorators={angulartics2On:[{type:r.Input,args:["angulartics2On"]}],angularticsEvent:[{type:r.Input}],angularticsCategory:[{type:r.Input}],angularticsProperties:[{type:r.Input}]},t}();e.Angulartics2On=a},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function i(t){if(t)throw new Error("Angulartics2Module.forRoot() called twice. Lazy loaded modules should use Angulartics2Module.forChild() instead.");return"guarded"}var o=n(0),a=n(33),s=n(396);r(n(33)),r(n(396)),r(n(648)),e.ANGULARTICS2_FORROOT_GUARD=new o.OpaqueToken("ANGULARTICS2_FORROOT_GUARD"),e.provideForRootGuard=i;var u=function(){function t(t){}return t.forRoot=function(n){return{ngModule:t,providers:[{provide:e.ANGULARTICS2_FORROOT_GUARD,useFactory:i,deps:[[a.Angulartics2,new o.Optional,new o.SkipSelf]]},a.Angulartics2].concat(n)}},t.forChild=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:o.NgModule,args:[{declarations:[s.Angulartics2On],exports:[s.Angulartics2On]}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Optional},{type:o.Inject,args:[e.ANGULARTICS2_FORROOT_GUARD]}]}]},t}();e.Angulartics2Module=u},function(t,e,n){"use strict";function r(t,e,n,r,i){this.name=t,this.start=e,this.end=n,void 0!==r&&null!==r&&(this.colour=r),this.notes=i}t.exports=r},function(t,e,n){"use strict";function r(){}var i=n(49),o=n(26);r.STICKHEIGHT=20,r.MAXSIZE=0,r.UNITS_PER_RESIDUE=1,r.transitionTime=650,r.prototype=new i,r.prototype.setSequence=function(t){this.sequence=t.replace(/[^A-Z]/g,""),this.size=this.sequence.length},r.prototype.init=function(){this.setForm(this.form),this.selfLink&&this.selfLink.initSelfLinkSVG(),this.setAllLinkCoordinates()},r.prototype.getBlobRadius=function(){return this.size?Math.sqrt(this.size/2/Math.PI):15},r.prototype.showHighlight=function(t){t===!0?this.highlight.setAttribute("stroke-opacity","1"):this.highlight.setAttribute("stroke-opacity","0")},r.prototype.setRotation=function(t){this.rotation=t%360,this.rotation<0&&(this.rotation+=360),this.upperGroup.setAttribute("transform","translate("+this.x+" "+this.y+") scale("+this.controller.z+") rotate("+this.rotation+")");var e=this.controller.svgElement,n=this.labelSVG.getAttribute("transform"),r=d3.transform(n),o=this.scaleLabels.length;if(this.rotation>=90&&this.rotation<270){var a=e.createSVGMatrix().translate(Math.abs(r.translate[0]),-i.labelY).rotate(180,0,0);if(this.labelSVG.transform.baseVal.initialize(e.createSVGTransformFromMatrix(a)),1===this.form){for(var s=0;s<o;s++)this.scaleLabels[s].setAttribute("transform","scale(-1,1)");this.ticks.setAttribute("transform","scale(1,-1)")}}else{var a=e.createSVGMatrix().translate(-Math.abs(r.translate[0]),i.labelY);if(this.labelSVG.transform.baseVal.initialize(e.createSVGTransformFromMatrix(a)),1===this.form){for(var u=0;u<o;u++)this.scaleLabels[u].setAttribute("transform","scale(1,1)");this.ticks.setAttribute("transform","scale(1,1)")}}},r.rotOffset=14,r.minXDist=30,r.prototype.switchStickScale=function(t){if(this.isParked&&this.toggleParked(),0===this.form)this.toStick();else{var e=r.UNITS_PER_RESIDUE*this.stickZoom;if(e>8)this.stickZoom=.5,this.setPosition(t.x,t.y);else{this.stickZoom=3*this.stickZoom;var n=this.x-t.x,i=this.y-t.y;0!==this.rotation&&180!==this.rotation||(i=0),this.setPosition(this.x+2*n,this.y+2*i)}}this.scale(),this.setAllLinkCoordinates()},r.prototype.scale=function(){var t=this.size*r.UNITS_PER_RESIDUE*this.stickZoom;if(1===this.form){var e=d3.transform(this.labelSVG.getAttribute("transform")),n=this.controller.svgElement.createSVGMatrix().rotate(e.rotate).translate(-(this.size/2*r.UNITS_PER_RESIDUE*this.stickZoom+10),i.labelY);if(this.labelSVG.transform.baseVal.initialize(this.controller.svgElement.createSVGTransformFromMatrix(n)),this.annotations)for(var o=this.annotations.length,a=0;a<o;a++){var s=this.annotations[a];s.pieSlice.setAttribute("d",this.getAnnotationRectPath(s))}d3.select(this.background).attr("width",t).attr("x",this.getResXwithStickZoom(.5)),d3.select(this.outline).attr("width",t).attr("x",this.getResXwithStickZoom(.5)),d3.select(this.highlight).attr("width",t+5).attr("x",this.getResXwithStickZoom(.5)-2.5),this.setScaleGroup(),this.setRotation(this.rotation)}},r.prototype.setScaleGroup=function(){function t(t,e,n){var i=document.createElementNS(o.svgns,"g");i.setAttribute("transform","translate("+n+" 0)");var a=document.createElementNS(o.svgns,"text");a.setAttribute("class","Polymer xlv_text PolymerLabel"),a.setAttribute("font-family","'Courier New', monospace"),a.setAttribute("font-size","14"),a.setAttribute("text-anchor","middle"),a.setAttribute("x",0),a.setAttribute("y",r.STICKHEIGHT+4),a.appendChild(document.createTextNode(e)),i.appendChild(a),t.scaleLabels.push(a),t.ticks.appendChild(i)}function e(t,e){var n=document.createElementNS(o.svgns,"line");n.setAttribute("x1",e),n.setAttribute("y1",5),n.setAttribute("x2",e),n.setAttribute("y2",10),n.setAttribute("stroke","black"),t.ticks.appendChild(n)}this.controller.emptyElement(this.ticks),this.upperGroup.appendChild(this.ticks),this.scaleLabels=new Array;for(var n=2,i=r.UNITS_PER_RESIDUE*this.stickZoom,a=-1,s=this.getResXwithStickZoom(this.size),u=1;u<=this.size;u++){if(1===u||u%100===0&&200*i>r.minXDist||u%10===0&&20*i>r.minXDist){var c=this.getResXwithStickZoom(u);(i>=8||1!==u)&&e(this,c),a=(a+1)%n,0===a&&c+r.minXDist<s&&t(this,u,c)}if(i>8){var l=document.createElementNS(o.svgns,"g");l.setAttribute("transform","translate("+this.getResXwithStickZoom(u)+" 0)");var h=document.createElementNS(o.svgns,"text");h.setAttribute("font-family","'Courier New', monospace"),h.setAttribute("font-size","10px"),h.setAttribute("text-anchor","middle"),h.setAttribute("x",0),h.setAttribute("y",3),h.appendChild(document.createTextNode(this.sequence[u-1])),l.appendChild(h),this.scaleLabels.push(h),this.ticks.appendChild(l)}}t(this,this.size,s),i>8&&e(this,s)},r.prototype.setForm=function(t,e){if(this.busy!==!0)if(1==t)this.toStick();else{this.toCircle(e);var n=this.getBlobRadius();d3.select(this.background).transition().attr("x",-n).attr("y",-n).attr("width",2*n).attr("height",2*n).attr("rx",n).attr("ry",n).duration(r.transitionTime),d3.select(this.outline).transition().attr("x",-n).attr("y",-n).attr("width",2*n).attr("height",2*n).attr("rx",n).attr("ry",n).duration(r.transitionTime),d3.select(this.annotationsSvgGroup).transition().attr("transform","scale(1, 1)").duration(r.transitionTime),d3.select(this.highlight).transition().attr("x",-n).attr("y",-n).attr("width",2*n).attr("height",2*n).attr("rx",n).attr("ry",n).duration(r.transitionTime)}},r.prototype.toCircle=function(t){function e(t){var n=d3.transform(d.labelSVG.getAttribute("transform")),r=d.controller.svgElement.createSVGMatrix().rotate(n.rotate).translate(h(w(t)),i.labelY);d.labelSVG.transform.baseVal.initialize(d.controller.svgElement.createSVGTransformFromMatrix(r)),null!==p&&d.setPosition(p(w(t)),f(w(t)));var o=u(w(t));return d.stickZoom=s(w(t)),d.setRotation(o),d.setAllLinkCoordinates(),1===t?(d.form=0,d.checkLinks(),d.stickZoom=_,d.rotation=x,d.busy=!1,!0):t>1&&e(1)}this.busy=!0;for(var n=[],o=0;o<this.upperGroup.childNodes.length;o++)n[o]=this.upperGroup.childNodes[o];var a=(this.size*r.UNITS_PER_RESIDUE*this.stickZoom,this.getBlobRadius()),s=d3.interpolate(this.stickZoom,0),u=d3.interpolate(this.rotation>180?this.rotation-360:this.rotation,0),c=d3.transform(this.labelSVG.getAttribute("transform")),l=c.translate[0],h=d3.interpolate(l,-(a+5)),p=null,f=null;"undefined"!=typeof t&&null!==t&&(p=d3.interpolate(this.x,t.x),f=d3.interpolate(this.y,t.y));var d=this;d3.select(this.ticks).transition().attr("opacity",0).duration(r.transitionTime/4).each("end",function(){n.indexOf(d.ticks)>-1&&d.upperGroup.removeChild(d.ticks)}),d3.select(this.highlight).transition().attr("width",2*a+5).attr("height",2*a+5).attr("x",-a-2.5).attr("y",-a-2.5).attr("rx",a+2.5).attr("ry",a+2.5).duration(r.transitionTime);var d=this;if(this.annotations)for(var m=this.annotations,y=m.length,v=0;v<y;v++){var g=m[v],b=g.pieSlice;d3.select(b).transition().attr("d",this.getAnnotationPieSliceApproximatePath(g)).duration(r.transitionTime).each("end",function(){for(var t=0;t<y;t++){var e=d.annotations[t];this===e.pieSlice&&d3.select(this).attr("d",d.getAnnotationPieSliceArcPath(e))}})}var _=this.stickZoom,x=this.rotation,w=d3.ease("cubic-in-out");d3.timer(function(t){return e(t/r.transitionTime)})},r.prototype.toStick=function(){function t(e){var n=d3.transform(g.labelSVG.getAttribute("transform")),o=g.controller.svgElement.createSVGMatrix().rotate(n.rotate).translate(h(b(e)),i.labelY);g.labelSVG.transform.baseVal.initialize(g.controller.svgElement.createSVGTransformFromMatrix(o));var a=l(b(e));g.setRotation(a);var s=u(b(e));return d3.select(g.highlight).attr("width",s).attr("x",-(s/2)+.5*r.UNITS_PER_RESIDUE*g.stickZoom),d3.select(g.outline).attr("width",s).attr("x",-(s/2)+.5*r.UNITS_PER_RESIDUE*g.stickZoom),d3.select(g.background).attr("width",s).attr("x",-(s/2)+.5*r.UNITS_PER_RESIDUE*g.stickZoom),g.stickZoom=c(b(e)),g.setAllLinkCoordinates(),1===e?(g.busy=!1,!0):e>1&&t(1)}this.busy=!0,this.form=1;for(var e=this.binaryLinks.values().length,n=0;n<e;n++){var o=this.binaryLinks.values()[n];o.shown&&o.hide()}var a=this.size*r.UNITS_PER_RESIDUE*this.stickZoom,s=this.getBlobRadius(),u=d3.interpolate(2*s,a),c=d3.interpolate(0,this.stickZoom),l=d3.interpolate(0,this.rotation>180?this.rotation-360:this.rotation),h=d3.interpolate(-(s+5),-(this.size/2*r.UNITS_PER_RESIDUE*this.stickZoom+10)),p=this.stickZoom;if(this.stickZoom=0,this.checkLinks(this.binaryLinks),this.checkLinks(this.selfLink),this.checkLinks(this.sequenceLinks),this.stickZoom=p,d3.select(this.background).transition().attr("height",r.STICKHEIGHT).attr("y",-r.STICKHEIGHT/2).attr("rx",0).attr("ry",0).duration(r.transitionTime),d3.select(this.outline).transition().attr("height",r.STICKHEIGHT).attr("y",-r.STICKHEIGHT/2).attr("rx",0).attr("ry",0).duration(r.transitionTime),d3.select(this.highlight).transition().attr("width",a+5).attr("height",r.STICKHEIGHT+5).attr("x",this.getResXwithStickZoom(.5)-2.5).attr("y",-r.STICKHEIGHT/2-2.5).attr("rx",0).attr("ry",0).duration(r.transitionTime),this.annotations)for(var f=this.annotations,d=f.length,m=0;m<d;m++){var y=f[m],v=y.pieSlice;v.setAttribute("d",this.getAnnotationPieSliceApproximatePath(y)),d3.select(v).transition().attr("d",this.getAnnotationRectPath(y)).duration(r.transitionTime)}var g=this,b=d3.ease("cubic-in-out");d3.timer(function(e){return t(e/r.transitionTime)}),d3.select(this.ticks).attr("opacity",0),this.setScaleGroup(),d3.select(this.ticks).transition().attr("opacity",1).delay(.8*r.transitionTime).duration(r.transitionTime/2)},r.prototype.getResXwithStickZoom=function(t){return isNaN(t)||"?"===t||"n"===t?(0-this.size/2)*r.UNITS_PER_RESIDUE*this.stickZoom-8:(t-this.size/2)*r.UNITS_PER_RESIDUE*this.stickZoom},r.prototype.getResidueCoordinates=function(t,e){void 0===r.UNITS_PER_RESIDUE&&alert("Error: Polymer.UNITS_PER_RESIDUE is undefined"),void 0===t&&alert("Error: residue number is undefined");var n=this.getResXwithStickZoom(1*t)*this.controller.z,i=0;if(0!==n){var o=Math.abs(n),a=Math.acos(n/o),s=this.rotation/360*Math.PI*2;n=o*Math.cos(s+a),i=o*Math.sin(s+a),"undefined"!=typeof e&&(n+=e*this.controller.z*Math.cos(s+Math.PI/2),i+=e*this.controller.z*Math.sin(s+Math.PI/2))}else i=e;return n+=this.x,i+=this.y,[n,i]},r.stepsInArc=5,r.prototype.getAnnotationPieSliceArcPath=function(t){var e=(t.start-1)/this.size*360,n=(t.end-1)/this.size*360,r=this.getBlobRadius()-2,o=i.trig(r,e-90),a=i.trig(r,n-90),s=0;return(n-e>180||n==e)&&(s=1),"M0,0 L"+o.x+","+o.y+" A"+r+","+r+" 0 "+s+" 1 "+a.x+","+a.y+" Z"},r.prototype.getAnnotationPieSliceApproximatePath=function(t){for(var e=(t.start-1)/this.size*360,n=t.end/this.size*360,o=this.getBlobRadius()-2,a=(i.trig(o,e-90),i.trig(o,n-90),"M 0,0"),s=5,u=0;u<=r.stepsInArc;u++){var c=e+(n-e)*(u/s),l=i.trig(o,c-90);a+=" L "+l.x+","+l.y}return a+=" L 0,0",a+="  Z"},r.prototype.getAnnotationRectPath=function(t){for(var e=r.STICKHEIGHT/2,n=-r.STICKHEIGHT/2,i=this.getResXwithStickZoom(t.start-.5),o=1+(t.end-t.start),a=o*r.UNITS_PER_RESIDUE*this.stickZoom,s="M "+i+","+e,u=0;u<=r.stepsInArc;u++){var c=i+a*(u/r.stepsInArc);s+=" L "+c+","+n}return s+=" L "+(i+a)+","+e+" Z"},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.node=t,e=e.trim(),this.uncertainStart=null,this.start="?",this.end="?",this.uncertainEnd=null;var n=e.indexOf("-"),r=e.substring(0,n),i=e.substring(n+1);if(r.indexOf(".")===-1)this.start=r;else{var o=r.indexOf(".");this.uncertainStart=1*r.substring(0,o),this.start=1*r.substring(o+2)}if(i.indexOf(".")===-1)this.end=i;else{var o=i.indexOf(".");this.end=1*i.substring(0,o),this.uncertainEnd=1*i.substring(o+2)}}r.prototype.toString=function(){var t="";return this.uncertainStart&&(t+=this.uncertainStart+".."),this.start&&(t+=this.start+"-"),this.end&&(t+=this.end),this.uncertainEnd&&(t+=".."+this.uncertainEnd),t},t.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){function n(t,e){this.x=t||0,this.y=e||0,Object.freeze(this)}n.prototype.distance=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},n.prototype.manhattanDistance=function(t){var e=this.sub(t).abs();return e.x+e.y},n.prototype.abs=function(){return new n(Math.abs(this.x),Math.abs(this.y))},n.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},n.prototype.add=function(t){return new n(this.x+t.x,this.y+t.y)},n.prototype.sub=function(t){return new n(this.x-t.x,this.y-t.y)},t.exports=n},function(t,e,n){"use strict";var r={current:null};t.exports=r},function(t,e,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=r},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e,n){"use strict";var r=!1;t.exports=r},function(t,e,n){"use strict";function r(t){var e=t&&(i&&t[i]||t[o]);if("function"==typeof e)return e}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";t.exports=r},function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(20),o=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);n!==-1&&e.splice(n,1)}}},e}(i.Subscription);e.SubjectSubscription=o},function(t,e,n){"use strict";var r=n(1),i=n(294);r.Observable.prototype.filter=i.filter},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(11),o=n(1),a=n(3),s=n(20),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(t=this._connection=new s.Subscription,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed?(this._connection=null,t=s.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new l(this))},e}(o.Observable);e.ConnectableObservable=u,e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subscribe:{value:u.prototype._subscribe},getSubject:{value:u.prototype.getSubject},connect:{value:u.prototype.connect},refCount:{value:u.prototype.refCount}};var c=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber),l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),h=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},e}(a.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(51),o=n(470),a=n(449),s=n(1063),u=n(59),c=n(1052),l=n(142),h=n(1),p=n(296),f=n(143),d=function(t){return t&&"number"==typeof t.length},m=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return r(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[f.$$observable])return t instanceof h.Observable&&!n?t:new e(t,n);if(i.isArray(t))return new u.ArrayObservable(t,n);if(o.isPromise(t))return new a.PromiseObservable(t,n);if("function"==typeof t[l.$$iterator]||"string"==typeof t)return new s.IteratorObservable(t,n);if(d(t))return new c.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[f.$$observable]().subscribe(t):e[f.$$observable]().subscribe(new p.ObserveOnSubscriber(t,n,0))},e}(h.Observable);e.FromObservable=m},function(t,e,n){"use strict";function r(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function i(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(24),s=n(1),u=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){a.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(r,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(r,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){a.root.setTimeout(function(){throw t})})},e}(s.Observable);e.PromiseObservable=u},function(t,e,n){"use strict";function r(){if(h.root.XMLHttpRequest){var t=new h.root.XMLHttpRequest;return"withCredentials"in t&&(t.withCredentials=!!this.withCredentials),t}if(h.root.XDomainRequest)return new h.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function i(){if(h.root.XMLHttpRequest)return new h.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{
if(t=e[n],new h.root.ActiveXObject(t))break}catch(t){}return new h.root.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}function o(t,e){return void 0===e&&(e=null),new v({method:"GET",url:t,headers:e})}function a(t,e,n){return new v({method:"POST",url:t,body:e,headers:n})}function s(t,e){return new v({method:"DELETE",url:t,headers:e})}function u(t,e,n){return new v({method:"PUT",url:t,body:e,headers:n})}function c(t,e){return new v({method:"GET",url:t,responseType:"json",headers:e}).lift(new y.MapOperator(function(t,e){return t.response},null))}var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},h=n(24),p=n(25),f=n(23),d=n(1),m=n(3),y=n(86);e.ajaxGet=o,e.ajaxPost=a,e.ajaxDelete=s,e.ajaxPut=u,e.ajaxGetJSON=c;var v=function(t){function e(e){t.call(this);var n={async:!0,createXHR:function(){return this.crossDomain?r.call(this):i()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)n.url=e;else for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);this.request=n}return l(e,t),e.prototype._subscribe=function(t){return new g(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=o,t.post=a,t.delete=s,t.put=u,t.getJSON=c,t}(),e}(d.Observable);e.AjaxObservable=v;var g=function(t){function e(e,n){t.call(this,e),this.request=n,this.done=!1;var r=n.headers=n.headers||{};n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in r||h.root.FormData&&n.body instanceof h.root.FormData||"undefined"==typeof n.body||(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=this.serializeBody(n.body,n.headers["Content-Type"]),this.send()}return l(e,t),e.prototype.next=function(t){this.done=!0;var e=this,n=e.xhr,r=e.request,i=e.destination,o=new b(t,n,r);i.next(o)},e.prototype.send=function(){var t=this,e=t.request,n=t.request,r=n.user,i=n.method,o=n.url,a=n.async,s=n.password,u=n.headers,c=n.body,l=e.createXHR,h=p.tryCatch(l).call(e);if(h===f.errorObject)this.error(f.errorObject.e);else{this.xhr=h,this.setupEvents(h,e);var d=void 0;if(d=r?p.tryCatch(h.open).call(h,i,o,a,r,s):p.tryCatch(h.open).call(h,i,o,a),d===f.errorObject)return this.error(f.errorObject.e),null;if(h.timeout=e.timeout,h.responseType=e.responseType,this.setHeaders(h,u),d=c?p.tryCatch(h.send).call(h,c):p.tryCatch(h.send).call(h),d===f.errorObject)return this.error(f.errorObject.e),null}return h},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(h.root.FormData&&t instanceof h.root.FormData)return t;if(e){var n=e.indexOf(";");n!==-1&&(e=e.substring(0,n))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])},e.prototype.setupEvents=function(t,e){function n(t){var e=n,r=e.subscriber,i=e.progressSubscriber,o=e.request;i&&i.error(t),r.error(new x(this,o))}function r(t){var e=r,n=e.subscriber,i=e.progressSubscriber,o=e.request;if(4===this.readyState){var a=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===a&&(a=s?200:0),200<=a&&a<300?(i&&i.complete(),n.next(t),n.complete()):(i&&i.error(t),n.error(new _("ajax error "+a,this,o)))}}var i=e.progressSubscriber;if(t.ontimeout=n,n.request=e,n.subscriber=this,n.progressSubscriber=i,t.upload&&"withCredentials"in t){if(i){var o;o=function(t){var e=o.progressSubscriber;e.next(t)},h.root.XDomainRequest?t.onprogress=o:t.upload.onprogress=o,o.progressSubscriber=i}var a;a=function(t){var e=a,n=e.progressSubscriber,r=e.subscriber,i=e.request;n&&n.error(t),r.error(new _("ajax error",this,i))},t.onerror=a,a.request=e,a.subscriber=this,a.progressSubscriber=i}t.onreadystatechange=r,r.subscriber=this,r.progressSubscriber=i,r.request=e},e.prototype.unsubscribe=function(){var e=this,n=e.done,r=e.xhr;!n&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),t.prototype.unsubscribe.call(this)},e}(m.Subscriber);e.AjaxSubscriber=g;var b=function(){function t(t,e,n){switch(this.originalEvent=t,this.xhr=e,this.request=n,this.status=e.status,this.responseType=e.responseType||n.responseType,this.responseType){case"json":"response"in e?this.response=e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):this.response=JSON.parse(e.responseText||"null");break;case"xml":this.response=e.responseXML;break;case"text":default:this.response="response"in e?e.response:e.responseText}}return t}();e.AjaxResponse=b;var _=function(t){function e(e,n,r){t.call(this,e),this.message=e,this.xhr=n,this.request=r,this.status=n.status}return l(e,t),e}(Error);e.AjaxError=_;var x=function(t){function e(e,n){t.call(this,"ajax timeout",e,n)}return l(e,t),e}(_);e.AjaxTimeoutError=x},function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(25),s=n(23);e.distinctUntilChanged=r;var u=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compare,this.keySelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,n=t;if(e&&(n=a.tryCatch(this.keySelector)(t),n===s.errorObject))return this.destination.error(s.errorObject.e);var r=!1;if(this.hasKey){if(r=a.tryCatch(this.compare)(this.key,n),r===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;Boolean(r)===!1&&(this.key=n,this.destination.next(t))},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return this.lift(new a(t,this,!1,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.find=r;var a=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();e.FindValueOperator=a;var s=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.source=r,this.yieldIndex=i,this.thisArg=o,this.index=0}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this,n=e.predicate,r=e.thisArg,i=this.index++;try{var o=n.call(r||this,t,i,this.source);o&&this.notifyComplete(this.yieldIndex?i:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(o.Subscriber);e.FindValueSubscriber=s},function(t,e,n){"use strict";function r(t,e,n){return this.lift(new s(t,e,n,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(144);e.last=r;var s=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}return i(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new a.EmptyError)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return s.isScheduler(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length?t[0]:new o.ArrayObservable(t,r).lift(new a.MergeAllOperator(n))}var o=n(59),a=n(102),s=n(71);e.merge=r,e.mergeStatic=i},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new s(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.mergeMapTo=r;var s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.ish,this.resultSelector,this.concurrent))},t}();e.MergeMapToOperator=s;var u=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,n=this.index++,r=this.ish,i=this.destination;this.active++,this._innerSub(r,i,e,t,n)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n,r,i){this.add(a.subscribeToResult(this,t,r,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,a=o.resultSelector,s=o.destination;a?this.trySelectResult(t,e,n,r):s.next(e)},e.prototype.trySelectResult=function(t,e,n,r){var i,o=this,a=o.resultSelector,s=o.destination;try{i=a(t,e,n,r)}catch(t){return void s.error(t)}s.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeMapToSubscriber=u},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&s.isArray(t[0])&&(t=t[0]),this.lift(new l(t))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return 1===t.length&&s.isArray(t[0])&&(t=t[0]),n=t.shift(),new a.FromObservable(n,null).lift(new l(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(448),s=n(51),u=n(4),c=n(5);e.onErrorResumeNext=r,e.onErrorResumeNextStatic=i;var l=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.nextSources))},t}(),h=function(t){function e(e,n){t.call(this,e),this.destination=e,this.nextSources=n}return o(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(c.subscribeToResult(this,t)):this.destination.complete()},e}(u.OuterSubscriber)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&a.isArray(t[0])&&(t=t[0]),this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!a.isArray(t[0]))return t[0];t=t[0]}return new s.ArrayObservable(t).lift(new l)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(51),s=n(59),u=n(4),c=n(5);e.race=r,e.raceStatic=i;var l=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new h(t))},t}();e.RaceOperator=l;var h=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return o(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=c.subscribeToResult(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(e)},e}(u.OuterSubscriber);e.RaceSubscriber=h},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=a.async),this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(28);e.timeInterval=r;var s=function(){function t(t,e){this.value=t,this.interval=e}return t}();e.TimeInterval=s;var u=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler))},t}(),c=function(t){function e(e,n){t.call(this,e),this.scheduler=n,this.lastTime=0,this.lastTime=n.now()}return i(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),n=e-this.lastTime;this.lastTime=e,this.destination.next(new s(t,n))},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=a.async),this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(28);e.timestamp=r;var s=function(){function t(t,e){this.value=t,this.timestamp=e}return t}();e.Timestamp=s;var u=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler))},t}(),c=function(t){function e(e,n){t.call(this,e),this.scheduler=n}return i(e,t),e.prototype._next=function(t){var e=this.scheduler.now();this.destination.next(new s(t,e))},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){var e=this;if(t||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?t=i.root.Rx.config.Promise:i.root.Promise&&(t=i.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}var i=n(24);e.toPromise=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(140),o=n(141),a=function(t){function e(e,n){var r=this;void 0===e&&(e=s),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this,e,function(){return r.frame}),this.maxFrames=n,this.frame=0,this.index=-1}return r(e,t),e.prototype.flush=function(){for(var t,e,n=this,r=n.actions,i=n.maxFrames;(e=r.shift())&&(this.frame=e.delay)<=i&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(o.AsyncScheduler);e.VirtualTimeScheduler=a;var s=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1),t.call(this,e,n),this.scheduler=e,this.work=n,this.index=r,this.index=e.index=r}return r(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(i.AsyncAction);e.VirtualAction=s},function(t,e,n){"use strict";var r=n(1170),i=n(1171);e.asap=new i.AsapScheduler(r.AsapAction)},function(t,e,n){"use strict";var r=n(1172),i=n(1173);e.queue=new i.QueueScheduler(r.QueueAction)},function(t,e,n){"use strict";var r=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.subscribedFrame=t,this.unsubscribedFrame=e}return t}();e.SubscriptionLog=r},function(t,e,n){"use strict";var r=n(464),i=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new r.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(t){var e=this.subscriptions,n=e[t];e[t]=new r.SubscriptionLog(n.subscribedFrame,this.scheduler.now())},t}();e.SubscriptionLoggable=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.TimeoutError=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(e,t),e}(Error);e.UnsubscriptionError=i},function(t,e,n){"use strict";function r(t,e){for(var n=0,r=e.length;n<r;n++)for(var i=e[n],o=Object.getOwnPropertyNames(i.prototype),a=0,s=o.length;a<s;a++){var u=o[a];t.prototype[u]=i.prototype[u]}}e.applyMixins=r},function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},function(t,e,n){"use strict";function r(){}e.noop=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n){this._portalHost=t,this._pane=e,this._ngZone=n}return t.prototype.attach=function(t,e){var n=this._portalHost.attach(t,e);return n},t.prototype.detach=function(){return this._portalHost.detach()},t.prototype.dispose=function(){this._portalHost.dispose()},t.prototype.hasAttached=function(){return this._portalHost.hasAttached()},t}()},function(t,e,n){"use strict";var r=n(11),i=(n.n(r),n(145));n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var o=function(){function t(t){this._overlayRef=t,this._afterClosed=new r.Subject,this._activate=new r.Subject}return t.prototype.close=function(){this._overlayRef.detach(),this._afterClosed.next(),this._afterClosed.complete()},t.prototype.afterClosed=function(){return this._afterClosed.asObservable()},t.prototype.activate=function(){this._activate.next(),this._activate.complete()},t.prototype.afterActivate=function(){return this._activate.asObservable()},t}(),a=function(){function t(t,e,n){this._dialogRef=t,this._data=e,this._parentInjector=n}return t.prototype.get=function(t,e){return t===o?this._dialogRef:t===i.b&&this._data?this._data:this._parentInjector.get(t,e)},t}()},function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=474},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(569),i=n(0),o=n(260),a=n(600);o.a.production&&n.i(i.enableProdMode)(),n.i(r.a)().bootstrapModule(a.a)},,,,,,,,,,function(t,e,n){"use strict";var r=n(496);n.d(e,"b",function(){return r.a}),n.d(e,"c",function(){return r.b}),n.d(e,"d",function(){return r.c}),n.d(e,"e",function(){return r.d}),n.d(e,"f",function(){return r.e}),n.d(e,"g",function(){return r.f});var i=n(146);n.d(e,"h",function(){return i.b});var o=n(486);n.d(e,"a",function(){return o.a});var a=n(305);n.d(e,"i",function(){return a.b}),n.d(e,"j",function(){return a.c}),n.d(e,"k",function(){return a.d}),n.d(e,"l",function(){return a.e}),n.d(e,"m",function(){return a.f}),n.d(e,"n",function(){return a.g}),n.d(e,"o",function(){return a.h}),n.d(e,"p",function(){return a.i}),n.d(e,"q",function(){return a.j}),n.d(e,"r",function(){return a.k});var s=n(307);n.d(e,"s",function(){return s.b}),n.d(e,"t",function(){return s.c}),n.d(e,"u",function(){return s.d}),n.d(e,"v",function(){return s.e}),n.d(e,"w",function(){return s.f}),n.d(e,"x",function(){return s.g}),n.d(e,"y",function(){return s.h}),n.d(e,"z",function(){return s.i}),n.d(e,"A",function(){return s.j}),n.d(e,"B",function(){return s.k}),n.d(e,"C",function(){return s.l});var u=n(508);n.d(e,"D",function(){return u.a});var c=n(0);n.d(e,"E",function(){return c.Version})},function(t,e,n){"use strict";var r=n(0),i=n(305),o=n(146),a=n(307);n.d(e,"a",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:[i.a,a.a],exports:[i.a,a.a],providers:[{provide:o.b,useClass:o.c}]}]}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(493),o=n(42);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(n.i(i.a)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create(null):this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create(null))},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+n.i(o.a)(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(r){null!=t[r]&&n._toggleClass(r,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;t=t.trim(),t&&t.split(/\s+/g).forEach(function(t){n._renderer.setElementClass(n._ngEl.nativeElement,t,e)})},t.decorators=[{type:r.Directive,args:[{selector:"[ngClass]"}]}],t.ctorParameters=function(){return[{type:r.IterableDiffers},{type:r.KeyValueDiffers},{type:r.ElementRef},{type:r.Renderer}]},t.propDecorators={klass:[{type:r.Input,args:["class"]}],ngClass:[{type:r.Input}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(42);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t,e,n){this.$implicit=t,this.index=e,this.count=n}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),a=function(){function t(t,e,n,r){this._viewContainer=t,this._template=e,this._differs=n,this._cdr=r,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){n.i(r.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this._cdr,this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+n.i(i.d)(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var a=e._viewContainer.createEmbeddedView(e._template,new o(null,null,null),i),u=new s(t,a);n.push(u)}else if(null==i)e._viewContainer.remove(r);else{var a=e._viewContainer.get(r);e._viewContainer.move(a,i);var u=new s(t,a);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var r=0,i=this._viewContainer.length;r<i;r++){var a=this._viewContainer.get(r);a.context.index=r,a.context.count=i}t.forEachIdentityChange(function(t){var n=e._viewContainer.get(t.currentIndex);n.context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.decorators=[{type:r.Directive,args:[{selector:"[ngFor][ngForOf]"}]}],t.ctorParameters=function(){return[{type:r.ViewContainerRef},{type:r.TemplateRef},{type:r.IterableDiffers},{type:r.ChangeDetectorRef}]},t.propDecorators={ngForOf:[{type:r.Input}],ngForTrackBy:[{type:r.Input}],ngForTemplate:[{type:r.Input}]},t}(),s=function(){function t(t,e){this.record=t,this.view=e}return t}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t,e){this._viewContainer=t,this._template=e,this._hasView=!1}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){t&&!this._hasView?(this._hasView=!0,this._viewContainer.createEmbeddedView(this._template)):!t&&this._hasView&&(this._hasView=!1,this._viewContainer.clear())},enumerable:!0,configurable:!0}),t.decorators=[{type:r.Directive,args:[{selector:"[ngIf]"}]}],t.ctorParameters=function(){return[{type:r.ViewContainerRef},{type:r.TemplateRef}]},t.propDecorators={ngIf:[{type:r.Input}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(146),o=n(306);n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=n.i(i.a)(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t.decorators=[{type:r.Directive,args:[{selector:"[ngPlural]"}]}],t.ctorParameters=function(){return[{type:i.b}]},t.propDecorators={ngPlural:[{type:r.Input}]},t}(),s=function(){function t(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new o.d(n,e))}return t.decorators=[{type:r.Directive,args:[{selector:"[ngPluralCase]"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.Attribute,args:["ngPluralCase"]}]},{type:r.TemplateRef},{type:r.ViewContainerRef},{type:a,decorators:[{type:r.Host}]}]},t}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create(null))},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),r=n[0],i=n[1];e=e&&i?""+e+i:e,this._renderer.setElementStyle(this._ngEl.nativeElement,r,e)},t.decorators=[{type:r.Directive,args:[{selector:"[ngStyle]"}]}],t.ctorParameters=function(){return[{type:r.KeyValueDiffers},{type:r.ElementRef},{type:r.Renderer}]},t.propDecorators={ngStyle:[{type:r.Input}]},t}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t){this._viewContainerRef=t}return Object.defineProperty(t.prototype,"ngOutletContext",{set:function(t){this._context=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngTemplateOutlet",{set:function(t){this._templateRef=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this._templateRef&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this._templateRef,this._context))},t.decorators=[{type:r.Directive,args:[{selector:"[ngTemplateOutlet]"}]}],t.ctorParameters=function(){return[{type:r.ViewContainerRef}]},t.propDecorators={ngOutletContext:[{type:r.Input}],ngTemplateOutlet:[{type:r.Input}]},t}()},function(t,e,n){"use strict";function r(t){return!!n.i(i.e)(t)&&(Array.isArray(t)||!(t instanceof Map)&&n.i(i.f)()in t)}var i=n(42);e.a=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
(function(){function t(){}return t.merge=function(t,e){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=t[o]}for(var a=0,s=Object.keys(e);a<s.length;a++){var o=s[a];n[o]=e[o]}return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!==e[o])return!1}return!0},t})(),function(){function t(){}return t.findLast=function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);r>-1&&t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.flatten=function(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t.flatten(n):n;return e.concat(r)},[])},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this,e);var n=new Error(e);this._nativeError=n}return r(e,t),Object.defineProperty(e.prototype,"message",{get:function(){return this._nativeError.message},set:function(t){this._nativeError.message=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(t){this._nativeError.stack=t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._nativeError.toString()},e}(Error);(function(t){function e(e,n){t.call(this,e+" caused by: "+(n instanceof Error?n.message:n)),this.originalError=n}return r(e,t),Object.defineProperty(e.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),e})(i)},function(t,e,n){"use strict";var r=n(0),i=n(42),o=n(204),a=n(147),s=n(205);n.d(e,"a",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=function(t){function e(e,r){t.call(this),this._platformLocation=e,this._baseHref="",n.i(i.g)(r)&&(this._baseHref=r)}return u(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return n.i(i.g)(e)||(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=o.a.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+o.a.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+o.a.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:s.a},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[a.b]}]}]},e}(a.a)},function(t,e,n){"use strict";var r=n(205);n.d(e,"a",function(){return r.a});var i=n(147);n.d(e,"b",function(){return i.a}),n.d(e,"c",function(){return i.b});var o=n(495);n.d(e,"d",function(){return o.a});var a=n(497);n.d(e,"e",function(){return a.a});var s=n(204);n.d(e,"f",function(){return s.a})},function(t,e,n){"use strict";var r=n(0),i=n(42),o=n(204),a=n(147),s=n(205);n.d(e,"a",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=function(t){function e(e,r){if(t.call(this),this._platformLocation=e,n.i(i.c)(r)&&(r=this._platformLocation.getBaseHrefFromDOM()),n.i(i.c)(r))throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}return u(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return o.a.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+o.a.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+o.a.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+o.a.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:s.a},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[a.b]}]}]},e}(a.a)},function(t,e,n){"use strict";var r=n(0),i=n(507),o=n(60);n.d(e,"a",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),s=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}(),u=new s,c=new a,l=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(n.i(i.a)(e))return u;if(n.i(i.b)(e))return c;throw new o.a(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t.decorators=[{type:r.Pipe,args:[{name:"async",pure:!1}]}],t.ctorParameters=function(){return[{type:r.ChangeDetectorRef}]},t}()},function(t,e,n){"use strict";function r(t){return null==t||""===t}function i(t){return t instanceof Date&&!isNaN(t.valueOf())}function o(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=a(t[9]+t[10]),r=a(t[9]+t[11])),i.call(e,a(t[1]),a(t[2])-1,a(t[3]));var s=a(t[4]||"0")-n,u=a(t[5]||"0")-r,c=a(t[6]||"0"),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,u,c,l),e}function a(t){return parseInt(t,10)}var s=n(0),u=n(42),c=n(308),l=n(60);n.d(e,"a",function(){return p});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,p=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){void 0===n&&(n="mediumDate");var a;if(r(e)||e!==e)return null;if("string"==typeof e&&(e=e.trim()),i(e))a=e;else if(u.b.isNumeric(e))a=new Date(parseFloat(e));else if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var s=e.split("-").map(function(t){return parseInt(t,10)}),p=s[0],f=s[1],d=s[2];a=new Date(p,f-1,d)}else a=new Date(e);if(!i(a)){var m=void 0;if("string"!=typeof e||!(m=e.match(h)))throw new l.a(t,e);a=o(m)}return c.a.format(a,this._locale,t._ALIASES[n]||n)},t._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},t.decorators=[{type:s.Pipe,args:[{name:"date",pure:!0}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:s.Inject,args:[s.LOCALE_ID]}]}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(146),o=n(60);n.d(e,"a",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=/#/g,s=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,r){if(null==e)return"";if("object"!=typeof r||null===r)throw new o.a(t,r);var s=n.i(i.a)(e,Object.keys(r),this._localization);return r[s].replace(a,e.toString())},t.decorators=[{type:r.Pipe,args:[{name:"i18nPlural",pure:!0}]}],t.ctorParameters=function(){return[{type:i.b}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(60);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw new i.a(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t.decorators=[{type:r.Pipe,args:[{name:"i18nSelect",pure:!0}]}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t.decorators=[{type:r.Pipe,args:[{name:"json",pure:!1}]}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(42),o=n(60);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(){}return t.prototype.transform=function(e){if(n.i(i.c)(e))return e;if("string"!=typeof e)throw new o.a(t,e);return e.toLowerCase()},t.decorators=[{type:r.Pipe,args:[{name:"lowercase"}]}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";function r(t,e,n,r,i,c,l){if(void 0===c&&(c=null),void 0===l&&(l=!1),null==n)return null;if(n="string"==typeof n&&o.b.isNumeric(n)?+n:n,"number"!=typeof n)throw new s.a(t,n);var h,p,f;if(r!==a.b.Currency&&(h=1,p=0,f=3),i){var d=i.match(u);if(null===d)throw new Error(i+" is not a valid digit info for number pipes");null!=d[1]&&(h=o.b.parseIntAutoRadix(d[1])),null!=d[3]&&(p=o.b.parseIntAutoRadix(d[3])),null!=d[5]&&(f=o.b.parseIntAutoRadix(d[5]))}return a.c.format(n,e,r,{minimumIntegerDigits:h,minimumFractionDigits:p,maximumFractionDigits:f,currency:c,currencyAsSymbol:l})}var i=n(0),o=n(42),a=n(308),s=n(60);n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return h});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=/^(\d+)?\.((\d+)(-(\d+))?)?$/,c=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return void 0===n&&(n=null),r(t,this._locale,e,a.b.Decimal,n)},t.decorators=[{type:i.Pipe,args:[{name:"number"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}]},t}(),l=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return void 0===n&&(n=null),r(t,this._locale,e,a.b.Percent,n)},t.decorators=[{type:i.Pipe,args:[{name:"percent"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}]},t}(),h=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,i,o){return void 0===n&&(n="USD"),void 0===i&&(i=!1),void 0===o&&(o=null),r(t,this._locale,e,a.b.Currency,o,n,i)},t.decorators=[{type:i.Pipe,args:[{name:"currency"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(60);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(){}return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw new i.a(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t.decorators=[{type:r.Pipe,args:[{name:"slice",pure:!1}]}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";var r=n(0),i=n(42),o=n(60);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(){}return t.prototype.transform=function(e){if(n.i(i.c)(e))return e;if("string"!=typeof e)throw new o.a(t,e);return e.toUpperCase()},t.decorators=[{type:r.Pipe,args:[{name:"uppercase"}]}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=r.__core_private__.isPromise,o=r.__core_private__.isObservable},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=new r.Version("2.4.7")},function(t,e,n){"use strict";var r=n(6);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(t,e){this.time=t,this.value=e}return t.prototype.matches=function(t,e){return t==this.time&&e==this.value},t}(),o=function(){function t(){this.styles={}}return t.prototype.insertAtTime=function(t,e,o){var a=new i(e,o),s=this.styles[t];n.i(r.c)(s)||(s=this.styles[t]=[]);for(var u=0,c=s.length-1;c>=0;c--)if(s[c].time<=e){u=c+1;break}s.splice(u,0,a)},t.prototype.getByIndex=function(t,e){var i=this.styles[t];return n.i(r.c)(i)?e>=i.length?null:i[e]:null},t.prototype.indexOfAtOrBeforeTime=function(t,e){var i=this.styles[t];if(n.i(r.c)(i))for(var o=i.length-1;o>=0;o--)if(i[o].time<=e)return o;return null},t}()},function(t,e,n){"use strict";n(0),n(149),n(62),n(107),n(108),n(63),n(109),n(88),n(152),n(110),n(73),n(155),n(111),n(216),n(112),n(14),n(156),n(158),n(113),n(75),n(114),n(206),n(207),n(208),n(61),n(209),n(210)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(t,e,n){this.srcFileUrl=t,this.genFileUrl=e,this.source=n}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this,e);var n=new Error(e);this._nativeError=n}return r(e,t),Object.defineProperty(e.prototype,"message",{get:function(){return this._nativeError.message},set:function(t){this._nativeError.message=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(t){this._nativeError.stack=t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._nativeError.toString()},e}(Error);(function(t){function e(e,n){t.call(this,e+" caused by: "+(n instanceof Error?n.message:n)),this.originalError=n}return r(e,t),Object.defineProperty(e.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),e})(i)},function(t,e,n){"use strict";var r=n(0),i=n(206),o=n(207),a=n(208),s=n(61),u=n(209),c=n(210),l=n(62),h=n(107),p=n(108),f=n(110),d=n(73),m=n(44),y=n(111),v=n(112),g=n(156),b=n(75),_=n(152),x=n(318);(function(){function t(t,e,n,r){this.host=t,this.staticSymbolResolver=e,this.messageBundle=n,this.metadataResolver=r}return t.prototype.extract=function(t){var e=this,r=n.i(i.a)(this.staticSymbolResolver,t,this.host),o=n.i(i.b)(r,this.host,this.metadataResolver),a=o.files,s=o.ngModules;return Promise.all(s.map(function(t){return e.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){var t=[];if(a.forEach(function(n){var r=[];n.directives.forEach(function(t){var n=e.metadataResolver.getDirectiveMetadata(t);n&&n.isComponent&&r.push(n)}),r.forEach(function(r){var i=r.template.template,o=m.b.fromArray(r.template.interpolation);t.push.apply(t,e.messageBundle.updateFromTemplate(i,n.srcUrl,o))})}),t.length)throw new Error(t.map(function(t){return t.toString()}).join("\n"));return e.messageBundle})},t.create=function(e){var i=new _.a(new d.a),m=n.i(b.c)(),w=new s.b,C=new c.a(e,w),S=new u.a(e,w,C),E=new a.a(S);o.a.install(E);var T=new l.a({genDebugInfo:!1,defaultEncapsulation:r.ViewEncapsulation.Emulated,logBindingUpdate:!1,useJit:!1}),M=new h.a({get:function(t){return e.loadResource(t)}},m,i,T),A=new g.a,P=new f.a(new y.a(E),new p.a(E),new v.a(E),C,A,M,E),k=new x.a(i,[],{}),R=new t(e,S,k,P);return{extractor:R,staticReflector:E}},t})()},function(t,e,n){"use strict";function r(t){var e=new p(h,t);return function(t,n,r){return e.toI18nMessage(t,n,r)}}function i(t){return t.split(f)[1]}var o=n(109),a=n(88),s=n(64),u=n(213),c=n(151),l=n(515);e.a=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=new a.a(new o.c),p=function(){function t(t,e){this._expressionParser=t,this._interpolationConfig=e}return t.prototype.toI18nMessage=function(t,e,n){this._isIcu=1==t.length&&t[0]instanceof s.b,this._icuDepth=0,this._placeholderRegistry=new l.a,this._placeholderToContent={},this._placeholderToMessage={};var r=s.g(this,t,{});return new c.e(r,this._placeholderToContent,this._placeholderToMessage,e,n)},t.prototype.visitElement=function(t,e){var r=s.g(this,t.children),i={};t.attrs.forEach(function(t){i[t.name]=t.value});var o=n.i(u.a)(t.name).isVoid,a=this._placeholderRegistry.getStartTagPlaceholderName(t.name,i,o);this._placeholderToContent[a]=t.sourceSpan.toString();var l="";return o||(l=this._placeholderRegistry.getCloseTagPlaceholderName(t.name),this._placeholderToContent[l]="</"+t.name+">"),new c.f(t.name,i,a,l,r,o,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitExpansion=function(e,n){var r=this;this._icuDepth++;var i={},o=new c.c(e.switchValue,e.type,i,e.sourceSpan);if(e.cases.forEach(function(t){i[t.value]=new c.b(t.expression.map(function(t){return t.visit(r,{})}),t.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){var a=this._placeholderRegistry.getUniquePlaceholder("VAR_"+e.type);return o.expressionPlaceholder=a,this._placeholderToContent[a]=e.switchValue,o}var s=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString()),u=new t(this._expressionParser,this._interpolationConfig);return this._placeholderToMessage[s]=u.toI18nMessage([e],"",""),new c.g(o,s,e.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){throw new Error("Unreachable code")},t.prototype._visitTextWithInterpolation=function(t,e){var n=this._expressionParser.splitInterpolation(t,e.start.toString(),this._interpolationConfig);if(!n)return new c.a(t,e);for(var r=[],o=new c.b(r,e),a=this._interpolationConfig,s=a.start,u=a.end,l=0;l<n.strings.length-1;l++){var h=n.expressions[l],p=i(h)||"INTERPOLATION",f=this._placeholderRegistry.getPlaceholderName(p,h);n.strings[l].length&&r.push(new c.a(n.strings[l],e)),r.push(new c.d(h,f,e)),this._placeholderToContent[f]=s+h+u}var d=n.strings.length-1;return n.strings[d].length&&r.push(new c.a(n.strings[d],e)),o},t}(),f=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*"([\s\S]*?)"[\s\S]*\)/g},function(t,e,n){"use strict";n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},i=function(){function t(){this._placeHolderNameCounts={},this._signatureToName={}}return t.prototype.getStartTagPlaceholderName=function(t,e,n){var i=this._hashTag(t,e,n);if(this._signatureToName[i])return this._signatureToName[i];var o=t.toUpperCase(),a=r[o]||"TAG_"+o,s=this._generateUniqueName(n?a:"START_"+a);return this._signatureToName[i]=s,s},t.prototype.getCloseTagPlaceholderName=function(t){var e=this._hashClosingTag(t);if(this._signatureToName[e])return this._signatureToName[e];var n=t.toUpperCase(),i=r[n]||"TAG_"+n,o=this._generateUniqueName("CLOSE_"+i);return this._signatureToName[e]=o,o},t.prototype.getPlaceholderName=function(t,e){var n=t.toUpperCase(),r="PH: "+n+"="+e;if(this._signatureToName[r])return this._signatureToName[r];var i=this._generateUniqueName(n);return this._signatureToName[r]=i,i},t.prototype.getUniquePlaceholder=function(t){return this._generateUniqueName(t.toUpperCase())},t.prototype._hashTag=function(t,e,n){var r="<"+t,i=Object.keys(e).sort().map(function(t){return" "+t+"="+e[t]}).join(""),o=n?"/>":"></"+t+">";return r+i+o},t.prototype._hashClosingTag=function(t){return this._hashTag("/"+t,{},!1)},t.prototype._generateUniqueName=function(t){var e=this._placeHolderNameCounts.hasOwnProperty(t);if(!e)return this._placeHolderNameCounts[t]=1,t;var n=this._placeHolderNameCounts[t];return this._placeHolderNameCounts[t]=n+1,t+"_"+n},t}()},function(t,e,n){"use strict";var r=n(73),i=n(153);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t,e,n){void 0===t&&(t={}),this._i18nNodesByMsgId=t,this.digest=e,this.mapperFactory=n,this._i18nToHtml=new a(t,e,n)}return t.load=function(e,n,r){var i=r.load(e,n),o=function(t){return r.digest(t)},a=function(t){return r.createNameMapper(t)};return new t(i,o,a)},t.prototype.get=function(t){var e=this._i18nToHtml.convert(t);if(e.errors.length)throw new Error(e.errors.join("\n"));return e.nodes},t.prototype.has=function(t){return this.digest(t)in this._i18nNodesByMsgId},t}(),a=function(){function t(t,e,n){void 0===t&&(t={}),this._i18nNodesByMsgId=t,this._digest=e,this._mapperFactory=n,this._contextStack=[],this._errors=[]}return t.prototype.convert=function(t){this._contextStack.length=0,this._errors.length=0;var e=this._convertToText(t),n=t.nodes[0].sourceSpan.start.file.url,i=(new r.a).parse(e,n,!0);return{nodes:i.rootNodes,errors:this._errors.concat(i.errors)}},t.prototype.visitText=function(t,e){return t.value},t.prototype.visitContainer=function(t,e){var n=this;return t.children.map(function(t){return t.visit(n)}).join("")},t.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"}),i=this._srcMsg.placeholders.hasOwnProperty(t.expression)?this._srcMsg.placeholders[t.expression]:t.expression;return"{"+i+", "+t.type+", "+r.join(" ")+"}"},t.prototype.visitPlaceholder=function(t,e){var n=this._mapper(t.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(t,"Unknown placeholder"),"")},t.prototype.visitTagPlaceholder=function(t,e){throw"unreachable code"},t.prototype.visitIcuPlaceholder=function(t,e){throw"unreachable code"},t.prototype._convertToText=function(t){var e=this,n=this._digest(t),r=this._mapperFactory?this._mapperFactory(t):null;if(this._i18nNodesByMsgId.hasOwnProperty(n)){this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=t,this._mapper=function(t){return r?r.toInternalName(t):t};var i=this._i18nNodesByMsgId[n],o=i.map(function(t){return t.visit(e)}).join(""),a=this._contextStack.pop();return this._srcMsg=a.msg,this._mapper=a.mapper,o}return this._addError(t.nodes[0],"Missing translation for message "+n),""},t.prototype._addError=function(t,e){this._errors.push(new i.a(t.sourceSpan,e))},t}()},function(t,e,n){"use strict";function r(){w.c.reflectionCapabilities=new w.L}function i(t){return{useDebug:o(t.map(function(t){return t.useDebug})),useJit:o(t.map(function(t){return t.useJit})),defaultEncapsulation:o(t.map(function(t){return t.defaultEncapsulation})),providers:a(t.map(function(t){return t.providers}))}}function o(t){for(var e=t.length-1;e>=0;e--)if(void 0!==t[e])return t[e]}function a(t){var e=[];return t.forEach(function(t){return t&&e.push.apply(e,t)}),e}var s=n(0),u=n(149),c=n(62),l=n(107),h=n(108),p=n(63),f=n(109),d=n(88),m=n(317),y=n(17),v=n(110),g=n(73),b=n(155),_=n(111),x=n(112),w=n(14),C=n(217),S=n(156),E=n(65),T=n(158),M=n(218),A=n(113),P=n(75),k=n(114),R=n(322);n.d(e,"a",function(){return F});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var O=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},I=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},N={get:function(t){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \""+t+'"')}},D=new s.OpaqueToken("HtmlParser"),L=[{provide:w.N,useValue:w.c},{provide:w.K,useExisting:w.N},{provide:C.a,useValue:N},M.a,w.F,f.c,d.a,{provide:D,useClass:g.a},{provide:m.a,useFactory:function(t,e,n){return new m.a(t,e,n)},deps:[D,[new s.Optional,new s.Inject(s.TRANSLATIONS)],[new s.Optional,new s.Inject(s.TRANSLATIONS_FORMAT)]]},{provide:g.a,useExisting:m.a},A.a,l.a,v.a,P.d,T.a,k.d,b.a,p.a,{provide:c.a,useValue:new c.a},R.a,{provide:s.Compiler,useExisting:R.a},S.a,{provide:E.a,useExisting:S.a},P.a,h.a,x.a,_.a,u.a],V=function(){function t(t){this._defaultOptions=[{useDebug:n.i(s.isDevMode)(),useJit:!0,defaultEncapsulation:s.ViewEncapsulation.Emulated}].concat(t)}return t.prototype.createCompiler=function(t){void 0===t&&(t=[]);var e=i(this._defaultOptions.concat(t)),n=s.ReflectiveInjector.resolveAndCreate([L,{provide:c.a,useFactory:function(){return new c.a({genDebugInfo:e.useDebug,useJit:e.useJit,defaultEncapsulation:e.defaultEncapsulation,logBindingUpdate:e.useDebug})},deps:[]},e.providers]);return n.get(s.Compiler)},t.ctorParameters=function(){return[{type:Array,decorators:[{type:s.Inject,args:[s.COMPILER_OPTIONS]}]}]},t=O([n.i(y.a)(),I("design:paramtypes",[Array])],t)}(),F=n.i(s.createPlatformFactory)(s.platformCore,"coreDynamic",[{provide:s.COMPILER_OPTIONS,useValue:{},multi:!0},{provide:s.CompilerFactory,useClass:V},{provide:s.PLATFORM_INITIALIZER,useValue:r,multi:!0}])},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e){return o.c.hasLifecycleHook(e,i(t))}function i(t){switch(t){case o.G.OnInit:return"ngOnInit";case o.G.OnDestroy:return"ngOnDestroy";case o.G.DoCheck:return"ngDoCheck";case o.G.OnChanges:return"ngOnChanges";case o.G.AfterContentInit:return"ngAfterContentInit";case o.G.AfterContentChecked:return"ngAfterContentChecked";case o.G.AfterViewInit:return"ngAfterViewInit";case o.G.AfterViewChecked:return"ngAfterViewChecked"}}var o=n(14);e.a=r},function(t,e,n){"use strict";function r(t){var e=new p;return new l(s.g(e,t),e.isExpanded,e.errors)}function i(t,e){var n=t.cases.map(function(t){c.indexOf(t.value)!=-1||t.value.match(/^=\d+$/)||e.push(new h(t.valueSourceSpan,'Plural cases should be "=<number>" or one of '+c.join(", ")));var n=r(t.expression);return e.push.apply(e,n.errors),new s.e("template",[new s.f("ngPluralCase",""+t.value,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),i=new s.f("[ngPlural]",t.switchValue,t.switchValueSourceSpan);return new s.e("ng-container",[i],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}function o(t,e){var n=t.cases.map(function(t){var n=r(t.expression);return e.push.apply(e,n.errors),"other"===t.value?new s.e("template",[new s.f("ngSwitchDefault","",t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan):new s.e("template",[new s.f("ngSwitchCase",""+t.value,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),i=new s.f("[ngSwitch]",t.switchValue,t.switchValueSourceSpan);return new s.e("ng-container",[i],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}var a=n(35),s=n(64);e.a=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=["zero","one","two","few","many","other"],l=function(){function t(t,e,n){this.nodes=t,this.expanded=e,this.errors=n}return t}(),h=function(t){function e(e,n){t.call(this,e,n)}return u(e,t),e}(a.a),p=function(){function t(){this.isExpanded=!1,this.errors=[]}return t.prototype.visitElement=function(t,e){return new s.e(t.name,t.attrs,s.g(this,t.children),t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},t.prototype.visitAttribute=function(t,e){return t},t.prototype.visitText=function(t,e){return t},t.prototype.visitComment=function(t,e){return t},t.prototype.visitExpansion=function(t,e){return this.isExpanded=!0,"plural"==t.type?i(t,this.errors):o(t,this.errors)},t.prototype.visitExpansionCase=function(t,e){throw new Error("Should not be reached")},t}()},function(t,e,n){"use strict";function r(t,e,n,r,i){return void 0===r&&(r=!1),void 0===i&&(i=g.a),new M(new v.b(t,e),n,r,i).tokenize()}function i(t){var e=t===y.m?"EOF":String.fromCharCode(t);return'Unexpected character "'+e+'"'}function o(t){return'Unknown entity "'+t+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function a(t){return!y.F(t)||t===y.m}function s(t){return y.F(t)||t===y.z||t===y.b||t===y.p||t===y.q||t===y.A}function u(t){return(t<y.I||y.J<t)&&(t<y.K||y.L<t)&&(t<y._3||t>y._4)}function c(t){return t==y.c||t==y.m||!y._5(t)}function l(t){return t==y.c||t==y.m||!y.O(t)}function h(t,e,n){var r=!!n&&t.indexOf(n.start,e)==e;return t.charCodeAt(e)==y.j&&!r}function p(t){return t===y.A||y.O(t)}function f(t,e){return d(t)==d(e)}function d(t){return t>=y.I&&t<=y.J?t-y.I+y.K:t}function m(t){for(var e,n=[],r=0;r<t.length;r++){var i=t[r];e&&e.type==x.TEXT&&i.type==x.TEXT?(e.parts[0]+=i.parts[0],e.sourceSpan.end=i.sourceSpan.end):(e=i,n.push(e))}return n}var y=n(150),v=n(35),g=n(44),b=n(74);n.d(e,"b",function(){return x}),n.d(e,"c",function(){return w}),e.a=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var _=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},x={};x.TAG_OPEN_START=0,x.TAG_OPEN_END=1,x.TAG_OPEN_END_VOID=2,x.TAG_CLOSE=3,x.TEXT=4,x.ESCAPABLE_RAW_TEXT=5,x.RAW_TEXT=6,x.COMMENT_START=7,x.COMMENT_END=8,x.CDATA_START=9,x.CDATA_END=10,x.ATTR_NAME=11,x.ATTR_VALUE=12,x.DOC_TYPE=13,x.EXPANSION_FORM_START=14,x.EXPANSION_CASE_VALUE=15,x.EXPANSION_CASE_EXP_START=16,x.EXPANSION_CASE_EXP_END=17,x.EXPANSION_FORM_END=18,x.EOF=19,x[x.TAG_OPEN_START]="TAG_OPEN_START",x[x.TAG_OPEN_END]="TAG_OPEN_END",x[x.TAG_OPEN_END_VOID]="TAG_OPEN_END_VOID",x[x.TAG_CLOSE]="TAG_CLOSE",x[x.TEXT]="TEXT",x[x.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",x[x.RAW_TEXT]="RAW_TEXT",x[x.COMMENT_START]="COMMENT_START",x[x.COMMENT_END]="COMMENT_END",x[x.CDATA_START]="CDATA_START",x[x.CDATA_END]="CDATA_END",x[x.ATTR_NAME]="ATTR_NAME",x[x.ATTR_VALUE]="ATTR_VALUE",x[x.DOC_TYPE]="DOC_TYPE",x[x.EXPANSION_FORM_START]="EXPANSION_FORM_START",x[x.EXPANSION_CASE_VALUE]="EXPANSION_CASE_VALUE",x[x.EXPANSION_CASE_EXP_START]="EXPANSION_CASE_EXP_START",x[x.EXPANSION_CASE_EXP_END]="EXPANSION_CASE_EXP_END",x[x.EXPANSION_FORM_END]="EXPANSION_FORM_END",x[x.EOF]="EOF";var w=function(){function t(t,e,n){this.type=t,this.parts=e,this.sourceSpan=n}return t}(),C=function(t){function e(e,n,r){t.call(this,r,e),this.tokenType=n}return _(e,t),e}(v.a),S=function(){function t(t,e){this.tokens=t,this.errors=e}return t}(),E=/\r\n?/g,T=function(){function t(t){this.error=t}return t}(),M=function(){function t(t,e,n,r){void 0===r&&(r=g.a),this._file=t,this._getTagDefinition=e,this._tokenizeIcu=n,this._interpolationConfig=r,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=t.content,this._length=t.content.length,this._advance()}return t.prototype._processCarriageReturns=function(t){return t.replace(E,"\n")},t.prototype.tokenize=function(){for(;this._peek!==y.m;){var t=this._getLocation();try{this._attemptCharCode(y.y)?this._attemptCharCode(y.B)?this._attemptCharCode(y.f)?this._consumeCdata(t):this._attemptCharCode(y.t)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(y.b)?this._consumeTagClose(t):this._consumeTagOpen(t):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){if(!(t instanceof T))throw t;this.errors.push(t.error)}}return this._beginToken(x.EOF),this._endToken([]),new S(m(this.tokens),this.errors)},t.prototype._tokenizeExpansionForm=function(){if(h(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(p(this._peek)&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._peek===y.l){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},t.prototype._getLocation=function(){return new v.d(this._file,this._index,this._line,this._column)},t.prototype._getSpan=function(t,e){return void 0===t&&(t=this._getLocation()),void 0===e&&(e=this._getLocation()),new v.c(t,e)},t.prototype._beginToken=function(t,e){void 0===e&&(e=this._getLocation()),this._currentTokenStart=e,this._currentTokenType=t},t.prototype._endToken=function(t,e){void 0===e&&(e=this._getLocation());var n=new w(this._currentTokenType,t,new v.c(this._currentTokenStart,e));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n},t.prototype._createError=function(t,e){this._isInExpansionForm()&&(t+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var n=new C(t,this._currentTokenType,e);return this._currentTokenStart=null,this._currentTokenType=null,new T(n)},t.prototype._advance=function(){if(this._index>=this._length)throw this._createError(i(y.m),this._getSpan());this._peek===y.a?(this._line++,this._column=0):this._peek!==y.a&&this._peek!==y.W&&this._column++,this._index++,this._peek=this._index>=this._length?y.m:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?y.m:this._input.charCodeAt(this._index+1)},t.prototype._attemptCharCode=function(t){return this._peek===t&&(this._advance(),!0)},t.prototype._attemptCharCodeCaseInsensitive=function(t){return!!f(this._peek,t)&&(this._advance(),!0)},t.prototype._requireCharCode=function(t){var e=this._getLocation();if(!this._attemptCharCode(t))throw this._createError(i(this._peek),this._getSpan(e,e))},t.prototype._attemptStr=function(t){var e=t.length;if(this._index+e>this._length)return!1;for(var n=this._savePosition(),r=0;r<e;r++)if(!this._attemptCharCode(t.charCodeAt(r)))return this._restorePosition(n),!1;return!0},t.prototype._attemptStrCaseInsensitive=function(t){for(var e=0;e<t.length;e++)if(!this._attemptCharCodeCaseInsensitive(t.charCodeAt(e)))return!1;return!0},t.prototype._requireStr=function(t){var e=this._getLocation();if(!this._attemptStr(t))throw this._createError(i(this._peek),this._getSpan(e))},t.prototype._attemptCharCodeUntilFn=function(t){for(;!t(this._peek);)this._advance()},t.prototype._requireCharCodeUntilFn=function(t,e){var n=this._getLocation();if(this._attemptCharCodeUntilFn(t),this._index-n.offset<e)throw this._createError(i(this._peek),this._getSpan(n,n))},t.prototype._attemptUntilChar=function(t){for(;this._peek!==t;)this._advance()},t.prototype._readChar=function(t){if(t&&this._peek===y.C)return this._decodeEntity();var e=this._index;return this._advance(),this._input[e]},t.prototype._decodeEntity=function(){var t=this._getLocation();if(this._advance(),!this._attemptCharCode(y.r)){var e=this._savePosition();if(this._attemptCharCodeUntilFn(l),this._peek!=y.c)return this._restorePosition(e),"&";this._advance();var n=this._input.substring(t.offset+1,this._index-1),r=b.d[n];if(!r)throw this._createError(o(n),this._getSpan(t));return r}var a=this._attemptCharCode(y._1)||this._attemptCharCode(y._2),s=this._getLocation().offset;if(this._attemptCharCodeUntilFn(c),this._peek!=y.c)throw this._createError(i(this._peek),this._getSpan());this._advance();var u=this._input.substring(s,this._index-1);try{var h=parseInt(u,a?16:10);return String.fromCharCode(h)}catch(e){var p=this._input.substring(t.offset+1,this._index-1);throw this._createError(o(p),this._getSpan(t))}},t.prototype._consumeRawText=function(t,e,n){var r,i=this._getLocation();this._beginToken(t?x.ESCAPABLE_RAW_TEXT:x.RAW_TEXT,i);for(var o=[];;){if(r=this._getLocation(),this._attemptCharCode(e)&&n())break;for(this._index>r.offset&&o.push(this._input.substring(r.offset,this._index));this._peek!==e;)o.push(this._readChar(t))}return this._endToken([this._processCarriageReturns(o.join(""))],r)},t.prototype._consumeComment=function(t){var e=this;this._beginToken(x.COMMENT_START,t),this._requireCharCode(y.t),this._endToken([]);var n=this._consumeRawText(!1,y.t,function(){return e._attemptStr("->")});this._beginToken(x.COMMENT_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeCdata=function(t){var e=this;this._beginToken(x.CDATA_START,t),this._requireStr("CDATA["),this._endToken([]);var n=this._consumeRawText(!1,y.g,function(){return e._attemptStr("]>")});this._beginToken(x.CDATA_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeDocType=function(t){this._beginToken(x.DOC_TYPE,t),this._attemptUntilChar(y.z),this._advance(),this._endToken([this._input.substring(t.offset+2,this._index-1)])},t.prototype._consumePrefixAndName=function(){for(var t=this._index,e=null;this._peek!==y.d&&!u(this._peek);)this._advance();var n;this._peek===y.d?(this._advance(),e=this._input.substring(t,this._index-1),n=this._index):n=t,this._requireCharCodeUntilFn(s,this._index===n?1:0);var r=this._input.substring(n,this._index);return[e,r]},t.prototype._consumeTagOpen=function(t){var e,n,r=this._savePosition();try{if(!y.O(this._peek))throw this._createError(i(this._peek),this._getSpan());var o=this._index;for(this._consumeTagOpenStart(t),e=this._input.substring(o,this._index),n=e.toLowerCase(),this._attemptCharCodeUntilFn(a);this._peek!==y.b&&this._peek!==y.z;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(a),this._attemptCharCode(y.A)&&(this._attemptCharCodeUntilFn(a),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(a);this._consumeTagOpenEnd()}catch(e){if(e instanceof T)return this._restorePosition(r),this._beginToken(x.TEXT,t),void this._endToken(["<"]);throw e}var s=this._getTagDefinition(e).contentType;s===b.a.RAW_TEXT?this._consumeRawTextWithTagClose(n,!1):s===b.a.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,!0)},t.prototype._consumeRawTextWithTagClose=function(t,e){var n=this,r=this._consumeRawText(e,y.y,function(){return!!n._attemptCharCode(y.b)&&(n._attemptCharCodeUntilFn(a),!!n._attemptStrCaseInsensitive(t)&&(n._attemptCharCodeUntilFn(a),n._attemptCharCode(y.z)))});this._beginToken(x.TAG_CLOSE,r.sourceSpan.end),this._endToken([null,t])},t.prototype._consumeTagOpenStart=function(t){this._beginToken(x.TAG_OPEN_START,t);var e=this._consumePrefixAndName();this._endToken(e)},t.prototype._consumeAttributeName=function(){this._beginToken(x.ATTR_NAME);var t=this._consumePrefixAndName();this._endToken(t)},t.prototype._consumeAttributeValue=function(){this._beginToken(x.ATTR_VALUE);var t;if(this._peek===y.p||this._peek===y.q){var e=this._peek;this._advance();for(var n=[];this._peek!==e;)n.push(this._readChar(!0));t=n.join(""),this._advance()}else{var r=this._index;this._requireCharCodeUntilFn(s,1),t=this._input.substring(r,this._index)}this._endToken([this._processCarriageReturns(t)])},t.prototype._consumeTagOpenEnd=function(){var t=this._attemptCharCode(y.b)?x.TAG_OPEN_END_VOID:x.TAG_OPEN_END;this._beginToken(t),this._requireCharCode(y.z),this._endToken([])},t.prototype._consumeTagClose=function(t){this._beginToken(x.TAG_CLOSE,t),this._attemptCharCodeUntilFn(a);var e=this._consumePrefixAndName();this._attemptCharCodeUntilFn(a),this._requireCharCode(y.z),this._endToken(e)},t.prototype._consumeExpansionFormStart=function(){this._beginToken(x.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(y.j),this._endToken([]),this._expansionCaseStack.push(x.EXPANSION_FORM_START),this._beginToken(x.RAW_TEXT,this._getLocation());var t=this._readUntil(y.k);this._endToken([t],this._getLocation()),this._requireCharCode(y.k),this._attemptCharCodeUntilFn(a),this._beginToken(x.RAW_TEXT,this._getLocation());var e=this._readUntil(y.k);this._endToken([e],this._getLocation()),this._requireCharCode(y.k),this._attemptCharCodeUntilFn(a)},t.prototype._consumeExpansionCaseStart=function(){this._beginToken(x.EXPANSION_CASE_VALUE,this._getLocation());var t=this._readUntil(y.j).trim();this._endToken([t],this._getLocation()),this._attemptCharCodeUntilFn(a),this._beginToken(x.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(y.j),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(a),this._expansionCaseStack.push(x.EXPANSION_CASE_EXP_START)},t.prototype._consumeExpansionCaseEnd=function(){this._beginToken(x.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(y.l),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(a),this._expansionCaseStack.pop()},t.prototype._consumeExpansionFormEnd=function(){this._beginToken(x.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(y.l),this._endToken([]),this._expansionCaseStack.pop()},t.prototype._consumeText=function(){var t=this._getLocation();this._beginToken(x.TEXT,t);var e=[];do this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(e.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(e.push(this._interpolationConfig.end),this._inInterpolation=!1):e.push(this._readChar(!0));while(!this._isTextEnd());this._endToken([this._processCarriageReturns(e.join(""))])},t.prototype._isTextEnd=function(){if(this._peek===y.y||this._peek===y.m)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(h(this._input,this._index,this._interpolationConfig))return!0;if(this._peek===y.l&&this._isInExpansionCase())return!0}return!1},t.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},t.prototype._readUntil=function(t){var e=this._index;return this._attemptUntilChar(t),this._input.substring(e,this._index)},t.prototype._restorePosition=function(t){this._peek=t[0],this._index=t[1],this._column=t[2],this._line=t[3];var e=t[4];e<this.tokens.length&&(this.tokens=this.tokens.slice(0,e))},t.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===x.EXPANSION_CASE_EXP_START},t.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===x.EXPANSION_FORM_START},t}()},function(t,e,n){"use strict";function r(t){return a}var i=n(74);e.a=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(){this.closedByParent=!1,this.contentType=i.a.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return t.prototype.requireExtraParent=function(t){return!1},t.prototype.isClosedByChild=function(t){return!1},t}(),a=new o},function(t,e,n){"use strict";var r=n(6),i=n(214),o=n(9);n.d(e,"a",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(t){function e(){t.call(this,!1)}return a(e,t),e.prototype.visitDeclareClassStmt=function(t,e){var i=this;return e.pushClass(t),this._visitClassConstructor(t,e),n.i(r.c)(t.parent)&&(e.print(t.name+".prototype = Object.create("),t.parent.visitExpression(this,e),e.println(".prototype);")),t.getters.forEach(function(n){return i._visitClassGetter(t,n,e)}),t.methods.forEach(function(n){return i._visitClassMethod(t,n,e)}),e.popClass(),null},e.prototype._visitClassConstructor=function(t,e){e.print("function "+t.name+"("),n.i(r.c)(t.constructorMethod)&&this._visitParams(t.constructorMethod.params,e),e.println(") {"),e.incIndent(),n.i(r.c)(t.constructorMethod)&&t.constructorMethod.body.length>0&&(e.println("var self = this;"),this.visitAllStatements(t.constructorMethod.body,e)),e.decIndent(),e.println("}")},e.prototype._visitClassGetter=function(t,e,n){n.println("Object.defineProperty("+t.name+".prototype, '"+e.name+"', { get: function() {"),n.incIndent(),e.body.length>0&&(n.println("var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println("}});")},e.prototype._visitClassMethod=function(t,e,n){n.print(t.name+".prototype."+e.name+" = function("),this._visitParams(e.params,n),n.println(") {"),n.incIndent(),e.body.length>0&&(n.println("var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println("};")},e.prototype.visitReadVarExpr=function(e,n){if(e.builtin===o.F.This)n.print("self");else{if(e.builtin===o.F.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");t.prototype.visitReadVarExpr.call(this,e,n)}return null},e.prototype.visitDeclareVarStmt=function(t,e){return e.print("var "+t.name+" = "),t.value.visitExpression(this,e),e.println(";"),null},e.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),null},e.prototype.visitInvokeFunctionExpr=function(e,n){var r=e.fn;return r instanceof o.A&&r.builtin===o.F.Super?(n.currentClass.parent.visitExpression(this,n),n.print(".call(this"),e.args.length>0&&(n.print(", "),this.visitAllExpressions(e.args,n,",")),n.print(")")):t.prototype.visitInvokeFunctionExpr.call(this,e,n),null},e.prototype.visitFunctionExpr=function(t,e){return e.print("function("),this._visitParams(t.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print("}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.print("function "+t.name+"("),this._visitParams(t.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println("}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println("try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println("} catch ("+i.b.name+") {"),e.incIndent();var n=[i.c.set(i.b.prop("stack")).toDeclStmt(null,[o.k.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println("}"),null},e.prototype._visitParams=function(t,e){this.visitAllObjects(function(t){return e.print(t.name)},t,e,",")},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case o.O.ConcatArray:e="concat";break;case o.O.SubscribeObservable:e="subscribe";break;case o.O.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e}(i.d)},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e){var r=t.concat([new u.t(u.a(e))]),i=new l(null,null,null,new Map),o=new p,a=o.visitAllStatements(r,i);return n.i(s.c)(a)?a.value:null}function i(t,e,r,i,o){for(var a=i.createChildWihtLocalVars(),u=0;u<t.length;u++)a.vars.set(t[u],e[u]);var c=o.visitAllStatements(r,a);return n.i(s.c)(c)?c.value:null}function o(t,e,n){var r={};t.getters.forEach(function(o){r[o.name]={configurable:!1,get:function(){var r=new l(e,this,t.name,e.vars);return i([],[],o.body,r,n)}}}),t.methods.forEach(function(o){var a=o.params.map(function(t){return t.name});r[o.name]={writable:!1,configurable:!1,value:function(){for(var r=[],s=0;s<arguments.length;s++)r[s-0]=arguments[s];var u=new l(e,this,t.name,e.vars);return i(a,r,o.body,u,n)}}});var o=t.constructorMethod.params.map(function(t){return t.name}),a=function(){for(var r=this,a=[],s=0;s<arguments.length;s++)a[s-0]=arguments[s];var u=new l(e,this,t.name,e.vars);t.fields.forEach(function(t){r[t.name]=void 0}),i(o,a,t.constructorMethod.body,u,n)},s=t.parent?t.parent.visitExpression(n,e):Object;return a.prototype=Object.create(s.prototype,r),a}function a(t,e,n,r){return function(){for(var o=[],a=0;a<arguments.length;a++)o[a-0]=arguments[a];return i(t,o,e,n,r)}}var s=n(6),u=n(9),c=n(216);e.a=r;var l=function(){function t(t,e,n,r){this.parent=t,this.instance=e,this.className=n,this.vars=r}return t.prototype.createChildWihtLocalVars=function(){return new t(this,this.instance,this.className,new Map)},t}(),h=function(){function t(t){this.value=t}return t}(),p=function(){function t(){}return t.prototype.debugAst=function(t){return n.i(c.a)(t)},t.prototype.visitDeclareVarStmt=function(t,e){return e.vars.set(t.name,t.value.visitExpression(this,e)),null},t.prototype.visitWriteVarExpr=function(t,e){for(var n=t.value.visitExpression(this,e),r=e;null!=r;){if(r.vars.has(t.name))return r.vars.set(t.name,n),n;r=r.parent}throw new Error("Not declared variable "+t.name)},t.prototype.visitReadVarExpr=function(t,e){var r=t.name;if(n.i(s.c)(t.builtin))switch(t.builtin){case u.F.Super:return e.instance.__proto__;case u.F.This:return e.instance;case u.F.CatchError:r=f;break;case u.F.CatchStack:r=d;break;default:throw new Error("Unknown builtin variable "+t.builtin)}for(var i=e;null!=i;){if(i.vars.has(r))return i.vars.get(r);i=i.parent}throw new Error("Not declared variable "+r)},t.prototype.visitWriteKeyExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.index.visitExpression(this,e),i=t.value.visitExpression(this,e);return n[r]=i,i},t.prototype.visitWritePropExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.value.visitExpression(this,e);return n[t.name]=r,r},t.prototype.visitInvokeMethodExpr=function(t,e){var r,i=t.receiver.visitExpression(this,e),o=this.visitAllExpressions(t.args,e);if(n.i(s.c)(t.builtin))switch(t.builtin){case u.O.ConcatArray:r=i.concat.apply(i,o);break;case u.O.SubscribeObservable:r=i.subscribe({next:o[0]});break;case u.O.Bind:r=i.bind.apply(i,o);break;default:throw new Error("Unknown builtin method "+t.builtin)}else r=i[t.name].apply(i,o);return r},t.prototype.visitInvokeFunctionExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.fn;if(r instanceof u.A&&r.builtin===u.F.Super)return e.instance.constructor.prototype.constructor.apply(e.instance,n),null;var i=t.fn.visitExpression(this,e);return i.apply(null,n)},t.prototype.visitReturnStmt=function(t,e){return new h(t.value.visitExpression(this,e))},t.prototype.visitDeclareClassStmt=function(t,e){var n=o(t,e,this);return e.vars.set(t.name,n),null},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e)},t.prototype.visitIfStmt=function(t,e){var r=t.condition.visitExpression(this,e);return r?this.visitAllStatements(t.trueCase,e):n.i(s.c)(t.falseCase)?this.visitAllStatements(t.falseCase,e):null},t.prototype.visitTryCatchStmt=function(t,e){try{return this.visitAllStatements(t.bodyStmts,e)}catch(r){var n=e.createChildWihtLocalVars();return n.vars.set(f,r),n.vars.set(d,r.stack),this.visitAllStatements(t.catchStmts,n)}},t.prototype.visitThrowStmt=function(t,e){throw t.error.visitExpression(this,e)},t.prototype.visitCommentStmt=function(t,e){return null},t.prototype.visitInstantiateExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.classExpr.visitExpression(this,e);return new(r.bind.apply(r,[void 0].concat(n)))},t.prototype.visitLiteralExpr=function(t,e){return t.value},t.prototype.visitExternalExpr=function(t,e){return t.value.reference},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e)?t.trueCase.visitExpression(this,e):n.i(s.c)(t.falseCase)?t.falseCase.visitExpression(this,e):null},t.prototype.visitNotExpr=function(t,e){return!t.condition.visitExpression(this,e)},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e)},t.prototype.visitFunctionExpr=function(t,e){var n=t.params.map(function(t){return t.name});return a(n,t.statements,e,this)},t.prototype.visitDeclareFunctionStmt=function(t,e){var n=t.params.map(function(t){return t.name});return e.vars.set(t.name,a(n,t.statements,e,this)),null},t.prototype.visitBinaryOperatorExpr=function(t,e){var n=this,r=function(){return t.lhs.visitExpression(n,e)},i=function(){return t.rhs.visitExpression(n,e)};switch(t.operator){case u.y.Equals:return r()==i();case u.y.Identical:return r()===i();case u.y.NotEquals:return r()!=i();case u.y.NotIdentical:return r()!==i();case u.y.And:return r()&&i();case u.y.Or:return r()||i();case u.y.Plus:return r()+i();case u.y.Minus:return r()-i();case u.y.Divide:return r()/i();case u.y.Multiply:return r()*i();case u.y.Modulo:return r()%i();case u.y.Lower:return r()<i();case u.y.LowerEquals:return r()<=i();case u.y.Bigger:return r()>i();case u.y.BiggerEquals:return r()>=i();default:throw new Error("Unknown operator "+t.operator)}},t.prototype.visitReadPropExpr=function(t,e){var n,r=t.receiver.visitExpression(this,e);return n=r[t.name]},t.prototype.visitReadKeyExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.index.visitExpression(this,e);return n[r]},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r={};return t.entries.forEach(function(t){return r[t.key]=t.value.visitExpression(n,e)}),r},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitAllStatements=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=r.visitStatement(this,e);if(i instanceof h)return i}return null},t}(),f="error",d="stack"},function(t,e,n){"use strict";function r(t,e,n,r){var i=n+"\nreturn "+e+"\n//# sourceURL="+t,o=[],a=[];for(var s in r)o.push(s),a.push(r[s]);return(new(Function.bind.apply(Function,[void 0].concat(o.concat(i))))).apply(void 0,a)}function i(t,e,n){var i=new c,o=a.a.createRoot([n]);return i.visitAllStatements(e,o),r(t,n,o.toSource(),i.getArgs())}var o=n(13),a=n(214),s=n(522);e.a=i;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=function(t){function e(){t.apply(this,arguments),this._evalArgNames=[],this._evalArgValues=[]}return u(e,t),e.prototype.getArgs=function(){for(var t={},e=0;e<this._evalArgNames.length;e++)t[this._evalArgNames[e]]=this._evalArgValues[e];return t},e.prototype.visitExternalExpr=function(t,e){var r=t.value.reference,i=this._evalArgValues.indexOf(r);if(i===-1){i=this._evalArgValues.length,this._evalArgValues.push(r);var a=n.i(o.a)(t.value)||"val";this._evalArgNames.push("jit_"+a+i)}return e.print(this._evalArgNames[i]),null},e}(s.a)},function(t,e,n){"use strict";(function(){function t(){}return t.prototype.fileNameToModuleName=function(t,e){},t})()},function(t,e,n){"use strict";function r(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];o[i.toLowerCase()]=t}}var i=n(0);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o={};r(i.SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),r(i.SecurityContext.STYLE,["*|style"]),r(i.SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),r(i.SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])},function(t,e,n){"use strict";function r(t){return t.replace(E,"")}function i(t){var e=t.match(T);return e?e[0]:""}function o(t,e){var n=a(t),r=0;return n.escapedString.replace(M,function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];var o=t[2],a="",s=t[4],u="";s&&s.startsWith("{"+R)&&(a=n.blocks[r++],s=s.substring(R.length+1),u="{");var c=e(new O(o,a));return""+t[1]+c.selector+t[3]+u+c.content+s})}function a(t){for(var e=t.split(A),n=[],r=[],i=0,o=[],a=0;a<e.length;a++){var s=e[a];s==k&&i--,i>0?o.push(s):(o.length>0&&(r.push(o.join("")),n.push(R),o=[]),n.push(s)),s==P&&i++}return o.length>0&&(r.push(o.join("")),n.push(R)),new I(n.join(""),r)}n.d(e,"a",function(){return s});var s=function(){function t(){this.strictStyling=!0}return t.prototype.shimCssText=function(t,e,n){void 0===n&&(n="");var o=i(t);return t=r(t),t=this._insertDirectives(t),this._scopeCssText(t,e,n)+o},t.prototype._insertDirectives=function(t){return t=this._insertPolyfillDirectivesInCssText(t),this._insertPolyfillRulesInCssText(t)},t.prototype._insertPolyfillDirectivesInCssText=function(t){return t.replace(c,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t[2]+"{"})},t.prototype._insertPolyfillRulesInCssText=function(t){return t.replace(l,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[0].replace(t[1],"").replace(t[2],"");return t[4]+n})},t.prototype._scopeCssText=function(t,e,n){var r=this._extractUnscopedRulesFromCssText(t);return t=this._insertPolyfillHostInCssText(t),t=this._convertColonHost(t),t=this._convertColonHostContext(t),t=this._convertShadowDOMSelectors(t),e&&(t=this._scopeSelectors(t,e,n)),t=t+"\n"+r,t.trim()},t.prototype._extractUnscopedRulesFromCssText=function(t){var e,n="";for(h.lastIndex=0;null!==(e=h.exec(t));){var r=e[0].replace(e[2],"").replace(e[1],e[4]);n+=r+"\n\n"}return n},t.prototype._convertColonHost=function(t){return this._convertColonRule(t,m,this._colonHostPartReplacer)},t.prototype._convertColonHostContext=function(t){return this._convertColonRule(t,y,this._colonHostContextPartReplacer)},t.prototype._convertColonRule=function(t,e,n){return t.replace(e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(t[2]){for(var r=t[2].split(","),i=[],o=0;o<r.length;o++){var a=r[o].trim();if(!a)break;i.push(n(v,a,t[3]))}return i.join(",")}return v+t[3]})},t.prototype._colonHostContextPartReplacer=function(t,e,n){return e.indexOf(p)>-1?this._colonHostPartReplacer(t,e,n):t+e+n+", "+e+" "+t+n},t.prototype._colonHostPartReplacer=function(t,e,n){return t+e.replace(p,"")+n},t.prototype._convertShadowDOMSelectors=function(t){return b.reduce(function(t,e){return t.replace(e," ")},t)},t.prototype._scopeSelectors=function(t,e,n){var r=this;return o(t,function(t){var i=t.selector,o=t.content;return"@"!=t.selector[0]?i=r._scopeSelector(t.selector,e,n,r.strictStyling):(t.selector.startsWith("@media")||t.selector.startsWith("@supports")||t.selector.startsWith("@page")||t.selector.startsWith("@document"))&&(o=r._scopeSelectors(t.content,e,n)),new O(i,o)})},t.prototype._scopeSelector=function(t,e,n,r){var i=this;return t.split(",").map(function(t){return t.trim().split(_)}).map(function(t){var o=t[0],a=t.slice(1),s=function(t){return i._selectorNeedsScoping(t,e)?r?i._applyStrictSelectorScope(t,e,n):i._applySelectorScope(t,e,n):t};return[s(o)].concat(a).join(" ")}).join(", ")},t.prototype._selectorNeedsScoping=function(t,e){var n=this._makeScopeMatcher(e);return!n.test(t)},t.prototype._makeScopeMatcher=function(t){var e=/\[/g,n=/\]/g;return t=t.replace(e,"\\[").replace(n,"\\]"),new RegExp("^("+t+")"+x,"m")},t.prototype._applySelectorScope=function(t,e,n){return this._applySimpleSelectorScope(t,e,n)},t.prototype._applySimpleSelectorScope=function(t,e,n){if(w.lastIndex=0,w.test(t)){var r=this.strictStyling?"["+n+"]":e;return t.replace(g,function(t,e){return e.replace(/([^:]*)(:*)(.*)/,function(t,e,n,i){return e+r+n+i})}).replace(w,r+" ")}return e+" "+t},t.prototype._applyStrictSelectorScope=function(t,e,n){var r=this,i=/\[is=([^\]]*)\]/g;e=e.replace(i,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e[0]});var o="["+e+"]",a=function(t){var i=t.trim();if(!i)return"";if(t.indexOf(v)>-1)i=r._applySimpleSelectorScope(t,e,n);else{var a=t.replace(w,"");if(a.length>0){var s=a.match(/([^:]*)(:*)(.*)/);s&&(i=s[1]+o+s[2]+s[3])}}return i},s=new u(t);t=s.content();for(var c,l="",h=0,p=/( |>|\+|~(?!=))\s*/g,f=t.indexOf(v);null!==(c=p.exec(t));){var d=c[1],m=t.slice(h,c.index).trim(),y=h>=f?a(m):m;l+=y+" "+d+" ",h=p.lastIndex}return l+=a(t.substring(h)),s.restore(l)},t.prototype._insertPolyfillHostInCssText=function(t){return t.replace(S,f).replace(C,p)},t}(),u=function(){function t(t){var e=this;this.placeholders=[],this.index=0,t=t.replace(/(\[[^\]]*\])/g,function(t,n){var r="__ph-"+e.index+"__";return e.placeholders.push(n),e.index++,r}),this._content=t.replace(/(:nth-[-\w]+)(\([^)]+\))/g,function(t,n,r){var i="__ph-"+e.index+"__";return e.placeholders.push(r),e.index++,n+i})}return t.prototype.restore=function(t){var e=this;return t.replace(/__ph-(\d+)__/g,function(t,n){return e.placeholders[+n]})},t.prototype.content=function(){return this._content},t}(),c=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,l=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,h=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,p="-shadowcsshost",f="-shadowcsscontext",d=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",m=new RegExp("("+p+d,"gim"),y=new RegExp("("+f+d,"gim"),v=p+"-no-combinator",g=/-shadowcsshost-no-combinator([^\s]*)/,b=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_=/(?:>>>)|(?:\/deep\/)/g,x="([>\\s~+[.,{:][\\s\\S]*)?$",w=/-shadowcsshost/gim,C=/:host/gim,S=/:host-context/gim,E=/\/\*\s*[\s\S]*?\*\//g,T=/\/\*\s*#\s*sourceMappingURL=[\s\S]+?\*\//,M=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,A=/([{}])/g,P="{",k="}",R="%BLOCK%",O=function(){function t(t,e){this.selector=t,this.content=e}return t}(),I=function(){function t(t,e){this.escapedString=t,this.blocks=e}return t}()},function(t,e,n){"use strict";var r=n(0);new r.Version("2.4.7")},function(t,e,n){"use strict";function r(t,e){for(var n=null,r=t.pipeMetas.length-1;r>=0;r--){var i=t.pipeMetas[r];if(i.name==e){n=i;break}}if(!n)throw new Error("Illegal state: Could not find pipe "+e+" although the parser should have detected this error!");return n}var i=n(13),o=n(43),a=n(16),s=n(9),u=n(76);n.d(e,"a",function(){return c});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=function(){function t(t,e){var r=this;this.view=t,this.meta=e,this._purePipeProxyCount=0,this.instance=s.e.prop("_pipe_"+e.name+"_"+t.pipeCount++);var o=this.meta.type.diDeps.map(function(e){return n.i(i.j)(e.token)===n.i(a.e)(a.b.ChangeDetectorRef)?n.i(u.c)(s.e.prop("ref"),r.view,r.view.componentView):n.i(u.b)(t,e.token,!1)});this.view.fields.push(new s.c(this.instance.name,s.d(this.meta.type))),this.view.createMethod.resetDebugInfo(null,null),this.view.createMethod.addStmt(s.e.prop(this.instance.name).set(s.g(this.meta.type).instantiate(o)).toStmt())}return t.call=function(e,n,i){var o,a=e.componentView,s=r(a,n);return s.pure?(o=a.purePipes.get(n),o||(o=new t(a,s),a.purePipes.set(n,o),a.pipes.push(o))):(o=new t(e,s),e.pipes.push(o)),o._call(e,i)},Object.defineProperty(t.prototype,"pure",{get:function(){return this.meta.pure},enumerable:!0,configurable:!0}),t.prototype._call=function(t,e){if(this.meta.pure){var r=s.e.prop(this.instance.name+"_"+this._purePipeProxyCount++),i=n.i(u.c)(this.instance,t,this.view);return n.i(o.c)(i.prop("transform").callMethod(s.O.Bind,[i]),e.length,r,{fields:t.fields,ctorStmts:t.createMethod}),s.g(n.i(a.a)(a.b.castByValue)).callFn([r,i.prop("transform")]).callFn(e)}return n.i(u.c)(this.instance,t,this.view).callMethod("transform",e)},t}()},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e,n,r){var u=i(t,e);return!!u.size&&(r&&o(u,n),a(u,e,n),s(t,e,n),!0)}function i(t,e){var n=new Map;return t.forEach(function(t){n.set(t.fullName,t)}),e.forEach(function(t){t.hostEvents.forEach(function(t){n.set(t.fullName,t)})}),n}function o(t,e){var r=[];if(t.forEach(function(t){t.phase||r.push(f.f(t.name),f.f(t.target))}),r.length){var i=f.a("disposable_"+e.view.disposables.length);e.view.disposables.push(i),e.view.createMethod.addStmt(i.set(f.g(n.i(p.a)(p.b.subscribeToRenderElement)).callFn([f.e,e.renderNode,n.i(l.a)(r),u(e)])).toDeclStmt(f.M,[f.k.Private]))}}function a(t,e,n){var r=Array.from(t.keys());e.forEach(function(t){var e=n.directiveWrapperInstance.get(t.directive.type.reference);n.view.createMethod.addStmts(h.b.subscribe(t.directive,t.hostProperties,r,e,f.e,u(n)))})}function s(t,e,r){var i=e.some(function(t){return t.hostEvents.some(function(e){return t.directive.isComponent})}),o=i?r.compViewExpr:f.e,a=new d.a(r.view);a.resetDebugInfo(r.nodeIndex,r.sourceAst),a.push(o.callMethod("markPathToRootAsCheckOnce",[]).toStmt());var s=f.a("eventName"),u=f.a("result");a.push(u.set(f.f(!0)).toDeclStmt(f.s)),e.forEach(function(t,e){var n=r.directiveWrapperInstance.get(t.directive.type.reference);t.hostEvents.length>0&&a.push(u.set(h.b.handleEvent(t.hostEvents,n,s,c.d.event).and(u)).toStmt())}),t.forEach(function(t,e){var i=n.i(c.c)(r.view,r.view,r.view.componentContext,t.handler,"sub_"+e),o=i.stmts;i.preventDefault&&o.push(u.set(i.preventDefault.and(u)).toStmt()),a.push(new f.u(s.equals(f.f(t.fullName)),o))}),a.push(new f.t(u)),r.view.methods.push(new f.q(n.i(m.d)(r.nodeIndex),[new f.o(s.name,f.r),new f.o(c.d.event.name,f.m)],a.finish(),f.s))}function u(t){var e=n.i(m.d)(t.nodeIndex);return f.e.callMethod("eventHandler",[f.e.prop(e)])}var c=n(106),l=n(43),h=n(63),p=n(16),f=n(9),d=n(219),m=n(76);e.a=r},function(t,e,n){"use strict";function r(t,e,n){var r=n.view,i=t.type.lifecycleHooks,o=r.afterContentLifecycleCallbacksMethod;o.resetDebugInfo(n.nodeIndex,n.sourceAst),i.indexOf(l.G.AfterContentInit)!==-1&&o.addStmt(new c.u(f,[e.callMethod("ngAfterContentInit",[]).toStmt()])),i.indexOf(l.G.AfterContentChecked)!==-1&&o.addStmt(e.callMethod("ngAfterContentChecked",[]).toStmt())}function i(t,e,n){var r=n.view,i=t.type.lifecycleHooks,o=r.afterViewLifecycleCallbacksMethod;o.resetDebugInfo(n.nodeIndex,n.sourceAst),i.indexOf(l.G.AfterViewInit)!==-1&&o.addStmt(new c.u(f,[e.callMethod("ngAfterViewInit",[]).toStmt()])),i.indexOf(l.G.AfterViewChecked)!==-1&&o.addStmt(e.callMethod("ngAfterViewChecked",[]).toStmt())}function o(t,e,n){n.view.destroyMethod.addStmts(u.b.ngOnDestroy(t.directive,e)),n.view.detachMethod.addStmts(u.b.ngOnDetach(t.hostProperties,e,c.e,n.compViewExpr||c.e,n.renderNode))}function a(t,e,n){var r=n.view.destroyMethod;r.resetDebugInfo(n.nodeIndex,n.sourceAst),t.providerType!==h.c.Directive&&t.providerType!==h.c.Component&&t.lifecycleHooks.indexOf(l.G.OnDestroy)!==-1&&r.addStmt(e.callMethod("ngOnDestroy",[]).toStmt())}function s(t,e,n){var r=n.destroyMethod;t.type.lifecycleHooks.indexOf(l.G.OnDestroy)!==-1&&r.addStmt(e.callMethod("ngOnDestroy",[]).toStmt())}var u=n(63),c=n(9),l=n(14),h=n(45),p=n(159);e.b=r,e.c=i,e.d=o,e.e=a,e.a=s;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var f=c.e.prop("numberOfChecks").identical(new c.N(0));c.v(p.g.throwOnChange)},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e,r){var i=n.i(s.a)(r),o=n.i(u.b)(r,r,r.componentContext,t.value,i.bindingId);return o?(r.detectChangesRenderPropertiesMethod.resetDebugInfo(e.nodeIndex,t),void r.detectChangesRenderPropertiesMethod.addStmts(n.i(s.b)(o,i.expression,y.g.throwOnChange,[f.e.prop("renderer").callMethod("setText",[e.renderNode,o.currValExpr]).toStmt()]))):null}function i(t,e,r,i){var o=i.view,a=i.renderNode;t.forEach(function(t){var c=n.i(s.a)(o);o.detectChangesRenderPropertiesMethod.resetDebugInfo(i.nodeIndex,t);var h=n.i(u.b)(o,o,i.view.componentContext,t.value,c.bindingId);if(h){var d=[],g=o.detectChangesRenderPropertiesMethod;switch(t.type){case m.f.Property:case m.f.Attribute:case m.f.Class:case m.f.Style:d.push.apply(d,n.i(l.b)(f.e,t,a,h.currValExpr,o.genConfig.logBindingUpdate));break;case m.f.Animation:g=o.animationBindingsMethod;var b=n.i(l.a)(f.e,f.e,t,e,(r?f.e.prop(n.i(v.d)(i.nodeIndex)):f.g(n.i(p.a)(p.b.noop))).callMethod(f.O.Bind,[f.e]),i.renderNode,h.currValExpr,c.expression),_=b.updateStmts,x=b.detachStmts;d.push.apply(d,_),o.detachMethod.addStmts(x)}g.addStmts(n.i(s.b)(h,c.expression,y.g.throwOnChange,d))}})}function o(t,e,r,i,o){var a=t.hostProperties.filter(function(t){return t.needsRuntimeSecurityContext}).map(function(t){var e;switch(t.type){case m.f.Property:e=o.securityContext(i,t.name,!1);break;case m.f.Attribute:e=o.securityContext(i,t.name,!0);break;default:throw new Error("Illegal state: Only property / attribute bindings can have an unknown security context! Binding "+t.name)}return n.i(c.d)(p.b.SecurityContext,e)});r.view.detectChangesRenderPropertiesMethod.addStmts(h.b.checkHost(t.hostProperties,e,f.e,r.compViewExpr||f.e,r.renderNode,y.g.throwOnChange,a))}function a(t,e,r,i){var o=i.view,a=o.detectChangesInInputsMethod;a.resetDebugInfo(i.nodeIndex,i.sourceAst),t.inputs.forEach(function(t,s){var c=i.nodeIndex+"_"+r+"_"+s;a.resetDebugInfo(i.nodeIndex,t);var l=n.i(u.b)(o,o,o.componentContext,t.value,c);l&&(a.addStmts(l.stmts),a.addStmt(e.callMethod("check_"+t.directiveName,[l.currValExpr,y.g.throwOnChange,l.forceUpdate||f.f(!1)]).toStmt()))});var s=t.directive.isComponent&&!n.i(d.E)(t.directive.changeDetection),c=h.b.ngDoCheck(e,f.e,i.renderNode,y.g.throwOnChange),l=s?new f.u(c,[i.compViewExpr.callMethod("markAsCheckOnce",[]).toStmt()]):c.toStmt();a.addStmt(l)}var s=n(313),u=n(106),c=n(43),l=n(314),h=n(63),p=n(16),f=n(9),d=n(14),m=n(45),y=n(159),v=n(76);e.a=r,e.b=i,e.d=o,e.c=a},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t){var e=[];t.getProviderTokens().forEach(function(n){var r=t.getQueriesFor(n);e.push.apply(e,r.map(function(t){return new o(t,n)}))}),Object.keys(t.referenceTokens).forEach(function(n){var r={value:n};e.push.apply(e,t.getQueriesFor(r).map(function(t){return new o(t,r)}))}),e.forEach(function(e){var r;if(e.read.identifier)r=t.instances.get(n.i(i.j)(e.read));else{var o=t.referenceTokens[e.read.value];r=o?t.instances.get(n.i(i.j)(o)):t.elementRef}r&&e.query.addValue(r,t.view)})}var i=n(13);e.a=r;var o=function(){function t(t,e){this.query=t,this.read=t.meta.read||e}return t}()},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e,r){var i=new l(t,r);n.i(o.a)(i,e),t.pipes.forEach(function(t){n.i(s.a)(t.meta,t.instance,t.view)})}var i=n(13),o=n(45),a=n(530),s=n(531),u=n(532),c=n(533);e.a=r;var l=function(){function t(t,e){this.view=t,this._schemaRegistry=e,this._nodeIndex=0}return t.prototype.visitBoundText=function(t,e){var r=this.view.nodes[this._nodeIndex++];return n.i(u.a)(t,r,this.view),null},t.prototype.visitText=function(t,e){return this._nodeIndex++,null},t.prototype.visitNgContent=function(t,e){return null},t.prototype.visitElement=function(t,e){var r=this,l=this.view.nodes[this._nodeIndex++];n.i(c.a)(l);var h=n.i(a.a)(t.outputs,t.directives,l,!0);return n.i(u.b)(t.inputs,t.outputs,h,l),t.directives.forEach(function(e,i){var o=l.directiveWrapperInstance.get(e.directive.type.reference);n.i(u.c)(e,o,i,l),n.i(u.d)(e,o,l,t.name,r._schemaRegistry)}),n.i(o.a)(this,t.children,l),t.directives.forEach(function(t){var e=l.instances.get(t.directive.type.reference),r=l.directiveWrapperInstance.get(t.directive.type.reference);n.i(s.b)(t.directive,e,l),n.i(s.c)(t.directive,e,l),n.i(s.d)(t,r,l)}),t.providers.forEach(function(t){var e=l.instances.get(n.i(i.j)(t.token));n.i(s.e)(t,e,l)}),null},t.prototype.visitEmbeddedTemplate=function(t,e){var o=this.view.nodes[this._nodeIndex++];return n.i(c.a)(o),n.i(a.a)(t.outputs,t.directives,o,!1),t.directives.forEach(function(t,e){var r=o.instances.get(t.directive.type.reference),i=o.directiveWrapperInstance.get(t.directive.type.reference);n.i(u.c)(t,i,e,o),n.i(s.b)(t.directive,r,o),n.i(s.c)(t.directive,r,o),n.i(s.d)(t,i,o)}),t.providers.forEach(function(t){var e=o.instances.get(n.i(i.j)(t.token));n.i(s.e)(t,e,o)}),r(o.embeddedView,t.children,this._schemaRegistry),null},t.prototype.visitAttr=function(t,e){return null},t.prototype.visitDirective=function(t,e){return null},t.prototype.visitEvent=function(t,e){return null},t.prototype.visitReference=function(t,e){return null},t.prototype.visitVariable=function(t,e){return null},t.prototype.visitDirectiveProperty=function(t,e){return null},t.prototype.visitElementProperty=function(t,e){return null},t}()},function(t,e,n){"use strict";function r(t,e,r){var i=new q(t,r),o=t.declarationElement.isNull()?t.declarationElement:t.declarationElement.parent;return n.i(I.a)(i,e,o),t.viewType!==O.n.EMBEDDED&&t.viewType!==O.n.HOST||(t.lastRenderNode=i.getOrCreateLastRenderNode()),i.nestedViewCount}function i(t,e){t.nodes.forEach(function(t){t instanceof N.a&&(t.finish(),t.hasEmbeddedView&&i(t.embeddedView,e))}),t.finish(),h(t,e)}function o(t){for(var e=t.view;s(t.parent,e);)t=t.parent;return t}function a(t){for(var e=t.view;s(t,e);)t=t.parent;return t}function s(t,e){return!t.isNull()&&t.sourceAst.name===z&&t.view===e}function u(t,e){var r={};Object.keys(t).forEach(function(e){r[e]=t[e]}),e.forEach(function(t){Object.keys(t.hostAttributes).forEach(function(e){var i=t.hostAttributes[e],o=r[e];r[e]=n.i(A.c)(o)?l(e,o,i):i})});var i=[];return Object.keys(r).sort().forEach(function(t){i.push(t,r[t])}),i}function c(t){var e={};return t.forEach(function(t){e[t.name]=t.value}),e}function l(t,e,n){return t==B||t==U?e+" "+n:n}function h(t,e){var r=R.b;t.genConfig.genDebugInfo&&(r=R.a("nodeDebugInfos_"+n.i(E.a)(t.component.type)+t.viewIndex),e.push(r.set(R.h(t.nodes.map(p),new R.i(R.d(n.i(P.a)(P.b.StaticNodeDebugInfo)),[R.j.Const]))).toDeclStmt(null,[R.k.Final])));var i=R.a("renderType_"+n.i(E.a)(t.component.type));if(0===t.viewIndex){var o=void 0;o=t.component.template.templateUrl==n.i(E.i)(t.component.type)?n.i(E.i)(t.component.type)+" class "+n.i(E.a)(t.component.type)+" - inline template":t.component.template.templateUrl,e.push(i.set(R.g(n.i(P.a)(P.b.createRenderComponentType)).callFn([t.genConfig.genDebugInfo?R.f(o):R.f(""),R.f(t.component.template.ngContentSelectors.length),L.b.fromValue(t.component.template.encapsulation),t.styles,R.l(t.animations.map(function(t){return[t.name,t.fnExp]}),null,!0)])).toDeclStmt(R.d(n.i(P.a)(P.b.RenderComponentType))))}var a=f(t,i,r);e.push(a)}function p(t){var e=t instanceof N.a?t:null,r=[],i=R.b,o=[];return n.i(A.c)(e)&&(r=e.getProviderTokens().map(function(t){return n.i(M.b)(t)}),n.i(A.c)(e.component)&&(i=n.i(M.b)(n.i(P.c)(e.component.type))),Object.keys(e.referenceTokens).forEach(function(t){var r=e.referenceTokens[t];o.push([t,n.i(A.c)(r)?n.i(M.b)(r):R.b])})),R.g(n.i(P.a)(P.b.StaticNodeDebugInfo)).instantiate([R.h(r,new R.i(R.m,[R.j.Const])),i,R.l(o,new R.n(R.m,[R.j.Const]))],R.d(n.i(P.a)(P.b.StaticNodeDebugInfo),null,[R.j.Const]))}function f(t,e,r){var i=[new R.o(L.c.viewUtils.name,R.d(n.i(P.a)(P.b.ViewUtils))),new R.o(L.c.parentView.name,R.d(n.i(P.a)(P.b.AppView),[R.m])),new R.o(L.c.parentIndex.name,R.p),new R.o(L.c.parentElement.name,R.m)],o=[R.a(t.className),e,L.d.fromValue(t.viewType),L.c.viewUtils,L.c.parentView,L.c.parentIndex,L.c.parentElement,L.e.fromValue(b(t))];t.genConfig.genDebugInfo&&o.push(r),t.viewType===O.n.EMBEDDED&&(i.push(new R.o("declaredViewContainer",R.d(n.i(P.a)(P.b.ViewContainer)))),o.push(R.a("declaredViewContainer")));var a=[new R.q("createInternal",[new R.o(G.name,R.r)],m(t),R.d(n.i(P.a)(P.b.ComponentRef),[R.m])),new R.q("injectorGetInternal",[new R.o(L.f.token.name,R.m),new R.o(L.f.requestNodeIndex.name,R.p),new R.o(L.f.notFoundResult.name,R.m)],v(t.injectorGetMethod.finish(),L.f.notFoundResult),R.m),new R.q("detectChangesInternal",[new R.o(L.g.throwOnChange.name,R.s)],y(t)),new R.q("dirtyParentQueriesInternal",[],t.dirtyParentQueriesMethod.finish()),new R.q("destroyInternal",[],d(t)),new R.q("detachInternal",[],t.detachMethod.finish()),_(t),x(t),C(t)].filter(function(t){return t.body.length>0}),s=t.genConfig.genDebugInfo?P.b.DebugAppView:P.b.AppView,u=n.i(k.a)({name:t.className,parent:R.g(n.i(P.a)(s),[g(t)]),parentArgs:o,ctorParams:i,builders:[{methods:a},t]});return u}function d(t){var e=[];return t.viewContainers.forEach(function(t){e.push(t.callMethod("destroyNestedViews",[]).toStmt())}),t.viewChildren.forEach(function(t){e.push(t.callMethod("destroy",[]).toStmt())}),e.push.apply(e,t.destroyMethod.finish()),e}function m(t){var e=R.b,r=[];t.viewType===O.n.COMPONENT&&(e=L.a.renderer.callMethod("createViewRoot",[R.e.prop("parentElement")]),r=[H.set(e).toDeclStmt(R.d(t.genConfig.renderTypes.renderNode),[R.k.Final])]);var i;if(t.viewType===O.n.HOST){var o=t.nodes[0];i=R.g(n.i(P.a)(P.b.ComponentRef_),[R.m]).instantiate([R.f(o.nodeIndex),R.e,o.renderNode,o.getComponent()])}else i=R.b;var a=L.a.renderer.cast(R.m).prop("directRenderer").conditional(R.b,R.h(t.nodes.map(function(t){return t.renderNode})));return r.concat(t.createMethod.finish(),[R.e.callMethod("init",[t.lastRenderNode,a,t.disposables.length?R.h(t.disposables):R.b]).toStmt(),new R.t(i)])}function y(t){var e=[];if(t.animationBindingsMethod.isEmpty()&&t.detectChangesInInputsMethod.isEmpty()&&t.updateContentQueriesMethod.isEmpty()&&t.afterContentLifecycleCallbacksMethod.isEmpty()&&t.detectChangesRenderPropertiesMethod.isEmpty()&&t.updateViewQueriesMethod.isEmpty()&&t.afterViewLifecycleCallbacksMethod.isEmpty()&&0===t.viewContainers.length&&0===t.viewChildren.length)return e;e.push.apply(e,t.animationBindingsMethod.finish()),e.push.apply(e,t.detectChangesInInputsMethod.finish()),t.viewContainers.forEach(function(t){e.push(t.callMethod("detectChangesInNestedViews",[L.g.throwOnChange]).toStmt())});var r=t.updateContentQueriesMethod.finish().concat(t.afterContentLifecycleCallbacksMethod.finish());r.length>0&&e.push(new R.u(R.v(L.g.throwOnChange),r)),e.push.apply(e,t.detectChangesRenderPropertiesMethod.finish()),t.viewChildren.forEach(function(t){e.push(t.callMethod("internalDetectChanges",[L.g.throwOnChange]).toStmt())});var i=t.updateViewQueriesMethod.finish().concat(t.afterViewLifecycleCallbacksMethod.finish());i.length>0&&e.push(new R.u(R.v(L.g.throwOnChange),i));var o=[],a=R.w(e);return a.has(L.g.changed.name)&&o.push(L.g.changed.set(R.f(!0)).toDeclStmt(R.s)),a.has(L.g.changes.name)&&o.push(L.g.changes.set(R.b).toDeclStmt(new R.n(R.d(n.i(P.a)(P.b.SimpleChange))))),o.push.apply(o,n.i(T.a)(e)),o.concat(e)}function v(t,e){return t.length>0?t.concat([new R.t(e)]):t}function g(t){return t.viewType===O.n.COMPONENT?R.d(t.component.type):R.m}function b(t){var e;return e=t.viewType===O.n.COMPONENT?n.i(O.E)(t.component.changeDetection)?O.r.CheckAlways:O.r.CheckOnce:O.r.CheckAlways}function _(t){var e=R.a("cb"),n=R.a("ctx"),r=w(t.rootNodes,e,n);return new R.q("visitRootNodesInternal",[new R.o(e.name,R.m),new R.o(n.name,R.m)],r)}function x(t){var e=R.a("nodeIndex"),n=R.a("ngContentIndex"),r=R.a("cb"),i=R.a("ctx"),o=[];return t.nodes.forEach(function(t){t instanceof N.a&&t.component&&t.contentNodesByNgContentIndex.forEach(function(a,s){o.push(new R.u(e.equals(R.f(t.nodeIndex)).and(n.equals(R.f(s))),w(a,r,i)))})}),new R.q("visitProjectableNodesInternal",[new R.o(e.name,R.p),new R.o(n.name,R.p),new R.o(r.name,R.m),new R.o(i.name,R.m)],o)}function w(t,e,n){var r=[];return t.forEach(function(t){switch(t.type){case D.c.Node:r.push(e.callFn([t.expr,n]).toStmt());break;case D.c.ViewContainer:r.push(e.callFn([t.expr.prop("nativeElement"),n]).toStmt()),r.push(t.expr.callMethod("visitNestedViewRootNodes",[e,n]).toStmt());break;case D.c.NgContent:r.push(R.e.callMethod("visitProjectedNodes",[R.f(t.ngContentIndex),e,n]).toStmt())}}),r}function C(t){var e=R.a("nodeIndex"),r=[];return t.nodes.forEach(function(t){t instanceof N.a&&t.embeddedView&&r.push(new R.u(e.equals(R.f(t.nodeIndex)),[new R.t(t.embeddedView.classExpr.instantiate([L.a.viewUtils,R.e,R.f(t.nodeIndex),t.renderNode,t.viewContainer]))]))}),r.length>0&&r.push(new R.t(R.b)),new R.q("createEmbeddedViewInternal",[new R.o(e.name,R.p)],r,R.d(n.i(P.a)(P.b.AppView),[R.m]))}var S=n(0),E=n(13),T=n(106),M=n(43),A=n(6),P=n(16),k=n(215),R=n(9),O=n(14),I=n(45),N=n(329),D=n(331),L=n(159),V=n(220),F=n(76);e.a=r,e.b=i;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var j="$implicit",B="class",U="style",z="ng-container",H=R.a("parentRenderNode"),G=R.a("rootSelector"),q=function(){function t(t,e){this.view=t,this.targetDependencies=e,this.nestedViewCount=0}return t.prototype._isRootNode=function(t){return t.view!==this.view},t.prototype._addRootNodeAndProject=function(t){var e=o(t),r=e.parent,i=e.sourceAst.ngContentIndex,a=t instanceof N.a&&t.hasViewContainer?t.viewContainer:null;this._isRootNode(r)?this.view.viewType!==O.n.COMPONENT&&this.view.rootNodes.push(new D.b(a?D.c.ViewContainer:D.c.Node,a||t.renderNode)):n.i(A.c)(r.component)&&n.i(A.c)(i)&&r.addContentNode(i,new D.b(a?D.c.ViewContainer:D.c.Node,a||t.renderNode))},t.prototype._getParentRenderNode=function(t){return t=a(t),this._isRootNode(t)?this.view.viewType===O.n.COMPONENT?H:R.b:n.i(A.c)(t.component)&&t.component.template.encapsulation!==S.ViewEncapsulation.Native?R.b:t.renderNode},t.prototype.getOrCreateLastRenderNode=function(){var t=this.view;if(0===t.rootNodes.length||t.rootNodes[t.rootNodes.length-1].type!==D.c.Node){var e="_el_"+t.nodes.length;t.fields.push(new R.c(e,R.d(t.genConfig.renderTypes.renderElement))),t.createMethod.addStmt(R.e.prop(e).set(L.a.renderer.callMethod("createTemplateAnchor",[R.b,R.b])).toStmt()),t.rootNodes.push(new D.b(D.c.Node,R.e.prop(e)))}return t.rootNodes[t.rootNodes.length-1].expr},t.prototype.visitBoundText=function(t,e){return this._visitText(t,"",e)},t.prototype.visitText=function(t,e){return this._visitText(t,t.value,e)},t.prototype._visitText=function(t,e,n){var r="_text_"+this.view.nodes.length;this.view.fields.push(new R.c(r,R.d(this.view.genConfig.renderTypes.renderText)));var i=R.e.prop(r),o=new N.b(n,this.view,this.view.nodes.length,i,t),a=R.e.prop(r).set(L.a.renderer.callMethod("createText",[this._getParentRenderNode(n),R.f(e),this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length,t)])).toStmt();return this.view.nodes.push(o),this.view.createMethod.addStmt(a),this._addRootNodeAndProject(o),i},t.prototype.visitNgContent=function(t,e){this.view.createMethod.resetDebugInfo(null,t);var r=this._getParentRenderNode(e);return r!==R.b?this.view.createMethod.addStmt(R.e.callMethod("projectNodes",[r,R.f(t.index)]).toStmt()):this._isRootNode(e)?this.view.viewType!==O.n.COMPONENT&&this.view.rootNodes.push(new D.b(D.c.NgContent,null,t.index)):n.i(A.c)(e.component)&&n.i(A.c)(t.ngContentIndex)&&e.addContentNode(t.ngContentIndex,new D.b(D.c.NgContent,null,t.index)),null},t.prototype.visitElement=function(t,e){var r,i=this.view.nodes.length,o=this.view.createMethod.resetDebugInfoExpr(i,t),a=t.directives.map(function(t){return t.directive}),s=a.find(function(t){return t.isComponent});if(t.name===z)r=L.a.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(e),o]);else{var l=c(t.attrs),h=n.i(M.a)(u(l,a).map(function(t){return R.f(t)}));r=0===i&&this.view.viewType===O.n.HOST?R.g(n.i(P.a)(P.b.selectOrCreateRenderHostElement)).callFn([L.a.renderer,R.f(t.name),h,G,o]):R.g(n.i(P.a)(P.b.createRenderElement)).callFn([L.a.renderer,this._getParentRenderNode(e),R.f(t.name),h,o])}var p="_el_"+i;this.view.fields.push(new R.c(p,R.d(this.view.genConfig.renderTypes.renderElement))),this.view.createMethod.addStmt(R.e.prop(p).set(r).toStmt());var f=R.e.prop(p),d=new N.a(e,this.view,i,f,t,s,a,t.providers,t.hasViewContainer,!1,t.references);this.view.nodes.push(d);var m=null;if(n.i(A.c)(s)){var y={reference:null};this.targetDependencies.push(new V.a(s.type,n.i(F.a)(s,0),y)),m=R.e.prop("compView_"+i),this.view.fields.push(new R.c(m.name,R.d(n.i(P.a)(P.b.AppView),[R.d(s.type)]))),this.view.viewChildren.push(m),d.setComponentView(m),this.view.createMethod.addStmt(m.set(R.g(y).instantiate([L.a.viewUtils,R.e,R.f(i),f])).toStmt())}return d.beforeChildren(),this._addRootNodeAndProject(d),n.i(I.a)(this,t.children,d),d.afterChildren(this.view.nodes.length-i-1),n.i(A.c)(m)&&this.view.createMethod.addStmt(m.callMethod("create",[d.getComponent()]).toStmt()),null},t.prototype.visitEmbeddedTemplate=function(t,e){var n=this.view.nodes.length,i="_anchor_"+n;this.view.fields.push(new R.c(i,R.d(this.view.genConfig.renderTypes.renderComment))),this.view.createMethod.addStmt(R.e.prop(i).set(L.a.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(e),this.view.createMethod.resetDebugInfoExpr(n,t)])).toStmt());var o=R.e.prop(i),a=t.variables.map(function(t){return[t.value.length>0?t.value:j,t.name]}),s=t.directives.map(function(t){return t.directive}),u=new N.a(e,this.view,n,o,t,null,s,t.providers,t.hasViewContainer,!0,t.references);this.view.nodes.push(u),this.nestedViewCount++;var c=new D.a(this.view.component,this.view.genConfig,this.view.pipeMetas,R.b,this.view.animations,this.view.viewIndex+this.nestedViewCount,u,a,this.targetDependencies);return this.nestedViewCount+=r(c,t.children,this.targetDependencies),u.beforeChildren(),this._addRootNodeAndProject(u),u.afterChildren(0),null},t.prototype.visitAttr=function(t,e){return null},t.prototype.visitDirective=function(t,e){return null},t.prototype.visitEvent=function(t,e){return null},t.prototype.visitReference=function(t,e){return null},t.prototype.visitVariable=function(t,e){return null},t.prototype.visitDirectiveProperty=function(t,e){return null},t.prototype.visitElementProperty=function(t,e){return null},t}()},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e,r){void 0===r&&(r=null);var i={};return Object.keys(e).forEach(function(t){var n=e[t];i[t]=n==p.a?r:n.toString()}),Object.keys(t).forEach(function(t){n.i(l.b)(i[t])||(i[t]=r)}),i}function i(t,e,r){var i=r.length-1,o=r[0],s=u(o.styles.styles),h={},f=!1;Object.keys(t).forEach(function(e){var n=t[e];s[e]||(s[e]=n,h[e]=n,f=!0)});var d=c.a.merge({},s),m=r[i];m.styles.styles.unshift(e);var y=u(m.styles.styles),v={},g=!1;return Object.keys(d).forEach(function(t){n.i(l.b)(y[t])||(v[t]=p.a,g=!0)}),g&&m.styles.styles.push(v),Object.keys(y).forEach(function(t){n.i(l.b)(s[t])||(h[t]=p.a,f=!0)}),f&&o.styles.styles.push(h),a(t,[e]),r}function o(t){var e={};return Object.keys(t).forEach(function(t){e[t]=null}),e}function a(t,e){return e.map(function(e){var r={};return Object.keys(e).forEach(function(i){var o=e[i];o==h.d&&(o=t[i],n.i(l.b)(o)||(o=p.a)),t[i]=o,r[i]=o}),r})}function s(t,e,n){Object.keys(n).forEach(function(r){e.setElementStyle(t,r,n[r])})}function u(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}var c=n(116),l=n(7),h=n(332),p=n(339);e.a=r,e.b=i,e.d=o,e.f=a,e.e=s,e.c=u},function(t,e,n){"use strict";var r=n(338);n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,r){this._player=t,this._fromState=e,this._toState=n,this._totalTime=r}return t.prototype._createEvent=function(t){return new r.a({fromState:this._fromState,toState:this._toState,totalTime:this._totalTime,phaseName:t})},t.prototype.onStart=function(t){var e=this,n=Zone.current.wrap(function(){return t(e._createEvent("start"))},"player.onStart");this._player.onStart(n)},t.prototype.onDone=function(t){var e=this,n=Zone.current.wrap(function(){return t(e._createEvent("done"))},"player.onDone");this._player.onDone(n)},t}()},function(t,e,n){"use strict";var r=n(7);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=function(){function t(){this._map=new Map,this._allPlayers=[]}return t.prototype.find=function(t,e){var i=this._map.get(t);if(n.i(r.b)(i))return i[e]},t.prototype.findAllPlayersByElement=function(t){var e=this._map.get(t);return e?Object.keys(e).map(function(t){return e[t]}):[]},t.prototype.set=function(t,e,i){var o=this._map.get(t);n.i(r.b)(o)||(o={});var a=o[e];n.i(r.b)(a)&&this.remove(t,e),o[e]=i,this._allPlayers.push(i),this._map.set(t,o)},t.prototype.getAllPlayers=function(){return this._allPlayers},t.prototype.remove=function(t,e,n){void 0===n&&(n=null);var r=this._map.get(t);if(r){var i=r[e];if(!n||i===n){delete r[e];var o=this._allPlayers.indexOf(i);this._allPlayers.splice(o,1),0===Object.keys(r).length&&this._map.delete(t)}}},t}()},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(){return l.c}function i(){return l.d}function o(t){return t||"en-US"}var a=n(335),s=n(222),u=n(223),c=n(160),l=n(161),h=n(90),p=n(347),f=n(117),d=n(168),m=n(355);n.d(e,"a",function(){return y});var y=function(){function t(){}return t.decorators=[{type:m.a,args:[{providers:[u.b,{provide:u.c,useExisting:u.b},s.a,f.b,c.a,d.ViewUtils,a.a,{provide:l.e,useFactory:r},{provide:l.f,useFactory:i},{provide:p.a,useFactory:o,deps:[[new h.d(p.a),new h.e,new h.c]]}]}]}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";var r=n(161);n.d(e,"e",function(){return r.i}),n.d(e,"a",function(){return r.g}),n.d(e,"f",function(){return r.j}),n.d(e,"g",function(){return r.k}),n.d(e,"d",function(){return r.e}),n.d(e,"h",function(){return r.l}),n.d(e,"c",function(){return r.f}),n.d(e,"i",function(){return r.m}),n.d(e,"b",function(){return r.h})},function(t,e,n){"use strict";var r=n(355);n.d(e,"_24",function(){return r.j}),n.d(e,"v",function(){return r.c}),n.d(e,"_25",function(){return r.k}),n.d(e,"_26",function(){return r.l}),n.d(e,"_27",function(){return r.m}),n.d(e,"_28",function(){return r.n}),n.d(e,"_29",function(){return r.o}),n.d(e,"Q",function(){return r.g}),n.d(e,"w",function(){return r.d}),n.d(e,"R",function(){return r.h}),n.d(e,"S",function(){return r.i}),n.d(e,"x",function(){return r.e}),n.d(e,"_30",function(){return r.p}),n.d(e,"p",function(){return r.b}),n.d(e,"_31",function(){return r.q}),n.d(e,"_32",function(){return r.r}),n.d(e,"_33",function(){return r.s}),n.d(e,"_34",function(){return r.t}),n.d(e,"_35",function(){return r.u}),n.d(e,"_36",function(){return r.v}),n.d(e,"_37",function(){return r.w}),n.d(e,"_38",function(){return r.x}),n.d(e,"_39",function(){return r.y}),n.d(e,"_40",function(){return r.z}),n.d(e,"b",function(){return r.a}),n.d(e,"O",function(){return r.f});var i=n(361);n.d(e,"c",function(){return i.a}),n.d(e,"_41",function(){return i.b});var o=n(558);n.d(e,"_42",function(){return o.a});var a=n(36);n.d(e,"_43",function(){return a.i}),n.d(e,"_44",function(){return a.j}),n.d(e,"Y",function(){return a.g}),n.d(e,"_45",function(){return a.f}),n.d(e,"_46",function(){return a.k}),n.d(e,"_47",function(){return a.l}),n.d(e,"H",function(){return a.b}),n.d(e,"r",function(){return a.e}),n.d(e,"l",function(){return a.d}),n.d(e,"d",function(){return a.a}),n.d(e,"_48",function(){return a.m}),n.d(e,"m",function(){return a.c}),n.d(e,"y",function(){return a.h});var s=n(223);n.d(e,"_0",function(){return s.i}),n.d(e,"_1",function(){return s.j}),n.d(e,"_2",function(){return s.k}),n.d(e,"_3",function(){return s.l}),n.d(e,"_4",function(){return s.e}),n.d(e,"K",function(){return s.c}),n.d(e,"a",function(){return s.a}),n.d(e,"E",function(){return s.g}),n.d(e,"f",function(){return s.f}),n.d(e,"L",function(){return s.h});var u=n(160);n.d(e,"N",function(){return u.d}),n.d(e,"_5",function(){return u.e}),n.d(e,"g",function(){return u.b}),n.d(e,"_6",function(){return u.c});var c=n(222);n.d(e,"_7",function(){return c.b}),n.d(e,"_8",function(){return c.a});var l=n(559);n.d(e,"I",function(){return l.a});var h=n(557);n.d(e,"_49",function(){return h.c}),n.d(e,"B",function(){return h.b}),n.d(e,"n",function(){return h.a});var p=n(545);n.d(e,"_50",function(){return p.e}),n.d(e,"_51",function(){return p.f}),n.d(e,"_52",function(){return p.g}),n.d(e,"_53",function(){return p.h}),n.d(e,"_54",function(){return p.i}),n.d(e,"_55",function(){return p.j}),n.d(e,"Z",function(){return p.d}),n.d(e,"C",function(){return p.c}),n.d(e,"_56",function(){return p.k}),n.d(e,"_57",function(){return p.l}),n.d(e,"_58",function(){return p.m}),n.d(e,"_59",function(){return p.n}),n.d(e,"_60",function(){return p.o}),n.d(e,"_61",function(){return p.p}),n.d(e,"_62",function(){return p.q}),n.d(e,"z",function(){return p.a}),n.d(e,"A",function(){return p.b}),n.d(e,"_63",function(){return p.r}),n.d(e,"_64",function(){return p.s});var f=n(344);n.d(e,"_9",function(){return f.a}),n.d(e,"_10",function(){return f.d}),n.d(e,"_11",function(){return f.g}),n.d(e,"M",function(){return f.c});var d=n(235);n.d(e,"h",function(){return d.a}),n.d(e,"_12",function(){return d.b}),n.d(e,"P",function(){return d.c});var m=n(540);n.d(e,"_65",function(){return m.e}),n.d(e,"s",function(){return m.a}),n.d(e,"_66",function(){return m.f}),n.d(e,"_67",function(){return m.g}),n.d(e,"F",function(){return m.d}),n.d(e,"_68",function(){return m.h}),n.d(e,"D",function(){return m.c}),n.d(e,"_69",function(){return m.i}),n.d(e,"t",function(){return m.b});var y=n(555);n.d(e,"o",function(){return y.a});var v=n(347);n.d(e,"_13",function(){return v.b}),n.d(e,"_14",function(){return v.c}),n.d(e,"q",function(){return v.a});var g=n(539);n.d(e,"i",function(){return g.a});var b=n(169);n.d(e,"_15",function(){return b.a}),n.d(e,"_16",function(){return b.b}),n.d(e,"_17",function(){return b.c}),n.d(e,"_18",function(){return b.d});var _=n(236);n.d(e,"_19",function(){return _.a});var x=n(230);n.d(e,"G",function(){return x.a});var w=n(346);n.d(e,"j",function(){return w.a});var C=n(542);n.d(e,"u",function(){return C.a});var S=n(339);n.d(e,"e",function(){return S.a}),n.d(e,"_70",function(){return S.g}),n.d(e,"_71",function(){return S.h}),n.d(e,"_72",function(){return S.i}),n.d(e,"_73",function(){return S.j}),n.d(e,"_74",function(){return S.k}),n.d(e,"_75",function(){return S.l}),n.d(e,"_76",function(){return S.m}),n.d(e,"_77",function(){return S.n}),n.d(e,"_78",function(){return S.o}),n.d(e,"_79",function(){return S.p}),n.d(e,"_80",function(){return S.q}),n.d(e,"T",function(){return S.b}),n.d(e,"_81",function(){return S.r}),n.d(e,"_82",function(){return S.s}),n.d(e,"U",function(){return S.c}),n.d(e,"V",function(){return S.d}),n.d(e,"_83",function(){return S.t}),n.d(e,"W",function(){return S.e}),n.d(e,"X",function(){return S.f});var E=n(338);n.d(e,"_20",function(){return E.a});var T=n(221);n.d(e,"_21",function(){return T.b});var M=n(337);n.d(e,"_22",function(){return M.a});var A=n(334);n.d(e,"_23",function(){return A.a});var P=n(360);n.d(e,"k",function(){return P.a}),n.d(e,"J",function(){return P.b})},function(t,e,n){"use strict";var r=n(332),i=n(333),o=n(334),a=n(221),s=n(336),u=n(536),c=n(337),l=n(537),h=n(160),p=n(162),f=n(163),d=n(225),m=n(543),y=n(229),v=n(117),g=n(231),b=n(165),_=n(348),x=n(350),w=n(351),C=n(352),S=n(550),E=n(551),T=n(167),M=n(168),A=n(356),P=n(357),k=n(232),R=n(358),O=n(233),I=n(234),N=n(91),D=n(237);n.d(e,"a",function(){return L});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var L={isDefaultChangeDetectionStrategy:f.a,ChangeDetectorStatus:f.b,constructDependencies:y.a,LifecycleHooks:A.a,LIFECYCLE_HOOKS_VALUES:A.b,ReflectorReader:O.a,CodegenComponentFactoryResolver:b.a,ComponentRef_:g.a,ViewContainer:E.a,AppView:S.a,DebugAppView:S.b,NgModuleInjector:x.a,registerModuleFactory:w.a,ViewType:T.a,view_utils:M,ViewMetadata:P.a,DebugContext:_.a,StaticNodeDebugInfo:_.b,devModeEqual:p.a,UNINITIALIZED:p.b,ValueUnwrapper:p.c,RenderDebugInfo:I.a,TemplateRef_:C.a,ReflectionCapabilities:R.a,makeDecorator:N.a,DebugDomRootRenderer:m.a,Console:d.a,reflector:k.a,Reflector:k.b,NoOpAnimationPlayer:a.a,AnimationPlayer:a.b,AnimationSequencePlayer:s.a,AnimationGroupPlayer:i.a,AnimationKeyframe:o.a,prepareFinalAnimationStyles:u.a,balanceAnimationKeyframes:u.b,flattenStyles:u.c,clearStyles:u.d,renderStyles:u.e,collectAndResolveStyles:u.f,APP_ID_RANDOM_PROVIDER:h.a,AnimationStyles:c.a,ANY_STATE:r.a,DEFAULT_STATE:r.b,EMPTY_STATE:r.c,FILL_STYLE_FLAG:r.d,ComponentStillLoadingError:v.a,isPromise:D.a,isObservable:D.b,AnimationTransition:l.a}},function(t,e,n){"use strict";var r=n(7),i=n(344);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(t){this._delegate=t}return t.prototype.renderComponent=function(t){return new a(this._delegate.renderComponent(t))},t}(),a=function(){function t(t){this._delegate=t}return t.prototype.selectRootElement=function(t,e){var r=this._delegate.selectRootElement(t,e),o=new i.a(r,null,e);return n.i(i.b)(o),r},t.prototype.createElement=function(t,e,r){var o=this._delegate.createElement(t,e,r),a=new i.a(o,n.i(i.c)(t),r);return a.name=e,n.i(i.b)(a),o},t.prototype.createViewRoot=function(t){return this._delegate.createViewRoot(t)},t.prototype.createTemplateAnchor=function(t,e){var r=this._delegate.createTemplateAnchor(t,e),o=new i.d(r,n.i(i.c)(t),e);return n.i(i.b)(o),r},t.prototype.createText=function(t,e,r){var o=this._delegate.createText(t,e,r),a=new i.d(o,n.i(i.c)(t),r);return n.i(i.b)(a),o},t.prototype.projectNodes=function(t,e){var o=n.i(i.c)(t);if(n.i(r.b)(o)&&o instanceof i.a){var a=o;e.forEach(function(t){a.addChild(n.i(i.c)(t))})}this._delegate.projectNodes(t,e)},t.prototype.attachViewAfter=function(t,e){var o=n.i(i.c)(t);if(n.i(r.b)(o)){var a=o.parent;if(e.length>0&&n.i(r.b)(a)){var s=[];e.forEach(function(t){return s.push(n.i(i.c)(t))}),a.insertChildrenAfter(o,s)}}this._delegate.attachViewAfter(t,e)},t.prototype.detachView=function(t){t.forEach(function(t){var e=n.i(i.c)(t);n.i(r.b)(e)&&n.i(r.b)(e.parent)&&e.parent.removeChild(e)}),this._delegate.detachView(t)},t.prototype.destroyView=function(t,e){e=e||[],e.forEach(function(t){n.i(i.e)(n.i(i.c)(t))}),this._delegate.destroyView(t,e)},t.prototype.listen=function(t,e,o){var a=n.i(i.c)(t);return n.i(r.b)(a)&&a.listeners.push(new i.f(e,o)),this._delegate.listen(t,e,o)},t.prototype.listenGlobal=function(t,e,n){return this._delegate.listenGlobal(t,e,n)},t.prototype.setElementProperty=function(t,e,o){var a=n.i(i.c)(t);n.i(r.b)(a)&&a instanceof i.a&&(a.properties[e]=o),this._delegate.setElementProperty(t,e,o)},t.prototype.setElementAttribute=function(t,e,o){var a=n.i(i.c)(t);n.i(r.b)(a)&&a instanceof i.a&&(a.attributes[e]=o),this._delegate.setElementAttribute(t,e,o)},t.prototype.setBindingDebugInfo=function(t,e,n){this._delegate.setBindingDebugInfo(t,e,n)},t.prototype.setElementClass=function(t,e,o){var a=n.i(i.c)(t);n.i(r.b)(a)&&a instanceof i.a&&(a.classes[e]=o),this._delegate.setElementClass(t,e,o)},t.prototype.setElementStyle=function(t,e,o){var a=n.i(i.c)(t);n.i(r.b)(a)&&a instanceof i.a&&(a.styles[e]=o),this._delegate.setElementStyle(t,e,o)},t.prototype.invokeElementMethod=function(t,e,n){this._delegate.invokeElementMethod(t,e,n)},t.prototype.setText=function(t,e){this._delegate.setText(t,e)},t.prototype.animate=function(t,e,n,r,i,o,a){return void 0===a&&(a=[]),this._delegate.animate(t,e,n,r,i,o,a)},t}()},function(t,e,n){"use strict";function r(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}var i=n(115),o=n(90),a=n(345),s=n(228),u=n(229);n.d(e,"a",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=new Object,l=function(){function t(){}return t.resolve=function(t){return n.i(u.b)(t)},t.resolveAndCreate=function(e,n){void 0===n&&(n=null);var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return void 0===e&&(e=null),new h(t,e)},t.prototype.parent=function(){},t.prototype.resolveAndCreateChild=function(t){},t.prototype.createChildFromResolved=function(t){},t.prototype.resolveAndInstantiate=function(t){},t.prototype.instantiateResolved=function(t){},t.prototype.get=function(t,e){},t}(),h=function(){function t(t,e){void 0===e&&(e=null),this._constructionCounter=0,this._providers=t,this._parent=e;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=c}return t.prototype.get=function(t,e){return void 0===e&&(e=i.a),this._getByKey(s.a.get(t),null,e)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype.resolveAndCreateChild=function(t){var e=l.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n._parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(l.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw new a.a(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw new a.b(this,t.key);return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r=this,i=e.factory;try{n=e.dependencies.map(function(t){return r._getByReflectiveDependency(t)})}catch(e){throw(e instanceof a.c||e instanceof a.d)&&e.addKey(this,t.key),e}var o;try{o=i.apply(void 0,n)}catch(e){throw new a.d(this,e,e.stack,t.key)}return o},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:i.a)},t.prototype._getByKey=function(t,e,n){return t===p?this:e instanceof o.b?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===c&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return c},t.prototype._throwOrNull=function(t,e){if(e!==i.a)return e;throw new a.e(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==c?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof o.c?this._parent:this;i instanceof t;){var a=i,s=a._getObjByKeyId(e.id);if(s!==c)return s;i=a._parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){var t=r(this,function(t){return' "'+t.key.displayName+'" '}).join(", ");return"ReflectiveInjector(providers: ["+t+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),p=s.a.get(i.b)},function(t,e,n){"use strict";var r=n(117);n.d(e,"e",function(){return r.d}),n.d(e,"f",function(){return r.b}),n.d(e,"g",function(){return r.c}),n.d(e,"h",function(){return r.e});var i=n(231);n.d(e,"i",function(){return i.b}),n.d(e,"j",function(){return i.c});var o=n(165);n.d(e,"d",function(){return o.b});var a=n(166);n.d(e,"c",function(){return a.a});var s=n(350);n.d(e,"k",function(){return s.b}),n.d(e,"l",function(){return s.c});var u=n(351);n.d(e,"m",function(){return u.b}),n.d(e,"n",function(){return u.c});var c=n(548);n.d(e,"o",function(){return c.a});var l=n(549);n.d(e,"p",function(){return l.a}),n.d(e,"q",function(){return l.b});var h=n(352);n.d(e,"a",function(){return h.b});var p=n(353);n.d(e,"b",function(){return p.b});var f=n(354);n.d(e,"r",function(){return f.b}),n.d(e,"s",function(){return f.c})},function(t,e,n){"use strict";function r(t,e){t instanceof i.a||t instanceof o.a?t.players.forEach(function(t){return r(t,e)}):e.push(t)}var i=n(333),o=n(336),a=n(538);n.d(e,"a",function(){return s});var s=function(){function t(t){this._animationQueue=t,this._players=new a.a}return t.prototype.onAllActiveAnimationsDone=function(t){var e=this._players.getAllPlayers();e.length?new i.a(e).onDone(function(){return t()}):t()},t.prototype.queueAnimation=function(t,e,n){var r=this;this._animationQueue.enqueue(n),this._players.set(t,e,n),n.onDone(function(){return r._players.remove(t,e,n)})},t.prototype.getAnimationPlayers=function(t,e){void 0===e&&(e=null);var n=[];if(e){var i=this._players.find(t,e);i&&r(i,n)}else this._players.findAllPlayersByElement(t).forEach(function(t){return r(t,n)});return n},t}()},function(t,e,n){"use strict";var r=n(115);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e,n){t.call(this),this._view=e,this._nodeIndex=n}return i(e,t),e.prototype.get=function(t,e){return void 0===e&&(e=r.a),this._view.injectorGet(t,this._nodeIndex,e)},e}(r.b)},function(t,e,n){"use strict";var r=n(230),i=n(116),o=n(7);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(){this._dirty=!0,this._results=[],this._emitter=new r.a}return Object.defineProperty(t.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[n.i(o.f)()]=function(){return this._results[n.i(o.f)()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=i.e.flatten(t),this._dirty=!1},t.prototype.notifyOnChanges=function(){this._emitter.emit(this)},t.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";function r(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var i=n(36),o=n(117);n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a="#",s="NgFactory",u=function(){function t(){}return t}(),c={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},l=function(){function t(t,e){this._compiler=t,this._config=e||c}return t.prototype.load=function(t){var e=this._compiler instanceof o.b;return e?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=t.split(a),o=i[0],s=i[1];return void 0===s&&(s="default"),n(474)(o).then(function(t){return t[s]}).then(function(t){return r(t,o,s)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split(a),i=e[0],o=e[1],u=s;return void 0===o&&(o="default",u=""),n(474)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+u]}).then(function(t){return r(t,i,o)})},t.decorators=[{type:i.a}],t.ctorParameters=function(){return[{type:o.b},{type:u,decorators:[{type:i.d}]}]},t}()},function(t,e,n){"use strict";var r=n(161),i=n(115),o=n(7),a=n(169),s=n(546),u=n(348),c=n(547),l=n(349),h=n(354),p=n(167),f=n(168);n.d(e,"a",function(){return g}),n.d(e,"b",function(){return b});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var d=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},m=n.i(a.a)("AppView#check(ascii id)"),y=new Object,v=new Object,g=function(){function t(t,e,n,r,i,o,a,s,u){void 0===u&&(u=null),this.clazz=t,this.componentType=e,this.type=n,this.viewUtils=r,this.parentView=i,this.parentIndex=o,this.parentElement=a,this.cdMode=s,this.declaredViewContainer=u,this.numberOfChecks=0,this.ref=new h.a(this,r.animationQueue),n===p.a.COMPONENT||n===p.a.HOST?this.renderer=r.renderComponent(e):this.renderer=i.renderer,this._directRenderer=this.renderer.directRenderer}return Object.defineProperty(t.prototype,"animationContext",{get:function(){return this._animationContext||(this._animationContext=new s.a(this.viewUtils.animationQueue)),this._animationContext},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this.cdMode===r.b.Destroyed},enumerable:!0,configurable:!0}),t.prototype.create=function(t){return this.context=t,this.createInternal(null)},t.prototype.createHostView=function(t,e,r){return this.context=y,this._hasExternalHostElement=n.i(o.b)(t),this._hostInjector=e,this._hostProjectableNodes=r,this.createInternal(t)},t.prototype.createInternal=function(t){return null},t.prototype.createEmbeddedViewInternal=function(t){return null},t.prototype.init=function(t,e,n){this.lastRootNode=t,this.allNodes=e,this.disposables=n,this.type===p.a.COMPONENT&&this.dirtyParentQueriesInternal()},t.prototype.injectorGet=function(t,e,r){void 0===r&&(r=i.a);for(var a=v,s=this;a===v;)n.i(o.b)(e)&&(a=s.injectorGetInternal(t,e,v)),a===v&&s.type===p.a.HOST&&(a=s._hostInjector.get(t,r)),e=s.parentIndex,s=s.parentView;return a},t.prototype.injectorGetInternal=function(t,e,n){return n},t.prototype.injector=function(t){return new c.a(this,t)},t.prototype.detachAndDestroy=function(){this.viewContainer?this.viewContainer.detachView(this.viewContainer.nestedViews.indexOf(this)):this.appRef?this.appRef.detachView(this.ref):this._hasExternalHostElement&&this.detach(),this.destroy()},t.prototype.destroy=function(){var t=this;if(this.cdMode!==r.b.Destroyed){var e=this.type===p.a.COMPONENT?this.parentElement:null;if(this.disposables)for(var n=0;n<this.disposables.length;n++)this.disposables[n]();this.destroyInternal(),this.dirtyParentQueriesInternal(),this._animationContext?this._animationContext.onAllActiveAnimationsDone(function(){return t.renderer.destroyView(e,t.allNodes)}):this.renderer.destroyView(e,this.allNodes),this.cdMode=r.b.Destroyed}},t.prototype.destroyInternal=function(){},t.prototype.detachInternal=function(){},t.prototype.detach=function(){var t=this;if(this.detachInternal(),this._animationContext?this._animationContext.onAllActiveAnimationsDone(function(){return t._renderDetach()}):this._renderDetach(),this.declaredViewContainer&&this.declaredViewContainer!==this.viewContainer&&this.declaredViewContainer.projectedViews){var e=this.declaredViewContainer.projectedViews,n=e.indexOf(this);n>=e.length-1?e.pop():e.splice(n,1)}this.appRef=null,this.viewContainer=null,this.dirtyParentQueriesInternal()},t.prototype._renderDetach=function(){this._directRenderer?this.visitRootNodesInternal(this._directRenderer.remove,null):this.renderer.detachView(this.flatRootNodes)},t.prototype.attachToAppRef=function(t){if(this.viewContainer)throw new Error("This view is already attached to a ViewContainer!");this.appRef=t,this.dirtyParentQueriesInternal()},t.prototype.attachAfter=function(t,e){if(this.appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._renderAttach(t,e),this.viewContainer=t,this.declaredViewContainer&&this.declaredViewContainer!==t&&(this.declaredViewContainer.projectedViews||(this.declaredViewContainer.projectedViews=[]),this.declaredViewContainer.projectedViews.push(this)),this.dirtyParentQueriesInternal()},t.prototype.moveAfter=function(t,e){this._renderAttach(t,e),this.dirtyParentQueriesInternal()},t.prototype._renderAttach=function(t,e){var n=e?e.lastRootNode:t.nativeElement;if(this._directRenderer){var r=this._directRenderer.nextSibling(n);if(r)this.visitRootNodesInternal(this._directRenderer.insertBefore,r);else{var i=this._directRenderer.parentElement(n);i&&this.visitRootNodesInternal(this._directRenderer.appendChild,i)}}else this.renderer.attachViewAfter(n,this.flatRootNodes)},Object.defineProperty(t.prototype,"changeDetectorRef",{get:function(){return this.ref},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flatRootNodes",{get:function(){var t=[];return this.visitRootNodesInternal(f.addToArray,t),t},enumerable:!0,configurable:!0}),t.prototype.projectNodes=function(t,e){if(this._directRenderer)this.visitProjectedNodes(e,this._directRenderer.appendChild,t);else{var n=[];this.visitProjectedNodes(e,f.addToArray,n),this.renderer.projectNodes(t,n)}},t.prototype.visitProjectedNodes=function(t,e,n){switch(this.type){case p.a.EMBEDDED:this.parentView.visitProjectedNodes(t,e,n);break;case p.a.COMPONENT:if(this.parentView.type===p.a.HOST)for(var r=this.parentView._hostProjectableNodes[t]||[],i=0;i<r.length;i++)e(r[i],n);else this.parentView.visitProjectableNodesInternal(this.parentIndex,t,e,n)}},t.prototype.visitRootNodesInternal=function(t,e){},t.prototype.visitProjectableNodesInternal=function(t,e,n,r){},t.prototype.dirtyParentQueriesInternal=function(){},t.prototype.internalDetectChanges=function(t){this.cdMode!==r.b.Detached&&this.detectChanges(t)},t.prototype.detectChanges=function(t){var e=m(this.clazz);this.cdMode!==r.b.Checked&&this.cdMode!==r.b.Errored&&(this.cdMode===r.b.Destroyed&&this.throwDestroyedError("detectChanges"),this.detectChangesInternal(t),this.cdMode===r.b.CheckOnce&&(this.cdMode=r.b.Checked),this.numberOfChecks++,n.i(a.b)(e))},t.prototype.detectChangesInternal=function(t){},t.prototype.markAsCheckOnce=function(){this.cdMode=r.b.CheckOnce},t.prototype.markPathToRootAsCheckOnce=function(){for(var t=this;n.i(o.b)(t)&&t.cdMode!==r.b.Detached;)t.cdMode===r.b.Checked&&(t.cdMode=r.b.CheckOnce),t=t.type===p.a.COMPONENT?t.parentView:t.viewContainer?t.viewContainer.parentView:null},t.prototype.eventHandler=function(t){return t},t.prototype.throwDestroyedError=function(t){throw new l.b(t)},t}(),b=function(t){function e(e,n,r,i,o,a,s,u,c,l){void 0===l&&(l=null),t.call(this,e,n,r,i,o,a,s,u,l),this.staticNodeDebugInfos=c,this._currentDebugContext=null}return d(e,t),e.prototype.create=function(e){this._resetDebug();try{return t.prototype.create.call(this,e)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype.createHostView=function(e,n,r){void 0===r&&(r=null),this._resetDebug();try{return t.prototype.createHostView.call(this,e,n,r)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype.injectorGet=function(e,n,r){this._resetDebug();try{return t.prototype.injectorGet.call(this,e,n,r)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype.detach=function(){this._resetDebug();try{t.prototype.detach.call(this)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype.destroy=function(){this._resetDebug();try{t.prototype.destroy.call(this)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype.detectChanges=function(e){this._resetDebug();try{t.prototype.detectChanges.call(this,e)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype._resetDebug=function(){this._currentDebugContext=null},e.prototype.debug=function(t,e,n){return this._currentDebugContext=new u.a(this,t,e,n)},e.prototype._rethrowWithContext=function(t){if(!(t instanceof l.c)&&(t instanceof l.a||(this.cdMode=r.b.Errored),n.i(o.b)(this._currentDebugContext)))throw new l.c(t,this._currentDebugContext)},e.prototype.eventHandler=function(e){var n=this,r=t.prototype.eventHandler.call(this,e);return function(t,e){n._resetDebug();try{return r.call(n,t,e)}catch(t){throw n._rethrowWithContext(t),t}}},e}(g)},function(t,e,n){"use strict";var r=n(166),i=n(353),o=n(167);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a=function(){function t(t,e,n,r){this.index=t,this.parentIndex=e,this.parentView=n,this.nativeElement=r}return Object.defineProperty(t.prototype,"elementRef",{get:function(){return new r.a(this.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vcRef",{get:function(){return new i.a(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){return this.parentView.injector(this.parentIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this.parentView.injector(this.index)},enumerable:!0,configurable:!0}),t.prototype.detectChangesInNestedViews=function(t){if(this.nestedViews)for(var e=0;e<this.nestedViews.length;e++)this.nestedViews[e].detectChanges(t)},t.prototype.destroyNestedViews=function(){if(this.nestedViews)for(var t=0;t<this.nestedViews.length;t++)this.nestedViews[t].destroy()},t.prototype.visitNestedViewRootNodes=function(t,e){if(this.nestedViews)for(var n=0;n<this.nestedViews.length;n++)this.nestedViews[n].visitRootNodesInternal(t,e)},t.prototype.mapNestedViews=function(t,e){var n=[];if(this.nestedViews)for(var r=0;r<this.nestedViews.length;r++){var i=this.nestedViews[r];i.clazz===t&&n.push(e(i))}if(this.projectedViews)for(var r=0;r<this.projectedViews.length;r++){var o=this.projectedViews[r];o.clazz===t&&n.push(e(o))}return n},t.prototype.moveView=function(t,e){var n=this.nestedViews.indexOf(t);if(t.type===o.a.COMPONENT)throw new Error("Component views can't be moved!");var r=this.nestedViews;null==r&&(r=[],this.nestedViews=r),r.splice(n,1),r.splice(e,0,t);var i=e>0?r[e-1]:null;t.moveAfter(this,i)},t.prototype.attachView=function(t,e){if(t.type===o.a.COMPONENT)throw new Error("Component views can't be moved!");var n=this.nestedViews;null==n&&(n=[],this.nestedViews=n),e>=n.length?n.push(t):n.splice(e,0,t);var r=e>0?n[e-1]:null;t.attachAfter(this,r)},t.prototype.detachView=function(t){var e=this.nestedViews[t];if(t>=this.nestedViews.length-1?this.nestedViews.pop():this.nestedViews.splice(t,1),e.type===o.a.COMPONENT)throw new Error("Component views can't be moved!");return e.detach(),e},t}()},function(t,e,n){"use strict";var r=n(227),i=n(91);n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"f",function(){return h});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=new r.a("AnalyzeForEntryComponents"),a=n.i(i.b)("Attribute",[["attributeName",void 0]]),s=function(){function t(){}return t}(),u=n.i(i.c)("ContentChildren",[["selector",void 0],{first:!1,isViewQuery:!1,descendants:!1,read:void 0}],s),c=n.i(i.c)("ContentChild",[["selector",void 0],{first:!0,isViewQuery:!1,descendants:!0,read:void 0}],s),l=n.i(i.c)("ViewChildren",[["selector",void 0],{first:!1,isViewQuery:!0,descendants:!0,read:void 0}],s),h=n.i(i.c)("ViewChild",[["selector",void 0],{first:!0,isViewQuery:!0,descendants:!0,read:void 0}],s)},function(t,e,n){"use strict";var r=n(163),i=n(91);n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return h});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=n.i(i.a)("Directive",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,providers:void 0,exportAs:void 0,queries:void 0}),a=n.i(i.a)("Component",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,exportAs:void 0,moduleId:void 0,providers:void 0,viewProviders:void 0,changeDetection:r.c.Default,queries:void 0,templateUrl:void 0,template:void 0,styleUrls:void 0,styles:void 0,animations:void 0,encapsulation:void 0,interpolation:void 0,entryComponents:void 0},o),s=n.i(i.a)("Pipe",{name:void 0,pure:!0}),u=n.i(i.c)("Input",[["bindingPropertyName",void 0]]),c=n.i(i.c)("Output",[["bindingPropertyName",void 0]]),l=n.i(i.c)("HostBinding",[["hostPropertyName",void 0]]),h=n.i(i.c)("HostListener",[["eventName",void 0],["args",[]]])},function(t,e,n){"use strict";var r=n(91);n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i={name:"custom-elements"},o={name:"no-errors-schema"},a=n.i(r.a)("NgModule",{providers:void 0,declarations:void 0,imports:void 0,exports:void 0,entryComponents:void 0,bootstrap:void 0,schemas:void 0,id:void 0})},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(){return a.a}var i=n(223),o=n(225),a=n(232),s=n(233),u=n(235);n.d(e,"a",function(){return l});var c=[i.d,{provide:i.e,useExisting:i.d},{provide:a.b,useFactory:r,deps:[]},{provide:s.a,useExisting:a.b},u.b,o.a],l=n.i(i.f)(null,"core",c)},function(t,e,n){"use strict";function r(){var t=u.d.wtf;return!(!t||!(c=t.trace))&&(l=c.events,!0)}function i(t,e){return void 0===e&&(e=null),l.createScope(t,e)}function o(t,e){return c.leaveScope(t,e),e}function a(t,e){return c.beginTimeRange(t,e)}function s(t){c.endTimeRange(t)}var u=n(7);e.a=r,e.b=i,e.c=o,e.d=a,e.e=s;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c,l},function(t,e,n){"use strict";var r=n(234);n.d(e,"c",function(){return r.c}),n.d(e,"b",function(){return r.d}),n.d(e,"a",function(){return r.b})},function(t,e,n){"use strict";var r=n(91);n.d(e,"a",function(){return r.d})},function(t,e,n){"use strict";var r=n(170);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(564);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(0),i=n(171),o=n(172),a=n(239),s=n(119),u=n(240),c=n(173),l=n(241),h=n(120),p=n(242),f=n(243),d=n(244),m=n(121),y=n(122),v=n(175),g=n(176),b=n(364);n(77);n.d(e,"a",function(){return x}),n.d(e,"c",function(){return w}),n.d(e,"b",function(){return C});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var _=[v.b,g.b,o.a,l.a,p.a,i.a,v.a,g.a,h.b,a.a,a.b,b.a,b.b,b.c,b.d,b.e],x=[u.a,c.a,s.a],w=[f.a,m.a,d.a,y.a,y.b],C=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:_,exports:_}]}],t.ctorParameters=function(){return[]},t}()},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t){return t.validate?function(e){return t.validate(e)}:t}function i(t){return t.validate?function(e){return t.validate(e)}:t}e.a=r,e.b=i},function(t,e,n){"use strict";var r=n(0),i=n(561),o=n(120),a=n(366);n.d(e,"a",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:i.a,providers:[o.a],exports:[i.b,i.a]}]}],t.ctorParameters=function(){return[]},t}();(function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:[i.c],providers:[a.a,o.a],exports:[i.b,i.c]}]}],t.ctorParameters=function(){return[]},t})()},function(t,e,n){"use strict";var r=(n(238),n(118),n(171),n(52),n(37),n(172),n(77),n(239),n(119),n(240),n(173),n(120),n(243),n(244),n(121),n(122),n(175),n(176),n(364),n(366),n(177),n(46),n(565),n(563));n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(0);new r.Version("2.4.7")},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(){return new l.a}function i(t,e){return new f.a(t,e)}function o(t,e){return new f.b(t,e)}var a=n(0),s=n(368),u=n(245),c=n(369),l=n(370),h=n(246),p=n(178),f=n(372),d=n(125);n.d(e,"a",function(){return m});var m=function(){function t(){}return t.decorators=[{type:a.NgModule,args:[{providers:[{provide:f.a,useFactory:i,deps:[l.b,h.a]},u.a,{provide:h.a,useClass:h.b},{provide:p.a,useClass:p.b},l.b,{provide:d.a,useFactory:r}]}]}],t.ctorParameters=function(){return[]},t}();(function(){function t(){}return t.decorators=[{type:a.NgModule,args:[{providers:[{provide:f.b,useFactory:o,deps:[c.a,h.a]},s.a,{provide:h.a,useClass:h.b},{provide:p.a,useClass:p.b},{provide:c.a,useClass:c.b}]}]}],t.ctorParameters=function(){return[]},t})()},function(t,e,n){"use strict";var r=(n(245),n(369),n(370),n(246),n(178),n(67),n(124),n(372));n.d(e,"a",function(){return r.a});var i=n(566);n.d(e,"b",function(){return i.a});var o=(n(125),n(373),n(247),n(180));n.d(e,"c",function(){return o.a});n(568)},function(t,e,n){"use strict";var r=n(0);new r.Version("2.4.7")},function(t,e,n){"use strict";var r=n(571);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r;r="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:t:window;var i=r;i.assert=function(t){};Object.getPrototypeOf({}),function(){function t(){}return t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e},t.isNumeric=function(t){return!isNaN(t-parseFloat(t))},t}()}).call(e,n(41))},function(t,e,n){"use strict";var r=n(148),i=n(0),o=n(374),a=n(574);n(572),n(575);n.d(e,"a",function(){return s});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=([{provide:r.a,useClass:a.a}],n.i(i.createPlatformFactory)(r.b,"browserDynamic",o.a))},function(t,e,n){"use strict";var r=n(374),i=n(375);({INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS:r.a,ResourceLoaderImpl:i.a})},function(t,e,n){"use strict";var r=n(78);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=r.__platform_browser_private__.INTERNAL_BROWSER_PLATFORM_PROVIDERS;r.__platform_browser_private__.getDOM},function(t,e,n){"use strict";var r=n(148),i=n(570);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){if(t.call(this),this._cache=i.a.$templateCache,null==this._cache)throw new Error("CachedResourceLoader: Template cache was not found in $templateCache.")}return o(e,t),e.prototype.get=function(t){return this._cache.hasOwnProperty(t)?Promise.resolve(this._cache[t]):Promise.reject("CachedResourceLoader: Did not find cached template for "+t)},e}(r.a)},function(t,e,n){"use strict";var r=n(0);new r.Version("2.4.7")},function(t,e,n){"use strict";var r=n(21),i=n(47);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){var e=this;t.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var r=this.createElement("div",this.defaultDoc());if(n.i(i.a)(this.getStyle(r,"animationName")))this._animationPrefix="";else for(var o=["Webkit","Moz","O","ms"],a=0;a<o.length;a++)if(n.i(i.a)(this.getStyle(r,o[a]+"AnimationName"))){this._animationPrefix="-"+o[a].toLowerCase()+"-";break}var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(s).forEach(function(t){n.i(i.a)(e.getStyle(r,t))&&(e._transitionEnd=s[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}return o(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof this.defaultDoc().body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return n.i(i.a)(this._animationPrefix)&&n.i(i.a)(this._transitionEnd)},e}(r.a)},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 * @return {?}
 */
function r(){return!!window.history.pushState}e.a=r},function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(582),a=n(47);n.d(e,"a",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=function(){function t(t,e){this.msPerTick=t,this.numTicks=e}return t}(),u=function(){function t(t){this.profiler=new c(t)}return t}(),c=function(){function t(t){this.appRef=t.injector.get(r.ApplicationRef)}return t.prototype.timeChangeDetection=function(t){var e=t&&t.record,r="Change Detection",u=n.i(a.a)(o.a.console.profile);e&&u&&o.a.console.profile(r);for(var c=n.i(i.b)().performanceNow(),l=0;l<5||n.i(i.b)().performanceNow()-c<500;)this.appRef.tick(),l++;var h=n.i(i.b)().performanceNow();e&&u&&o.a.console.profileEnd(r);var p=(h-c)/l;return o.a.console.log("ran "+l+" change detection cycles"),o.a.console.log(p.toFixed(2)+" ms per check"),new s(p,l)},t}()},function(t,e,n){"use strict";function r(t){return Object.assign(s.ng,new a.a(t)),t}function i(){s.ng&&delete s.ng.profiler}var o=n(47),a=n(578);e.b=r,e.a=i;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var s=o.e},function(t,e,n){"use strict";var r=n(21),i=n(47);n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var o=function(){function t(){}return t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return!!n.i(i.a)(e.nativeElement)&&n.i(r.b)().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return e.providerTokens.indexOf(t)!==-1}},t}()},function(t,e,n){"use strict";function r(t,e){return n.i(s.b)().getComputedStyle(t)[e]}function i(t){var e={};return Object.keys(t).forEach(function(n){"offset"!=n&&(e[n]=t[n])}),e}var o=n(0),a=n(47),s=n(21);n.d(e,"a",function(){return u});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u=function(){function t(t,e,n,r){var i=this;void 0===r&&(r=[]),this.element=t,this.keyframes=e,this.options=n,this._onDoneFns=[],this._onStartFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.parentPlayer=null,this._duration=n.duration,this.previousStyles={},r.forEach(function(t){var e=t._captureStyles();Object.keys(e).forEach(function(t){return i.previousStyles[t]=e[t]})})}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes.map(function(e){var n={};return Object.keys(e).forEach(function(i,a){var s=e[i];s==o.AUTO_STYLE&&(s=r(t.element,i)),void 0!=s&&(n[i]=s)}),n}),s=Object.keys(this.previousStyles);if(s.length){var u=e[0],c=[];if(s.forEach(function(e){n.i(a.a)(u[e])||c.push(e),u[e]=t.previousStyles[e]}),c.length)for(var l=function(n){var i=e[n];c.forEach(function(e){i[e]=r(t.element,e)})},h=1;h<e.length;h++)l(h)}this._player=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=i(e[e.length-1]),this._resetDomPlayerState(),this._player.addEventListener("finish",function(){return t._onFinish()})}},t.prototype._triggerWebAnimation=function(t,e,n){return t.animate(e,n)},Object.defineProperty(t.prototype,"domPlayer",{get:function(){return this._player},enumerable:!0,configurable:!0}),t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.play=function(){this.init(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this._player.play()},t.prototype.pause=function(){this.init(),this._player.pause()},t.prototype.finish=function(){this.init(),this._onFinish(),this._player.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this._player&&this._player.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._resetDomPlayerState(),this._onFinish(),this._destroyed=!0)},Object.defineProperty(t.prototype,"totalTime",{get:function(){return this._duration},enumerable:!0,configurable:!0}),t.prototype.setPosition=function(t){this._player.currentTime=t*this.totalTime},t.prototype.getPosition=function(){return this._player.currentTime/this.totalTime},t.prototype._captureStyles=function(){var t=this,e={};return this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:r(t.element,n))}),e},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r="undefined"!=typeof window&&window||{};r.document,r.location,r.gc?function(){return r.gc()}:function(){return null},r.performance?r.performance:null,r.Event,r.MouseEvent,r.KeyboardEvent,r.EventTarget,r.History,r.Location,r.EventListener},function(t,e,n){"use strict";n(47);n.d(e,"a",function(){return r});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r=function(){function t(){}return t.merge=function(t,e){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=t[o]}for(var a=0,s=Object.keys(e);a<s.length;a++){var o=s[a];n[o]=e[o]}return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!==e[o])return!1}return!0},t}();(function(){function t(){}return t.findLast=function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);r>-1&&t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.flatten=function(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t.flatten(n):n;return e.concat(r)},[])},t})()},function(t,e,n){"use strict";var r=n(376);n.d(e,"a",function(){return r.a}),n.d(e,"d",function(){return r.e});var i=n(380);n.d(e,"e",function(){return i.a});var o=n(579);n.d(e,"f",function(){return o.a}),n.d(e,"g",function(){return o.b});var a=n(248);n.d(e,"h",function(){return a.a});var s=n(580);n.d(e,"i",function(){return s.a});var u=n(249);n.d(e,"j",function(){return u.b});var c=n(181);n.d(e,"k",function(){return c.a});var l=n(94);n.d(e,"l",function(){return l.a}),n.d(e,"m",function(){return l.b});var h=n(251);n.d(e,"n",function(){return h.b}),n.d(e,"o",function(){return h.c});var p=n(384);n.d(e,"c",function(){return p.a});var f=n(585);n.d(e,"b",function(){return f.a});var d=n(588);n.d(e,"p",function(){return d.a})},function(t,e,n){"use strict";var r=n(376),i=n(377),o=n(378),a=n(379),s=n(249),u=n(21),c=n(250),l=n(381),h=n(251),p=n(382),f=n(252),d=n(383);n.d(e,"a",function(){return m});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var m={BrowserPlatformLocation:o.a,DomAdapter:u.a,BrowserDomAdapter:i.a,BrowserGetTestability:a.a,getDOM:u.b,setRootDomAdapter:u.c,DomRootRenderer_:c.a,DomRootRenderer:c.b,NAMESPACE_URIS:c.c,shimContentAttribute:c.d,shimHostAttribute:c.e,flattenStyles:c.f,splitNamespace:c.g,isNamespaced:c.h,DomSharedStylesHost:f.a,SharedStylesHost:f.b,ELEMENT_PROBE_PROVIDERS:s.a,DomEventsPlugin:l.a,KeyEventsPlugin:p.a,HammerGesturesPlugin:h.a,initDomAdapter:r.b,INTERNAL_BROWSER_PLATFORM_PROVIDERS:r.c,BROWSER_SANITIZATION_PROVIDERS:r.d,WebAnimationsDriver:d.a}},function(t,e,n){"use strict";function r(){if(p)return p;f=n.i(l.b)();var t=f.createElement("template");if("content"in t)return t;var e=f.createHtmlDocument();if(p=f.querySelector(e,"body"),null==p){var r=f.createElement("html",e);p=f.createElement("body",e),f.appendChild(r,p),f.appendChild(e,r)}return p}function i(t){for(var e={},n=0,r=t.split(",");n<r.length;n++){var i=r[n];e[i]=!0}return e}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)o.hasOwnProperty(a)&&(n[a]=!0)}return n}function a(t){return t.replace(/&/g,"&amp;").replace(T,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(M,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(t){f.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||f.removeAttribute(t,n)});for(var e=0,n=f.childNodesAsList(t);e<n.length;e++){var r=n[e];f.isElementNode(r)&&s(r)}}function u(t){try{var e=r(),i=t?String(t):"",o=5,a=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=a,f.setInnerHTML(e,i),f.defaultDoc().documentMode&&s(e),a=f.getInnerHTML(e)}while(i!==a);for(var u=new E,l=u.sanitizeChildren(f.getTemplateContent(e)||e),h=f.getTemplateContent(e)||e,d=0,m=f.childNodesAsList(h);d<m.length;d++){var y=m[d];f.removeChild(h,y)}return n.i(c.isDevMode)()&&u.sanitizedSomething&&f.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),l}catch(t){throw p=null,t}}var c=n(0),l=n(21),h=n(254);e.a=u;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var p=null,f=null,d=i("area,br,col,hr,img,wbr"),m=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y=i("rp,rt"),v=o(y,m),g=o(m,i("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),b=o(y,i("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_=o(d,g,b,v),x=i("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),w=i("srcset"),C=i("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),S=o(x,w,C),E=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(f.isElementNode(e)?this.startElement(e):f.isTextNode(e)?this.chars(f.nodeValue(e)):this.sanitizedSomething=!0,f.firstChild(e))e=f.firstChild(e);else for(;e;){if(f.isElementNode(e)&&this.endElement(e),f.nextSibling(e)){e=f.nextSibling(e);break}e=f.parentElement(e)}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,r=f.nodeName(t).toLowerCase();return _.hasOwnProperty(r)?(this.buf.push("<"),this.buf.push(r),f.attributeMap(t).forEach(function(t,r){var i=r.toLowerCase();return S.hasOwnProperty(i)?(x[i]&&(t=n.i(h.a)(t)),w[i]&&(t=n.i(h.b)(t)),e.buf.push(" "),e.buf.push(r),e.buf.push('="'),e.buf.push(a(t)),void e.buf.push('"')):void(e.sanitizedSomething=!0)}),void this.buf.push(">")):void(this.sanitizedSomething=!0)},t.prototype.endElement=function(t){var e=f.nodeName(t).toLowerCase();_.hasOwnProperty(e)&&!d.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(a(t))},t}(),T=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M=/([^\#-~ |!])/g},function(t,e,n){"use strict";function r(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}function i(t){if(t=String(t).trim(),!t)return"";var e=t.match(m);return e&&n.i(s.a)(e[1])===e[1]||t.match(d)&&r(t)?t:(n.i(o.isDevMode)()&&n.i(a.b)().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}var o=n(0),a=n(21),s=n(254);e.a=i;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var u="[-,.\"'%_!# a-zA-Z0-9]+",c="(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?",l="(?:rgb|hsl)a?",h="(?:repeating-)?(?:linear|radial)-gradient",p="(?:calc|attr)",f="\\([-0-9.%, #a-zA-Z]+\\)",d=new RegExp("^("+u+"|"+("(?:"+c+"|"+l+"|"+h+"|"+p+")")+(f+")$"),"g"),m=/^url\(([^)]+)\)$/},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=new r.Version("2.4.7")},function(t,e,n){"use strict";function r(t){return new g.Observable(function(e){return e.error(new R(t))})}function i(t){return new g.Observable(function(e){return e.error(new O(t))})}function o(t){return new g.Observable(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function a(t){return new g.Observable(function(e){return e.error(new A.b("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function s(t,e,n,r,i){return new I(t,e,n,r,i).apply()}function u(t,e){var r=e.canLoad;if(!r||0===r.length)return n.i(_.of)(!0);var i=S.map.call(n.i(b.from)(r),function(r){var i=t.get(r);return i.canLoad?n.i(k.b)(i.canLoad(e)):n.i(k.b)(i(e))});return n.i(k.g)(i)}function c(t,e,n){var r={matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}};if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=e.matcher||A.c,o=i(n,t,e);return o?{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,positionalParamSegments:o.posParams}:r}function l(t,e,n,r){if(n.length>0&&d(t,n,r)){var i=new P.c(e,f(r,new P.c(n,t.children)));return{segmentGroup:h(i),slicedSegments:[]}}if(0===n.length&&m(t,n,r)){var i=new P.c(t.segments,p(t,n,r,t.children));return{segmentGroup:h(i),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}function h(t){if(1===t.numberOfChildren&&t.children[A.a]){var e=t.children[A.a];return new P.c(t.segments.concat(e.segments),e.children)}return t}function p(t,e,r,i){for(var o={},a=0,s=r;a<s.length;a++){var u=s[a];y(t,e,u)&&!i[v(u)]&&(o[v(u)]=new P.c([],{}))}return n.i(k.e)(i,o)}function f(t,e){var n={};n[A.a]=e;for(var r=0,i=t;r<i.length;r++){var o=i[r];""===o.path&&v(o)!==A.a&&(n[v(o)]=new P.c([],{}))}return n}function d(t,e,n){return n.filter(function(n){return y(t,e,n)&&v(n)!==A.a}).length>0}function m(t,e,n){return n.filter(function(n){return y(t,e,n)}).length>0}function y(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function v(t){return t.outlet?t.outlet:A.a}var g=n(1),b=(n.n(g),n(196)),_=(n.n(b),n(85)),x=(n.n(_),n(288)),w=(n.n(x),n(291)),C=(n.n(w),n(295)),S=(n.n(C),n(86)),E=(n.n(S),n(103)),T=(n.n(E),n(144)),M=(n.n(T),n(127)),A=n(48),P=n(79),k=n(53);e.a=s;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var R=function(){function t(t){void 0===t&&(t=null),this.segmentGroup=t}return t}(),O=function(){function t(t){this.urlTree=t}return t}(),I=function(){function t(t,e,n,r,i){this.injector=t,this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.injector,this.config,this.urlTree.root,A.a),n=S.map.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return x._catch.call(n,function(e){if(e instanceof O)return t.allowRedirects=!1,t.match(e.urlTree);throw e instanceof R?t.noMatchError(e):e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.injector,this.config,t.root,A.a),r=S.map.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return x._catch.call(r,function(t){throw t instanceof R?e.noMatchError(t):t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r=t.segments.length>0?new P.c([],(i={},i[A.a]=t,i)):t;return new P.e(r,e,n);var i},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?S.map.call(this.expandChildren(t,e,n),function(t){return new P.c([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,r){var i=this;return n.i(k.h)(r.children,function(n,r){return i.expandSegmentGroup(t,e,r,n)})},t.prototype.expandSegment=function(t,e,r,i,o,a){var s=this,u=_.of.apply(void 0,r),c=S.map.call(u,function(u){var c=s.expandSegmentAgainstRoute(t,e,r,u,i,o,a);return x._catch.call(c,function(t){if(t instanceof R)return n.i(_.of)(null);throw t})}),l=w.concatAll.call(c),h=C.first.call(l,function(t){return!!t});return x._catch.call(h,function(t,r){if(t instanceof T.EmptyError){if(s.noLeftoversInUrl(e,i,o))return n.i(_.of)(new P.c([],{}));throw new R(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,i,o,a,s){return v(i)!==a?r(e):void 0===i.redirectTo||s&&this.allowRedirects?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o):this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,a):r(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var o=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?i(a):E.mergeMap.call(this.lineralizeSegments(n,a),function(n){var i=new P.c(n,{});return o.expandSegment(t,i,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,o,a,s){var u=this,l=c(e,o,a),h=l.matched,p=l.consumedSegments,f=l.lastChild,d=l.positionalParamSegments;if(!h)return r(e);var m=this.applyRedirectCommands(p,o.redirectTo,d);return o.redirectTo.startsWith("/")?i(m):E.mergeMap.call(this.lineralizeSegments(o,m),function(r){return u.expandSegment(t,e,n,r.concat(a.slice(f)),s,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,i,o){var a=this;if("**"===i.path)return i.loadChildren?S.map.call(this.configLoader.load(t,i.loadChildren),function(t){return i._loadedConfig=t,new P.c(o,{})}):n.i(_.of)(new P.c(o,{}));var s=c(e,i,o),u=s.matched,h=s.consumedSegments,p=s.lastChild;if(!u)return r(e);var f=o.slice(p),d=this.getChildConfig(t,i);return E.mergeMap.call(d,function(t){var r=t.injector,i=t.routes,o=l(e,h,f,i),s=o.segmentGroup,u=o.slicedSegments;if(0===u.length&&s.hasChildren()){var c=a.expandChildren(r,i,s);return S.map.call(c,function(t){return new P.c(h,t)})}if(0===i.length&&0===u.length)return n.i(_.of)(new P.c(h,{}));var c=a.expandSegment(r,s,i,u,A.a,!0);return S.map.call(c,function(t){return new P.c(h.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var r=this;return e.children?n.i(_.of)(new M.c(e.children,t,null,null)):e.loadChildren?E.mergeMap.call(u(t,e),function(i){return i?e._loadedConfig?n.i(_.of)(e._loadedConfig):S.map.call(r.configLoader.load(t,e.loadChildren),function(t){return e._loadedConfig=t,t}):a(e)}):n.i(_.of)(new M.c([],t,null,null))},t.prototype.lineralizeSegments=function(t,e){for(var r=[],i=e.root;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return n.i(_.of)(r);if(i.numberOfChildren>1||!i.children[A.a])return o(t.redirectTo);i=i.children[A.a]}},t.prototype.applyRedirectCommands=function(t,e,n){this.urlSerializer.parse(e);return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new P.e(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var r={};return n.i(k.d)(t,function(t,n){t.startsWith(":")?r[n]=e[t.substring(1)]:r[n]=t}),r},t.prototype.createSegmentGroup=function(t,e,r,i){var o=this,a=this.createSegments(t,e.segments,r,i),s={};return n.i(k.d)(e.children,function(e,n){s[n]=o.createSegmentGroup(t,e,r,i)}),new P.c(a,s)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o.path===t.path)return e.splice(n),o;n++}return t},t}()},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n],a=o(e,r);i(r,a)}}function i(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n       \n      Example: \n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==a.a)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){var n="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. "+n)}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&r(t.children,e)}function o(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}var a=n(48);e.a=r},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e,n){var r=i(t,e._root,n?n._root:void 0);return new c.c(r,e)}function i(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var u=a(t,e,n);return new l.b(r,u)}if(t.retrieve(e.value)){var c=t.retrieve(e.value).route;return o(e,c),c}var r=s(e.value),u=e.children.map(function(e){return i(t,e)});return new l.b(r,u)}function o(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)o(t.children[n],e.children[n])}function a(t,e,n){return e.children.map(function(e){for(var r=0,o=n.children;r<o.length;r++){var a=o[r];if(t.shouldReuseRoute(a.value.snapshot,e.value))return i(t,e,a)}return i(t,e)})}function s(t){return new c.a(new u.BehaviorSubject(t.url),new u.BehaviorSubject(t.params),new u.BehaviorSubject(t.queryParams),new u.BehaviorSubject(t.fragment),new u.BehaviorSubject(t.data),t.outlet,t.component,t)}var u=n(137),c=(n.n(u),n(96)),l=n(257);e.a=r},function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function r(t,e,n,r,i){if(0===n.length)return o(e.root,e.root,e,r,i);var a=s(n);if(a.toRoot())return o(e.root,new _.c([],{}),e,r,i);var c=u(a,e,t),l=c.processChildren?f(c.segmentGroup,c.index,a.commands):p(c.segmentGroup,c.index,a.commands);return o(c.segmentGroup,l,e,r,i)}function i(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function o(t,e,n,r,i){return n.root===t?new _.e(e,v(r),i):new _.e(a(n.root,t,e),v(r),i)}function a(t,e,r){var i={};return n.i(x.d)(t.children,function(t,n){t===e?i[n]=r:i[n]=a(t,e,r)}),new _.c(t.segments,i)}function s(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new w(!0,0,t);var e=0,r=!1,i=t.reduce(function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return n.i(x.d)(i.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:a}])}if(i.segmentPath)return t.concat([i.segmentPath])}return"string"!=typeof i?t.concat([i]):0===o?(i.split("/").forEach(function(n,i){0==i&&"."===n||(0==i&&""===n?r=!0:".."===n?e++:""!=n&&t.push(n))}),t):t.concat([i])},[]);return new w(r,e,i)}function u(t,e,n){if(t.isAbsolute)return new C(e.root,!0,0);if(n.snapshot._lastPathIndex===-1)return new C(n.snapshot._urlSegment,!0,0);var r=i(t.commands[0])?0:1,o=n.snapshot._lastPathIndex+r;return c(n.snapshot._urlSegment,o,t.numberOfDoubleDots)}function c(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new C(r,!1,i-o)}function l(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[b.a]:""+t}function h(t){return"object"!=typeof t[0]?(e={},e[b.a]=t,e):void 0===t[0].outlets?(n={},n[b.a]=t,n):t[0].outlets;var e,n}function p(t,e,n){if(t||(t=new _.c([],{})),0===t.segments.length&&t.hasChildren())return f(t,e,n);var r=d(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new _.c(t.segments.slice(0,r.pathIndex),{});return o.children[b.a]=new _.c(t.segments.slice(r.pathIndex),t.children),f(o,0,i)}return r.match&&0===i.length?new _.c(t.segments,{}):r.match&&!t.hasChildren()?m(t,e,n):r.match?f(t,0,i):m(t,e,n)}function f(t,e,r){if(0===r.length)return new _.c(t.segments,{});var i=h(r),o={};return n.i(x.d)(i,function(n,r){null!==n&&(o[r]=p(t.children[r],e,n))}),n.i(x.d)(t.children,function(t,e){void 0===i[e]&&(o[e]=t)}),new _.c(t.segments,o)}function d(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=l(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!g(s,u,a))return o;r+=2}else{if(!g(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function m(t,e,n){for(var r=t.segments.slice(0,e),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var a=y(n[o].outlets);return new _.c(r,a)}if(0===o&&i(n[0])){var s=t.segments[e];r.push(new _.b(s.path,n[0])),o++}else{var u=l(n[o]),c=o<n.length-1?n[o+1]:null;u&&c&&i(c)?(r.push(new _.b(u,v(c))),o+=2):(r.push(new _.b(u,{})),o++)}}return new _.c(r,{})}function y(t){var e={};return n.i(x.d)(t,function(t,n){null!==t&&(e[n]=m(new _.c([],{}),0,t))}),e}function v(t){var e={};return n.i(x.d)(t,function(t,n){return e[n]=""+t}),e}function g(t,e,r){return t==r.path&&n.i(x.c)(e,r.parameters)}var b=n(48),_=n(79),x=n(53);e.a=r;var w=function(){function t(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&i(r[0]))throw new Error("Root segment cannot have matrix parameters");var o=r.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(o&&o!==n.i(x.i)(r))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),C=function(){function t(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}return t}()},function(t,e,n){"use strict";var r=n(255);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b});var i=n(385);n.d(e,"c",function(){return i.a});var o=n(386);n.d(e,"d",function(){return o.a});var a=n(387);n.d(e,"e",function(){return a.a});var s=n(126);n.d(e,"f",function(){return s.a}),n.d(e,"g",function(){return s.b}),n.d(e,"h",function(){return s.c}),n.d(e,"i",function(){return s.d}),n.d(e,"j",function(){return s.e}),n.d(e,"k",function(){return s.f});var u=n(388);n.d(e,"l",function(){return u.a}),n.d(e,"m",function(){return u.b}),n.d(e,"n",function(){return u.c}),n.d(e,"o",function(){return u.d});var c=n(182);n.d(e,"p",function(){return c.a});var l=n(389);n.d(e,"q",function(){return l.a}),n.d(e,"r",function(){return l.b}),n.d(e,"s",function(){return l.c}),n.d(e,"t",function(){return l.d});var h=n(96);n.d(e,"u",function(){return h.a}),n.d(e,"v",function(){return h.b}),n.d(e,"w",function(){return h.c}),n.d(e,"x",function(){return h.d});var p=n(48);n.d(e,"y",function(){return p.a});var f=n(256);n.d(e,"z",function(){return f.a});var d=n(79);n.d(e,"A",function(){return d.a}),n.d(e,"B",function(){return d.b}),n.d(e,"C",function(){return d.c}),n.d(e,"D",function(){return d.d}),n.d(e,"E",function(){return d.e});var m=n(598);n.d(e,"F",function(){return m.a});var y=n(594);n.d(e,"G",function(){return y.a})},function(t,e,n){"use strict";var r=n(127),i=n(388),o=n(53);n.d(e,"a",function(){return a});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var a={ROUTER_PROVIDERS:i.e,ROUTES:r.a,flatten:o.a}},function(t,e,n){"use strict";var r=n(0);n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=r.__core_private__.isPromise,o=r.__core_private__.isObservable},function(t,e,n){"use strict";var r=n(78);n.d(e,"a",function(){return i});var i=r.__platform_browser_private__.getDOM},function(t,e,n){"use strict";function r(t,e,n,r){return new M(t,e,n,r).recognize()}function i(t){t.sort(function(t,e){return t.value.outlet===w.a?-1:e.value.outlet===w.a?1:t.value.outlet.localeCompare(e.value.outlet)})}function o(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function a(t,e,r){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||r.length>0))throw new T;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=e.matcher||w.c,o=i(r,t,e);if(!o)throw new T;var a={};n.i(S.d)(o.posParams,function(t,e){a[e]=t.path});var s=n.i(S.e)(a,o.consumed[o.consumed.length-1].parameters);return{consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:s}}function s(t){var e={};t.forEach(function(t){var n=e[t.value.outlet];if(n){var r=n.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}e[t.value.outlet]=t.value})}function u(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function c(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function l(t,e,n,r){if(n.length>0&&f(t,n,r)){var i=new C.c(e,p(t,e,r,new C.c(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&d(t,n,r)){var i=new C.c(t.segments,h(t,n,r,t.children));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}var i=new C.c(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function h(t,e,r,i){for(var o={},a=0,s=r;a<s.length;a++){var u=s[a];if(m(t,e,u)&&!i[y(u)]){var c=new C.c([],{});c._sourceSegment=t,c._segmentIndexShift=t.segments.length,o[y(u)]=c}}return n.i(S.e)(i,o)}function p(t,e,n,r){var i={};i[w.a]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var o=0,a=n;o<a.length;o++){var s=a[o];if(""===s.path&&y(s)!==w.a){var u=new C.c([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[y(s)]=u}}return i}function f(t,e,n){return n.filter(function(n){return m(t,e,n)&&y(n)!==w.a}).length>0}function d(t,e,n){return n.filter(function(n){return m(t,e,n)}).length>0}function m(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function y(t){return t.outlet?t.outlet:w.a}function v(t){return t.data?t.data:{}}function g(t){return t.resolve?t.resolve:{}}var b=n(1),_=(n.n(b),n(85)),x=(n.n(_),n(96)),w=n(48),C=n(79),S=n(53),E=n(257);e.a=r;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var T=function(){function t(){}return t}(),M=function(){function t(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return t.prototype.recognize=function(){try{var t=l(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,w.a),r=new x.b([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},w.a,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new E.b(r,e),o=new x.d(this.url,i);return this.inheriteParamsAndData(o._root),n.i(_.of)(o)}catch(t){return new b.Observable(function(e){return e.error(t)})}},t.prototype.inheriteParamsAndData=function(t){var e=this,r=t.value,i=n.i(x.g)(r);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheriteParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var r=this,o=n.i(C.i)(e,function(e,n){return r.processSegmentGroup(t,e,n)});return s(o),i(o),o},t.prototype.processSegment=function(t,e,n,r){for(var i=0,o=t;i<o.length;i++){var a=o[i];try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(t){if(!(t instanceof T))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new T},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,r,i){if(t.redirectTo)throw new T;if((t.outlet?t.outlet:w.a)!==i)throw new T;if("**"===t.path){var s=r.length>0?n.i(S.i)(r).parameters:{},h=new x.b(r,s,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,v(t),i,t.component,t,u(e),c(e)+r.length,g(t));return[new E.b(h,[])]}var p=a(e,t,r),f=p.consumedSegments,d=p.parameters,m=p.lastChild,y=r.slice(m),b=o(t),_=l(e,f,y,b),C=_.segmentGroup,M=_.slicedSegments,A=new x.b(f,d,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,v(t),i,t.component,t,u(e),c(e)+f.length,g(t));if(0===M.length&&C.hasChildren()){var P=this.processChildren(b,C);return[new E.b(A,P)]}if(0===b.length&&0===M.length)return[new E.b(A,[])];var P=this.processSegment(b,C,M,w.a);return[new E.b(A,P)]},t}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return i});/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var i=new r.Version("3.4.7")},function(t,e,n){"use strict";var r=n(0),i=n(183),o=n(397),a=(n.n(o),n(260)),s=n(304);n.d(e,"a",function(){return l});var u=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n){this.angulartics2GoogleAnalytics=t,this.notificationService=e,this.toastrConfig=n,n.closeButton=!0,n.timeOut=0,this.notificationService.addAnnouncementNotification("For reporting issues or any request, please use the 'Issues'-button in the top bar.",this.toastrConfig),this.notificationService.addAnnouncementNotification("This is a development page!",this.toastrConfig)}return t.prototype.ngOnInit=function(){$(document).foundation(),$(document).foundationExtendEBI(),a.a.production===!1?ga("create",a.a.analytics_id,"none"):ga("create",a.a.analytics_id,"none"),function(){var t=document.getElementById("local-masthead"),e=document.querySelector("meta[name='ebi:localmasthead-color']")||document.querySelector("meta[name='ebi-localmasthead-color']"),n=document.querySelector("meta[name='ebi:localmasthead-image']")||document.querySelector("meta[name='ebi-localmasthead-image']");null!=e&&(t.style.backgroundColor=e.getAttribute("content"),t.className+=" meta-background-color"),null!=n&&(t.style.backgroundImage="url("+n.getAttribute("content")+")",t.className+=" meta-background-image")}()},t.prototype.ngAfterContentInit=function(){},t=u([n.i(r.Component)({selector:"app-root",template:n(869),styles:[n(826)]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.Angulartics2GoogleAnalytics&&o.Angulartics2GoogleAnalytics)&&e||Object,"function"==typeof(l="undefined"!=typeof i.a&&i.a)&&l||Object,"function"==typeof(h="undefined"!=typeof s.c&&s.c)&&h||Object])],t);var e,l,h}()},function(t,e,n){"use strict";var r=n(78),i=n(0),o=n(560),a=n(123),s=n(599),u=n(95),c=n(601),l=n(259),h=n(642),p=n(394),f=n(638),d=n(637),m=n(640),y=n(639),v=n(392),g=n(632),b=n(631),_=n(633),x=n(183),w=n(393),C=n(397),S=(n.n(C),n(304)),E=n(390),T=n(621),M=n(609),A=n(626),P=n(606),k=n(603),R=n(630),O=n(622),I=n(623),N=n(624),D=n(625),L=n(616),V=n(615),F=n(258),j=n(611),B=n(612),U=n(613),z=n(610),H=n(391),G=n(628),q=n(627),W=n(641),X=n(629),Y=n(608),K=n(607),Z=n(604),Q=n(602),$=n(605),J=n(619),tt=n(620),et=n(395),nt=n(614);n.d(e,"a",function(){return ot});var rt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},it=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ot=function(){function t(){}return t=rt([n.i(i.NgModule)({declarations:[s.a,h.a,p.a,f.a,d.a,m.a,y.a,v.a,g.a,b.a,_.a,w.a,E.a,T.a,M.a,A.a,P.a,k.a,R.a,O.a,I.a,N.a,D.a,L.a,V.a,j.a,B.a,U.a,z.a,G.a,q.a,W.a,X.a,Y.a,K.a,Z.a,Q.a,$.a,tt.a,J.a,nt.a],imports:[r.BrowserModule,o.a,a.a,u.RouterModule.forRoot(c.a,{useHash:!1}),S.a.forRoot(),C.Angulartics2Module.forRoot([C.Angulartics2GoogleAnalytics])],providers:[l.a,x.a,F.a,H.a,et.a],bootstrap:[s.a]}),it("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(394),i=n(392),o=n(393),a=n(390);n.d(e,"a",function(){return s});var s=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:r.a},{path:"download",component:o.a},{path:"search",component:i.a},{path:"complex/:id",component:a.a}]},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"crossReferences",{get:function(){return this._crossReferences},set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"crossReferences",null),t=i([n.i(r.Component)({selector:"app-chembl-crossreference",template:n(871),styles:[n(828)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){for(var t in this._crossReferences){var e=this._crossReferences[t],n=this._crossReferences[t].database;"efo"===n&&(void 0===this._efoXRefs&&(this._efoXRefs=[]),this._efoXRefs.push(e)),"ChEMBL target"===n&&(void 0===this._chemblXRefs&&(this._chemblXRefs=[]),this._chemblXRefs.push(e))}},Object.defineProperty(t.prototype,"diseaseDescriptions",{get:function(){return this._diseaseDescriptions},set:function(t){this._diseaseDescriptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crossReferences",{get:function(){return this._crossReferences},set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"efoXRefs",{get:function(){return this._efoXRefs},set:function(t){this._efoXRefs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chemblXRefs",{get:function(){return this._chemblXRefs},set:function(t){this._chemblXRefs=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"diseaseDescriptions",null),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"crossReferences",null),t=i([n.i(r.Component)({selector:"app-complex-disease",template:n(872),styles:[n(829)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"diseaseDescriptions",{get:function(){return this._diseaseDescriptions},set:function(t){this._diseaseDescriptions=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"diseaseDescriptions",null),t=i([n.i(r.Component)({selector:"app-disease-description",template:n(873),styles:[n(830)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0),i=n(395);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.olsService=t}return t.prototype.ngOnInit=function(){for(var t=this,e=function(e){n.olsService.getEfoName(n.crossReferences[e].identifier).subscribe(function(n){return t._crossReferences[e].description=JSON.parse(n._body)._embedded.terms[0].label})},n=this,r=0;r<this._crossReferences.length;r++)e(r)},Object.defineProperty(t.prototype,"crossReferences",{get:function(){return this._crossReferences},set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),o([n.i(r.Input)(),a("design:type",Array)],t.prototype,"crossReferences",null),t=o([n.i(r.Component)({selector:"app-efo-crossreferences",template:n(874),styles:[n(831)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){for(var t in this._participants)"protein"===this._participants[t].interactorType&&(void 0===this._gxaParamsQueries&&(this._gxaParamsQueries=[]),this._gxaParamsQueries.push({value:this._participants[t].identifier,category:"uniprot"}));for(var e in this._crossReferences){var n=this._crossReferences[e],r=this._crossReferences[e].database,i=this._crossReferences[e].qualifier;"gene ontology"===r&&"cellular component"===i&&(void 0===this.goCellularXRefs&&(this.goCellularXRefs=[]),this.goCellularXRefs.push(n))}},Object.defineProperty(t.prototype,"gxa",{get:function(){return this._gxa},set:function(t){this._gxa=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"participants",{get:function(){return this._participants},set:function(t){this._participants=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complexSpecies",{get:function(){return this._complexSpecies},set:function(t){this._complexSpecies=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crossReferences",{get:function(){return this._crossReferences},set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gxaParamsQueries",{get:function(){return this._gxaParamsQueries},set:function(t){this._gxaParamsQueries=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"goCellularXRefs",{get:function(){return this._goCellularXRefs},set:function(t){this._goCellularXRefs=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Object)],t.prototype,"gxa",null),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"participants",null),i([n.i(r.Input)(),o("design:type",String)],t.prototype,"complexSpecies",null),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"crossReferences",null),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"gxaParamsQueries",null),t=i([n.i(r.Component)({selector:"app-complex-expression",template:n(875),styles:[n(832)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"crossReferences",{get:function(){return this._crossReferences},set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"crossReferences",null),t=i([n.i(r.Component)({selector:"app-go-celluar-crossreference",template:n(876),styles:[n(833)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this._isLoaded=!0}return t.prototype.ngOnInit=function(){var t=this;this.gxa.render({params:"geneQuery="+JSON.stringify(this._gxaParamsQueries)+"&species="+this._complexSpecies.split(";")[0].toLowerCase(),isMultiExperiment:!1,target:"heatmapContainer",fail:function(){t._isLoaded=!1}})},Object.defineProperty(t.prototype,"gxa",{get:function(){return this._gxa},set:function(t){this._gxa=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"participants",{get:function(){return this._participants},set:function(t){this._participants=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complexSpecies",{get:function(){return this._complexSpecies},set:function(t){this._complexSpecies=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gxaParamsQueries",{get:function(){return this._gxaParamsQueries},set:function(t){this._gxaParamsQueries=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._isLoaded},set:function(t){this._isLoaded=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Object)],t.prototype,"gxa",null),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"participants",null),i([n.i(r.Input)(),o("design:type",String)],t.prototype,"complexSpecies",null),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"gxaParamsQueries",null),t=i([n.i(r.Component)({selector:"app-gxa-heatmap",template:n(877),styles:[n(834)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){for(var t in this.crossReferences){var e=this.crossReferences[t],n=this.crossReferences[t].database;"gene ontology"===n&&(void 0===this.goXRefs&&(this.goXRefs=[]),this.goXRefs.push(e)),"intenz"===n&&(void 0===this.intenzXRefs&&(this.intenzXRefs=[]),this.intenzXRefs.push(e)),"reactome"===n&&(void 0===this.reactomeXRefs&&(this.reactomeXRefs=[]),this.reactomeXRefs.push(e)),"pubmed"===n&&(void 0===this.pubmedXRefs&&(this.pubmedXRefs=[]),this.pubmedXRefs.push(e))}},Object.defineProperty(t.prototype,"crossReferences",{get:function(){return this._crossReferences},set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"functionDescription",{get:function(){return this._functionDescription},set:function(t){this._functionDescription=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"goXRefs",{get:function(){return this._goXRefs},set:function(t){this._goXRefs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intenzXRefs",{get:function(){return this._intenzXRefs},set:function(t){this._intenzXRefs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reactomeXRefs",{get:function(){return this._reactomeXRefs},set:function(t){this._reactomeXRefs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pubmedXRefs",{get:function(){return this._pubmedXRefs},set:function(t){this._pubmedXRefs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"synonyms",{get:function(){return this._synonyms},set:function(t){this._synonyms=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"systematicName",{get:function(){return this._systematicName},set:function(t){this._systematicName=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"crossReferences",null),i([n.i(r.Input)(),o("design:type",String)],t.prototype,"functionDescription",null),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"synonyms",null),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"systematicName",null),t=i([n.i(r.Component)({selector:"app-complex-function",template:n(878),styles:[n(835)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0),i=n(391),o=n(183);n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e){this.euroPmcService=t,this.notificationService=e,this._publications=[],this._isDataLoaded=!1}return t.prototype.ngOnInit=function(){var t=this;try{for(var e=function(e){n.euroPmcService.getPublicationInformation(n.crossReferences[e].identifier).subscribe(function(n){return t.publicationFactory(t.crossReferences[e],n)}),e===n.crossReferences.length-1&&(n._isDataLoaded=!0)},n=this,r=0;r<this.crossReferences.length;r++)e(r)}catch(t){this._isDataLoaded=!1,this.notificationService.addErrorNotification("Error whilst retrieving data from Euro PMC. Please let us know if error persists.")}},t.prototype.publicationFactory=function(t,e){try{this.publications.push({id:t.identifier,title:e.resultList.result[0].title,authors:e.resultList.result[0].authorString,url:t.searchURL})}catch(t){this._isDataLoaded=!1,this.notificationService.addErrorNotification("Error whilst retrieving data from Euro PMC. Please let us know if error persists.")}},Object.defineProperty(t.prototype,"crossReferences",{get:function(){return this._crossReferences},set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publications",{get:function(){return this._publications},set:function(t){this._publications=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDataLoaded",{get:function(){return this._isDataLoaded},set:function(t){this._isDataLoaded=t},enumerable:!0,configurable:!0}),a([n.i(r.Input)(),s("design:type",Array)],t.prototype,"crossReferences",null),t=a([n.i(r.Component)({selector:"app-euro-pmc-crossreferences",template:n(879),styles:[n(836)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(u="undefined"!=typeof o.a&&o.a)&&u||Object])],t);var e,u}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"functionDescription",{get:function(){return this._functionDescription},set:function(t){this._functionDescription=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",String)],t.prototype,"functionDescription",null),t=i([n.i(r.Component)({selector:"app-function-description",template:n(880),styles:[n(837)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"crossReferences",{get:function(){return this._crossReferences},set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"crossReferences",null),t=i([n.i(r.Component)({selector:"app-go-crossreferences",template:n(881),styles:[n(838)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"crossReferences",{get:function(){return this._crossReferences},set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"crossReferences",null),t=i([n.i(r.Component)({selector:"app-intenz-crossreferences",template:n(882),styles:[n(839)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([n.i(r.Component)({selector:"app-ligands",template:n(883),styles:[n(840)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0),i=n(139),o=(n.n(i),n(258)),a=n(617),s=n(618);n.d(e,"a",function(){return l});var u=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.reactomeService=t,this._reactomeComplexes={},this._reactomePathways={},this._isDataLoaded=!1}return t.prototype.ngOnInit=function(){for(var t=this,e=function(e){i.Observable.forkJoin(n.reactomeService.findRelatedPathways(n._crossReferences[e].identifier),n.reactomeService.getComplexName(n._crossReferences[e].identifier)).subscribe(function(n){for(var r=n[0],i=n[1],o=0;o<r.length;o++){var u=r[o],c=t._reactomePathways[u.stId],l=t._reactomeComplexes[t._crossReferences[e].identifier];void 0===c&&(c=t._reactomePathways[u.stId]=new s.a(u.stId),c.name=u.displayName),void 0===l&&(l=t._reactomeComplexes[t._crossReferences[e].identifier.toString()]=new a.a(t._crossReferences[e].identifier),l.name=i),c.complexes.push(t._crossReferences[e].identifier),l.pathways.push(u.stId),e===t._crossReferences.length-1&&o===r.length-1&&(t.selectComplexWithFirstPathway(Object.keys(t._reactomeComplexes).sort()[0]),t._isDataLoaded=!0)}})},n=this,r=0;r<this._crossReferences.length;r++)e(r)},t.prototype.selectComplexByPathway=function(t,e){this.selectedComplex=t,this.selectedPathway=e},t.prototype.selectComplexWithFirstPathway=function(t){this.selectedComplex=t,this.selectedPathway=this._reactomeComplexes[t].pathways.sort()[0]},t.prototype.getSortedKeys=function(t){return Object.keys(t).sort()},Object.defineProperty(t.prototype,"crossReferences",{set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedComplex",{get:function(){return this._selectedComplex},set:function(t){this._selectedComplex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedPathway",{get:function(){return this._selectedPathway},set:function(t){this._selectedPathway=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reactomeComplexes",{get:function(){return this._reactomeComplexes},set:function(t){this._reactomeComplexes=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reactomePathways",{get:function(){return this._reactomePathways},set:function(t){this._reactomePathways=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDataLoaded",{get:function(){return this._isDataLoaded},set:function(t){this._isDataLoaded=t},enumerable:!0,configurable:!0}),u([n.i(r.Input)(),c("design:type",Array),c("design:paramtypes",[Array])],t.prototype,"crossReferences",null),t=u([n.i(r.Component)({selector:"app-reactome-crossreferences",template:n(884),styles:[n(841)]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object])],t);var e}()},function(t,e,n){"use strict";var r=n(0),i=n(258);n.d(e,"a",function(){return u});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s="//reactomedev.oicr.on.ca/DiagramJs/diagram/diagram.nocache.js",u=function(){function t(t){this.reactomeService=t,this._reactomeComplexe={},this._reactomePathways={}}return t.prototype.ngOnInit=function(){this.loadScript()},t.prototype.ngOnChanges=function(t){this.diagramContext&&(t.selectedPathway?this.loadDiagram():t.selectedComplex&&this.selectComplex(this.selectedComplex))},t.prototype.loadScript=function(){var t=document.createElement("script");t.src=s,t.type="text/javascript",t.async=!0,t.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(t)},t.prototype.onReactomeDiagramReadyListener=function(t){this.diagramContext=t.detail,this.initReactomeDiagram()},t.prototype.initReactomeDiagram=function(){this.globelDiagram=this.diagramContext.Diagram.create({proxyPrefix:"//reactomedev.oicr.on.ca",placeHolder:"diagramHolder"}),this.loadDiagram()},t.prototype.loadDiagram=function(){var t=this;this.globelDiagram.loadDiagram(this.selectedPathway),this.globelDiagram.onDiagramLoaded(function(e){t.selectComplex(t.selectedComplex)})},t.prototype.selectComplex=function(t){this.selectedComplex=t,this.globelDiagram.selectItem(t)},t.prototype.getReactomeURL=function(){return"http://www.reactome.org/PathwayBrowser/#/"+this._selectedPathway+"&SEL="+this._selectedComplex},Object.defineProperty(t.prototype,"reactomePathways",{get:function(){return this._reactomePathways},set:function(t){this._reactomePathways=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reactomeComplexe",{get:function(){return this._reactomeComplexe},set:function(t){this._reactomeComplexe=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedComplex",{get:function(){return this._selectedComplex},set:function(t){this._selectedComplex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedPathway",{get:function(){return this._selectedPathway},set:function(t){this._selectedPathway=t},enumerable:!0,configurable:!0}),o([n.i(r.HostListener)("window:onReactomeDiagramReady",["$event"]),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],t.prototype,"onReactomeDiagramReadyListener",null),o([n.i(r.Input)(),a("design:type",Object)],t.prototype,"reactomePathways",null),o([n.i(r.Input)(),a("design:type",Object)],t.prototype,"reactomeComplexe",null),o([n.i(r.Input)(),a("design:type",String)],t.prototype,"selectedComplex",null),o([n.i(r.Input)(),a("design:type",String)],t.prototype,"selectedPathway",null),t=o([n.i(r.Component)({selector:"app-reactome-diagram",template:n(885),styles:[n(842)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t){this._pathways=[],this._id=t}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathways",{get:function(){return this._pathways},set:function(t){this._pathways=t},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t){this._complexes=[],this._id=t}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complexes",{get:function(){return this._complexes},set:function(t){this._complexes=t},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e);
},a=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"synonyms",{get:function(){return this._synonyms},set:function(t){this._synonyms=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"synonyms",null),t=i([n.i(r.Component)({selector:"app-synonyms",template:n(886),styles:[n(843)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"systematicName",{get:function(){return this._systematicName},set:function(t){this._systematicName=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"systematicName",null),t=i([n.i(r.Component)({selector:"app-systematic-name",template:n(887),styles:[n(844)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"complexName",{get:function(){return this._complexName},set:function(t){this._complexName=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complexSpecies",{get:function(){return this._complexSpecies},set:function(t){this._complexSpecies=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",String)],t.prototype,"complexName",null),i([n.i(r.Input)(),o("design:type",String)],t.prototype,"complexSpecies",null),t=i([n.i(r.Component)({selector:"app-complex-header",template:n(888),styles:[n(845)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"participants",{get:function(){return this._participants},set:function(t){this._participants=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"participants",null),t=i([n.i(r.Component)({selector:"app-complex-participants",template:n(889),styles:[n(846)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0),i=n(634);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"participant",{get:function(){return this._participant},set:function(t){this._participant=t},enumerable:!0,configurable:!0}),o([n.i(r.Input)(),a("design:type","function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object)],t.prototype,"participant",null),t=o([n.i(r.Component)({selector:"app-participant-description",template:n(890),styles:[n(847)]}),a("design:paramtypes",[])],t);var e}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){switch(this.interactorType.toLocaleLowerCase()){case"small molecule":this.legendElementURL="assets/images/legend/small-mol.png";break;case"protein":this.legendElementURL="assets/images/legend/protein-blob.png";break;case"single stranded deoxyribonucleic acid":this.legendElementURL="assets/images/legend/dna.png"}},Object.defineProperty(t.prototype,"interactorType",{get:function(){return this._interactorType},set:function(t){this._interactorType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legendElementURL",{get:function(){return this._legendElementURL},set:function(t){this._legendElementURL=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",String)],t.prototype,"interactorType",null),t=i([n.i(r.Component)({selector:"app-participant-legend",template:n(891),styles:[n(848)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){this._stochiometry&&(this.customizedStochiometry=this._stochiometry.split(",")[0].split(":")[1].trim())},Object.defineProperty(t.prototype,"stochiometry",{get:function(){return this._stochiometry},set:function(t){this._stochiometry=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customizedStochiometry",{get:function(){return this._customizedStochiometry},set:function(t){this._customizedStochiometry=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",String)],t.prototype,"stochiometry",null),t=i([n.i(r.Component)({selector:"app-participant-stochiometry",template:n(892),styles:[n(849)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){for(var t in this.crossReferences){var e=this.crossReferences[t],n=this.crossReferences[t].database;"wwpdb"===n&&(void 0===this._pdbXRefs&&(this._pdbXRefs=[]),this._pdbXRefs.push(e))}},Object.defineProperty(t.prototype,"propertiesDescription",{get:function(){return this._propertiesDescription},set:function(t){this._propertiesDescription=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crossReferences",{get:function(){return this._crossReferences},set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pdbXRefs",{get:function(){return this._pdbXRefs},set:function(t){this._pdbXRefs=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",String)],t.prototype,"propertiesDescription",null),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"crossReferences",null),t=i([n.i(r.Component)({selector:"app-complex-properties",template:n(893),styles:[n(850)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0),i=n(821);n.n(i);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.ngOnChanges=function(t){this._plugin&&t.selectedXRef&&this.loadMolecule()},t.prototype.ngOnInit=function(){this._plugin=i.default.Plugin.create({target:"#litemol",viewportBackground:"#000000",layoutState:{hideControls:!0,isExpanded:!1},allowAnalytics:!0}),this.loadMolecule()},t.prototype.loadMolecule=function(){this.plugin.clear(),this._plugin.loadMolecule({id:this._selectedXRef,url:"https://www.ebi.ac.uk/pdbe/static/entry/"+this._selectedXRef.toLowerCase()+"_updated.cif",format:"cif"})},Object.defineProperty(t.prototype,"plugin",{get:function(){return this._plugin},set:function(t){this._plugin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedXRef",{get:function(){return this._selectedXRef},set:function(t){this._selectedXRef=t},enumerable:!0,configurable:!0}),o([n.i(r.Input)(),a("design:type",String)],t.prototype,"selectedXRef",null),t=o([n.i(r.Component)({selector:"app-litmol-viewer",template:n(894),styles:[n(851)]}),a("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this._isDataLoaded=!1}return t.prototype.ngOnInit=function(){this._selectedXRef=this._crossReferences[0].identifier,this._selectedXRef&&(this._isDataLoaded=!0)},Object.defineProperty(t.prototype,"crossReferences",{get:function(){return this._crossReferences},set:function(t){this._crossReferences=t},enumerable:!0,configurable:!0}),t.prototype.selectXRef=function(t){this._selectedXRef=t},Object.defineProperty(t.prototype,"selectedXRef",{get:function(){return this._selectedXRef},set:function(t){this._selectedXRef=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDataLoaded",{get:function(){return this._isDataLoaded},set:function(t){this._isDataLoaded=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",Array)],t.prototype,"crossReferences",null),t=i([n.i(r.Component)({selector:"app-pdb-crossreferences",template:n(895),styles:[n(852)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"propertiesDescription",{get:function(){return this._propertiesDescription},set:function(t){this._propertiesDescription=t},enumerable:!0,configurable:!0}),i([n.i(r.Input)(),o("design:type",String)],t.prototype,"propertiesDescription",null),t=i([n.i(r.Component)({selector:"app-properties-description",template:n(896),styles:[n(853)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return c});var i,o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(1187),u=n(818),c=function(){function t(){this._svgsaver=new s}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){i=new u("networkContainer"),i.readMIJSON(this._complexMIJSON,!0),i.autoLayout()},t.prototype.onChangeAnnotation=function(t){i.setAnnotations(t)},t.prototype.onReset=function(){i.reset()},t.prototype.onExpandAll=function(){i.expandAll()},Object.defineProperty(t.prototype,"complexAC",{get:function(){return this._complexAC},set:function(t){this._complexAC=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complexMIJSON",{get:function(){return this._complexMIJSON},set:function(t){this._complexMIJSON=t},enumerable:!0,configurable:!0}),t.prototype.downloadAsSVG=function(){var t=document.querySelector("#networkContainer");this._svgsaver.asSvg(t,this._complexAC+".svg")},o([n.i(r.Input)(),a("design:type",String)],t.prototype,"complexAC",null),o([n.i(r.Input)(),a("design:type",String)],t.prototype,"complexMIJSON",null),t=o([n.i(r.Component)({selector:"app-complex-viewer",template:n(897),styles:[n(854)]}),a("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0),i=n(636);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.onSpicesFilterChanged=new r.EventEmitter,this.onBiologicalRoleFilterChanged=new r.EventEmitter,this.onInteractorTyoeFilterChanged=new r.EventEmitter,this.onResetAllFilters=new r.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.changeSpeciesFilter=function(t,e){e?this.spicesFilter.push(t):this.spicesFilter.splice(this.spicesFilter.indexOf(t),1),this.onSpicesFilterChanged.emit(this.spicesFilter)},t.prototype.changeBiologicalRoleFilter=function(t,e){e?this.bioRoleFilter.push(t):this.bioRoleFilter.splice(this.bioRoleFilter.indexOf(t),1),this.onBiologicalRoleFilterChanged.emit(this.bioRoleFilter)},t.prototype.changeInteractorTyoeFilter=function(t,e){e?this.interactorTypeFilter.push(t):this.interactorTypeFilter.splice(this.interactorTypeFilter.indexOf(t),1),this.onInteractorTyoeFilterChanged.emit(this.interactorTypeFilter)},t.prototype.resetAllFilters=function(){this.onResetAllFilters.emit(!0)},t.prototype.anyFiltersSelected=function(){return!(0===this._spicesFilter.length&&0===this._bioRoleFilter.length&&0===this._interactorTypeFilter.length)},t.prototype.isSelected=function(t,e){return e.indexOf(t)!==-1},Object.defineProperty(t.prototype,"facets",{get:function(){return this._facets},set:function(t){this._facets=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spicesFilter",{get:function(){return this._spicesFilter},set:function(t){this._spicesFilter=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bioRoleFilter",{get:function(){return this._bioRoleFilter},set:function(t){this._bioRoleFilter=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactorTypeFilter",{get:function(){return this._interactorTypeFilter},set:function(t){this._interactorTypeFilter=t},enumerable:!0,configurable:!0}),o([n.i(r.Output)(),a("design:type","function"==typeof(e="undefined"!=typeof r.EventEmitter&&r.EventEmitter)&&e||Object)],t.prototype,"onSpicesFilterChanged",void 0),o([n.i(r.Output)(),a("design:type","function"==typeof(s="undefined"!=typeof r.EventEmitter&&r.EventEmitter)&&s||Object)],t.prototype,"onBiologicalRoleFilterChanged",void 0),o([n.i(r.Output)(),a("design:type","function"==typeof(u="undefined"!=typeof r.EventEmitter&&r.EventEmitter)&&u||Object)],t.prototype,"onInteractorTyoeFilterChanged",void 0),o([n.i(r.Output)(),a("design:type","function"==typeof(c="undefined"!=typeof r.EventEmitter&&r.EventEmitter)&&c||Object)],t.prototype,"onResetAllFilters",void 0),o([n.i(r.Input)(),a("design:type","function"==typeof(l="undefined"!=typeof i.a&&i.a)&&l||Object)],t.prototype,"facets",null),o([n.i(r.Input)(),a("design:type",Array)],t.prototype,"spicesFilter",null),o([n.i(r.Input)(),a("design:type",Array)],t.prototype,"bioRoleFilter",null),o([n.i(r.Input)(),a("design:type",Array)],t.prototype,"interactorTypeFilter",null),t=o([n.i(r.Component)({selector:"app-complex-filter",template:n(898),styles:[n(855)]}),a("design:paramtypes",[])],t);var e,s,u,c,l}()},function(t,e,n){"use strict";var r=n(0),i=n(635);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.ngOnInit=function(){},o([n.i(r.Input)(),a("design:type","function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object)],t.prototype,"complexSearch",void 0),t=o([n.i(r.Component)({selector:"app-complex-list",template:n(899),styles:[n(856)]}),a("design:paramtypes",[])],t);var e}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.onPageChange=new r.EventEmitter}return t.prototype.ngOnInit=function(){this.updatePaginatior()},t.prototype.ngOnChanges=function(t){this.updatePaginatior()},t.prototype.updatePaginatior=function(){var t,e;for(this.pagination=[],this._lastPageIndex<5?(t=1,e=this._lastPageIndex):1===this._currentPageIndex||2===this._currentPageIndex?(t=1,e=5):this._currentPageIndex===this._lastPageIndex||this._currentPageIndex===this._lastPageIndex-1?(t=this._lastPageIndex-4,e=this._lastPageIndex):(t=this._currentPageIndex-2,e=this._currentPageIndex+2);t<=e;)t===this._currentPageIndex?this._pagination.push([[this._currentPageIndex],[!0]]):this._pagination.push([[t],[!1]]),t++},t.prototype.getFirstPage=function(){this.onPageChange.emit(1)},t.prototype.getLastPage=function(){this.onPageChange.emit(this.lastPageIndex)},t.prototype.getPage=function(t){this.onPageChange.emit(t)},t.prototype.getPreviousPage=function(){this.onPageChange.emit(this.currentPageIndex-1)},t.prototype.getNextPage=function(){this.onPageChange.emit(this.currentPageIndex+1)},Object.defineProperty(t.prototype,"lastPageIndex",{get:function(){return this._lastPageIndex},set:function(t){this._lastPageIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPageIndex",{get:function(){return this._currentPageIndex},set:function(t){this._currentPageIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pagination",{get:function(){return this._pagination},set:function(t){this._pagination=t},enumerable:!0,configurable:!0}),i([n.i(r.Output)(),o("design:type","function"==typeof(e="undefined"!=typeof r.EventEmitter&&r.EventEmitter)&&e||Object)],t.prototype,"onPageChange",void 0),i([n.i(r.Input)(),o("design:type",Object)],t.prototype,"lastPageIndex",null),i([n.i(r.Input)(),o("design:type",Object)],t.prototype,"currentPageIndex",null),t=i([n.i(r.Component)({selector:"app-complex-paginator",template:n(900),styles:[n(857)]}),o("design:paramtypes",[])],t);var e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r,i,o,a,s,u,c,l,h){this._interactorAC=t,this._identifier=e,this._identifierLink=n,this._name=r,this._description=i,this._stochiometry=o,this._bioRole=a,this._bioRoleMI=s,this._bioRoleDefinition=u,this._interactorType=c,this._interactorTypeMI=l,this._interactorTypeDefinition=h}return Object.defineProperty(t.prototype,"interactorAC",{get:function(){return this._interactorAC},set:function(t){this._interactorAC=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this._identifier},set:function(t){this._identifier=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifierLink",{get:function(){return this._identifierLink},set:function(t){this._identifierLink=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this._description},set:function(t){this._description=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stochiometry",{get:function(){return this._stochiometry},set:function(t){this._stochiometry=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bioRole",{get:function(){return this._bioRole},set:function(t){this._bioRole=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bioRoleMI",{get:function(){return this._bioRoleMI},set:function(t){this._bioRoleMI=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bioRoleDefinition",{get:function(){return this._bioRoleDefinition},set:function(t){this._bioRoleDefinition=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactorType",{get:function(){return this._interactorType},set:function(t){this._interactorType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactorTypeMI",{get:function(){return this._interactorTypeMI},set:function(t){this._interactorTypeMI=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactorTypeDefinition",{get:function(){return this._interactorTypeDefinition},set:function(t){this._interactorTypeDefinition=t},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r){this._size=t,this._totalNumberOfResults=e,this._elements=n,this._facets=r}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalNumberOfResults",{get:function(){return this._totalNumberOfResults},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"facets",{get:function(){return this._facets},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n){this._ptype_f=t,this._species_f=e,this._pbiorole_f=n}return Object.defineProperty(t.prototype,"ptype_f",{get:function(){return this._ptype_f},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"species_f",{get:function(){return this._species_f},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pbiorole_f",{get:function(){return this._pbiorole_f},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([n.i(r.Component)({selector:"app-contributors-display",template:n(903),styles:[n(860)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([n.i(r.Component)({selector:"app-newsletter-subscription",template:n(905),styles:[n(862)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0),i=n(183);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.notificationService=t}return t.prototype.ngAfterViewInit=function(){$("app-tile-menu").foundation()},t.prototype.featureNotAvailableYet=function(){this.notificationService.addHintNotification("This feature is not available yet. But it is coming soon! :-)")},t=o([n.i(r.Component)({selector:"app-tile-menu",template:n(906),styles:[n(863)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a="platform.twitter.com/widgets.js",s=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){!function(t,e,n){var r,i=t.getElementsByTagName(e)[0],o="https";t.getElementById(n)||(r=t.createElement(e),r.id=n,r.src=o+"://"+a,i.parentNode.insertBefore(r,i))}(document,"script","twitter-wjs")},t=i([n.i(r.Component)({selector:"app-twitter-display",template:n(907),styles:[n(864)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([n.i(r.Component)({selector:"app-examples-large",template:n(908),styles:[n(865)]}),o("design:paramtypes",[])],t)}()},function(t,e,n){"use strict";var r=n(0),i=n(95);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.router=t}return t.prototype.ngOnInit=function(){},t.prototype.search=function(t){this.router.navigate(["search"],{queryParams:{query:t,page:1}})},t=o([n.i(r.Component)({selector:"app-search",template:n(909),styles:[n(866)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.Router&&i.Router)&&e||Object])],t);var e}()},function(t,e,n){"use strict";var r=n(0),i=n(33),o=n(78),a=n(95),s=function(){function t(t,e,n){var r=this;this.angulartics2=t,this.title=e,this.router=n,this.loadStartTime=null,this.loadTime=null,this.metrics=null,this.dimensions=null,this.measurements=null,"undefined"==typeof appInsights&&console.warn("appInsights not found"),this.angulartics2.settings.appInsights={userId:null},this.angulartics2.pageTrack.subscribe(function(t){return r.pageTrack(t.path)}),this.angulartics2.eventTrack.subscribe(function(t){return r.eventTrack(t.action,t.properties)}),this.angulartics2.exceptionTrack.subscribe(function(t){return r.exceptionTrack(t)}),this.angulartics2.setUsername.subscribe(function(t){return r.setUsername(t)}),this.angulartics2.setUserProperties.subscribe(function(t){return r.setUserProperties(t)}),this.router.events.filter(function(t){return t instanceof a.NavigationStart}).subscribe(function(t){return r.startTimer()}),this.router.events.filter(function(t){return t instanceof a.NavigationError||t instanceof a.NavigationEnd}).subscribe(function(t){return r.stopTimer()})}return t.prototype.startTimer=function(){this.loadStartTime=Date.now(),this.loadTime=null},t.prototype.stopTimer=function(){this.loadTime=Date.now()-this.loadStartTime,this.loadStartTime=null},t.prototype.pageTrack=function(t){appInsights.trackPageView(this.title.getTitle(),t,this.dimensions,this.metrics,this.loadTime);
},t.prototype.eventTrack=function(t,e){appInsights.trackEvent(t,e,this.measurements)},t.prototype.exceptionTrack=function(t){var e=t.event||t.description||t;appInsights.trackException(e)},t.prototype.setUsername=function(t){this.angulartics2.settings.appInsights.userId=t,appInsights.setAuthenticatedUserContext(t)},t.prototype.setUserProperties=function(t){t.userId&&(this.angulartics2.settings.appInsights.userId=t.userId),t.accountId&&appInsights.setAuthenticatedUserContext(this.angulartics2.settings.appInsights.userId,t.accountId)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:i.Angulartics2},{type:o.Title},{type:a.Router}]},t}();e.Angulartics2AppInsights=s},function(t,e,n){"use strict";var r=n(0),i=n(33),o=function(){function t(t){var e=this;this.angulartics2=t,"undefined"==typeof hmt?hmt=[]:hmt.push(["_ setAutoPageview",!1]),this.angulartics2.pageTrack.subscribe(function(t){return e.pageTrack(t.path)}),this.angulartics2.eventTrack.subscribe(function(t){return e.eventTrack(t.action,t.properties)}),this.angulartics2.setUsername.subscribe(function(t){return e.setUsername(t)}),this.angulartics2.setUserProperties.subscribe(function(t){return e.setUserProperties(t)})}return t.prototype.pageTrack=function(t){"undefined"!=typeof hmt&&hmt&&hmt.push(["_trackPageview",t])},t.prototype.eventTrack=function(t,e){e&&e.category||(e=e||{},e.category="Event",e.opt_label="default",e.opt_value="default"),"undefined"!=typeof hmt&&hmt&&hmt.push(["_trackEvent",e.category,t,e.opt_label,e.opt_value])},t.prototype.setUsername=function(t){hmt.push(["_setCustomVar",1,"identity",t])},t.prototype.setUserProperties=function(t){hmt.push(["_setCustomVar",2,"user",JSON.stringify(t)])},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:i.Angulartics2}]},t}();e.Angulartics2BaiduAnalytics=o},function(t,e,n){"use strict";var r=n(0),i=n(33),o=function(){function t(t){var e=this;this.angulartics2=t,this.angulartics2.settings.pageTracking.trackRelativePath=!0,this.angulartics2.eventTrack.subscribe(function(t){return e.eventTrack(t.action,t.properties)})}return t.prototype.eventTrack=function(t,e){e=e||{};var n=["ViewContent","Search","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","Lead","CompleteRegistration"];"undefined"!=typeof fbq&&fbq&&(n.indexOf(t)===-1?fbq("trackCustom",t,e):fbq("track",t,e))},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:i.Angulartics2}]},t}();e.Angulartics2Facebook=o},function(t,e,n){"use strict";var r=n(0),i=n(33),o=function(){function t(t){var e=this;this.angulartics2=t,this.angulartics2.settings.pageTracking.trackRelativePath=!0,this.angulartics2.settings.ga={additionalAccountNames:[],userId:null},this.angulartics2.pageTrack.subscribe(function(t){return e.pageTrack(t.path)}),this.angulartics2.eventTrack.subscribe(function(t){return e.eventTrack(t.action,t.properties)}),this.angulartics2.exceptionTrack.subscribe(function(t){return e.exceptionTrack(t)}),this.angulartics2.setUsername.subscribe(function(t){return e.setUsername(t)}),this.angulartics2.setUserProperties.subscribe(function(t){return e.setUserProperties(t)}),this.angulartics2.userTimings.subscribe(function(t){return e.userTimings(t)})}return t.prototype.pageTrack=function(t){if("undefined"!=typeof _gaq&&_gaq){_gaq.push(["_trackPageview",t]);for(var e=0,n=this.angulartics2.settings.ga.additionalAccountNames;e<n.length;e++){var r=n[e];_gaq.push([r+"._trackPageview",t])}}if("undefined"!=typeof ga&&ga){this.angulartics2.settings.ga.userId&&ga("set","&uid",this.angulartics2.settings.ga.userId),ga("send","pageview",t);for(var i=0,o=this.angulartics2.settings.ga.additionalAccountNames;i<o.length;i++){var r=o[i];ga(r+".send","pageview",t)}}},t.prototype.eventTrack=function(t,e){if(e&&e.category||(e=e||{},e.category="Event"),e.value){var n=parseInt(e.value,10);e.value=isNaN(n)?0:n}if("undefined"!=typeof ga){var r={eventCategory:e.category,eventAction:t,eventLabel:e.label,eventValue:e.value,nonInteraction:e.noninteraction,page:e.page||location.hash.substring(1)||location.pathname,userId:this.angulartics2.settings.ga.userId};this.setDimensionsAndMetrics(e),this.angulartics2.settings.ga.transport?ga("send","event",r,{transport:this.angulartics2.settings.ga.transport}):ga("send","event",r);for(var i=0,o=this.angulartics2.settings.ga.additionalAccountNames;i<o.length;i++){var a=o[i];ga(a+".send","event",r)}}else"undefined"!=typeof _gaq&&_gaq.push(["_trackEvent",e.category,t,e.label,e.value,e.noninteraction])},t.prototype.exceptionTrack=function(t){return t&&t.appId&&t.appName&&t.appVersion?(void 0===t.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),t.exFatal=!0),t.exDescription=t.description,void ga("send","exception",t)):void console.error("Must be setted appId, appName and appVersion.")},t.prototype.setUsername=function(t){this.angulartics2.settings.ga.userId=t},t.prototype.setUserProperties=function(t){this.setDimensionsAndMetrics(t)},t.prototype.userTimings=function(t){return t&&t.timingCategory&&t.timingVar&&t.timingValue?void(ga&&ga("send","timing",t)):void console.error("Properties timingCategory, timingVar, and timingValue are required to be set.")},t.prototype.setDimensionsAndMetrics=function(t){if(ga)for(var e=1;e<=200;e++)t["dimension"+e.toString()]&&ga("set","dimension"+e.toString(),t["dimension"+e.toString()]),t["metric"+e.toString()]&&ga("set","metric"+e.toString(),t["metric"+e.toString()])},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:i.Angulartics2}]},t}();e.Angulartics2GoogleAnalytics=o},function(t,e,n){"use strict";var r=n(0),i=n(33),o=function(){function t(t){var e=this;this.angulartics2=t,"undefined"!=typeof dataLayer&&dataLayer&&(dataLayer=window.dataLayer=window.dataLayer||[]),this.angulartics2.settings.pageTracking.trackRelativePath=!0,this.angulartics2.settings.gtm={userId:null},this.angulartics2.pageTrack.subscribe(function(t){return e.pageTrack(t.path)}),this.angulartics2.eventTrack.subscribe(function(t){return e.eventTrack(t.action,t.properties)}),this.angulartics2.exceptionTrack.subscribe(function(t){return e.exceptionTrack(t)}),this.angulartics2.setUsername.subscribe(function(t){return e.setUsername(t)})}return t.prototype.pageTrack=function(t){"undefined"!=typeof dataLayer&&dataLayer&&dataLayer.push({event:"Page View","content-name":t,userId:this.angulartics2.settings.gtm.userId})},t.prototype.eventTrack=function(t,e){e=e||{},"undefined"!=typeof dataLayer&&dataLayer&&dataLayer.push({event:e.event||"interaction",target:e.category||"Event",action:t,label:e.label,value:e.value,interactionType:e.noninteraction,userId:this.angulartics2.settings.gtm.userId})},t.prototype.exceptionTrack=function(t){return t&&t.appId&&t.appName&&t.appVersion?(void 0===t.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),t.exFatal=!0),t.exDescription=t.event?t.event.stack:t.description,void this.eventTrack("Exception thrown for "+t.appName+" <"+t.appId+"@"+t.appVersion+">",{category:"Exception",label:t.exDescription})):void console.error("Must be setted appId, appName and appVersion.")},t.prototype.setUsername=function(t){this.angulartics2.settings.gtm.userId=t},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:i.Angulartics2}]},t}();e.Angulartics2GoogleTagManager=o},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(644)),r(n(646)),r(n(647)),r(n(649)),r(n(650)),r(n(651)),r(n(652)),r(n(645)),r(n(643))},function(t,e,n){"use strict";var r=n(0),i=n(33),o=function(){function t(t){var e=this;this.angulartics2=t,"undefined"==typeof _kmq&&(_kmq=[]),this.angulartics2.pageTrack.subscribe(function(t){return e.pageTrack(t.path,t.location)}),this.angulartics2.eventTrack.subscribe(function(t){return e.eventTrack(t.action,t.properties)}),this.angulartics2.setUsername.subscribe(function(t){return e.setUsername(t)}),this.angulartics2.setUserProperties.subscribe(function(t){return e.setUserProperties(t)})}return t.prototype.pageTrack=function(t,e){_kmq.push(["record","Pageview",{Page:t}])},t.prototype.eventTrack=function(t,e){_kmq.push(["record",t,e])},t.prototype.setUsername=function(t){_kmq.push(["identify",t])},t.prototype.setUserProperties=function(t){_kmq.push(["set",t])},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:i.Angulartics2}]},t}();e.Angulartics2Kissmetrics=o},function(t,e,n){"use strict";var r=n(0),i=n(33),o=function(){function t(t){var e=this;this.angulartics2=t,this.angulartics2.pageTrack.subscribe(function(t){return e.pageTrack(t.path,t.location)}),this.angulartics2.eventTrack.subscribe(function(t){return e.eventTrack(t.action,t.properties)}),this.angulartics2.setUsername.subscribe(function(t){return e.setUsername(t)}),this.angulartics2.setUserProperties.subscribe(function(t){return e.setUserProperties(t)}),this.angulartics2.setUserPropertiesOnce.subscribe(function(t){return e.setUserPropertiesOnce(t)}),this.angulartics2.setSuperProperties.subscribe(function(t){return e.setSuperProperties(t)}),this.angulartics2.setSuperPropertiesOnce.subscribe(function(t){return e.setSuperPropertiesOnce(t)}),this.angulartics2.setAlias.subscribe(function(t){return e.setAlias(t)})}return t.prototype.pageTrack=function(t,e){try{mixpanel.track("Page Viewed",{page:t})}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.eventTrack=function(t,e){try{mixpanel.track(t,e)}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.setUsername=function(t){try{mixpanel.identify(t)}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.setUserProperties=function(t){try{mixpanel.people.set(t)}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.setUserPropertiesOnce=function(t){try{mixpanel.people.set_once(t)}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.setSuperProperties=function(t){try{mixpanel.register(t)}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.setSuperPropertiesOnce=function(t){try{mixpanel.register_once(t)}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.setAlias=function(t){try{mixpanel.alias(t)}catch(t){if(!(t instanceof ReferenceError))throw t}},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:i.Angulartics2}]},t}();e.Angulartics2Mixpanel=o},function(t,e,n){"use strict";var r=n(0),i=n(33),o=function(){function t(t){var e=this;this.angulartics2=t,"undefined"==typeof _paq&&console.warn("Piwik not found"),this.angulartics2.pageTrack.subscribe(function(t){return e.pageTrack(t.path,t.location)}),this.angulartics2.eventTrack.subscribe(function(t){return e.eventTrack(t.action,t.properties)}),this.angulartics2.setUsername.subscribe(function(t){return e.setUsername(t)}),this.angulartics2.setUserProperties.subscribe(function(t){return e.setUserProperties(t)})}return t.prototype.pageTrack=function(t,e){try{_paq.push(["setDocumentTitle",window.document.title]),_paq.push(["setCustomUrl",t]),_paq.push(["trackPageView"])}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.eventTrack=function(t,e){try{if(e.value){var n=parseInt(e.value,10);e.value=isNaN(n)?0:n}_paq.push(["trackEvent",e.category,t,e.label,e.value])}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.setUsername=function(t){try{_paq.push(["setUserId",t])}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.setUserProperties=function(t){try{_paq.push(["setCustomVariable",t])}catch(t){if(!(t instanceof ReferenceError))throw t}},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:i.Angulartics2}]},t}();e.Angulartics2Piwik=o},function(t,e,n){"use strict";var r=n(0),i=n(33),o=function(){function t(t){var e=this;this.angulartics2=t,this.angulartics2.pageTrack.subscribe(function(t){return e.pageTrack(t.path,t.location)}),this.angulartics2.eventTrack.subscribe(function(t){return e.eventTrack(t.action,t.properties)}),this.angulartics2.setUserProperties.subscribe(function(t){return e.setUserProperties(t)}),this.angulartics2.setUserPropertiesOnce.subscribe(function(t){return e.setUserProperties(t)}),this.angulartics2.setAlias.subscribe(function(t){return e.setAlias(t)})}return t.prototype.pageTrack=function(t,e){try{analytics.page(t)}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.eventTrack=function(t,e){try{analytics.track(t,e)}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.setUserProperties=function(t){try{t.userId?analytics.identify(t.userId,t):analytics.identify(t)}catch(t){if(!(t instanceof ReferenceError))throw t}},t.prototype.setAlias=function(t){try{analytics.alias(t)}catch(t){if(!(t instanceof ReferenceError))throw t}},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:i.Angulartics2}]},t}();e.Angulartics2Segment=o},function(t,e,n){var r,i;!function(){var o={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};r=o,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}()},function(t,e,n){"use strict";var r={},i=(n(923),n(281)),o=n(261),a=n(656),s=n(398),u=n(49),c=n(399),l=n(662),h=n(657),p=n(660),f=n(659),d=n(663),m=n(658),y=n(661),v=(n(128),n(665)),g=n(262),b=n(400),_=n(664),x=n(666),w=n(655),C=n(26),S={};S.MOUSE_UP=0,S.PANNING=1,S.DRAGGING=2,S.ROTATING=3,S.SELECTING=4,r.Controller=function(t){"string"==typeof t&&(t=document.getElementById(t)),this.emptyElement(t),this.svgElement=document.createElementNS(C.svgns,"svg"),this.svgElement.setAttribute("id","networkSVG"),this.svgElement.setAttribute("width","100%"),this.svgElement.setAttribute("height","100%"),this.svgElement.setAttribute("style","display:block;");var e=this;this.svgElement.onmousedown=function(t){e.mouseDown(t)},this.svgElement.onmousemove=function(t){e.mouseMove(t)},this.svgElement.onmouseup=function(t){
e.mouseUp(t)},this.svgElement.onmouseout=function(t){e.hideTooltip(t)},this.lastMouseUp=(new Date).getTime(),this.svgElement.ontouchstart=function(t){e.touchStart(t)},this.svgElement.ontouchmove=function(t){e.touchMove(t)},this.svgElement.ontouchend=function(t){e.touchEnd(t)},this.legendCallbacks=new Array,t.appendChild(this.svgElement),this.container=document.createElementNS(C.svgns,"g"),this.container.setAttribute("id","container"),this.naryLinks=document.createElementNS(C.svgns,"g"),this.naryLinks.setAttribute("id","naryLinks"),this.container.appendChild(this.naryLinks),this.p_pLinksWide=document.createElementNS(C.svgns,"g"),this.p_pLinksWide.setAttribute("id","p_pLinksWide"),this.container.appendChild(this.p_pLinksWide),this.highlights=document.createElementNS(C.svgns,"g"),this.highlights.setAttribute("class","highlights"),this.container.appendChild(this.highlights),this.res_resLinks=document.createElementNS(C.svgns,"g"),this.res_resLinks.setAttribute("id","res_resLinks"),this.container.appendChild(this.res_resLinks),this.p_pLinks=document.createElementNS(C.svgns,"g"),this.p_pLinks.setAttribute("id","p_pLinks"),this.container.appendChild(this.p_pLinks),this.proteinUpper=document.createElementNS(C.svgns,"g"),this.proteinUpper.setAttribute("id","proteinUpper"),this.container.appendChild(this.proteinUpper),this.selfRes_resLinks=document.createElementNS(C.svgns,"g"),this.selfRes_resLinks.setAttribute("id","res_resLinks"),this.container.appendChild(this.selfRes_resLinks),this.svgElement.appendChild(this.container),this.tooltip=document.createElementNS(C.svgns,"text"),this.tooltip.setAttribute("x",0),this.tooltip.setAttribute("y",0);var n=document.createTextNode("tooltip");this.tooltip.appendChild(n),this.tooltip_bg=document.createElementNS(C.svgns,"rect"),this.tooltip_bg.setAttribute("class","tooltip_bg"),this.tooltip_bg.setAttribute("fill-opacity",.75),this.tooltip_bg.setAttribute("stroke-opacity",1),this.tooltip_bg.setAttribute("stroke-width",1),this.tooltip_subBg=document.createElementNS(C.svgns,"rect"),this.tooltip_subBg.setAttribute("fill","white"),this.tooltip_subBg.setAttribute("stroke","white"),this.tooltip_subBg.setAttribute("class","tooltip_bg"),this.tooltip_subBg.setAttribute("opacity",1),this.tooltip_subBg.setAttribute("stroke-width",1),this.svgElement.appendChild(this.tooltip_subBg),this.svgElement.appendChild(this.tooltip_bg),this.svgElement.appendChild(this.tooltip),this.clear()},r.Controller.prototype.clear=function(){this.sequenceInitComplete=!1,this.force&&this.force.stop(),this.force=null,this.emptyElement(this.naryLinks),this.emptyElement(this.p_pLinksWide),this.emptyElement(this.highlights),this.emptyElement(this.p_pLinks),this.emptyElement(this.res_resLinks),this.emptyElement(this.proteinUpper),this.emptyElement(this.selfRes_resLinks),this.panning=!1,this.dragElement=null,this.dragging=!1,this.dragStart={},this.rotating=!1,this.molecules=i.map(),this.allNaryLinks=i.map(),this.allBinaryLinks=i.map(),this.allUnaryLinks=i.map(),this.allSequenceLinks=i.map(),this.proteinCount=0,this.maxBlobRadius=30,u.MAXSIZE=100,this.z=1,this.scores=null,this.selected=i.map(),this.selectedLinks=i.map(),this.hideTooltip(),this.resetZoom(),this.state=S.MOUSE_UP},r.Controller.prototype.legendChanged=function(t){for(var e=this.legendCallbacks,n=e.length,r=0;r<n;r++)e[r](t)},r.Controller.prototype.emptyElement=function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},r.Controller.prototype.readMIJSON=function(t,e){function n(){for(var e=0,n=0;n<A;n++){var i=M[n];if("interaction"===i.object)for(var a=i.participants.length,s=0;s<a;s++){var u=i.participants[s];u.stoichiometry&&u.stoichiometry-0>e&&(e=u.stoichiometry-0)}}e<30&&(t=w.matrix(t)),o();for(var n=0;n<A;n++){var i=M[n];if("interaction"===i.object){var l=i.participants,a=l.length,h=c(i),p=P.allNaryLinks.get(h);"undefined"==typeof p&&(p=new v(h,P),P.allNaryLinks.set(h,p),i.naryId=h),p.addEvidence(i);for(var s=0;s<a;s++){var f=l[s],d=f.interactorRef,m=f.id,y=d+"("+m+")",u=P.molecules.get(y);if("undefined"==typeof u){var g=P.interactors.get(d);u=r(g,y),P.molecules.set(y,u)}if(u.naryLinks.set(h,p),p.interactors.indexOf(u)===-1&&p.interactors.push(u),f.stoichiometry&&null!==f.stoichiometry){var g=P.molecules.get(y);g.addStoichiometryLabel(f.stoichiometry)}}}}}function r(t,e){var n;return"undefined"==typeof t?(n=new m(e,P),k.set(e,n)):"MI:1304"===t.type.id||"MI:1305"===t.type.id||"MI:1307"===t.type.id||"MI:1306"===t.type.id?n=new y(e,P,t):"MI:1100"===t.type.id||"MI:0904"===t.type.id||"MI:0328"===t.type.id?n=new h(e,P,t,t.label):"MI:0326"===t.type.id||"MI:0327"===t.type.id?(n=new l(e,P,t,t.label),"undefined"!=typeof t.sequence?n.setSequence(t.sequence):0===e.indexOf("uniprotkb")?R.add(e):n.setSequence("SEQUENCEMISSING")):"NI:0250"===t.type.id?n=new p(e,P,t,t.label):"MI:0320"===t.type.id||"MI:0321"===t.type.id||"MI:0322"===t.type.id||"MI:0323"===t.type.id||"MI:2190"===t.type.id||"MI:0324"===t.type.id||"MI:0679"===t.type.id||"MI:0608"===t.type.id||"MI:0611"===t.type.id||"MI:0610"===t.type.id||"MI:0607"===t.type.id||"MI:0609"===t.type.id||"MI:0325"===t.type.id?n=new d(e,P,t,t.label):"MI:0319"===t.type.id||"MI:0681"===t.type.id||"MI:0680"===t.type.id?n=new f(e,P,t,t.label):alert("Unrecognised type:"+t.type.name),n}function o(){for(var t=0;t<A;t++){var e=M[t];if("interaction"===e.object)for(var n=e.participants.length,r=0;r<n;r++){var i=e.participants[r],o=new Array(0);i.features&&(o=i.features);for(var a=o.length,s=0;s<a;s++){var u=o[s];P.features.set(u.id,u)}}}}function u(){for(var t=P.interactors.values(),e=t.length,n=0;n<e;n++){var i,a=t[n],s=a.id;i=r(a,s),P.molecules.set(s,i)}o();for(var u=0;u<A;u++){var l=M[u];if("interaction"===l.object){var h=l.participants,p=h.length,f=c(l),d=P.allNaryLinks.get(f);"undefined"==typeof d&&(d=new v(f,P),P.allNaryLinks.set(f,d)),d.addEvidence(l);for(var y=0;y<p;y++){var g=h[y],b=g.interactorRef,s=b,i=P.molecules.get(s);"undefined"==typeof i&&(i=new m(s,P),k.set(s,i),P.molecules.set(s,i)),i.naryLinks.set(f,d),d.interactors.indexOf(i)===-1&&d.interactors.push(i)}}}}function c(t){if(t.naryId)return t.naryId;for(var n=t.participants,r=n.length,o=i.set(),a=0;a<r;a++){var s=n[a].interactorRef;e&&(s=s+"("+n[a].id+")"),o.add(s)}return o.values().sort().join("-")}function C(t){var n=t.interactorRef;return e&&(n=n+"("+t.participantRef+")"),P.molecules.get(n)}function S(t,n,r){function o(t){for(var n=i.set(),r=0;r<t.length;r++){var o=t[r],a=o.interactorRef;e&&(a=a+"("+o.participantRef+")"),a=a+":"+o.pos,n.add(a)}return n.values().sort().join(";")}var a,s,u=o(G),l=o(tt);u<l?(a=u+"><"+l,s=!1):(a=l+"><"+u,s=!0);var h=P.allSequenceLinks.get(a);if("undefined"==typeof h){for(var p=new Array,f=t.length,d=0;d<f;d++)p.push(new b(C(t[d]),t[d].pos));var m=new Array;for(f=n.length,d=0;d<f;d++)m.push(new b(C(n[d]),n[d].pos));h=new g(a,p,m,P,r),P.allSequenceLinks.set(a,h)}h.addEvidence(r);var y=c(r),v=P.allNaryLinks.get(y);return v.sequenceLinks.set(a,h),h}function E(t,e){var n="-"+t.id+"-"+t.id,r=P.allUnaryLinks.get(n);"undefined"==typeof r&&(r=new x(n,P,t),P.allUnaryLinks.set(n,r),t.selfLink=r);var i=c(e),o=P.allNaryLinks.get(i);return o.unaryLinks.set(n,r),r.addEvidence(e),r}function T(t,e,n){var r,i,o;t.id<e.id?(r="-"+t.id+"-"+e.id,i=t,o=e):(r="-"+e.id+"-"+t.id,i=e,o=t);var a=P.allBinaryLinks.get(r);"undefined"==typeof a&&(a=new _(r,P,i,o),i.binaryLinks.set(r,a),o.binaryLinks.set(r,a),P.allBinaryLinks.set(r,a));var s=c(n),u=P.allNaryLinks.get(s);return u.binaryLinks.set(r,a),a.addEvidence(n),a}t="object"==typeof t?t:JSON.parse(t),"undefined"==typeof e&&(e=!0),this.expand=e;var M=t.data,A=M.length,P=this;P.features=i.map();var k=i.map(),R=i.set();P.proteinCount=0,P.interactors=i.map();for(var O=0;O<A;O++)if("interactor"===M[O].object){var I=M[O];P.interactors.set(I.id,I),0===I.id.indexOf("uniprotkb_")&&P.proteinCount++}e?n():u();for(var N=0;N<A;N++){var D=M[N];if("interaction"===D.object)for(var L=D.participants,V=L.length,F=0;F<V;F++){var j=L[F],B=new Array(0);j.features&&(B=j.features);for(var U=B.length,z=0;z<U;z++){var H=B[z],G=H.sequenceData;if(H.linkedFeatures)for(var q=H.linkedFeatures,W=q.length,X=0;X<W;X++){for(var Y=i.map(),K=P.features.get(q[X]),Z=K.sequenceData.length,Q=0;Q<Z;Q++){var $=K.sequenceData[Q],J=$.interactorRef;e&&(J=J+"("+$.participantRef+")");var tt=Y.get(J);"undefined"==typeof tt&&(tt=new Array,Y.set(J,tt)),tt=tt.push($)}for(var et=Y.values().length,O=0;O<et;O++){tt=Y.values()[O];var nt,rt=C(G[0]),it=C(tt[0]);nt=rt===it?E(rt,D):T(rt,it,D);var ot=S(G,tt,D);rt.sequenceLinks.set(ot.id,ot),it.sequenceLinks.set(ot.id,ot),nt.sequenceLinks.set(ot.id,ot)}}}}}for(var k=k.values(),at=0;at<k.length;at++){var st;st=e?k[at].id.substring(0,k[at].id.indexOf("(")):k[at].id;for(var ut,N=0;N<A;N++){var D=M[N];if(D.id==st){var ct=c(D);ut=P.allNaryLinks.get(ct)}}k[at].initMolecule(ut),ut.complex=k[at]}P.checkLinks(),P.initLayout();for(var B=P.features.values(),U=B.length,z=0;z<U;z++){var H=B[z],lt="";if("undefined"!=typeof H.name&&(lt+=H.name+", "),"undefined"!=typeof H.type&&(lt+=H.type.name),"undefined"!=typeof H.detmethod&&(lt+=", "+H.detmethod.name),H.sequenceData)for(var $=H.sequenceData,Z=$.length,ht=0;ht<Z;ht++){var pt=$[ht],ft=pt.interactorRef;e&&(ft=ft+"("+pt.participantRef+")");var dt=P.molecules.get(ft),mt=/(.+)-(.+)/,yt=mt.exec(pt.pos),vt=1*yt[1],gt=1*yt[2];if(isNaN(vt)===!1&&isNaN(gt)===!1){var bt=new s(lt,vt,gt);null==dt.miFeatures&&(dt.miFeatures=new Array),dt.miFeatures.push(bt)}}}var _t=R.values(),xt=_t.length;if(0===xt)P.initPolymers();else for(var wt=0,Ct=0;Ct<xt;Ct++)a.getSequence(_t[Ct],function(t,e){P.molecules.get(t).setSequence(e),wt++,wt===xt&&P.initPolymers()})},r.Controller.prototype.checkLinks=function(){function t(t){for(var e=t.values(),n=e.length,r=0;r<n;r++)e[r].check()}t(this.allNaryLinks),t(this.allBinaryLinks),t(this.allUnaryLinks),t(this.allSequenceLinks)},r.Controller.prototype.setAllLinkCoordinates=function(){function t(t){for(var e=t.values(),n=e.length,r=0;r<n;r++)e[r].setLinkCoordinates()}t(this.allNaryLinks),t(this.allBinaryLinks),t(this.allUnaryLinks),this.sequenceInitComplete&&t(this.allSequenceLinks)},r.Controller.prototype.autoLayout=function(){"undefined"!=typeof this.force&&null!=this.force&&this.force.stop();var t=this.svgElement.parentNode.clientWidth,e=this.svgElement.parentNode.clientHeight,n=(this.molecules.keys().length,this),r=this.molecules.values(),o=r.length;if("undefined"==typeof this.force||null==this.force)for(var a=0;a<o;a++)r[a].setPosition(Math.random()*t,Math.random()*e);var s={};s.nodes=[],s.links=[];for(var u={},c=0,a=0;a<o;a++){var l=r[a];u[l.id]=c,c++;var h={};h.id=l.id,h.x=l.x,h.y=l.y,h.px=l.x,h.py=l.y,s.nodes.push(h)}for(var p=this.allBinaryLinks.values(),f=p.length,d=0;d<f;d++){var m=p[d],y=m.interactors[0],v=m.interactors[1],g=u[y.id],b=u[v.id];if(g!==b)if("undefined"!=typeof g&&"undefined"!=typeof b){var _={};_.source=g,_.target=b,_.id=m.id,s.links.push(_)}else alert("NOT RIGHT")}var x=Math.sqrt(s.nodes.length/(t*e));this.force=i.layout.force().nodes(s.nodes).links(s.links).gravity(105*x).linkDistance(70).linkStrength(.8).charge(-18/x).friction(.96).theta(.99).size([t,e]),this.force.on("tick",function(t){for(var e=n.force.nodes(),r=0;r<o;r++){var i=e[r],a=n.molecules.get(i.id),s=i.x,u=i.y;a.setPosition(s,u)}n.setAllLinkCoordinates()}),this.force.start()},r.Controller.prototype.setAnnotations=function(t){function e(){var t=i.set();for(u=0;u<r;u++)for(var e=n[u],a=0;a<e.annotations.length;a++)t.add(e.annotations[a].name);var s,l=t.values().length;if(l<3&&(l=3),l<21){if(l<9){var h=o.Accent[l].slice().reverse();s=i.scale.ordinal().range(h)}else if(l<13){var h=o.Set3[l].slice().reverse();s=i.scale.ordinal().range(h)}else s=i.scale.category20();for(u=0;u<r;u++){var e=n[u];for(a=0;a<e.annotations.length;a++){var p=e.annotations[a],f=s(p.name);p.pieSlice.setAttribute("fill",f),p.pieSlice.setAttribute("stroke",f)}}}c.legendChanged(s)}this.annotationChoice=t;for(var n=this.molecules.values(),r=n.length,u=0;u<r;u++)n[u].clearPositionalFeatures();if(this.legendChanged(null),this.sequenceInitComplete){var c=this;if("MI FEATURES"===t.toUpperCase()){for(u=0;u<r;u++){var l=n[u];0===l.id.indexOf("uniprotkb_")&&l.setPositionalFeatures(l.miFeatures)}e()}else if("INTERACTOR"===t.toUpperCase())if(c.proteinCount<21){for(u=0;u<r;u++){var l=n[u];if(0===l.id.indexOf("uniprotkb_")){var h=new s(l.json.label,1,l.size);l.setPositionalFeatures([h])}}e()}else alert("Too many types of protein (> 20) - can't colour by interactor.");else if("SUPERFAM"===t.toUpperCase()||"SUPERFAMILY"===t.toUpperCase()){var p=0;for(u=0;u<r;u++){var l=n[u];0===l.id.indexOf("uniprotkb_")?a.getSuperFamFeatures(l.id,function(t,n){var i=c.molecules.get(t);i.setPositionalFeatures(n),p++,p===r&&e()}):(p++,p===r&&e())}}else if("UNIPROT"===t.toUpperCase()||"UNIPROTKB"===t.toUpperCase()){var p=0;for(u=0;u<r;u++){var l=n[u];0===l.id.indexOf("uniprotkb_")?a.getUniProtFeatures(l.id,function(t,n){var i=c.molecules.get(t);i.setPositionalFeatures(n),p++,p===r&&e()}):(p++,p===r&&e())}}}},r.Controller.prototype.initLayout=function(){for(var t=this.molecules.values(),e=t.length,n=0;n<e;n++){var r=t[n];r.upperGroup&&this.proteinUpper.appendChild(r.upperGroup)}this.autoLayout()},r.Controller.prototype.initPolymers=function(){var t=this.molecules.values(),e=t.length;c.MAXSIZE=0;for(var n=0;n<e;n++){var r=t[n].size;r>c.MAXSIZE&&(c.MAXSIZE=r)}var i=this.svgElement.parentNode.clientWidth;c.UNITS_PER_RESIDUE=(i/2.5-u.LABELMAXLENGTH)/c.MAXSIZE;for(var o=0;o<e;o++){var a=t[o];a.json&&"protein"==a.json.type.name&&a.init()}this.sequenceInitComplete=!0,this.annotationChoice?xlv.setAnnotations(this.annotationChoice):this.setAnnotations("MI FEATURES")},r.Controller.prototype.reset=function(){this.resetZoom(),this.collapseAll(),this.autoLayout()},r.Controller.prototype.resetZoom=function(){this.container.setAttribute("transform","scale(1)");for(var t=this.molecules.values(),e=t.length,n=0;n<e;n++){var r=t[n];r.stickZoom=1,r.scale&&(r.scale(),r.setAllLinkCoordinates())}},r.Controller.prototype.collapseAll=function(){for(var t=this.molecules.values(),e=t.length,n=0;n<e;n++){var r=t[n];1===r.form&&r.setForm(0)}},r.Controller.prototype.expandAll=function(){for(var t=this.molecules.values(),e=t.length,n=0;n<e;n++){var r=t[n];0===r.form&&r.setForm(1)}},r.Controller.prototype.getSVG=function(){var t=this.svgElement.outerHTML.replace(/<rect .*?\/rect>/i,""),e='viewBox="0 0 '+this.svgElement.parentNode.clientWidth+" "+this.svgElement.parentNode.clientHeight+'" ';return t=t.replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" '+e),'<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+t},r.Controller.prototype.mouseDown=function(t){t.preventDefault(),"undefined"!=typeof this.force&&null!=this.force&&this.force.stop();var e=this.getEventPoint(t);this.dragStart=this.mouseToSVG(e.x,e.y);var n;return t.which?n=3===t.which:t.button&&(n=2===t.button),t.ctrlKey===!0||t.shiftKey===!0||n||(this.state=S.PANNING,this.panned=!1),!1},r.Controller.prototype.mouseMove=function(t){var e=this.getEventPoint(t),n=this.mouseToSVG(e.x,e.y);if(null!=this.dragElement){this.hideTooltip();var r=this.dragStart.x-n.x,i=this.dragStart.y-n.y;if(this.state===S.DRAGGING){var o,a,s,u;if("undefined"==typeof this.dragElement.x){for(var c=this.dragElement.interactors,l=c.length,h=0;h<l;h++){var p=c[h];o=p.x,a=p.y,s=o-r,u=a-i,p.setPosition(s,u),p.setAllLinkCoordinates()}for(h=0;h<l;h++)c[h].setAllLinkCoordinates()}else o=this.dragElement.x,a=this.dragElement.y,s=o-r,u=a-i,this.dragElement.setPosition(s,u),this.dragElement.setAllLinkCoordinates();this.dragStart=n}else if(this.state===S.ROTATING){var f=n.x-this.dragElement.x,d=n.y-this.dragElement.y,m=Math.atan2(d,f);0===this.whichRotator&&(m+=Math.PI);var y=m*(360/(2*Math.PI));this.dragElement.setRotation(y),this.dragElement.setAllLinkCoordinates()}else Math.sqrt(r*r+i*i)>5*this.z&&(this.state=S.DRAGGING)}else this.state===S.PANNING||this.showTooltip(e);return!1},r.Controller.prototype.mouseUp=function(t){var e=(new Date).getTime();if(this.preventDefaultsAndStopPropagation(t),e-this.lastMouseUp>150){var n,r;t.which?n=3===t.which:t.button&&(n=2===t.button),t.which?r=2===t.which:t.button&&(r=1===t.button);var i=this.getEventPoint(t),o=this.mouseToSVG(i.x,i.y);null!=this.dragElement?this.state!==S.DRAGGING&&this.state!==S.ROTATING?n||r||"undefined"==typeof this.dragElement.x||(t.shiftKey?this.dragElement.switchStickScale(o):this.sequenceInitComplete===!0&&(0===this.dragElement.form?this.dragElement.setForm(1,o):this.dragElement.setForm(0,o))):this.state===S.ROTATING&&this.dragElement.setRotation(5*Math.round(this.dragElement.rotation/5)):n?this.checkLinks():t.controllerKey===!1&&this.clearSelection(),this.state===S.SELECTING&&(clearInterval(this.marcher),this.svgElement.removeChild(this.marquee))}return this.dragElement=null,this.whichRotator=-1,this.state=S.MOUSE_UP,this.lastMouseUp=e,!1},r.Controller.prototype.clearSelection=function(){for(var t=this.molecules.values(),e=t.length,n=0;n<e;n++){var r=t[n];r.setSelected(!1)}},r.Controller.prototype.getEventPoint=function(t){var e=this.svgElement.createSVGPoint(),n=this.svgElement.parentNode,r=0,i=0;do r+=n.offsetTop||0,i+=n.offsetLeft||0,n=n.offsetParent;while(n);return e.x=t.pageX-i,e.y=t.pageY-r,e},r.Controller.prototype.mouseToSVG=function(t,e){var n=this.svgElement.createSVGPoint();n.x=t,n.y=e;var n=n.matrixTransform(this.container.getCTM().inverse());return n},r.Controller.prototype.preventDefaultsAndStopPropagation=function(t){t.stopPropagation&&t.stopPropagation(),null!=t.cancelBubble&&(t.cancelBubble=!0),t.preventDefault&&t.preventDefault()},r.Controller.prototype.touchStart=function(t){t.preventDefault(),"undefined"!=typeof this.force&&null!=this.force&&this.force.stop();var e=this.getTouchEventPoint(t);this.dragStart=this.mouseToSVG(e.x,e.y),this.state=S.PANNING},r.Controller.prototype.touchMove=function(t){if(this.sequenceInitComplete){var e=this.getTouchEventPoint(t),n=this.mouseToSVG(e.x,e.y);if(null!=this.dragElement){this.hideTooltip();var r=this.dragStart.x-n.x,i=this.dragStart.y-n.y;if(this.state===S.DRAGGING){var o,a,s,u;if("undefined"==typeof this.dragElement.x){for(var c=this.dragElement.interactors,l=c.length,h=0;h<l;h++){var p=c[h];o=p.x,a=p.y,s=o-r,u=a-i,p.setPosition(s,u),p.setAllLinkCoordinates()}for(h=0;h<l;h++)c[h].setAllLinkCoordinates()}else o=this.dragElement.x,a=this.dragElement.y,s=o-r,u=a-i,this.dragElement.setPosition(s,u),this.dragElement.setAllLinkCoordinates();this.dragStart=n}else if(this.state===S.ROTATING){var f=n.x-this.dragElement.x,d=n.y-this.dragElement.y,m=Math.atan2(d,f);0===this.whichRotator&&(m+=Math.PI);var y=m*(360/(2*Math.PI));this.dragElement.setRotation(y),this.dragElement.setAllLinkCoordinates()}else Math.sqrt(r*r+i*i)>5*this.z&&(this.state=S.DRAGGING)}}return!1},r.Controller.prototype.touchEnd=function(t){return this.preventDefaultsAndStopPropagation(t),null!=this.dragElement&&(this.state!==S.DRAGGING&&this.state!==S.ROTATING?"undefined"==typeof this.dragElement.x||(0===this.dragElement.form?this.dragElement.setForm(1):this.dragElement.setForm(0)):this.state===S.ROTATING&&this.dragElement.setRotation(5*Math.round(this.dragElement.rotation/5))),this.dragElement=null,this.whichRotator=-1,this.state=S.MOUSE_UP,!1},r.Controller.prototype.getTouchEventPoint=function(t){var e=this.svgElement.createSVGPoint(),n=this.svgElement.parentNode,r=0,i=0;do r+=n.offsetTop||0,i+=n.offsetLeft||0,n=n.offsetParent;while(n);return e.x=t.touches[0].pageX-i,e.y=t.touches[0].pageY-r,e},r.Controller.prototype.showTooltip=function(t){var e,n,r=this.tooltip.getComputedTextLength()+16,i=this.svgElement.parentNode.clientWidth,o=this.svgElement.parentNode.clientHeight;e=t.x+20+r<i?t.x:i-r-20,n=t.y+60<o?t.y:o-60,this.tooltip.setAttribute("x",e+22),this.tooltip.setAttribute("y",n+47),this.tooltip_bg.setAttribute("x",e+16),this.tooltip_bg.setAttribute("y",n+28),this.tooltip_subBg.setAttribute("x",e+16),this.tooltip_subBg.setAttribute("y",n+28)},r.Controller.prototype.setTooltip=function(t,e){if(t){this.tooltip.firstChild.data=t.toString().replace(/&(quot);/g,'"'),this.tooltip.setAttribute("display","block");var n=this.tooltip.getComputedTextLength();this.tooltip_bg.setAttribute("width",n+16),this.tooltip_subBg.setAttribute("width",n+16),"undefined"!=typeof e&&null!=e?(this.tooltip_bg.setAttribute("fill",e),this.tooltip_bg.setAttribute("stroke",e),this.tooltip_bg.setAttribute("fill-opacity","0.5")):(this.tooltip_bg.setAttribute("fill","white"),this.tooltip_bg.setAttribute("stroke","grey")),this.tooltip_bg.setAttribute("height",28),this.tooltip_subBg.setAttribute("height",28),this.tooltip_bg.setAttribute("display","block"),this.tooltip_subBg.setAttribute("display","block")}else this.hideTooltip()},r.Controller.prototype.hideTooltip=function(t){this.tooltip.setAttribute("display","none"),this.tooltip_bg.setAttribute("display","none"),this.tooltip_subBg.setAttribute("display","none")},t.exports=r.Controller},function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<t.length;r+=1)if(t[r][e]===n)return t[r]}var i=n(281),o=function(t){var e=(+new Date,t.data.filter(function(t){return"interaction"==t.object})),n=t.data.filter(function(t){return"interactor"==t.object}),o=[];return e.forEach(function(t){var e=t.participants.filter(function(t){if(t.stoichiometry>1)return t});e.forEach(function(e){var i=r(n,"id",e.interactorRef);if(i)for(var a=0;a<e.stoichiometry-1;a++){var s=JSON.parse(JSON.stringify(e));s.id=s.id+"_"+a,s.cloneParentID=e.id,s.cloneIteration=a,e.cloned=!0,s.features&&s.features.forEach(function(t){t.clonedfrom=t.id,t.id=t.id+"_"+a,t.sequenceData.forEach(function(t){t.participantRef=s.id})}),t.participants.push(s),o.push(s)}});var a=i.map();t.participants.forEach(function(t){t.features&&t.features.forEach(function(e){e.parentParticipant=t.id,a.set(e.id,e)})});var s=a.values();s.forEach(function(e){e.clonedfrom&&s.forEach(function(n){var i=n.linkedFeatures;if(i&&i.indexOf(e.clonedfrom)>-1){var o=JSON.parse(JSON.stringify(n));o.id=n.id+"_"+e.id,o.linkedFeatures=[],o.linkedFeatures.push(e.id);var a=r(t.participants,"id",o.parentParticipant);a.features.push(o)}})})}),e.forEach(function(t){t.participants.forEach(function(t){t.stoichiometry=null})}),t};t.exports={matrix:o}},function(t,e,n){"use strict";function r(){}var i=n(398);r.ns="xiNET.",r.accessionFromId=function(t){var e;e=t.indexOf("(")!==-1?/uniprotkb_(.*)(\()/:/uniprotkb_(.*)/;var n=e.exec(t);return n?n[1]:t.indexOf("|")!==-1?t.split("|")[1]:t},r.getUniProtTxt=function(t,e){function n(){var n="http://www.uniprot.org/uniprot/"+i+".txt";d3.text(n,function(n){"undefined"!=typeof Storage&&localStorage.setItem(r.ns+"UniProtKB."+i,n),e(t,n)})}var i=r.accessionFromId(t);if("undefined"!=typeof Storage){var o=localStorage.getItem(r.ns+"UniProtKB."+i);o?e(t,o):n()}else n()},r.getSequence=function(t,e){r.getUniProtTxt(t,function(n,r){for(var i="",o=r.split("\n"),a=o.length,s=0;s<a;s++){var u=o[s];if(0===u.indexOf("SQ"))for(s++,s;s<a;s++)u=o[s],i+=u}e(t,i.replace(/[^A-Z]/g,""))})},r.getUniProtFeatures=function(t,e){r.accessionFromId(t);r.getUniProtTxt(t,function(t,n){for(var r=new Array,o=n.split("\n"),a=o.length,s=0;s<a;s++){var u=o[s];if(0===u.indexOf("FT")){var c=u.split(/\s{2,}/g);if(c.length>4&&"DOMAIN"===c[1]){var l=c[4].substring(0,c[4].indexOf("."));r.push(new i(l,c[2],c[3],null,c[4]))}}}e(t,r)})},r.getSuperFamFeatures=function(t,e){function n(){var t="http://supfam.org/SUPERFAMILY/cgi-bin/das/up/features?segment="+a;d3.xml(t,function(t){t=(new XMLSerializer).serializeToString(t),"undefined"!=typeof Storage&&localStorage.setItem(r.ns+"SuperFamDAS."+a,t),o(t)})}function o(n){if(window.DOMParser)var r=new DOMParser,o=r.parseFromString(n,"text/xml");else{var o=new ActiveXObject("Microsoft.XMLDOM");o.async=!1,o.loadXML(n)}for(var a=new Array,s=o.getElementsByTagName("FEATURE"),u=s.length,c=0;c<u;c++){var l=s[c],h=l.getElementsByTagName("TYPE")[0],p=h.getAttribute("category");if("miscellaneous"===p){var f=h.getAttribute("id"),d=l.getElementsByTagName("START")[0].textContent,m=l.getElementsByTagName("END")[0].textContent;a.push(new i(f,d,m))}}e(t,a)}var a=r.accessionFromId(t);if("undefined"!=typeof Storage){var s=localStorage.getItem(r.ns+"SuperFamDAS."+a);s?o(s):n()}else n()},t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){this.id=t,this.controller=e,this.json=n,this.naryLinks=d3.map(),this.binaryLinks=d3.map(),this.selfLink=null,this.sequenceLinks=d3.map(),this.name=r,this.x=40,this.y=40,this.rotation=0,this.previousRotation=this.rotation,this.stickZoom=1,this.form=0,this.isParked=!1,this.isSelected=!1,this.size=10,this.upperGroup=document.createElementNS(o.svgns,"g");var a="0, -10  8.66,5 -8.66,5";this.highlight=document.createElementNS(o.svgns,"polygon"),this.highlight.setAttribute("points",a),this.highlight.setAttribute("stroke",o.highlightColour),this.highlight.setAttribute("stroke-width","5"),this.highlight.setAttribute("fill","none"),d3.select(this.highlight).attr("stroke-opacity",0),this.upperGroup.appendChild(this.highlight),this.labelSVG=document.createElementNS(o.svgns,"text"),this.labelSVG.setAttribute("text-anchor","end"),this.labelSVG.setAttribute("fill","black"),this.labelSVG.setAttribute("x",0),this.labelSVG.setAttribute("y",10),this.labelSVG.setAttribute("class","xlv_text proteinLabel"),this.labelSVG.setAttribute("font-family","Arial"),this.labelSVG.setAttribute("font-size","16"),this.labelText=this.name,this.labelTextNode=document.createTextNode(this.labelText),this.labelSVG.appendChild(this.labelTextNode),d3.select(this.labelSVG).attr("transform","translate( -15 "+i.labelY+")"),this.upperGroup.appendChild(this.labelSVG),this.outline=document.createElementNS(o.svgns,"polygon"),this.outline.setAttribute("points",a),this.outline.setAttribute("stroke","black"),this.outline.setAttribute("stroke-width","1"),d3.select(this.outline).attr("stroke-opacity",1).attr("fill-opacity",1).attr("fill","#ffffff"),this.upperGroup.appendChild(this.outline);var s=this;this.upperGroup.onmousedown=function(t){s.mouseDown(t)},this.upperGroup.onmouseover=function(t){s.mouseOver(t)},this.upperGroup.onmouseout=function(t){s.mouseOut(t)},this.upperGroup.ontouchstart=function(t){s.touchStart(t)},this.isSelected=!1}var i=n(49),o=n(26);r.prototype=new i,r.prototype.showData=function(t){var e="https://www.ebi.ac.uk/chebi/searchId.do;?chebiId="+this.json.identifier.id;window.open(e,"_blank")},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.id=t,this.ctrl=e,this.naryLinks=d3.map(),this.binaryLinks=d3.map(),this.selfLink=null,this.sequenceLinks=d3.map(),this.form=0,this.type="complex"}var i=n(49);n(26);r.prototype=new i,r.prototype.initMolecule=function(t){this.naryLink=t,t.path.setAttribute("stroke","black"),t.path.setAttribute("stroke-linejoin","round"),t.path.setAttribute("stroke-width",8)},r.prototype.getPosition=function(){for(var t=this.naryLink.getMappedCoordinates(),e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i][0],r+=t[i][1];return[n/e,r/e]},r.prototype.setPosition=function(t,e){},r.prototype.getResidueCoordinates=function(t,e){return this.getPosition()},r.prototype.showHighlight=function(){},t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){this.id=t,this.controller=e,this.json=n,this.naryLinks=d3.map(),this.binaryLinks=d3.map(),this.selfLink=null,this.sequenceLinks=d3.map(),this.name=r,this.x=40,this.y=40,this.rotation=0,this.previousRotation=this.rotation,this.stickZoom=1,this.form=0,this.isParked=!1,this.isSelected=!1,this.size=10,this.upperGroup=document.createElementNS(o.svgns,"g");var a="0, -5  10, -10 0, 10 -10, -10";this.highlight=document.createElementNS(o.svgns,"polygon"),this.highlight.setAttribute("points",a),this.highlight.setAttribute("stroke",o.highlightColour),this.highlight.setAttribute("stroke-width","5"),this.highlight.setAttribute("fill","none"),d3.select(this.highlight).attr("stroke-opacity",0),this.upperGroup.appendChild(this.highlight),this.labelSVG=document.createElementNS(o.svgns,"text"),this.labelSVG.setAttribute("text-anchor","end"),this.labelSVG.setAttribute("fill","black"),this.labelSVG.setAttribute("x",0),this.labelSVG.setAttribute("y",10),this.labelSVG.setAttribute("class","xlv_text proteinLabel"),this.labelSVG.setAttribute("font-family","Arial"),this.labelSVG.setAttribute("font-size","16"),this.labelText=this.name,this.labelTextNode=document.createTextNode(this.labelText),this.labelSVG.appendChild(this.labelTextNode),d3.select(this.labelSVG).attr("transform","translate( -15 "+i.labelY+")"),this.upperGroup.appendChild(this.labelSVG),this.outline=document.createElementNS(o.svgns,"polygon"),this.outline.setAttribute("points",a),this.outline.setAttribute("stroke","black"),this.outline.setAttribute("stroke-width","1"),d3.select(this.outline).attr("stroke-opacity",1).attr("fill-opacity",1).attr("fill","#ffffff"),this.upperGroup.appendChild(this.outline);var s=this;this.upperGroup.onmousedown=function(t){s.mouseDown(t)},this.upperGroup.onmouseover=function(t){s.mouseOver(t)},this.upperGroup.onmouseout=function(t){s.mouseOut(t)},this.upperGroup.ontouchstart=function(t){s.touchStart(t)},this.isSelected=!1}var i=n(49),o=n(26);r.prototype=new i,t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){this.id=t,this.controller=e,this.json=n,this.naryLinks=d3.map(),this.binaryLinks=d3.map(),this.selfLink=null,this.sequenceLinks=d3.map(),this.name=r,this.x=40,this.y=40,this.rotation=0,this.previousRotation=this.rotation,this.stickZoom=1,this.form=0,this.isParked=!1,this.isSelected=!1,this.size=10,this.upperGroup=document.createElementNS(o.svgns,"g"),this.highlight=document.createElementNS(o.svgns,"rect"),this.highlight.setAttribute("stroke",o.highlightColour),this.highlight.setAttribute("stroke-width","5"),this.highlight.setAttribute("fill","none"),this.upperGroup.appendChild(this.highlight),this.background=document.createElementNS(o.svgns,"rect"),this.background.setAttribute("fill","#FFFFFF"),this.upperGroup.appendChild(this.background),this.labelSVG=document.createElementNS(o.svgns,"text"),this.labelSVG.setAttribute("text-anchor","end"),this.labelSVG.setAttribute("fill","black"),this.labelSVG.setAttribute("x",0),this.labelSVG.setAttribute("y",10),this.labelSVG.setAttribute("class","xlv_text proteinLabel"),this.labelSVG.setAttribute("font-family","Arial"),this.labelSVG.setAttribute("font-size","16"),null!==this.name&""!==this.name?this.labelText=this.name:this.labelText=this.id,this.labelText.length>25&&(this.labelText=this.labelText.substr(0,16)+"..."),this.labelTextNode=document.createTextNode(this.labelText),this.labelSVG.appendChild(this.labelTextNode),d3.select(this.labelSVG).attr("transform","translate( -21 "+i.labelY+") rotate(0) scale(1, 1)"),this.upperGroup.appendChild(this.labelSVG),this.ticks=document.createElementNS(o.svgns,"g"),this.annotationsSvgGroup=document.createElementNS(o.svgns,"g"),this.annotationsSvgGroup.setAttribute("opacity",1),this.upperGroup.appendChild(this.annotationsSvgGroup),this.outline=document.createElementNS(o.svgns,"rect"),this.outline.setAttribute("stroke","black"),this.outline.setAttribute("stroke-width","1"),this.outline.setAttribute("fill","none"),this.upperGroup.appendChild(this.outline),d3.select(this.background).transition().attr("x",-16).attr("y",-8).attr("width",32).attr("height",16).attr("rx",6).attr("ry",6),d3.select(this.outline).transition().attr("x",-16).attr("y",-8).attr("width",32).attr("height",16).attr("rx",6).attr("ry",6),d3.select(this.highlight).transition().attr("x",-16).attr("y",-8).attr("width",32).attr("height",16).attr("rx",6).attr("ry",6),this.scaleLabels=new Array;var a=this;this.upperGroup.onmousedown=function(t){a.mouseDown(t)},this.upperGroup.onmouseover=function(t){a.mouseOver(t)},this.upperGroup.onmouseout=function(t){a.mouseOut(t)},this.upperGroup.ontouchstart=function(t){a.touchStart(t)},this.isSelected=!1,
this.showHighlight(!1)}var i=n(49),o=n(26);r.prototype=new i,t.exports=r},function(t,e,n){"use strict";function r(t,e,n){this.id=t,this.controller=e,this.json=n,this.naryLinks=d3.map(),this.binaryLinks=d3.map(),this.selfLink=null,this.sequenceLinks=d3.map(),this.name="INTERACTOR SET",this.size=10,this.tooltip=this.id,this.x=40,this.y=40,this.rotation=0,this.previousRotation=this.rotation,this.stickZoom=1,this.form=0,this.isParked=!1,this.isSelected=!1,this.size=10,this.upperGroup=document.createElementNS(o.svgns,"g"),this.upperGroup.setAttribute("class","upperGroup");var r="0, -10  8.66,5 -8.66,5";this.highlight=document.createElementNS(o.svgns,"polygon"),this.highlight.setAttribute("points",r),this.highlight.setAttribute("stroke",o.highlightColour),this.highlight.setAttribute("stroke-width","5"),this.highlight.setAttribute("fill","none"),d3.select(this.highlight).attr("stroke-opacity",0),this.upperGroup.appendChild(this.highlight),this.intraLinksHighlights=document.createElementNS(o.svgns,"g"),this.intraLinks=document.createElementNS(o.svgns,"g"),this.upperGroup.appendChild(this.intraLinksHighlights),this.upperGroup.appendChild(this.intraLinks),this.labelSVG=document.createElementNS(o.svgns,"text"),this.labelSVG.setAttribute("text-anchor","end"),this.labelSVG.setAttribute("fill","red"),this.labelSVG.setAttribute("x",0),this.labelSVG.setAttribute("y",10),this.labelSVG.setAttribute("class","xlv_text proteinLabel"),this.labelSVG.setAttribute("font-family","Arial"),this.labelSVG.setAttribute("font-size","16"),this.labelText=this.name,this.labelTextNode=document.createTextNode(this.labelText),this.labelSVG.appendChild(this.labelTextNode),d3.select(this.labelSVG).attr("transform","translate( -15 "+i.labelY+")"),this.upperGroup.appendChild(this.labelSVG),this.outline=document.createElementNS(o.svgns,"polygon"),this.outline.setAttribute("points",r),this.outline.setAttribute("stroke","black"),this.outline.setAttribute("stroke-width","1"),d3.select(this.outline).attr("stroke-opacity",1).attr("fill-opacity",1).attr("fill","#ffffff"),this.upperGroup.appendChild(this.outline);var a=this;this.upperGroup.onmousedown=function(t){a.mouseDown(t)},this.upperGroup.onmouseover=function(t){a.mouseOver(t)},this.upperGroup.onmouseout=function(t){a.mouseOut(t)},this.upperGroup.ontouchstart=function(t){a.touchStart(t)},this.isSelected=!1}var i=n(49),o=n(26);r.prototype=new i,r.prototype.getBlobRadius=function(){return 10},r.prototype.setForm=function(t,e){},t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){this.id=t,this.controller=e,this.json=n,this.name=r,this.tooltip=this.name+" ["+this.id+"]",this.naryLinks=d3.map(),this.binaryLinks=d3.map(),this.selfLink=null,this.sequenceLinks=d3.map(),this.selfLink=null,this.x=40,this.y=40,this.rotation=0,this.previousRotation=this.rotation,this.stickZoom=1,this.form=0,this.isSelected=!1,this.upperGroup=document.createElementNS(a.svgns,"g"),this.upperGroup.setAttribute("class","protein upperGroup"),this.highlight=document.createElementNS(a.svgns,"rect"),this.highlight.setAttribute("stroke",a.highlightColour),this.highlight.setAttribute("stroke-width","5"),this.highlight.setAttribute("fill","none"),this.upperGroup.appendChild(this.highlight),this.background=document.createElementNS(a.svgns,"rect"),this.background.setAttribute("fill","#FFFFFF"),this.upperGroup.appendChild(this.background),this.labelSVG=document.createElementNS(a.svgns,"text"),this.labelSVG.setAttribute("text-anchor","end"),this.labelSVG.setAttribute("fill","black"),this.labelSVG.setAttribute("x",0),this.labelSVG.setAttribute("y",10),this.labelSVG.setAttribute("class","protein xlv_text proteinLabel"),this.labelSVG.setAttribute("font-family","Arial"),this.labelSVG.setAttribute("font-size","16"),null!==this.name&""!==this.name?this.labelText=this.name:this.labelText=this.id,this.labelText.length>25&&(this.labelText=this.labelText.substr(0,16)+"..."),this.labelTextNode=document.createTextNode(this.labelText),this.labelSVG.appendChild(this.labelTextNode),d3.select(this.labelSVG).attr("transform","translate( -5 "+i.labelY+") rotate(0) scale(1, 1)"),this.upperGroup.appendChild(this.labelSVG),this.ticks=document.createElementNS(a.svgns,"g"),this.annotationsSvgGroup=document.createElementNS(a.svgns,"g"),this.annotationsSvgGroup.setAttribute("opacity",1),this.upperGroup.appendChild(this.annotationsSvgGroup),this.outline=document.createElementNS(a.svgns,"rect"),this.outline.setAttribute("stroke","black"),this.outline.setAttribute("stroke-width","1"),this.outline.setAttribute("fill","none"),this.upperGroup.appendChild(this.outline),this.scaleLabels=new Array;var o=this;this.upperGroup.onmousedown=function(t){o.mouseDown(t)},this.upperGroup.onmouseover=function(t){o.mouseOver(t)},this.upperGroup.onmouseout=function(t){o.mouseOut(t)},this.upperGroup.ontouchstart=function(t){o.touchStart(t)},this.isSelected=!1,this.showHighlight(!1)}var i=n(49),o=n(399),a=n(26);r.prototype=new o,r.prototype.showData=function(t){var e="http://www.uniprot.org/uniprot/"+this.json.identifier.id;window.open(e,"_blank")},t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){this.id=t,this.controller=e,this.json=n,this.naryLinks=d3.map(),this.binaryLinks=d3.map(),this.selfLink=null,this.sequenceLinks=d3.map(),this.name=r,this.x=40,this.y=40,this.rotation=0,this.previousRotation=this.rotation,this.stickZoom=1,this.form=0,this.isParked=!1,this.isSelected=!1,this.size=10,this.upperGroup=document.createElementNS(o.svgns,"g"),this.upperGroup.setAttribute("class","upperGroup");var a="0, -10  10, 0 0, 10 -10, 0";this.highlight=document.createElementNS(o.svgns,"polygon"),this.highlight.setAttribute("points",a),this.highlight.setAttribute("stroke",o.highlightColour),this.highlight.setAttribute("stroke-width","5"),this.highlight.setAttribute("fill","none"),d3.select(this.highlight).attr("stroke-opacity",0),this.upperGroup.appendChild(this.highlight),this.labelSVG=document.createElementNS(o.svgns,"text"),this.labelSVG.setAttribute("text-anchor","end"),this.labelSVG.setAttribute("fill","black"),this.labelSVG.setAttribute("x",0),this.labelSVG.setAttribute("y",10),this.labelSVG.setAttribute("class","xlv_text proteinLabel"),this.labelSVG.setAttribute("font-family","Arial"),this.labelSVG.setAttribute("font-size","16"),this.labelText=this.name,this.labelTextNode=document.createTextNode(this.labelText),this.labelSVG.appendChild(this.labelTextNode),d3.select(this.labelSVG).attr("transform","translate( -15 "+i.labelY+")"),this.upperGroup.appendChild(this.labelSVG),this.outline=document.createElementNS(o.svgns,"polygon"),this.outline.setAttribute("points",a),this.outline.setAttribute("stroke","black"),this.outline.setAttribute("stroke-width","1"),d3.select(this.outline).attr("stroke-opacity",1).attr("fill-opacity",1).attr("fill","#ffffff"),this.upperGroup.appendChild(this.outline);var s=this;this.upperGroup.onmousedown=function(t){s.mouseDown(t)},this.upperGroup.onmouseover=function(t){s.mouseOver(t)},this.upperGroup.onmouseout=function(t){s.mouseOut(t)},this.upperGroup.ontouchstart=function(t){s.touchStart(t)},this.isSelected=!1}var i=n(49),o=n(26);r.prototype=new i,r.prototype.showData=function(t){var e="http://rnacentral.org/rna/"+this.json.identifier.id;window.open(e,"_blank")},t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){this.id=t,this.evidences=d3.map(),this.interactors=[n,r],this.sequenceLinks=d3.map(),this.controller=e}var i=n(26),o=n(128),a=(n(262),n(819)),s=n(438);r.prototype=new o,r.prototype.initSVG=function(){this.line=document.createElementNS(i.svgns,"line"),this.highlightLine=document.createElementNS(i.svgns,"line"),this.thickLine=document.createElementNS(i.svgns,"line"),this.line.setAttribute("class","link"),this.line.setAttribute("fill","none"),this.line.setAttribute("stroke","black"),this.line.setAttribute("stroke-width","1"),this.line.setAttribute("stroke-linecap","round"),this.highlightLine.setAttribute("class","link"),this.highlightLine.setAttribute("fill","none"),this.highlightLine.setAttribute("stroke",i.highlightColour),this.highlightLine.setAttribute("stroke-width","10"),this.highlightLine.setAttribute("stroke-linecap","round"),this.highlightLine.setAttribute("stroke-opacity","0"),this.thickLine.setAttribute("class","link"),this.thickLine.setAttribute("fill","none"),this.thickLine.setAttribute("stroke","lightgray"),this.thickLine.setAttribute("stroke-linecap","round"),this.thickLine.setAttribute("stroke-linejoin","round");var t=this;this.line.onmousedown=function(e){t.mouseDown(e)},this.line.onmouseover=function(e){t.mouseOver(e)},this.line.onmouseout=function(e){t.mouseOut(e)},this.line.ontouchstart=function(e){t.touchStart(e)},this.highlightLine.onmousedown=function(e){t.mouseDown(e)},this.highlightLine.onmouseover=function(e){t.mouseOver(e)},this.highlightLine.onmouseout=function(e){t.mouseOut(e)},this.highlightLine.ontouchstart=function(e){t.touchStart(e)},this.thickLine.onmousedown=function(e){t.mouseDown(e)},this.thickLine.onmouseover=function(e){t.mouseOver(e)},this.thickLine.onmouseout=function(e){t.mouseOut(e)},this.thickLine.ontouchstart=function(e){t.touchStart(e)},this.isSelected=!1},r.prototype.showHighlight=function(t){this.notSubLink===!0&&this.highlightMolecules(t),t?this.highlightLine.setAttribute("stroke-opacity","1"):this.highlightLine.setAttribute("stroke-opacity","0")},r.prototype.check=function(){return 0===this.interactors[0].form&&0===this.interactors[1].form?(this.show(),!0):(this.hide(),!1)},r.prototype.show=function(){"undefined"==typeof this.line&&this.initSVG(),this.line.setAttribute("stroke-width",1*this.controller.z),this.highlightLine.setAttribute("stroke-width",10*this.controller.z),this.setLinkCoordinates(this.interactors[0]),this.setLinkCoordinates(this.interactors[1]),this.thickLineShown&&this.controller.p_pLinksWide.appendChild(this.thickLine),this.controller.highlights.appendChild(this.highlightLine),this.controller.p_pLinks.appendChild(this.line),this.thickLineShown&&this.thickLine.setAttribute("stroke-width",this.w)},r.prototype.hide=function(){for(var t=[],e=[],n=[],r=0;r<this.controller.p_pLinksWide.childNodes.length;r++)t[r]=this.controller.p_pLinksWide.childNodes[r];for(var r=0;r<this.controller.highlights.childNodes.length;r++)e[r]=this.controller.highlights.childNodes[r];for(var r=0;r<this.controller.p_pLinks.childNodes.length;r++)n[r]=this.controller.p_pLinks.childNodes[r];t.indexOf(this.thickLine)>-1&&this.controller.p_pLinksWide.removeChild(this.thickLine),e.indexOf(this.highlightLine)>-1&&this.controller.highlights.removeChild(this.highlightLine),n.indexOf(this.line)>-1&&this.controller.p_pLinks.removeChild(this.line)},r.prototype.setLinkCoordinates=function(){var t=this.interactors[0].getPosition(),e=this.interactors[1].getPosition();if("complex"===this.interactors[0].type){for(var n=this.interactors[0].naryLink.hull,r=new Array,i=0;i<n.length;i++){var o=n[i];r.push(new s(o[0],o[1]))}var u=new s(t[0],t[1]),c=new s(e[0],e[1]),l=a.intersectLinePolygon(u,c,r);l.points[0]&&(t=[l.points[0].x,l.points[0].y])}if("complex"===this.interactors[1].type){for(var n=this.interactors[0].naryLink.hull,r=new Array,i=0;i<n.length;i++){var o=n[i];r.push(new s(o[0],o[1]))}var u=new s(t[0],t[1]),c=new s(e[0],e[1]),l=a.intersectLinePolygon(u,c,r);l.points[0]&&(e=[l.points[0].x,l.points[0].y])}this.line.setAttribute("x1",t[0]),this.line.setAttribute("y1",t[1]),this.highlightLine.setAttribute("x1",t[0]),this.highlightLine.setAttribute("y1",t[1]),this.thickLineShown&&(this.thickLine.setAttribute("x1",t[0]),this.thickLine.setAttribute("y1",t[1])),this.line.setAttribute("x2",e[0]),this.line.setAttribute("y2",e[1]),this.highlightLine.setAttribute("x2",e[0]),this.highlightLine.setAttribute("y2",e[1]),this.thickLineShown&&(this.thickLine.setAttribute("x2",e[0]),this.thickLine.setAttribute("y2",e[1]))},r.prototype.getOtherEnd=function(t){return this.interactors[0]===t?this.interactors[1]:this.interactors[0]},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.id=t,this.evidences=u.map(),this.interactors=new Array,this.sequenceLinks=u.map(),this.binaryLinks=u.map(),this.unaryLinks=u.map(),this.controller=e,this.tooltip=this.id,this.initSVG()}var i=n(261),o=n(128),a=n(26),s=n(49),u=n(281);r.naryColours=u.scale.ordinal().range(i.Paired[6]),r.orbitNodes=16,r.orbitRadius=20,r.prototype=new o,r.prototype.initSVG=function(){this.path=document.createElementNS(a.svgns,"path"),this.controller.expand===!1?this.path.setAttribute("fill",r.naryColours(this.id)):this.path.setAttribute("fill","#70BDBD"),this.path.setAttribute("fill-opacity",.3);var t=this;this.path.onmousedown=function(e){t.mouseDown(e)},this.path.onmouseover=function(e){t.mouseOver(e)},this.path.onmouseout=function(e){t.mouseOut(e)},this.path.ontouchstart=function(e){t.touchStart(e)}},r.prototype.showHighlight=function(t){this.highlightMolecules(t)},r.prototype.check=function(){return this.show(),!0},r.prototype.show=function(){this.path.setAttribute("stroke-width",1*this.controller.z),this.setLinkCoordinates(),this.controller.naryLinks.appendChild(this.path)},r.prototype.hide=function(){},r.prototype.setLinkCoordinates=function(){var t=function(t){var n=u.geom.hull(t);return e.hull=n,"M"+n.join("L")+"Z"},e=this,n=this.orbitNodes(this.getMappedCoordinates()),r=t(n);r&&this.path.setAttribute("d",r),this.complex&&this.complex.setAllLinkCoordinates()},r.prototype.getMappedCoordinates=function(){for(var t=this.interactors,e=new Array,n=t.length,r=0;r<n;r++){var i=t[r];if("complex"==i.type)e=e.concat(this.orbitNodes(i.naryLink.getMappedCoordinates()));else if(1===i.form){var o=i.getResidueCoordinates(0),a=i.getResidueCoordinates(i.size);isNaN(o[0])||isNaN(o[1])||isNaN(a[0])||isNaN(a[1])?e.push(i.getPosition()):(e.push(o),e.push(a))}else e.push(i.getPosition())}return e},r.prototype.orbitNodes=function(t){for(var e=new Array,n=t.length,i=0;i<n;i++)for(var o=t[i],a=0;a<r.orbitNodes;a++){var u=360/r.orbitNodes*a,c=[o[0]+r.orbitRadius,o[1]];e.push(s.rotatePointAboutPoint(c,o,u))}return e},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){this.id=t,this.evidences=d3.map(),this.interactors=[n],this.sequenceLinks=d3.map(),this.controller=e,this.initSVG()}var i=n(26),o=n(128);n(262);r.prototype=new o,r.prototype.initSVG=function(){var t=this.interactors[0].getAggregateSelfLinkPath();this.line=document.createElementNS(i.svgns,"path"),this.line.setAttribute("d",t),this.highlightLine=document.createElementNS(i.svgns,"path"),this.highlightLine.setAttribute("d",t),this.thickLine=document.createElementNS(i.svgns,"path"),this.thickLine.setAttribute("d",t),this.line.setAttribute("class","link"),this.line.setAttribute("fill","none"),this.line.setAttribute("stroke","black"),this.line.setAttribute("stroke-width",1),this.line.setAttribute("stroke-linecap","round"),this.highlightLine.setAttribute("class","link"),this.highlightLine.setAttribute("fill","none"),this.highlightLine.setAttribute("stroke",i.highlightColour),this.highlightLine.setAttribute("stroke-width","10"),this.highlightLine.setAttribute("stroke-linecap","round"),this.highlightLine.setAttribute("stroke-opacity","0"),this.thickLine.setAttribute("class","link"),this.thickLine.setAttribute("fill","none"),this.thickLine.setAttribute("stroke","lightgray"),this.thickLine.setAttribute("stroke-linecap","round"),this.thickLine.setAttribute("stroke-linejoin","round");var e=this;this.line.onmousedown=function(t){e.mouseDown(t)},this.line.onmouseover=function(t){e.mouseOver(t)},this.line.onmouseout=function(t){e.mouseOut(t)},this.line.ontouchstart=function(t){e.touchStart(t)},this.highlightLine.onmousedown=function(t){e.mouseDown(t)},this.highlightLine.onmouseover=function(t){e.mouseOver(t)},this.highlightLine.onmouseout=function(t){e.mouseOut(t)},this.highlightLine.ontouchstart=function(t){e.touchStart(t)},this.thickLine.onmousedown=function(t){e.mouseDown(t)},this.thickLine.onmouseover=function(t){e.mouseOver(t)},this.thickLine.onmouseout=function(t){e.mouseOut(t)},this.thickLine.ontouchstart=function(t){e.touchStart(t)},this.isSelected=!1},r.prototype.selfLink=function(){return this.fromProtein===this.toProtein},r.prototype.initSelfLinkSVG=function(){var t=this.interactors[0].getAggregateSelfLinkPath();this.line.setAttribute("d",t),this.highlightLine.setAttribute("d",t),this.thickLine.setAttribute("d",t)},r.prototype.showHighlight=function(t){this.notSubLink===!0&&this.highlightMolecules(t),t?this.highlightLine.setAttribute("stroke-opacity","1"):this.highlightLine.setAttribute("stroke-opacity","0")},r.prototype.check=function(){return 1!==this.interactors[0].form?(this.show(),!0):(this.hide(),!1)},r.prototype.show=function(){this.line.setAttribute("transform","translate("+this.interactors[0].x+" "+this.interactors[0].y+") scale("+this.controller.z+")"),this.highlightLine.setAttribute("transform","translate("+this.interactors[0].x+" "+this.interactors[0].y+") scale("+this.controller.z+")"),this.controller.highlights.appendChild(this.highlightLine),this.controller.p_pLinks.appendChild(this.line)},r.prototype.setLinkCoordinates=function(){var t=this.interactors[0];"undefined"!=typeof this.thickLine&&this.thickLine.setAttribute("transform","translate("+t.x+" "+t.y+") scale("+this.controller.z+")"),this.line.setAttribute("transform","translate("+t.x+" "+t.y+") scale("+this.controller.z+")"),this.highlightLine.setAttribute("transform","translate("+t.x+" "+t.y+") scale("+this.controller.z+")")},t.exports=r},function(t,e,n){"use strict";function r(t){return!!a(t)&&(o(window)&&a(window.Node)?t instanceof window.Node:"number"==typeof t.nodeType&&"string"==typeof t.nodeName)}function i(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]||arguments[2];if(!r(t))throw new Error("parameter 1 is not of type 'Element'");if(n===!1)return e;if(s)var i=t.ownerDocument.defaultView.getComputedStyle(t,null),a=n===!0?i:Object.keys(n);else var i=o(t.currentStyle)?t.currentStyle:t.style,a=n===!0?Object.keys(i):Object.keys(n);for(var u=0,c=a.length;u<c;u++){var l=a[u],h=n===!0||n[l];if(h!==!1&&o(h)){var p=s?i.getPropertyValue(l):i[l];"string"==typeof p&&""!==p&&(h!==!0&&p===h||(e[l]=p))}}return e}Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return"undefined"!=typeof t},a=function(t){return null!==t&&"object"==typeof t},s=o(window)&&o(window.getComputedStyle);e.default=i,t.exports=e.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(e){t.exports=e.xiNET=n(654)}).call(e,n(41))},function(t,e,n){function r(t){arguments.length>0&&this.init(t)}var i=n(438);r.prototype.init=function(t){this.status=t,this.points=new Array},r.prototype.appendPoint=function(t){this.points.push(t)},r.prototype.appendPoints=function(t){this.points=this.points.concat(t)},r.intersectShapes=function(t,e){var n,i=t.getIntersectionParams(),o=e.getIntersectionParams();if(null!=i&&null!=o)if("Path"==i.name)n=r.intersectPathShape(t,e);else if("Path"==o.name)n=r.intersectPathShape(e,t);else{var a,s;if(i.name<o.name?(a="intersect"+i.name+o.name,s=i.params.concat(o.params)):(a="intersect"+o.name+i.name,s=o.params.concat(i.params)),!(a in r))throw new Error("Intersection not available: "+a);n=r[a].apply(null,s)}else n=new r("No Intersection");return n},r.intersectPathShape=function(t,e){return t.intersectShape(e)},r.intersectBezier2Bezier2=function(t,e,n,o,a,s){var u,c,l,h,p,f,d,m,y,v=new r("No Intersection");if(u=e.multiply(-2),l=t.add(u.add(n)),u=t.multiply(-2),c=e.multiply(2),h=u.add(c),p=new i(t.x,t.y),u=a.multiply(-2),f=o.add(u.add(s)),u=o.multiply(-2),c=a.multiply(2),d=u.add(c),m=new i(o.x,o.y),0==l.y){var g=l.x*(p.y-m.y),b=g-h.x*h.y,_=g+b,x=h.y*h.y;y=new Polynomial(l.x*f.y*f.y,2*l.x*d.y*f.y,l.x*d.y*d.y-f.x*x-f.y*g-f.y*b,-d.x*x-d.y*g-d.y*b,(p.x-m.x)*x+(p.y-m.y)*b)}else{var g=l.x*f.y-l.y*f.x,b=l.x*d.y-d.x*l.y,_=h.x*l.y-h.y*l.x,x=p.y-m.y,w=l.y*(p.x-m.x)-l.x*x,C=-h.y*_+l.y*w,S=_*_;y=new Polynomial(g*g,2*g*b,(-f.y*S+l.y*b*b+l.y*g*w+g*C)/l.y,(-d.y*S+l.y*b*w+b*C)/l.y,(x*S+w*C)/l.y)}for(var E=y.getRoots(),T=0;T<E.length;T++){var M=E[T];if(0<=M&&M<=1){var A=new Polynomial(l.x,h.x,p.x-m.x-M*d.x-M*M*f.x).getRoots(),P=new Polynomial(l.y,h.y,p.y-m.y-M*d.y-M*M*f.y).getRoots();if(A.length>0&&P.length>0){var k=1e-4;t:for(var R=0;R<A.length;R++){var O=A[R];if(0<=O&&O<=1)for(var I=0;I<P.length;I++)if(Math.abs(O-P[I])<k){v.points.push(f.multiply(M*M).add(d.multiply(M).add(m)));break t}}}}}return v.points.length>0&&(v.status="Intersection"),v},r.intersectBezier2Bezier3=function(t,e,n,o,a,s,u){var c,l,h,p,f,d,m,y,v,g,b,_=new r("No Intersection");c=e.multiply(-2),f=t.add(c.add(n)),c=t.multiply(-2),l=e.multiply(2),d=c.add(l),m=new i(t.x,t.y),c=o.multiply(-1),l=a.multiply(3),h=s.multiply(-3),p=c.add(l.add(h.add(u))),y=new Vector2D(p.x,p.y),c=o.multiply(3),l=a.multiply(-6),h=s.multiply(3),p=c.add(l.add(h)),v=new Vector2D(p.x,p.y),c=o.multiply(-3),l=a.multiply(3),h=c.add(l),g=new Vector2D(h.x,h.y),b=new Vector2D(o.x,o.y);for(var x=m.x*m.x,w=m.y*m.y,C=d.x*d.x,S=d.y*d.y,E=f.x*f.x,T=f.y*f.y,M=b.x*b.x,A=b.y*b.y,P=g.x*g.x,k=g.y*g.y,R=v.x*v.x,O=v.y*v.y,I=y.x*y.x,N=y.y*y.y,D=new Polynomial(-2*f.x*f.y*y.x*y.y+E*N+T*I,-2*f.x*f.y*v.x*y.y-2*f.x*f.y*v.y*y.x+2*T*v.x*y.x+2*E*v.y*y.y,-2*f.x*g.x*f.y*y.y-2*f.x*f.y*g.y*y.x-2*f.x*f.y*v.x*v.y+2*g.x*T*y.x+T*R+E*(2*g.y*y.y+O),2*m.x*f.x*f.y*y.y+2*m.y*f.x*f.y*y.x+d.x*d.y*f.x*y.y+d.x*d.y*f.y*y.x-2*b.x*f.x*f.y*y.y-2*f.x*b.y*f.y*y.x-2*f.x*g.x*f.y*v.y-2*f.x*f.y*g.y*v.x-2*m.x*T*y.x-2*m.y*E*y.y+2*b.x*T*y.x+2*g.x*T*v.x-S*f.x*y.x-C*f.y*y.y+E*(2*b.y*y.y+2*g.y*v.y),2*m.x*f.x*f.y*v.y+2*m.y*f.x*f.y*v.x+d.x*d.y*f.x*v.y+d.x*d.y*f.y*v.x-2*b.x*f.x*f.y*v.y-2*f.x*b.y*f.y*v.x-2*f.x*g.x*f.y*g.y-2*m.x*T*v.x-2*m.y*E*v.y+2*b.x*T*v.x-S*f.x*v.x-C*f.y*v.y+P*T+E*(2*b.y*v.y+k),2*m.x*f.x*f.y*g.y+2*m.y*f.x*g.x*f.y+d.x*d.y*f.x*g.y+d.x*d.y*g.x*f.y-2*b.x*f.x*f.y*g.y-2*f.x*b.y*g.x*f.y-2*m.x*g.x*T-2*m.y*E*g.y+2*b.x*g.x*T-S*f.x*g.x-C*f.y*g.y+2*E*b.y*g.y,-2*m.x*m.y*f.x*f.y-m.x*d.x*d.y*f.y-m.y*d.x*d.y*f.x+2*m.x*f.x*b.y*f.y+2*m.y*b.x*f.x*f.y+d.x*b.x*d.y*f.y+d.x*d.y*f.x*b.y-2*b.x*f.x*b.y*f.y-2*m.x*b.x*T+m.x*S*f.x+m.y*C*f.y-2*m.y*E*b.y-b.x*S*f.x-C*b.y*f.y+x*T+w*E+M*T+E*A),L=D.getRootsInInterval(0,1),V=0;V<L.length;V++){var F=L[V],j=new Polynomial(f.x,d.x,m.x-b.x-F*g.x-F*F*v.x-F*F*F*y.x).getRoots(),B=new Polynomial(f.y,d.y,m.y-b.y-F*g.y-F*F*v.y-F*F*F*y.y).getRoots();if(j.length>0&&B.length>0){var U=1e-4;t:for(var z=0;z<j.length;z++){var H=j[z];if(0<=H&&H<=1)for(var G=0;G<B.length;G++)if(Math.abs(H-B[G])<U){_.points.push(y.multiply(F*F*F).add(v.multiply(F*F).add(g.multiply(F).add(b))));break t}}}}return _.points.length>0&&(_.status="Intersection"),_},r.intersectBezier2Circle=function(t,e,n,i,o){return r.intersectBezier2Ellipse(t,e,n,i,o,o)},r.intersectBezier2Ellipse=function(t,e,n,o,a,s){var u,c,l,h,p,f=new r("No Intersection");u=e.multiply(-2),l=t.add(u.add(n)),u=t.multiply(-2),c=e.multiply(2),h=u.add(c),p=new i(t.x,t.y);for(var d=a*a,m=s*s,y=new Polynomial(m*l.x*l.x+d*l.y*l.y,2*(m*l.x*h.x+d*l.y*h.y),m*(2*l.x*p.x+h.x*h.x)+d*(2*l.y*p.y+h.y*h.y)-2*(m*o.x*l.x+d*o.y*l.y),2*(m*h.x*(p.x-o.x)+d*h.y*(p.y-o.y)),m*(p.x*p.x+o.x*o.x)+d*(p.y*p.y+o.y*o.y)-2*(m*o.x*p.x+d*o.y*p.y)-d*m).getRoots(),v=0;v<y.length;v++){var g=y[v];0<=g&&g<=1&&f.points.push(l.multiply(g*g).add(h.multiply(g).add(p)))}return f.points.length>0&&(f.status="Intersection"),f},r.intersectBezier2Line=function(t,e,n,o,a){var s,u,c,l,h,p,f,d=o.min(a),m=o.max(a),y=new r("No Intersection");s=e.multiply(-2),c=t.add(s.add(n)),s=t.multiply(-2),u=e.multiply(2),l=s.add(u),h=new i(t.x,t.y),f=new Vector2D(o.y-a.y,a.x-o.x),p=o.x*a.y-a.x*o.y,roots=new Polynomial(f.dot(c),f.dot(l),f.dot(h)+p).getRoots();for(var v=0;v<roots.length;v++){var g=roots[v];if(0<=g&&g<=1){var b=t.lerp(e,g),_=e.lerp(n,g),x=b.lerp(_,g);o.x==a.x?d.y<=x.y&&x.y<=m.y&&(y.status="Intersection",y.appendPoint(x)):o.y==a.y?d.x<=x.x&&x.x<=m.x&&(y.status="Intersection",y.appendPoint(x)):x.gte(d)&&x.lte(m)&&(y.status="Intersection",y.appendPoint(x))}}return y},r.intersectBezier2Polygon=function(t,e,n,i){for(var o=new r("No Intersection"),a=i.length,s=0;s<a;s++){var u=i[s],c=i[(s+1)%a],l=r.intersectBezier2Line(t,e,n,u,c);o.appendPoints(l.points)}return o.points.length>0&&(o.status="Intersection"),o},r.intersectBezier2Rectangle=function(t,e,n,o,a){var s=o.min(a),u=o.max(a),c=new i(u.x,s.y),l=new i(s.x,u.y),h=r.intersectBezier2Line(t,e,n,s,c),p=r.intersectBezier2Line(t,e,n,c,u),f=r.intersectBezier2Line(t,e,n,u,l),d=r.intersectBezier2Line(t,e,n,l,s),m=new r("No Intersection");return m.appendPoints(h.points),m.appendPoints(p.points),m.appendPoints(f.points),m.appendPoints(d.points),m.points.length>0&&(m.status="Intersection"),m},r.intersectBezier3Bezier3=function(t,e,n,i,o,a,s,u){var c,l,h,p,f,d,m,y,v,g,b,_,x=new r("No Intersection");c=t.multiply(-1),l=e.multiply(3),h=n.multiply(-3),p=c.add(l.add(h.add(i))),f=new Vector2D(p.x,p.y),c=t.multiply(3),l=e.multiply(-6),h=n.multiply(3),p=c.add(l.add(h)),d=new Vector2D(p.x,p.y),c=t.multiply(-3),l=e.multiply(3),h=c.add(l),m=new Vector2D(h.x,h.y),y=new Vector2D(t.x,t.y),c=o.multiply(-1),l=a.multiply(3),h=s.multiply(-3),p=c.add(l.add(h.add(u))),v=new Vector2D(p.x,p.y),c=o.multiply(3),l=a.multiply(-6),h=s.multiply(3),p=c.add(l.add(h)),g=new Vector2D(p.x,p.y),c=o.multiply(-3),l=a.multiply(3),h=c.add(l),b=new Vector2D(h.x,h.y),_=new Vector2D(o.x,o.y);for(var w=y.x*y.x,C=y.x*y.x*y.x,S=y.y*y.y,E=y.y*y.y*y.y,T=m.x*m.x,M=m.x*m.x*m.x,A=m.y*m.y,P=m.y*m.y*m.y,k=d.x*d.x,R=d.x*d.x*d.x,O=d.y*d.y,I=d.y*d.y*d.y,N=f.x*f.x,D=f.x*f.x*f.x,L=f.y*f.y,V=f.y*f.y*f.y,F=_.x*_.x,j=_.x*_.x*_.x,B=_.y*_.y,U=_.y*_.y*_.y,z=b.x*b.x,H=b.x*b.x*b.x,G=b.y*b.y,q=g.x*g.x,W=g.x*g.x*g.x,X=g.y*g.y,Y=v.x*v.x,K=v.x*v.x*v.x,Z=v.y*v.y,Q=v.y*v.y*v.y,$=new Polynomial(-D*Q+V*K-3*f.x*L*Y*v.y+3*N*f.y*v.x*Z,-6*f.x*g.x*L*v.x*v.y+6*N*f.y*g.y*v.x*v.y+3*g.x*V*Y-3*D*g.y*Z-3*f.x*L*g.y*Y+3*N*g.x*f.y*Z,-6*b.x*f.x*L*v.x*v.y-6*f.x*g.x*L*g.y*v.x+6*N*g.x*f.y*g.y*v.y+3*b.x*V*Y+3*q*V*v.x+3*b.x*N*f.y*Z-3*f.x*b.y*L*Y-3*f.x*q*L*v.y+N*f.y*v.x*(6*b.y*v.y+3*X)+D*(-b.y*Z-2*X*v.y-v.y*(2*b.y*v.y+X)),m.x*d.y*f.x*f.y*v.x*v.y-m.y*d.x*f.x*f.y*v.x*v.y+6*b.x*g.x*V*v.x+3*m.x*d.x*f.x*f.y*Z+6*y.x*f.x*L*v.x*v.y-3*m.x*d.x*L*v.x*v.y-3*m.y*d.y*f.x*f.y*Y-6*y.y*N*f.y*v.x*v.y-6*_.x*f.x*L*v.x*v.y+3*m.y*d.y*N*v.x*v.y-2*d.x*O*f.x*v.x*v.y-6*b.x*f.x*g.x*L*v.y-6*b.x*f.x*L*g.y*v.x-6*f.x*b.y*g.x*L*v.x+6*b.x*N*f.y*g.y*v.y+2*k*d.y*f.y*v.x*v.y+W*V-3*y.x*V*Y+3*y.y*D*Z+3*_.x*V*Y+I*f.x*Y-R*f.y*Z-3*y.x*N*f.y*Z+3*y.y*f.x*L*Y-2*m.x*d.y*N*Z+m.x*d.y*L*Y-m.y*d.x*N*Z+2*m.y*d.x*L*Y+3*_.x*N*f.y*Z-d.x*O*f.y*Y-3*_.y*f.x*L*Y+k*d.y*f.x*Z-3*f.x*q*L*g.y+N*f.y*v.x*(6*_.y*v.y+6*b.y*g.y)+N*g.x*f.y*(6*b.y*v.y+3*X)+D*(-2*b.y*g.y*v.y-_.y*Z-g.y*(2*b.y*v.y+X)-v.y*(2*_.y*v.y+2*b.y*g.y)),6*m.x*d.x*f.x*f.y*g.y*v.y+m.x*d.y*f.x*g.x*f.y*v.y+m.x*d.y*f.x*f.y*g.y*v.x-m.y*d.x*f.x*g.x*f.y*v.y-m.y*d.x*f.x*f.y*g.y*v.x-6*m.y*d.y*f.x*g.x*f.y*v.x-6*y.x*g.x*V*v.x+6*_.x*g.x*V*v.x+6*y.y*D*g.y*v.y+2*I*f.x*g.x*v.x-2*R*f.y*g.y*v.y+6*y.x*f.x*g.x*L*v.y+6*y.x*f.x*L*g.y*v.x+6*y.y*f.x*g.x*L*v.x-3*m.x*d.x*g.x*L*v.y-3*m.x*d.x*L*g.y*v.x+2*m.x*d.y*g.x*L*v.x+4*m.y*d.x*g.x*L*v.x-6*y.x*N*f.y*g.y*v.y-6*y.y*N*g.x*f.y*v.y-6*y.y*N*f.y*g.y*v.x-4*m.x*d.y*N*g.y*v.y-6*_.x*f.x*g.x*L*v.y-6*_.x*f.x*L*g.y*v.x-2*m.y*d.x*N*g.y*v.y+3*m.y*d.y*N*g.x*v.y+3*m.y*d.y*N*g.y*v.x-2*d.x*O*f.x*g.x*v.y-2*d.x*O*f.x*g.y*v.x-2*d.x*O*g.x*f.y*v.x-6*_.y*f.x*g.x*L*v.x-6*b.x*f.x*b.y*L*v.x-6*b.x*f.x*g.x*L*g.y+6*_.x*N*f.y*g.y*v.y+2*k*d.y*f.x*g.y*v.y+2*k*d.y*g.x*f.y*v.y+2*k*d.y*f.y*g.y*v.x+3*b.x*q*V+3*z*V*v.x-3*f.x*b.y*q*L-3*z*f.x*L*v.y+N*g.x*f.y*(6*_.y*v.y+6*b.y*g.y)+N*f.y*v.x*(6*_.y*g.y+3*G)+b.x*N*f.y*(6*b.y*v.y+3*X)+D*(-2*_.y*g.y*v.y-v.y*(2*_.y*g.y+G)-b.y*(2*b.y*v.y+X)-g.y*(2*_.y*v.y+2*b.y*g.y)),m.x*b.x*d.y*f.x*f.y*v.y+m.x*d.y*f.x*b.y*f.y*v.x+m.x*d.y*f.x*g.x*f.y*g.y-m.y*d.x*b.x*f.x*f.y*v.y-m.y*d.x*f.x*b.y*f.y*v.x-m.y*d.x*f.x*g.x*f.y*g.y-6*m.y*b.x*d.y*f.x*f.y*v.x-6*y.x*b.x*V*v.x+6*_.x*b.x*V*v.x+2*b.x*I*f.x*v.x+6*y.x*b.x*f.x*L*v.y+6*y.x*f.x*b.y*L*v.x+6*y.x*f.x*g.x*L*g.y+6*y.y*b.x*f.x*L*v.x-3*m.x*d.x*b.x*L*v.y-3*m.x*d.x*b.y*L*v.x-3*m.x*d.x*g.x*L*g.y+2*m.x*b.x*d.y*L*v.x+4*m.y*d.x*b.x*L*v.x-6*y.y*b.x*N*f.y*v.y-6*y.y*N*b.y*f.y*v.x-6*y.y*N*g.x*f.y*g.y-6*_.x*b.x*f.x*L*v.y-6*_.x*f.x*b.y*L*v.x-6*_.x*f.x*g.x*L*g.y+3*m.y*b.x*d.y*N*v.y-3*m.y*d.y*f.x*q*f.y+3*m.y*d.y*N*b.y*v.x+3*m.y*d.y*N*g.x*g.y-2*d.x*b.x*O*f.x*v.y-2*d.x*b.x*O*f.y*v.x-2*d.x*O*f.x*b.y*v.x-2*d.x*O*f.x*g.x*g.y-6*_.y*b.x*f.x*L*v.x-6*b.x*f.x*b.y*g.x*L+6*_.y*N*b.y*f.y*v.x+2*k*b.x*d.y*f.y*v.y+2*k*d.y*b.y*f.y*v.x+2*k*d.y*g.x*f.y*g.y-3*y.x*q*V+3*_.x*q*V+3*z*g.x*V+I*f.x*q+3*y.y*f.x*q*L+m.x*d.y*q*L+2*m.y*d.x*q*L-d.x*O*q*f.y-3*_.y*f.x*q*L-3*z*f.x*L*g.y+k*d.y*f.x*(2*b.y*v.y+X)+m.x*d.x*f.x*f.y*(6*b.y*v.y+3*X)+b.x*N*f.y*(6*_.y*v.y+6*b.y*g.y)+R*f.y*(-2*b.y*v.y-X)+y.y*D*(6*b.y*v.y+3*X)+m.y*d.x*N*(-2*b.y*v.y-X)+m.x*d.y*N*(-4*b.y*v.y-2*X)+y.x*N*f.y*(-6*b.y*v.y-3*X)+N*g.x*f.y*(6*_.y*g.y+3*G)+_.x*N*f.y*(6*b.y*v.y+3*X)+D*(-2*_.y*b.y*v.y-g.y*(2*_.y*g.y+G)-_.y*(2*b.y*v.y+X)-b.y*(2*_.y*v.y+2*b.y*g.y)),-y.x*m.x*d.y*f.x*f.y*v.y+y.x*m.y*d.x*f.x*f.y*v.y+6*y.x*m.y*d.y*f.x*f.y*v.x-6*y.y*m.x*d.x*f.x*f.y*v.y-y.y*m.x*d.y*f.x*f.y*v.x+y.y*m.y*d.x*f.x*f.y*v.x+m.x*m.y*d.x*d.y*f.x*v.y-m.x*m.y*d.x*d.y*f.y*v.x+m.x*_.x*d.y*f.x*f.y*v.y+m.x*_.y*d.y*f.x*f.y*v.x+m.x*b.x*d.y*f.x*f.y*g.y+m.x*d.y*f.x*b.y*g.x*f.y-_.x*m.y*d.x*f.x*f.y*v.y-6*_.x*m.y*d.y*f.x*f.y*v.x-m.y*d.x*_.y*f.x*f.y*v.x-m.y*d.x*b.x*f.x*f.y*g.y-m.y*d.x*f.x*b.y*g.x*f.y-6*m.y*b.x*d.y*f.x*g.x*f.y-6*y.x*_.x*V*v.x-6*y.x*b.x*g.x*V-2*y.x*I*f.x*v.x+6*_.x*b.x*g.x*V+2*_.x*I*f.x*v.x+2*b.x*I*f.x*g.x+2*y.y*R*f.y*v.y-6*y.x*y.y*f.x*L*v.x+3*y.x*m.x*d.x*L*v.y-2*y.x*m.x*d.y*L*v.x-4*y.x*m.y*d.x*L*v.x+3*y.y*m.x*d.x*L*v.x+6*y.x*y.y*N*f.y*v.y+6*y.x*_.x*f.x*L*v.y-3*y.x*m.y*d.y*N*v.y+2*y.x*d.x*O*f.x*v.y+2*y.x*d.x*O*f.y*v.x+6*y.x*_.y*f.x*L*v.x+6*y.x*b.x*f.x*L*g.y+6*y.x*f.x*b.y*g.x*L+4*y.y*m.x*d.y*N*v.y+6*y.y*_.x*f.x*L*v.x+2*y.y*m.y*d.x*N*v.y-3*y.y*m.y*d.y*N*v.x+2*y.y*d.x*O*f.x*v.x+6*y.y*b.x*f.x*g.x*L-3*m.x*_.x*d.x*L*v.y+2*m.x*_.x*d.y*L*v.x+m.x*m.y*O*f.x*v.x-3*m.x*d.x*_.y*L*v.x-3*m.x*d.x*b.x*L*g.y-3*m.x*d.x*b.y*g.x*L+2*m.x*b.x*d.y*g.x*L+4*_.x*m.y*d.x*L*v.x+4*m.y*d.x*b.x*g.x*L-2*y.x*k*d.y*f.y*v.y-6*y.y*_.x*N*f.y*v.y-6*y.y*_.y*N*f.y*v.x-6*y.y*b.x*N*f.y*g.y-2*y.y*k*d.y*f.x*v.y-2*y.y*k*d.y*f.y*v.x-6*y.y*N*b.y*g.x*f.y-m.x*m.y*k*f.y*v.y-2*m.x*A*f.x*f.y*v.x+3*_.x*m.y*d.y*N*v.y-2*_.x*d.x*O*f.x*v.y-2*_.x*d.x*O*f.y*v.x-6*_.x*_.y*f.x*L*v.x-6*_.x*b.x*f.x*L*g.y-6*_.x*f.x*b.y*g.x*L+3*m.y*_.y*d.y*N*v.x+3*m.y*b.x*d.y*N*g.y+3*m.y*d.y*N*b.y*g.x-2*d.x*_.y*O*f.x*v.x-2*d.x*b.x*O*f.x*g.y-2*d.x*b.x*O*g.x*f.y-2*d.x*O*f.x*b.y*g.x-6*_.y*b.x*f.x*g.x*L-A*d.x*d.y*f.x*v.x+2*_.x*k*d.y*f.y*v.y+6*_.y*N*b.y*g.x*f.y+2*T*m.y*f.x*f.y*v.y+T*d.x*d.y*f.y*v.y+2*k*_.y*d.y*f.y*v.x+2*k*b.x*d.y*f.y*g.y+2*k*d.y*b.y*g.x*f.y+H*V+3*w*V*v.x-3*S*D*v.y+3*F*V*v.x+P*N*v.x-M*L*v.y-m.x*A*N*v.y+T*m.y*L*v.x-3*w*f.x*L*v.y+3*S*N*f.y*v.x-T*O*f.x*v.y+A*k*f.y*v.x-3*z*f.x*b.y*L-3*F*f.x*L*v.y+3*B*N*f.y*v.x+m.x*d.x*f.x*f.y*(6*_.y*v.y+6*b.y*g.y)+R*f.y*(-2*_.y*v.y-2*b.y*g.y)+y.y*D*(6*_.y*v.y+6*b.y*g.y)+m.y*d.x*N*(-2*_.y*v.y-2*b.y*g.y)+k*d.y*f.x*(2*_.y*v.y+2*b.y*g.y)+m.x*d.y*N*(-4*_.y*v.y-4*b.y*g.y)+y.x*N*f.y*(-6*_.y*v.y-6*b.y*g.y)+_.x*N*f.y*(6*_.y*v.y+6*b.y*g.y)+b.x*N*f.y*(6*_.y*g.y+3*G)+D*(-2*_.y*b.y*g.y-B*v.y-b.y*(2*_.y*g.y+G)-_.y*(2*_.y*v.y+2*b.y*g.y)),-y.x*m.x*d.y*f.x*f.y*g.y+y.x*m.y*d.x*f.x*f.y*g.y+6*y.x*m.y*d.y*f.x*g.x*f.y-6*y.y*m.x*d.x*f.x*f.y*g.y-y.y*m.x*d.y*f.x*g.x*f.y+y.y*m.y*d.x*f.x*g.x*f.y+m.x*m.y*d.x*d.y*f.x*g.y-m.x*m.y*d.x*d.y*g.x*f.y+m.x*_.x*d.y*f.x*f.y*g.y+m.x*_.y*d.y*f.x*g.x*f.y+m.x*b.x*d.y*f.x*b.y*f.y-_.x*m.y*d.x*f.x*f.y*g.y-6*_.x*m.y*d.y*f.x*g.x*f.y-m.y*d.x*_.y*f.x*g.x*f.y-m.y*d.x*b.x*f.x*b.y*f.y-6*y.x*_.x*g.x*V-2*y.x*I*f.x*g.x+2*_.x*I*f.x*g.x+2*y.y*R*f.y*g.y-6*y.x*y.y*f.x*g.x*L+3*y.x*m.x*d.x*L*g.y-2*y.x*m.x*d.y*g.x*L-4*y.x*m.y*d.x*g.x*L+3*y.y*m.x*d.x*g.x*L+6*y.x*y.y*N*f.y*g.y+6*y.x*_.x*f.x*L*g.y-3*y.x*m.y*d.y*N*g.y+2*y.x*d.x*O*f.x*g.y+2*y.x*d.x*O*g.x*f.y+6*y.x*_.y*f.x*g.x*L+6*y.x*b.x*f.x*b.y*L+4*y.y*m.x*d.y*N*g.y+6*y.y*_.x*f.x*g.x*L+2*y.y*m.y*d.x*N*g.y-3*y.y*m.y*d.y*N*g.x+2*y.y*d.x*O*f.x*g.x-3*m.x*_.x*d.x*L*g.y+2*m.x*_.x*d.y*g.x*L+m.x*m.y*O*f.x*g.x-3*m.x*d.x*_.y*g.x*L-3*m.x*d.x*b.x*b.y*L+4*_.x*m.y*d.x*g.x*L-2*y.x*k*d.y*f.y*g.y-6*y.y*_.x*N*f.y*g.y-6*y.y*_.y*N*g.x*f.y-6*y.y*b.x*N*b.y*f.y-2*y.y*k*d.y*f.x*g.y-2*y.y*k*d.y*g.x*f.y-m.x*m.y*k*f.y*g.y-2*m.x*A*f.x*g.x*f.y+3*_.x*m.y*d.y*N*g.y-2*_.x*d.x*O*f.x*g.y-2*_.x*d.x*O*g.x*f.y-6*_.x*_.y*f.x*g.x*L-6*_.x*b.x*f.x*b.y*L+3*m.y*_.y*d.y*N*g.x+3*m.y*b.x*d.y*N*b.y-2*d.x*_.y*O*f.x*g.x-2*d.x*b.x*O*f.x*b.y-A*d.x*d.y*f.x*g.x+2*_.x*k*d.y*f.y*g.y-3*m.y*z*d.y*f.x*f.y+6*_.y*b.x*N*b.y*f.y+2*T*m.y*f.x*f.y*g.y+T*d.x*d.y*f.y*g.y+2*k*_.y*d.y*g.x*f.y+2*k*b.x*d.y*b.y*f.y-3*y.x*z*V+3*_.x*z*V+3*w*g.x*V-3*S*D*g.y+3*F*g.x*V+z*I*f.x+P*N*g.x-M*L*g.y+3*y.y*z*f.x*L-m.x*A*N*g.y+m.x*z*d.y*L+2*m.y*d.x*z*L+T*m.y*g.x*L-d.x*z*O*f.y-3*_.y*z*f.x*L-3*w*f.x*L*g.y+3*S*N*g.x*f.y-T*O*f.x*g.y+A*k*g.x*f.y-3*F*f.x*L*g.y+3*B*N*g.x*f.y+k*d.y*f.x*(2*_.y*g.y+G)+m.x*d.x*f.x*f.y*(6*_.y*g.y+3*G)+R*f.y*(-2*_.y*g.y-G)+y.y*D*(6*_.y*g.y+3*G)+m.y*d.x*N*(-2*_.y*g.y-G)+m.x*d.y*N*(-4*_.y*g.y-2*G)+y.x*N*f.y*(-6*_.y*g.y-3*G)+_.x*N*f.y*(6*_.y*g.y+3*G)+D*(-2*_.y*G-B*g.y-_.y*(2*_.y*g.y+G)),-y.x*m.x*d.y*f.x*b.y*f.y+y.x*m.y*d.x*f.x*b.y*f.y+6*y.x*m.y*b.x*d.y*f.x*f.y-6*y.y*m.x*d.x*f.x*b.y*f.y-y.y*m.x*b.x*d.y*f.x*f.y+y.y*m.y*d.x*b.x*f.x*f.y-m.x*m.y*d.x*b.x*d.y*f.y+m.x*m.y*d.x*d.y*f.x*b.y+m.x*_.x*d.y*f.x*b.y*f.y+6*m.x*d.x*_.y*f.x*b.y*f.y+m.x*_.y*b.x*d.y*f.x*f.y-_.x*m.y*d.x*f.x*b.y*f.y-6*_.x*m.y*b.x*d.y*f.x*f.y-m.y*d.x*_.y*b.x*f.x*f.y-6*y.x*_.x*b.x*V-2*y.x*b.x*I*f.x+6*y.y*_.y*D*b.y+2*_.x*b.x*I*f.x+2*y.y*R*b.y*f.y-2*R*_.y*b.y*f.y-6*y.x*y.y*b.x*f.x*L+3*y.x*m.x*d.x*b.y*L-2*y.x*m.x*b.x*d.y*L-4*y.x*m.y*d.x*b.x*L+3*y.y*m.x*d.x*b.x*L+6*y.x*y.y*N*b.y*f.y+6*y.x*_.x*f.x*b.y*L-3*y.x*m.y*d.y*N*b.y+2*y.x*d.x*b.x*O*f.y+2*y.x*d.x*O*f.x*b.y+6*y.x*_.y*b.x*f.x*L+4*y.y*m.x*d.y*N*b.y+6*y.y*_.x*b.x*f.x*L+2*y.y*m.y*d.x*N*b.y-3*y.y*m.y*b.x*d.y*N+2*y.y*d.x*b.x*O*f.x-3*m.x*_.x*d.x*b.y*L+2*m.x*_.x*b.x*d.y*L+m.x*m.y*b.x*O*f.x-3*m.x*d.x*_.y*b.x*L+4*_.x*m.y*d.x*b.x*L-6*y.x*_.y*N*b.y*f.y-2*y.x*k*d.y*b.y*f.y-6*y.y*_.x*N*b.y*f.y-6*y.y*_.y*b.x*N*f.y-2*y.y*k*b.x*d.y*f.y-2*y.y*k*d.y*f.x*b.y-m.x*m.y*k*b.y*f.y-4*m.x*_.y*d.y*N*b.y-2*m.x*A*b.x*f.x*f.y+3*_.x*m.y*d.y*N*b.y-2*_.x*d.x*b.x*O*f.y-2*_.x*d.x*O*f.x*b.y-6*_.x*_.y*b.x*f.x*L-2*m.y*d.x*_.y*N*b.y+3*m.y*_.y*b.x*d.y*N-2*d.x*_.y*b.x*O*f.x-A*d.x*b.x*d.y*f.x+6*_.x*_.y*N*b.y*f.y+2*_.x*k*d.y*b.y*f.y+2*T*m.y*f.x*b.y*f.y+T*d.x*d.y*b.y*f.y+2*k*_.y*b.x*d.y*f.y+2*k*_.y*d.y*f.x*b.y+3*w*b.x*V-3*S*D*b.y+3*F*b.x*V+P*b.x*N-M*b.y*L-3*B*D*b.y-m.x*A*N*b.y+T*m.y*b.x*L-3*w*f.x*b.y*L+3*S*b.x*N*f.y-T*O*f.x*b.y+A*k*b.x*f.y-3*F*f.x*b.y*L+3*B*b.x*N*f.y,y.x*y.y*m.x*d.y*f.x*f.y-y.x*y.y*m.y*d.x*f.x*f.y+y.x*m.x*m.y*d.x*d.y*f.y-y.y*m.x*m.y*d.x*d.y*f.x-y.x*m.x*_.y*d.y*f.x*f.y+6*y.x*_.x*m.y*d.y*f.x*f.y+y.x*m.y*d.x*_.y*f.x*f.y-y.y*m.x*_.x*d.y*f.x*f.y-6*y.y*m.x*d.x*_.y*f.x*f.y+y.y*_.x*m.y*d.x*f.x*f.y-m.x*_.x*m.y*d.x*d.y*f.y+m.x*m.y*d.x*_.y*d.y*f.x+m.x*_.x*_.y*d.y*f.x*f.y-_.x*m.y*d.x*_.y*f.x*f.y-2*y.x*_.x*I*f.x+2*y.y*R*_.y*f.y-3*y.x*y.y*m.x*d.x*L-6*y.x*y.y*_.x*f.x*L+3*y.x*y.y*m.y*d.y*N-2*y.x*y.y*d.x*O*f.x-2*y.x*m.x*_.x*d.y*L-y.x*m.x*m.y*O*f.x+3*y.x*m.x*d.x*_.y*L-4*y.x*_.x*m.y*d.x*L+3*y.y*m.x*_.x*d.x*L+6*y.x*y.y*_.y*N*f.y+2*y.x*y.y*k*d.y*f.y+2*y.x*m.x*A*f.x*f.y+2*y.x*_.x*d.x*O*f.y+6*y.x*_.x*_.y*f.x*L-3*y.x*m.y*_.y*d.y*N+2*y.x*d.x*_.y*O*f.x+y.x*A*d.x*d.y*f.x+y.y*m.x*m.y*k*f.y+4*y.y*m.x*_.y*d.y*N-3*y.y*_.x*m.y*d.y*N+2*y.y*_.x*d.x*O*f.x+2*y.y*m.y*d.x*_.y*N+m.x*_.x*m.y*O*f.x-3*m.x*_.x*d.x*_.y*L-2*y.x*k*_.y*d.y*f.y-6*y.y*_.x*_.y*N*f.y-2*y.y*_.x*k*d.y*f.y-2*y.y*T*m.y*f.x*f.y-y.y*T*d.x*d.y*f.y-2*y.y*k*_.y*d.y*f.x-2*m.x*_.x*A*f.x*f.y-m.x*m.y*k*_.y*f.y+3*_.x*m.y*_.y*d.y*N-2*_.x*d.x*_.y*O*f.x-_.x*A*d.x*d.y*f.x+3*S*m.x*d.x*f.x*f.y+3*m.x*d.x*B*f.x*f.y+2*_.x*k*_.y*d.y*f.y-3*w*m.y*d.y*f.x*f.y+2*T*m.y*_.y*f.x*f.y+T*d.x*_.y*d.y*f.y-3*F*m.y*d.y*f.x*f.y-C*V+E*D+j*V-U*D-3*y.x*F*V-y.x*P*N+3*w*_.x*V+y.y*M*L+3*y.y*B*D+_.x*P*N+w*I*f.x-3*S*_.y*D-S*R*f.y+F*I*f.x-M*_.y*L-R*B*f.y-y.x*T*m.y*L+y.y*m.x*A*N-3*y.x*S*N*f.y-y.x*A*k*f.y+y.y*T*O*f.x-m.x*A*_.y*N+3*w*y.y*f.x*L+w*m.x*d.y*L+2*w*m.y*d.x*L-2*S*m.x*d.y*N-S*m.y*d.x*N+T*_.x*m.y*L-3*y.x*B*N*f.y+3*y.y*F*f.x*L+m.x*F*d.y*L-2*m.x*B*d.y*N+_.x*A*k*f.y-m.y*d.x*B*N-w*d.x*O*f.y-3*w*_.y*f.x*L+3*S*_.x*N*f.y+S*k*d.y*f.x-T*_.y*O*f.x+2*F*m.y*d.x*L+3*_.x*B*N*f.y-F*d.x*O*f.y-3*F*_.y*f.x*L+k*B*d.y*f.x),J=$.getRootsInInterval(0,1),tt=0;tt<J.length;tt++){
var et=J[tt],nt=new Polynomial(f.x,d.x,m.x,y.x-_.x-et*b.x-et*et*g.x-et*et*et*v.x).getRoots(),rt=new Polynomial(f.y,d.y,m.y,y.y-_.y-et*b.y-et*et*g.y-et*et*et*v.y).getRoots();if(nt.length>0&&rt.length>0){var it=1e-4;t:for(var ot=0;ot<nt.length;ot++){var at=nt[ot];if(0<=at&&at<=1)for(var st=0;st<rt.length;st++)if(Math.abs(at-rt[st])<it){x.points.push(v.multiply(et*et*et).add(g.multiply(et*et).add(b.multiply(et).add(_))));break t}}}}return x.points.length>0&&(x.status="Intersection"),x},r.intersectBezier3Circle=function(t,e,n,i,o,a){return r.intersectBezier3Ellipse(t,e,n,i,o,a,a)},r.intersectBezier3Ellipse=function(t,e,n,i,o,a,s){var u,c,l,h,p,f,d,m,y=new r("No Intersection");u=t.multiply(-1),c=e.multiply(3),l=n.multiply(-3),h=u.add(c.add(l.add(i))),p=new Vector2D(h.x,h.y),u=t.multiply(3),c=e.multiply(-6),l=n.multiply(3),h=u.add(c.add(l)),f=new Vector2D(h.x,h.y),u=t.multiply(-3),c=e.multiply(3),l=u.add(c),d=new Vector2D(l.x,l.y),m=new Vector2D(t.x,t.y);for(var v=a*a,g=s*s,b=new Polynomial(p.x*p.x*g+p.y*p.y*v,2*(p.x*f.x*g+p.y*f.y*v),2*(p.x*d.x*g+p.y*d.y*v)+f.x*f.x*g+f.y*f.y*v,2*p.x*g*(m.x-o.x)+2*p.y*v*(m.y-o.y)+2*(f.x*d.x*g+f.y*d.y*v),2*f.x*g*(m.x-o.x)+2*f.y*v*(m.y-o.y)+d.x*d.x*g+d.y*d.y*v,2*d.x*g*(m.x-o.x)+2*d.y*v*(m.y-o.y),m.x*m.x*g-2*m.y*o.y*v-2*m.x*o.x*g+m.y*m.y*v+o.x*o.x*g+o.y*o.y*v-v*g),_=b.getRootsInInterval(0,1),x=0;x<_.length;x++){var w=_[x];y.points.push(p.multiply(w*w*w).add(f.multiply(w*w).add(d.multiply(w).add(m))))}return y.points.length>0&&(y.status="Intersection"),y},r.intersectBezier3Line=function(t,e,n,i,o,a){var s,u,c,l,h,p,f,d,m,y,v=o.min(a),g=o.max(a),b=new r("No Intersection");s=t.multiply(-1),u=e.multiply(3),c=n.multiply(-3),l=s.add(u.add(c.add(i))),h=new Vector2D(l.x,l.y),s=t.multiply(3),u=e.multiply(-6),c=n.multiply(3),l=s.add(u.add(c)),p=new Vector2D(l.x,l.y),s=t.multiply(-3),u=e.multiply(3),c=s.add(u),f=new Vector2D(c.x,c.y),d=new Vector2D(t.x,t.y),y=new Vector2D(o.y-a.y,a.x-o.x),m=o.x*a.y-a.x*o.y,roots=new Polynomial(y.dot(h),y.dot(p),y.dot(f),y.dot(d)+m).getRoots();for(var _=0;_<roots.length;_++){var x=roots[_];if(0<=x&&x<=1){var w=t.lerp(e,x),C=e.lerp(n,x),S=n.lerp(i,x),E=w.lerp(C,x),T=C.lerp(S,x),M=E.lerp(T,x);o.x==a.x?v.y<=M.y&&M.y<=g.y&&(b.status="Intersection",b.appendPoint(M)):o.y==a.y?v.x<=M.x&&M.x<=g.x&&(b.status="Intersection",b.appendPoint(M)):M.gte(v)&&M.lte(g)&&(b.status="Intersection",b.appendPoint(M))}}return b},r.intersectBezier3Polygon=function(t,e,n,i,o){for(var a=new r("No Intersection"),s=o.length,u=0;u<s;u++){var c=o[u],l=o[(u+1)%s],h=r.intersectBezier3Line(t,e,n,i,c,l);a.appendPoints(h.points)}return a.points.length>0&&(a.status="Intersection"),a},r.intersectBezier3Rectangle=function(t,e,n,o,a,s){var u=a.min(s),c=a.max(s),l=new i(c.x,u.y),h=new i(u.x,c.y),p=r.intersectBezier3Line(t,e,n,o,u,l),f=r.intersectBezier3Line(t,e,n,o,l,c),d=r.intersectBezier3Line(t,e,n,o,c,h),m=r.intersectBezier3Line(t,e,n,o,h,u),y=new r("No Intersection");return y.appendPoints(p.points),y.appendPoints(f.points),y.appendPoints(d.points),y.appendPoints(m.points),y.points.length>0&&(y.status="Intersection"),y},r.intersectCircleCircle=function(t,e,n,o){var a,s=e+o,u=Math.abs(e-o),c=t.distanceFrom(n);if(c>s)a=new r("Outside");else if(c<u)a=new r("Inside");else{a=new r("Intersection");var l=(e*e-o*o+c*c)/(2*c),h=Math.sqrt(e*e-l*l),p=t.lerp(n,l/c),f=h/c;a.points.push(new i(p.x-f*(n.y-t.y),p.y+f*(n.x-t.x))),a.points.push(new i(p.x+f*(n.y-t.y),p.y-f*(n.x-t.x)))}return a},r.intersectCircleEllipse=function(t,e,n,i,o){return r.intersectEllipseEllipse(t,e,e,n,i,o)},r.intersectCircleLine=function(t,e,n,i){var o,a=(i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y),s=2*((i.x-n.x)*(n.x-t.x)+(i.y-n.y)*(n.y-t.y)),u=t.x*t.x+t.y*t.y+n.x*n.x+n.y*n.y-2*(t.x*n.x+t.y*n.y)-e*e,c=s*s-4*a*u;if(c<0)o=new r("Outside");else if(0==c)o=new r("Tangent");else{var l=Math.sqrt(c),h=(-s+l)/(2*a),p=(-s-l)/(2*a);(h<0||h>1)&&(p<0||p>1)?o=new r(h<0&&p<0||h>1&&p>1?"Outside":"Inside"):(o=new r("Intersection"),0<=h&&h<=1&&o.points.push(n.lerp(i,h)),0<=p&&p<=1&&o.points.push(n.lerp(i,p)))}return o},r.intersectCirclePolygon=function(t,e,n){for(var i,o=new r("No Intersection"),a=n.length,s=0;s<a;s++){var u=n[s],c=n[(s+1)%a];i=r.intersectCircleLine(t,e,u,c),o.appendPoints(i.points)}return o.points.length>0?o.status="Intersection":o.status=i.status,o},r.intersectCircleRectangle=function(t,e,n,o){var a=n.min(o),s=n.max(o),u=new i(s.x,a.y),c=new i(a.x,s.y),l=r.intersectCircleLine(t,e,a,u),h=r.intersectCircleLine(t,e,u,s),p=r.intersectCircleLine(t,e,s,c),f=r.intersectCircleLine(t,e,c,a),d=new r("No Intersection");return d.appendPoints(l.points),d.appendPoints(h.points),d.appendPoints(p.points),d.appendPoints(f.points),d.points.length>0?d.status="Intersection":d.status=l.status,d},r.intersectEllipseEllipse=function(t,e,n,o,a,s){for(var u=[n*n,0,e*e,-2*n*n*t.x,-2*e*e*t.y,n*n*t.x*t.x+e*e*t.y*t.y-e*e*n*n],c=[s*s,0,a*a,-2*s*s*o.x,-2*a*a*o.y,s*s*o.x*o.x+a*a*o.y*o.y-a*a*s*s],l=r.bezout(u,c),h=l.getRoots(),p=.001,f=(u[0]*u[0]+2*u[1]*u[1]+u[2]*u[2])*p,d=(c[0]*c[0]+2*c[1]*c[1]+c[2]*c[2])*p,m=new r("No Intersection"),y=0;y<h.length;y++)for(var v=new Polynomial(u[0],u[3]+h[y]*u[1],u[5]+h[y]*(u[4]+h[y]*u[2])),g=v.getRoots(),b=0;b<g.length;b++){var _=(u[0]*g[b]+u[1]*h[y]+u[3])*g[b]+(u[2]*h[y]+u[4])*h[y]+u[5];Math.abs(_)<f&&(_=(c[0]*g[b]+c[1]*h[y]+c[3])*g[b]+(c[2]*h[y]+c[4])*h[y]+c[5],Math.abs(_)<d&&m.appendPoint(new i(g[b],h[y])))}return m.points.length>0&&(m.status="Intersection"),m},r.intersectEllipseLine=function(t,e,n,i,o){var a,s=new Vector2D(i.x,i.y),u=Vector2D.fromPoints(i,o),c=new Vector2D(t.x,t.y),l=s.subtract(c),h=new Vector2D(u.x/(e*e),u.y/(n*n)),p=new Vector2D(l.x/(e*e),l.y/(n*n)),f=u.dot(h),d=u.dot(p),t=l.dot(p)-1,m=d*d-f*t;if(m<0)a=new r("Outside");else if(m>0){var y=Math.sqrt(m),v=(-d-y)/f,g=(-d+y)/f;(v<0||1<v)&&(g<0||1<g)?a=new r(v<0&&g<0||v>1&&g>1?"Outside":"Inside"):(a=new r("Intersection"),0<=v&&v<=1&&a.appendPoint(i.lerp(o,v)),0<=g&&g<=1&&a.appendPoint(i.lerp(o,g)))}else{var b=-d/f;0<=b&&b<=1?(a=new r("Intersection"),a.appendPoint(i.lerp(o,b))):a=new r("Outside")}return a},r.intersectEllipsePolygon=function(t,e,n,i){for(var o=new r("No Intersection"),a=i.length,s=0;s<a;s++){var u=i[s],c=i[(s+1)%a],l=r.intersectEllipseLine(t,e,n,u,c);o.appendPoints(l.points)}return o.points.length>0&&(o.status="Intersection"),o},r.intersectEllipseRectangle=function(t,e,n,o,a){var s=o.min(a),u=o.max(a),c=new i(u.x,s.y),l=new i(s.x,u.y),h=r.intersectEllipseLine(t,e,n,s,c),p=r.intersectEllipseLine(t,e,n,c,u),f=r.intersectEllipseLine(t,e,n,u,l),d=r.intersectEllipseLine(t,e,n,l,s),m=new r("No Intersection");return m.appendPoints(h.points),m.appendPoints(p.points),m.appendPoints(f.points),m.appendPoints(d.points),m.points.length>0&&(m.status="Intersection"),m},r.intersectLineLine=function(t,e,n,o){var a,s=(o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x),u=(e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x),c=(o.y-n.y)*(e.x-t.x)-(o.x-n.x)*(e.y-t.y);if(0!=c){var l=s/c,h=u/c;0<=l&&l<=1&&0<=h&&h<=1?(a=new r("Intersection"),a.points.push(new i(t.x+l*(e.x-t.x),t.y+l*(e.y-t.y)))):a=new r("No Intersection")}else a=new r(0==s||0==u?"Coincident":"Parallel");return a},r.intersectLinePolygon=function(t,e,n){for(var i=new r("No Intersection"),o=n.length,a=0;a<o;a++){var s=n[a],u=n[(a+1)%o],c=r.intersectLineLine(t,e,s,u);i.appendPoints(c.points)}return i.points.length>0&&(i.status="Intersection"),i},r.intersectLineRectangle=function(t,e,n,o){var a=n.min(o),s=n.max(o),u=new i(s.x,a.y),c=new i(a.x,s.y),l=r.intersectLineLine(a,u,t,e),h=r.intersectLineLine(u,s,t,e),p=r.intersectLineLine(s,c,t,e),f=r.intersectLineLine(c,a,t,e),d=new r("No Intersection");return d.appendPoints(l.points),d.appendPoints(h.points),d.appendPoints(p.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d},r.intersectPolygonPolygon=function(t,e){for(var n=new r("No Intersection"),i=t.length,o=0;o<i;o++){var a=t[o],s=t[(o+1)%i],u=r.intersectLinePolygon(a,s,e);n.appendPoints(u.points)}return n.points.length>0&&(n.status="Intersection"),n},r.intersectPolygonRectangle=function(t,e,n){var o=e.min(n),a=e.max(n),s=new i(a.x,o.y),u=new i(o.x,a.y),c=r.intersectLinePolygon(o,s,t),l=r.intersectLinePolygon(s,a,t),h=r.intersectLinePolygon(a,u,t),p=r.intersectLinePolygon(u,o,t),f=new r("No Intersection");return f.appendPoints(c.points),f.appendPoints(l.points),f.appendPoints(h.points),f.appendPoints(p.points),f.points.length>0&&(f.status="Intersection"),f},r.intersectRayRay=function(t,e,n,o){var a,s=(o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x),u=(e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x),c=(o.y-n.y)*(e.x-t.x)-(o.x-n.x)*(e.y-t.y);if(0!=c){var l=s/c;a=new r("Intersection"),a.points.push(new i(t.x+l*(e.x-t.x),t.y+l*(e.y-t.y)))}else a=new r(0==s||0==u?"Coincident":"Parallel");return a},r.intersectRectangleRectangle=function(t,e,n,o){var a=t.min(e),s=t.max(e),u=new i(s.x,a.y),c=new i(a.x,s.y),l=r.intersectLineRectangle(a,u,n,o),h=r.intersectLineRectangle(u,s,n,o),p=r.intersectLineRectangle(s,c,n,o),f=r.intersectLineRectangle(c,a,n,o),d=new r("No Intersection");return d.appendPoints(l.points),d.appendPoints(h.points),d.appendPoints(p.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d},r.bezout=function(t,e){var n=t[0]*e[1]-e[0]*t[1],r=t[0]*e[2]-e[0]*t[2],i=t[0]*e[3]-e[0]*t[3],o=t[0]*e[4]-e[0]*t[4],a=t[0]*e[5]-e[0]*t[5],s=t[1]*e[2]-e[1]*t[2],u=t[1]*e[4]-e[1]*t[4],c=t[1]*e[5]-e[1]*t[5],l=t[2]*e[3]-e[2]*t[3],h=t[3]*e[4]-e[3]*t[4],p=t[3]*e[5]-e[3]*t[5],f=c+h,d=u-l;return new Polynomial(n*s-r*r,n*d+i*s-2*r*o,n*f+i*d-o*o-2*r*a,n*p+i*f-2*o*a,i*p-a*a)},t.exports=r},function(t,e,n){(function(t,r,i){var o,a,s,u,u,o,a,s,a,s,c=function(){"use strict";var c;!function(){var t={},e={};!function(n){if("object"==typeof t&&"undefined"!=typeof e)e.exports=n();else{a=[],o=n,s="function"==typeof o?o.apply(t,a):o,!(void 0!==s&&(e.exports=s))}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof u&&u;if(!s&&c)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){var n=e[a][1][t];return i(n?n:t)},h,h.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof u&&u,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){var r=t(40),i=t(148),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=o},{148:148,40:40}],2:[function(t,e,n){function r(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function i(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function o(t){switch(t){case A.topCompositionStart:return P.compositionStart;case A.topCompositionEnd:return P.compositionEnd;case A.topCompositionUpdate:return P.compositionUpdate}}function a(t,e){return t===A.topKeyDown&&e.keyCode===x}function s(t,e){switch(t){case A.topKeyUp:return _.indexOf(e.keyCode)!==-1;case A.topKeyDown:return e.keyCode!==x;case A.topKeyPress:case A.topMouseDown:case A.topBlur:return!0;default:return!1}}function u(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function c(t,e,n,r){var i,c;if(w?i=o(t):R?s(t,n)&&(i=P.compositionEnd):a(t,n)&&(i=P.compositionStart),!i)return null;E&&(R||i!==P.compositionStart?i===P.compositionEnd&&R&&(c=R.getData()):R=y.getPooled(r));var l=v.getPooled(i,e,n,r);if(c)l.data=c;else{var h=u(n);null!==h&&(l.data=h)}return d.accumulateTwoPhaseDispatches(l),l}function l(t,e){switch(t){case A.topCompositionEnd:return u(e);case A.topKeyPress:var n=e.which;return n!==T?null:(k=!0,M);case A.topTextInput:var r=e.data;return r===M&&k?null:r;default:return null}}function h(t,e){if(R){if(t===A.topCompositionEnd||s(t,e)){var n=R.getData();return y.release(R),R=null,n}return null}switch(t){case A.topPaste:return null;case A.topKeyPress:return e.which&&!i(e)?String.fromCharCode(e.which):null;case A.topCompositionEnd:return E?null:e.data;default:return null}}function p(t,e,n,r){var i;if(i=S?l(t,n):h(t,n),!i)return null;var o=g.getPooled(P.beforeInput,e,n,r);return o.data=i,d.accumulateTwoPhaseDispatches(o),o}var f=t(16),d=t(20),m=t(140),y=t(21),v=t(95),g=t(99),b=t(158),_=[9,13,27,32],x=229,w=m.canUseDOM&&"CompositionEvent"in window,C=null;m.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var S=m.canUseDOM&&"TextEvent"in window&&!C&&!r(),E=m.canUseDOM&&(!w||C&&C>8&&C<=11),T=32,M=String.fromCharCode(T),A=f.topLevelTypes,P={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[A.topCompositionEnd,A.topKeyPress,A.topTextInput,A.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[A.topBlur,A.topCompositionEnd,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[A.topBlur,A.topCompositionStart,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[A.topBlur,A.topCompositionUpdate,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]}},k=!1,R=null,O={eventTypes:P,extractEvents:function(t,e,n,r){return[c(t,e,n,r),p(t,e,n,r)]}};e.exports=O},{140:140,158:158,16:16,20:20,21:21,95:95,99:99}],3:[function(t,e,n){function r(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(t){o.forEach(function(e){i[r(e,t)]=i[t]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:a};e.exports=s},{}],4:[function(t,e,n){var r=t(3),i=t(140),o=(t(66),t(142),t(113)),a=t(153),s=t(159),u=(t(161),s(function(t){return a(t)})),c=!1,l="cssFloat";if(i.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(t){c=!0}void 0===document.documentElement.style.cssFloat&&(l="styleFloat")}var p={createMarkupForStyles:function(t,e){var n="";for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];null!=i&&(n+=u(r)+":",n+=o(r,i,e)+";")}return n||null},setValueForStyles:function(t,e,n){var i=t.style;for(var a in e)if(e.hasOwnProperty(a)){var s=o(a,e[a],n);if("float"!==a&&"cssFloat"!==a||(a=l),s)i[a]=s;else{var u=c&&r.shorthandPropertyExpansions[a];if(u)for(var h in u)i[h]="";else i[a]=""}}}};e.exports=p},{113:113,140:140,142:142,153:153,159:159,161:161,3:3,66:66}],5:[function(t,e,n){function r(){this._callbacks=null,this._contexts=null}var i=t(132),o=t(162),a=t(25);t(154),o(r.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){t.length!==e.length?i("24"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<t.length;n++)t[n].call(e[n]);t.length=0,e.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(t){this._callbacks&&(this._callbacks.length=t,this._contexts.length=t)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(r),e.exports=r},{132:132,154:154,162:162,25:25}],6:[function(t,e,n){function r(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function i(t){var e=S.getPooled(k.change,O,t,E(t));_.accumulateTwoPhaseDispatches(e),C.batchedUpdates(o,e)}function o(t){b.enqueueEvents(t),b.processEventQueue(!1)}function a(t,e){R=t,O=e,R.attachEvent("onchange",i)}function s(){R&&(R.detachEvent("onchange",i),R=null,O=null)}function u(t,e){if(t===P.topChange)return e}function c(t,e,n){t===P.topFocus?(s(),a(e,n)):t===P.topBlur&&s()}function l(t,e){R=t,O=e,I=t.value,N=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(R,"value",V),R.attachEvent?R.attachEvent("onpropertychange",p):R.addEventListener("propertychange",p,!1)}function h(){R&&(delete R.value,R.detachEvent?R.detachEvent("onpropertychange",p):R.removeEventListener("propertychange",p,!1),R=null,O=null,I=null,N=null)}function p(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==I&&(I=e,i(t))}}function f(t,e){if(t===P.topInput)return e}function d(t,e,n){t===P.topFocus?(h(),l(e,n)):t===P.topBlur&&h()}function m(t,e){if((t===P.topSelectionChange||t===P.topKeyUp||t===P.topKeyDown)&&R&&R.value!==I)return I=R.value,O}function y(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function v(t,e){if(t===P.topClick)return e}var g=t(16),b=t(17),_=t(20),x=t(140),w=t(40),C=t(88),S=t(97),E=t(121),T=t(128),M=t(129),A=t(158),P=g.topLevelTypes,k={change:{phasedRegistrationNames:{bubbled:A({onChange:null}),captured:A({onChangeCapture:null})},dependencies:[P.topBlur,P.topChange,P.topClick,P.topFocus,P.topInput,P.topKeyDown,P.topKeyUp,P.topSelectionChange]}},R=null,O=null,I=null,N=null,D=!1;x.canUseDOM&&(D=T("change")&&(!("documentMode"in document)||document.documentMode>8));var L=!1;x.canUseDOM&&(L=T("input")&&(!("documentMode"in document)||document.documentMode>11));var V={get:function(){return N.get.call(this)},set:function(t){I=""+t,N.set.call(this,t)}},F={eventTypes:k,extractEvents:function(t,e,n,i){var o,a,s=e?w.getNodeFromInstance(e):window;if(r(s)?D?o=u:a=c:M(s)?L?o=f:(o=m,a=d):y(s)&&(o=v),o){var l=o(t,e);if(l){var h=S.getPooled(k.change,l,n,i);return h.type="change",_.accumulateTwoPhaseDispatches(h),h}}a&&a(t,s,e)}};e.exports=F},{121:121,128:128,129:129,140:140,158:158,16:16,17:17,20:20,40:40,88:88,97:97}],7:[function(t,e,n){function r(t,e){return Array.isArray(e)&&(e=e[1]),e?e.nextSibling:t.firstChild}function i(t,e,n){l.insertTreeBefore(t,e,n)}function o(t,e,n){Array.isArray(e)?s(t,e[0],e[1],n):y(t,e,n)}function a(t,e){if(Array.isArray(e)){var n=e[1];e=e[0],u(t,e,n),t.removeChild(n)}t.removeChild(e)}function s(t,e,n,r){for(var i=e;;){var o=i.nextSibling;if(y(t,i,r),i===n)break;i=o}}function u(t,e,n){for(;;){var r=e.nextSibling;if(r===n)break;t.removeChild(r)}}function c(t,e,n){var r=t.parentNode,i=t.nextSibling;i===e?n&&y(r,document.createTextNode(n),i):n?(m(i,n),u(r,i,e)):u(r,t,e)}var l=t(8),h=t(12),p=t(70),f=(t(40),t(66),t(112)),d=t(134),m=t(135),y=f(function(t,e,n){t.insertBefore(e,n)}),v=h.dangerouslyReplaceNodeWithMarkup,g={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:c,processUpdates:function(t,e){for(var n=0;n<e.length;n++){var s=e[n];switch(s.type){case p.INSERT_MARKUP:i(t,s.content,r(t,s.afterNode));break;case p.MOVE_EXISTING:o(t,s.fromNode,r(t,s.afterNode));break;case p.SET_MARKUP:d(t,s.content);break;case p.TEXT_CONTENT:m(t,s.content);break;case p.REMOVE_NODE:a(t,s.fromNode)}}}};e.exports=g},{112:112,12:12,134:134,135:135,40:40,66:66,70:70,8:8}],8:[function(t,e,n){function r(t){if(y){var e=t.node,n=t.children;if(n.length)for(var r=0;r<n.length;r++)v(e,n[r],null);else null!=t.html?h(e,t.html):null!=t.text&&f(e,t.text)}}function i(t,e){t.parentNode.replaceChild(e.node,t),r(e)}function o(t,e){y?t.children.push(e):t.node.appendChild(e.node)}function a(t,e){y?t.html=e:h(t.node,e)}function s(t,e){y?t.text=e:f(t.node,e)}function u(){return this.node.nodeName}function c(t){return{node:t,children:[],html:null,text:null,toString:u}}var l=t(9),h=t(134),p=t(112),f=t(135),d=1,m=11,y="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),v=p(function(t,e,n){e.node.nodeType===m||e.node.nodeType===d&&"object"===e.node.nodeName.toLowerCase()&&(null==e.node.namespaceURI||e.node.namespaceURI===l.html)?(r(e),t.insertBefore(e.node,n)):(t.insertBefore(e.node,n),r(e))});c.insertTreeBefore=v,c.replaceChildWithTree=i,c.queueChild=o,c.queueHTML=a,c.queueText=s,e.exports=c},{112:112,134:134,135:135,9:9}],9:[function(t,e,n){var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=r},{}],10:[function(t,e,n){function r(t,e){return(t&e)===e}var i=t(132),o=(t(154),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(t){var e=o,n=t.Properties||{},a=t.DOMAttributeNamespaces||{},u=t.DOMAttributeNames||{},c=t.DOMPropertyNames||{},l=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var h in n){s.properties.hasOwnProperty(h)?i("48",h):void 0;var p=h.toLowerCase(),f=n[h],d={attributeName:p,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseProperty:r(f,e.MUST_USE_PROPERTY),hasBooleanValue:r(f,e.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:i("50",h),u.hasOwnProperty(h)){var m=u[h];d.attributeName=m}a.hasOwnProperty(h)&&(d.attributeNamespace=a[h]),c.hasOwnProperty(h)&&(d.propertyName=c[h]),l.hasOwnProperty(h)&&(d.mutationMethod=l[h]),s.properties[h]=d}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){var n=s._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},injection:o};e.exports=s},{132:132,154:154}],11:[function(t,e,n){function r(t){return!!c.hasOwnProperty(t)||!u.hasOwnProperty(t)&&(s.test(t)?(c[t]=!0,!0):(u[t]=!0,!1))}function i(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&e<1||t.hasOverloadedBooleanValue&&e===!1}var o=t(10),a=(t(40),t(66),t(131)),s=(t(161),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),u={},c={},l={createMarkupForID:function(t){return o.ID_ATTRIBUTE_NAME+"="+a(t)},setAttributeForID:function(t,e){t.setAttribute(o.ID_ATTRIBUTE_NAME,e)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(t){t.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(t,e){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){if(i(n,e))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&e===!0?r+'=""':r+"="+a(e)}return o.isCustomAttribute(t)?null==e?"":t+"="+a(e):null},createMarkupForCustomAttribute:function(t,e){return r(t)&&null!=e?t+"="+a(e):""},setValueForProperty:function(t,e,n){var r=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(r){var a=r.mutationMethod;if(a)a(t,n);else{if(i(r,n))return void this.deleteValueForProperty(t,e);if(r.mustUseProperty)t[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?t.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?t.setAttribute(s,""):t.setAttribute(s,""+n)}}}else if(o.isCustomAttribute(e))return void l.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){r(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))},deleteValueForAttribute:function(t,e){t.removeAttribute(e)},deleteValueForProperty:function(t,e){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){var r=n.mutationMethod;if(r)r(t,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?t[i]=!1:t[i]=""}else t.removeAttribute(n.attributeName)}else o.isCustomAttribute(e)&&t.removeAttribute(e)}};e.exports=l},{10:10,131:131,161:161,40:40,66:66}],12:[function(t,e,n){var r=t(132),i=t(8),o=t(140),a=t(145),s=t(146),u=(t(154),{dangerouslyReplaceNodeWithMarkup:function(t,e){if(o.canUseDOM?void 0:r("56"),e?void 0:r("57"),"HTML"===t.nodeName?r("58"):void 0,"string"==typeof e){var n=a(e,s)[0];t.parentNode.replaceChild(n,t)}else i.replaceChildWithTree(t,e)}});e.exports=u},{132:132,140:140,145:145,146:146,154:154,8:8}],13:[function(t,e,n){var r=t(158),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=i},{158:158}],14:[function(t,e,n){var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getHostProps:function(t,e){if(!e.disabled)return e;var n={};for(var i in e)!r[i]&&e.hasOwnProperty(i)&&(n[i]=e[i]);return n}};e.exports=i},{}],15:[function(t,e,n){var r=t(16),i=t(20),o=t(40),a=t(101),s=t(158),u=r.topLevelTypes,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},l={eventTypes:c,extractEvents:function(t,e,n,r){if(t===u.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(t!==u.topMouseOut&&t!==u.topMouseOver)return null;var s;if(r.window===r)s=r;else{var l=r.ownerDocument;s=l?l.defaultView||l.parentWindow:window}var h,p;if(t===u.topMouseOut){h=e;var f=n.relatedTarget||n.toElement;p=f?o.getClosestInstanceFromNode(f):null}else h=null,p=e;if(h===p)return null;var d=null==h?s:o.getNodeFromInstance(h),m=null==p?s:o.getNodeFromInstance(p),y=a.getPooled(c.mouseLeave,h,n,r);y.type="mouseleave",y.target=d,y.relatedTarget=m;var v=a.getPooled(c.mouseEnter,p,n,r);return v.type="mouseenter",v.target=m,v.relatedTarget=d,i.accumulateEnterLeaveDispatches(y,v,h,p),[y,v]}};e.exports=l},{101:101,158:158,16:16,20:20,40:40}],16:[function(t,e,n){var r=t(157),i=r({bubbled:null,captured:null}),o=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};e.exports=a},{157:157}],17:[function(t,e,n){var r=t(132),i=t(18),o=t(19),a=t(58),s=t(108),u=t(117),c=(t(154),{}),l=null,h=function(t,e){t&&(o.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},p=function(t){return h(t,!0)},f=function(t){return h(t,!1)},d=function(t){return"."+t._rootNodeID},m={injection:{injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},putListener:function(t,e,n){"function"!=typeof n?r("94",e,typeof n):void 0;var o=d(t),a=c[e]||(c[e]={});a[o]=n;var s=i.registrationNameModules[e];s&&s.didPutListener&&s.didPutListener(t,e,n)},getListener:function(t,e){var n=c[e],r=d(t);return n&&n[r]},deleteListener:function(t,e){var n=i.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var r=c[e];if(r){var o=d(t);delete r[o]}},deleteAllListeners:function(t){var e=d(t);for(var n in c)if(c.hasOwnProperty(n)&&c[n][e]){var r=i.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(t,n),delete c[n][e]}},extractEvents:function(t,e,n,r){for(var o,a=i.plugins,u=0;u<a.length;u++){var c=a[u];if(c){var l=c.extractEvents(t,e,n,r);l&&(o=s(o,l))}}return o},enqueueEvents:function(t){t&&(l=s(l,t))},processEventQueue:function(t){var e=l;l=null,t?u(e,p):u(e,f),l?r("95"):void 0,a.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};e.exports=m},{108:108,117:117,132:132,154:154,18:18,19:19,58:58}],18:[function(t,e,n){function r(){if(s)for(var t in u){var e=u[t],n=s.indexOf(t);if(n>-1?void 0:a("96",t),!c.plugins[n]){e.extractEvents?void 0:a("97",t),c.plugins[n]=e;var r=e.eventTypes;for(var o in r)i(r[o],e,o)?void 0:a("98",o,t)}}}function i(t,e,n){c.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,c.eventNameDispatchConfigs[n]=t;var r=t.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,e,n)}return!0}return!!t.registrationName&&(o(t.registrationName,e,n),!0)}function o(t,e,n){c.registrationNameModules[t]?a("100",t):void 0,c.registrationNameModules[t]=e,c.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var a=t(132),s=(t(154),null),u={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(t){s?a("101"):void 0,s=Array.prototype.slice.call(t),r()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];u.hasOwnProperty(n)&&u[n]===i||(u[n]?a("102",n):void 0,u[n]=i,e=!0)}e&&r()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return c.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var r=c.registrationNameModules[e.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var t in u)u.hasOwnProperty(t)&&delete u[t];c.plugins.length=0;var e=c.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var r=c.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=c},{132:132,154:154}],19:[function(t,e,n){function r(t){return t===g.topMouseUp||t===g.topTouchEnd||t===g.topTouchCancel}function i(t){return t===g.topMouseMove||t===g.topTouchMove}function o(t){return t===g.topMouseDown||t===g.topTouchStart}function a(t,e,n,r){var i=t.type||"unknown-event";t.currentTarget=b.getNodeFromInstance(r),e?y.invokeGuardedCallbackWithCatch(i,n,t):y.invokeGuardedCallback(i,n,t),t.currentTarget=null}function s(t,e){var n=t._dispatchListeners,r=t._dispatchInstances;
if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)a(t,e,n[i],r[i]);else n&&a(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null}function u(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e)){for(var r=0;r<e.length&&!t.isPropagationStopped();r++)if(e[r](t,n[r]))return n[r]}else if(e&&e(t,n))return n;return null}function c(t){var e=u(t);return t._dispatchInstances=null,t._dispatchListeners=null,e}function l(t){var e=t._dispatchListeners,n=t._dispatchInstances;Array.isArray(e)?d("103"):void 0,t.currentTarget=e?b.getNodeFromInstance(n):null;var r=e?e(t):null;return t.currentTarget=null,t._dispatchListeners=null,t._dispatchInstances=null,r}function h(t){return!!t._dispatchListeners}var p,f,d=t(132),m=t(16),y=t(58),v=(t(154),t(161),{injectComponentTree:function(t){p=t},injectTreeTraversal:function(t){f=t}}),g=m.topLevelTypes,b={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:l,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:c,hasDispatches:h,getInstanceFromNode:function(t){return p.getInstanceFromNode(t)},getNodeFromInstance:function(t){return p.getNodeFromInstance(t)},isAncestor:function(t,e){return f.isAncestor(t,e)},getLowestCommonAncestor:function(t,e){return f.getLowestCommonAncestor(t,e)},getParentInstance:function(t){return f.getParentInstance(t)},traverseTwoPhase:function(t,e,n){return f.traverseTwoPhase(t,e,n)},traverseEnterLeave:function(t,e,n,r,i){return f.traverseEnterLeave(t,e,n,r,i)},injection:v};e.exports=b},{132:132,154:154,16:16,161:161,58:58}],20:[function(t,e,n){function r(t,e,n){var r=e.dispatchConfig.phasedRegistrationNames[n];return b(t,r)}function i(t,e,n){var i=e?g.bubbled:g.captured,o=r(t,n,i);o&&(n._dispatchListeners=y(n._dispatchListeners,o),n._dispatchInstances=y(n._dispatchInstances,t))}function o(t){t&&t.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(t._targetInst,i,t)}function a(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst,n=e?m.getParentInstance(e):null;m.traverseTwoPhase(n,i,t)}}function s(t,e,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=b(t,r);i&&(n._dispatchListeners=y(n._dispatchListeners,i),n._dispatchInstances=y(n._dispatchInstances,t))}}function u(t){t&&t.dispatchConfig.registrationName&&s(t._targetInst,null,t)}function c(t){v(t,o)}function l(t){v(t,a)}function h(t,e,n,r){m.traverseEnterLeave(n,r,s,t,e)}function p(t){v(t,u)}var f=t(16),d=t(17),m=t(19),y=t(108),v=t(117),g=(t(161),f.PropagationPhases),b=d.getListener,_={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:l,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:h};e.exports=_},{108:108,117:117,16:16,161:161,17:17,19:19}],21:[function(t,e,n){function r(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var i=t(162),o=t(25),a=t(125);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=i.slice(t,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},{125:125,162:162,25:25}],22:[function(t,e,n){var r=t(10),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=c},{10:10}],23:[function(t,e,n){function r(t){var e=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+t).replace(e,function(t){return n[t]});return"$"+r}function i(t){var e=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===t[0]&&"$"===t[1]?t.substring(2):t.substring(1);return(""+r).replace(e,function(t){return n[t]})}var o={escape:r,unescape:i};e.exports=o},{}],24:[function(t,e,n){function r(t){null!=t.checkedLink&&null!=t.valueLink?s("87"):void 0}function i(t){r(t),null!=t.value||null!=t.onChange?s("88"):void 0}function o(t){r(t),null!=t.checked||null!=t.onChange?s("89"):void 0}function a(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var s=t(132),u=t(76),c=t(75),l=t(77),h=(t(154),t(161),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(t,e,n){return!t[e]||h[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},f={},d={checkPropTypes:function(t,e,n){for(var r in p){if(p.hasOwnProperty(r))var i=p[r](e,r,t,c.prop,null,l);i instanceof Error&&!(i.message in f)&&(f[i.message]=!0,a(n))}},getValue:function(t){return t.valueLink?(i(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(o(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(i(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(o(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};e.exports=d},{132:132,154:154,161:161,75:75,76:76,77:77}],25:[function(t,e,n){var r=t(132),i=(t(154),function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)}),o=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},a=function(t,e,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,t,e,n),i}return new r(t,e,n)},s=function(t,e,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,t,e,n,r),o}return new i(t,e,n,r)},u=function(t,e,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,t,e,n,r,i),a}return new o(t,e,n,r,i)},c=function(t){var e=this;t instanceof e?void 0:r("25"),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},l=10,h=i,p=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||h,n.poolSize||(n.poolSize=l),n.release=c,n},f={addPoolingTo:p,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};e.exports=f},{132:132,154:154}],26:[function(t,e,n){var r=t(162),i=t(29),o=t(31),a=t(78),s=t(30),u=t(43),c=t(56),l=t(76),h=t(89),p=t(130),f=(t(161),c.createElement),d=c.createFactory,m=c.cloneElement,y=r,v={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:p},Component:o,PureComponent:a,createElement:f,cloneElement:m,isValidElement:c.isValidElement,PropTypes:l,createClass:s.createClass,createFactory:d,createMixin:function(t){return t},DOM:u,version:h,__spread:y};e.exports=v},{130:130,161:161,162:162,29:29,30:30,31:31,43:43,56:56,76:76,78:78,89:89}],27:[function(t,e,n){function r(t){return Object.prototype.hasOwnProperty.call(t,y)||(t[y]=d++,p[t[y]]={}),p[t[y]]}var i,o=t(162),a=t(16),s=t(18),u=t(59),c=t(107),l=t(126),h=t(128),p={},f=!1,d=0,m={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},y="_reactListenersID"+String(Math.random()).slice(2),v=o({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=t}},setEnabled:function(t){v.ReactEventListener&&v.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,i=r(n),o=s.registrationNameDependencies[t],u=a.topLevelTypes,c=0;c<o.length;c++){var l=o[c];i.hasOwnProperty(l)&&i[l]||(l===u.topWheel?h("wheel")?v.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):h("mousewheel")?v.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):v.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):l===u.topScroll?h("scroll",!0)?v.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):v.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):l===u.topFocus||l===u.topBlur?(h("focus",!0)?(v.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),v.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):h("focusin")&&(v.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),v.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),i[u.topBlur]=!0,i[u.topFocus]=!0):m.hasOwnProperty(l)&&v.ReactEventListener.trapBubbledEvent(l,m[l],n),i[l]=!0)}},trapBubbledEvent:function(t,e,n){return v.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return v.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!i&&!f){var t=c.refreshScrollValues;v.ReactEventListener.monitorScrollValue(t),f=!0}}});e.exports=v},{107:107,126:126,128:128,16:16,162:162,18:18,59:59}],28:[function(t,e,n){(function(n){function r(t,e,n,r){var i=void 0===t[n];null!=e&&i&&(t[n]=o(e,!0))}var i=t(80),o=t(127),a=(t(23),t(136)),s=t(137);t(161),"undefined"!=typeof n&&n.env,1;var u={instantiateChildren:function(t,e,n,i){if(null==t)return null;var o={};return s(t,r,o),o},updateChildren:function(t,e,n,r,s,u,c,l,h){if(e||t){var p,f;for(p in e)if(e.hasOwnProperty(p)){f=t&&t[p];var d=f&&f._currentElement,m=e[p];if(null!=f&&a(d,m))i.receiveComponent(f,m,s,l),e[p]=f;else{f&&(r[p]=i.getHostNode(f),i.unmountComponent(f,!1));var y=o(m,!0);e[p]=y;var v=i.mountComponent(y,s,u,c,l,h);n.push(v)}}for(p in t)!t.hasOwnProperty(p)||e&&e.hasOwnProperty(p)||(f=t[p],r[p]=i.getHostNode(f),i.unmountComponent(f,!1))}},unmountChildren:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];i.unmountComponent(r,e)}}};e.exports=u}).call(this,void 0)},{127:127,136:136,137:137,161:161,23:23,80:80}],29:[function(t,e,n){function r(t){return(""+t).replace(_,"$&/")}function i(t,e){this.func=t,this.context=e,this.count=0}function o(t,e,n){var r=t.func,i=t.context;r.call(i,e,t.count++)}function a(t,e,n){if(null==t)return t;var r=i.getPooled(e,n);v(t,o,r),i.release(r)}function s(t,e,n,r){this.result=t,this.keyPrefix=e,this.func=n,this.context=r,this.count=0}function u(t,e,n){var i=t.result,o=t.keyPrefix,a=t.func,s=t.context,u=a.call(s,e,t.count++);Array.isArray(u)?c(u,i,n,y.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,o+(!u.key||e&&e.key===u.key?"":r(u.key)+"/")+n)),i.push(u))}function c(t,e,n,i,o){var a="";null!=n&&(a=r(n)+"/");var c=s.getPooled(e,a,i,o);v(t,u,c),s.release(c)}function l(t,e,n){if(null==t)return t;var r=[];return c(t,r,null,e,n),r}function h(t,e,n){return null}function p(t,e){return v(t,h,null)}function f(t){var e=[];return c(t,e,null,y.thatReturnsArgument),e}var d=t(25),m=t(56),y=t(146),v=t(137),g=d.twoArgumentPooler,b=d.fourArgumentPooler,_=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(i,g),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(s,b);var x={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:p,toArray:f};e.exports=x},{137:137,146:146,25:25,56:56}],30:[function(t,e,n){function r(t,e){var n=w.hasOwnProperty(e)?w[e]:null;S.hasOwnProperty(e)&&(n!==_.OVERRIDE_BASE?h("73",e):void 0),t&&(n!==_.DEFINE_MANY&&n!==_.DEFINE_MANY_MERGED?h("74",e):void 0)}function i(t,e){if(e){"function"==typeof e?h("75"):void 0,d.isValidElement(e)?h("76"):void 0;var n=t.prototype,i=n.__reactAutoBindPairs;e.hasOwnProperty(b)&&C.mixins(t,e.mixins);for(var o in e)if(e.hasOwnProperty(o)&&o!==b){var a=e[o],c=n.hasOwnProperty(o);if(r(c,o),C.hasOwnProperty(o))C[o](t,a);else{var l=w.hasOwnProperty(o),p="function"==typeof a,f=p&&!l&&!c&&e.autobind!==!1;if(f)i.push(o,a),n[o]=a;else if(c){var m=w[o];!l||m!==_.DEFINE_MANY_MERGED&&m!==_.DEFINE_MANY?h("77",m,o):void 0,m===_.DEFINE_MANY_MERGED?n[o]=s(n[o],a):m===_.DEFINE_MANY&&(n[o]=u(n[o],a))}else n[o]=a}}}}function o(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var i=n in C;i?h("78",n):void 0;var o=n in t;o?h("79",n):void 0,t[n]=r}}}function a(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:h("80");for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?h("81",n):void 0,t[n]=e[n]);return t}function s(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function u(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function c(t,e){var n=e.bind(t);return n}function l(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t[r]=c(t,i)}}var h=t(132),p=t(162),f=t(31),d=t(56),m=(t(75),t(74),t(72)),y=t(147),v=(t(154),t(157)),g=t(158),b=(t(161),g({mixins:null})),_=v({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],w={mixins:_.DEFINE_MANY,statics:_.DEFINE_MANY,propTypes:_.DEFINE_MANY,contextTypes:_.DEFINE_MANY,childContextTypes:_.DEFINE_MANY,getDefaultProps:_.DEFINE_MANY_MERGED,getInitialState:_.DEFINE_MANY_MERGED,getChildContext:_.DEFINE_MANY_MERGED,render:_.DEFINE_ONCE,componentWillMount:_.DEFINE_MANY,componentDidMount:_.DEFINE_MANY,componentWillReceiveProps:_.DEFINE_MANY,shouldComponentUpdate:_.DEFINE_ONCE,componentWillUpdate:_.DEFINE_MANY,componentDidUpdate:_.DEFINE_MANY,componentWillUnmount:_.DEFINE_MANY,updateComponent:_.OVERRIDE_BASE},C={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)i(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=p({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=p({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=s(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=p({},t.propTypes,e)},statics:function(t,e){o(t,e)},autobind:function(){}},S={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},E=function(){};p(E.prototype,f.prototype,S);var T={createClass:function(t){var e=function(t,n,r){this.__reactAutoBindPairs.length&&l(this),this.props=t,this.context=n,this.refs=y,this.updater=r||m,this.state=null;var i=this.getInitialState?this.getInitialState():null;"object"!=typeof i||Array.isArray(i)?h("82",e.displayName||"ReactCompositeComponent"):void 0,this.state=i};e.prototype=new E,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],x.forEach(i.bind(null,e)),i(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:h("83");for(var n in w)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){x.push(t)}}};e.exports=T},{132:132,147:147,154:154,157:157,158:158,161:161,162:162,31:31,56:56,72:72,74:74,75:75}],31:[function(t,e,n){function r(t,e,n){this.props=t,this.context=e,this.refs=a,this.updater=n||o}var i=t(132),o=t(72),a=(t(110),t(147));t(154),t(161),r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?i("85"):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")},e.exports=r},{110:110,132:132,147:147,154:154,161:161,72:72}],32:[function(t,e,n){var r=t(7),i=t(45),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=o},{45:45,7:7}],33:[function(t,e,n){var r=t(132),i=(t(154),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){i?r("104"):void 0,o.replaceNodeWithMarkup=t.replaceNodeWithMarkup,o.processChildrenUpdates=t.processChildrenUpdates,i=!0}}};e.exports=o},{132:132,154:154}],34:[function(t,e,n){function r(t){}function i(t,e){}function o(t){return!(!t.prototype||!t.prototype.isReactComponent)}function a(t){return!(!t.prototype||!t.prototype.isPureReactComponent)}var s=t(132),u=t(162),c=t(33),l=t(35),h=t(56),p=t(58),f=t(65),d=(t(66),t(71)),m=(t(75),t(80)),y=t(111),v=t(147),g=(t(154),t(160)),b=t(136),_=(t(161),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var t=f.get(this)._currentElement.type,e=t(this.props,this.context,this.updater);return i(t,e),e};var x=1,w={construct:function(t){this._currentElement=t,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(t,e,n,u){this._context=u,this._mountOrder=x++,this._hostParent=e,this._hostContainerInfo=n;var c,l=this._currentElement.props,p=this._processContext(u),d=this._currentElement.type,m=t.getUpdateQueue(),y=o(d),g=this._constructComponent(y,l,p,m);y||null!=g&&null!=g.render?a(d)?this._compositeType=_.PureClass:this._compositeType=_.ImpureClass:(c=g,i(d,c),null===g||g===!1||h.isValidElement(g)?void 0:s("105",d.displayName||d.name||"Component"),g=new r(d),this._compositeType=_.StatelessFunctional),g.props=l,g.context=p,g.refs=v,g.updater=m,this._instance=g,f.set(g,this);var b=g.state;void 0===b&&(g.state=b=null),"object"!=typeof b||Array.isArray(b)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var w;return w=g.unstable_handleError?this.performInitialMountWithErrorHandling(c,e,n,t,u):this.performInitialMount(c,e,n,t,u),g.componentDidMount&&t.getReactMountReady().enqueue(g.componentDidMount,g),w},_constructComponent:function(t,e,n,r){return this._constructComponentWithoutOwner(t,e,n,r)},_constructComponentWithoutOwner:function(t,e,n,r){var i,o=this._currentElement.type;return i=t?new o(e,n,r):o(e,n,r)},performInitialMountWithErrorHandling:function(t,e,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(t,e,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(t,e,n,r,i)}return o},performInitialMount:function(t,e,n,r,i){var o=this._instance;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===t&&(t=this._renderValidatedComponent());var a=d.getType(t);this._renderedNodeType=a;var s=this._instantiateReactComponent(t,a!==d.EMPTY);this._renderedComponent=s;var u=0,c=m.mountComponent(s,r,e,n,this._processChildContext(i),u);return c},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(t){if(this._renderedComponent){var e=this._instance;if(e.componentWillUnmount&&!e._calledComponentWillUnmount)if(e._calledComponentWillUnmount=!0,t){var n=this.getName()+".componentWillUnmount()";p.invokeGuardedCallback(n,e.componentWillUnmount.bind(e))}else e.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,t),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,f.remove(e)}},_maskContext:function(t){var e=this._currentElement.type,n=e.contextTypes;if(!n)return v;var r={};for(var i in n)r[i]=t[i];return r},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof e.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var i in r)i in e.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",i);return u({},t,r)}return t},_checkContextTypes:function(t,e,n){y(t,e,n,this.getName(),null,this._debugID)},receiveComponent:function(t,e,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(e,r,t,i,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,t,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(t,e,n,r,i){var o=this._instance;null==o?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,u=!1;this._context===i?a=o.context:(a=this._processContext(i),u=!0);var c=e.props,l=n.props;e!==n&&(u=!0),u&&o.componentWillReceiveProps&&o.componentWillReceiveProps(l,a);var h=this._processPendingState(l,a),p=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?p=o.shouldComponentUpdate(l,h,a):this._compositeType===_.PureClass&&(p=!g(c,l)||!g(o.state,h))),this._updateBatchNumber=null,p?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,l,h,a,t,i)):(this._currentElement=n,this._context=i,o.props=l,o.state=h,o.context=a)},_processPendingState:function(t,e){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=u({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var s=r[a];u(o,"function"==typeof s?s.call(n,o,t,e):s)}return o},_performComponentUpdate:function(t,e,n,r,i,o){var a,s,u,c=this._instance,l=Boolean(c.componentDidUpdate);l&&(a=c.props,s=c.state,u=c.context),c.componentWillUpdate&&c.componentWillUpdate(e,n,r),this._currentElement=t,this._context=o,c.props=e,c.state=n,c.context=r,this._updateRenderedComponent(i,o),l&&i.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,s,u),c)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(b(r,i))m.receiveComponent(n,i,t,this._processChildContext(e));else{var o=m.getHostNode(n);m.unmountComponent(n,!1);var a=d.getType(i);this._renderedNodeType=a;var s=this._instantiateReactComponent(i,a!==d.EMPTY);this._renderedComponent=s;var u=0,c=m.mountComponent(s,t,this._hostParent,this._hostContainerInfo,this._processChildContext(e),u);this._replaceNodeWithMarkup(o,c,n)}},_replaceNodeWithMarkup:function(t,e,n){c.replaceNodeWithMarkup(t,e,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,e=t.render();return e},_renderValidatedComponent:function(){var t;if(this._compositeType!==_.StatelessFunctional){l.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{l.current=null}}else t=this._renderValidatedComponentWithoutOwnerOrContext();return null===t||t===!1||h.isValidElement(t)?void 0:s("109",this.getName()||"ReactCompositeComponent"),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=e.getPublicInstance(),i=n.refs===v?n.refs={}:n.refs;i[t]=r},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return this._compositeType===_.StatelessFunctional?null:t},_instantiateReactComponent:null},C={Mixin:w};e.exports=C},{111:111,132:132,136:136,147:147,154:154,160:160,161:161,162:162,33:33,35:35,56:56,58:58,65:65,66:66,71:71,75:75,80:80}],35:[function(t,e,n){var r={current:null};e.exports=r},{}],36:[function(t,e,n){var r=t(40),i=t(55),o=t(68),a=t(80),s=t(88),u=t(89),c=t(115),l=t(122),h=t(133);t(161),i.inject();var p={findDOMNode:c,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:h};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(t){return t._renderedComponent&&(t=l(t)),t?r.getNodeFromInstance(t):null}},Mount:o,Reconciler:a}),e.exports=p},{115:115,122:122,133:133,161:161,40:40,55:55,68:68,80:80,88:88,89:89}],37:[function(t,e,n){var r=t(14),i={getHostProps:r.getHostProps};e.exports=i},{14:14}],38:[function(t,e,n){function r(t){if(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(t,e){e&&(Q[t._tag]&&(null!=e.children||null!=e.dangerouslySetInnerHTML?m("137",t._tag,t._currentElement._owner?" Check the render method of "+t._currentElement._owner.getName()+".":""):void 0),null!=e.dangerouslySetInnerHTML&&(null!=e.children?m("60"):void 0,"object"==typeof e.dangerouslySetInnerHTML&&q in e.dangerouslySetInnerHTML?void 0:m("61")),null!=e.style&&"object"!=typeof e.style?m("62",r(t)):void 0)}function o(t,e,n,r){if(!(r instanceof D)){var i=t._hostContainerInfo,o=i._node&&i._node.nodeType===X,s=o?i._node:i._ownerDocument;U(e,s),r.getReactMountReady().enqueue(a,{inst:t,registrationName:e,listener:n})}}function a(){var t=this;S.putListener(t.inst,t.registrationName,t.listener)}function s(){var t=this;k.postMountWrapper(t)}function u(){var t=this;I.postMountWrapper(t)}function c(){var t=this;R.postMountWrapper(t)}function l(){var t=this;t._rootNodeID?void 0:m("63");var e=B(t);switch(e?void 0:m("64"),t._tag){case"iframe":case"object":t._wrapperState.listeners=[T.trapBubbledEvent(C.topLevelTypes.topLoad,"load",e)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var n in Y)Y.hasOwnProperty(n)&&t._wrapperState.listeners.push(T.trapBubbledEvent(C.topLevelTypes[n],Y[n],e));break;case"source":t._wrapperState.listeners=[T.trapBubbledEvent(C.topLevelTypes.topError,"error",e)];break;case"img":t._wrapperState.listeners=[T.trapBubbledEvent(C.topLevelTypes.topError,"error",e),T.trapBubbledEvent(C.topLevelTypes.topLoad,"load",e)];break;case"form":t._wrapperState.listeners=[T.trapBubbledEvent(C.topLevelTypes.topReset,"reset",e),T.trapBubbledEvent(C.topLevelTypes.topSubmit,"submit",e)];break;case"input":case"select":case"textarea":t._wrapperState.listeners=[T.trapBubbledEvent(C.topLevelTypes.topInvalid,"invalid",e)]}}function h(){O.postUpdateWrapper(this)}function p(t){tt.call(J,t)||($.test(t)?void 0:m("65",t),J[t]=!0)}function f(t,e){return t.indexOf("-")>=0||null!=e.is}function d(t){var e=t.type;p(e),this._currentElement=t,this._tag=e.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=t(132),y=t(162),v=t(1),g=t(4),b=t(8),_=t(9),x=t(10),w=t(11),C=t(16),S=t(17),E=t(18),T=t(27),M=t(37),A=t(39),P=t(40),k=t(46),R=t(47),O=t(48),I=t(52),N=(t(66),t(69)),D=t(84),L=(t(146),t(114)),V=(t(154),t(128),t(158)),F=(t(160),t(138),t(161),A),j=S.deleteListener,B=P.getNodeFromInstance,U=T.listenTo,z=E.registrationNameModules,H={string:!0,number:!0},G=V({style:null}),q=V({__html:null}),W={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},X=11,Y={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},K={area:!0,base:!0,br:!0,col:!0,embed:!0,
hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Z={listing:!0,pre:!0,textarea:!0},Q=y({menuitem:!0},K),$=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,J={},tt={}.hasOwnProperty,et=1;d.displayName="ReactDOMComponent",d.Mixin={mountComponent:function(t,e,n,r){this._rootNodeID=et++,this._domID=n._idCounter++,this._hostParent=e,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(l,this);break;case"button":o=M.getHostProps(this,o,e);break;case"input":k.mountWrapper(this,o,e),o=k.getHostProps(this,o),t.getReactMountReady().enqueue(l,this);break;case"option":R.mountWrapper(this,o,e),o=R.getHostProps(this,o);break;case"select":O.mountWrapper(this,o,e),o=O.getHostProps(this,o),t.getReactMountReady().enqueue(l,this);break;case"textarea":I.mountWrapper(this,o,e),o=I.getHostProps(this,o),t.getReactMountReady().enqueue(l,this)}i(this,o);var a,h;null!=e?(a=e._namespaceURI,h=e._tag):n._tag&&(a=n._namespaceURI,h=n._tag),(null==a||a===_.svg&&"foreignobject"===h)&&(a=_.html),a===_.html&&("svg"===this._tag?a=_.svg:"math"===this._tag&&(a=_.mathml)),this._namespaceURI=a;var p;if(t.useCreateElement){var f,d=n._ownerDocument;if(a===_.html)if("script"===this._tag){var m=d.createElement("div"),y=this._currentElement.type;m.innerHTML="<"+y+"></"+y+">",f=m.removeChild(m.firstChild)}else f=o.is?d.createElement(this._currentElement.type,o.is):d.createElement(this._currentElement.type);else f=d.createElementNS(a,this._currentElement.type);P.precacheNode(this,f),this._flags|=F.hasCachedChildNodes,this._hostParent||w.setAttributeForRoot(f),this._updateDOMProperties(null,o,t);var g=b(f);this._createInitialChildren(t,o,r,g),p=g}else{var x=this._createOpenTagMarkupAndPutListeners(t,o),C=this._createContentMarkup(t,o,r);p=!C&&K[this._tag]?x+"/>":x+">"+C+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(s,this),o.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"textarea":t.getReactMountReady().enqueue(u,this),o.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"select":o.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"button":o.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"option":t.getReactMountReady().enqueue(c,this)}return p},_createOpenTagMarkupAndPutListeners:function(t,e){var n="<"+this._currentElement.type;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(null!=i)if(z.hasOwnProperty(r))i&&o(this,r,i,t);else{r===G&&(i&&(i=this._previousStyleCopy=y({},e.style)),i=g.createMarkupForStyles(i,this));var a=null;null!=this._tag&&f(this._tag,e)?W.hasOwnProperty(r)||(a=w.createMarkupForCustomAttribute(r,i)):a=w.createMarkupForProperty(r,i),a&&(n+=" "+a)}}return t.renderToStaticMarkup?n:(this._hostParent||(n+=" "+w.createMarkupForRoot()),n+=" "+w.createMarkupForID(this._domID))},_createContentMarkup:function(t,e,n){var r="",i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=H[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)r=L(o);else if(null!=a){var s=this.mountChildren(a,t,n);r=s.join("")}}return Z[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(t,e,n,r){var i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&b.queueHTML(r,i.__html);else{var o=H[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)b.queueText(r,o);else if(null!=a)for(var s=this.mountChildren(a,t,n),u=0;u<s.length;u++)b.queueChild(r,s[u])}},receiveComponent:function(t,e,n){var r=this._currentElement;this._currentElement=t,this.updateComponent(e,r,t,n)},updateComponent:function(t,e,n,r){var o=e.props,a=this._currentElement.props;switch(this._tag){case"button":o=M.getHostProps(this,o),a=M.getHostProps(this,a);break;case"input":o=k.getHostProps(this,o),a=k.getHostProps(this,a);break;case"option":o=R.getHostProps(this,o),a=R.getHostProps(this,a);break;case"select":o=O.getHostProps(this,o),a=O.getHostProps(this,a);break;case"textarea":o=I.getHostProps(this,o),a=I.getHostProps(this,a)}switch(i(this,a),this._updateDOMProperties(o,a,t),this._updateDOMChildren(o,a,t,r),this._tag){case"input":k.updateWrapper(this);break;case"textarea":I.updateWrapper(this);break;case"select":t.getReactMountReady().enqueue(h,this)}},_updateDOMProperties:function(t,e,n){var r,i,a;for(r in t)if(!e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&null!=t[r])if(r===G){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else z.hasOwnProperty(r)?t[r]&&j(this,r):f(this._tag,t)?W.hasOwnProperty(r)||w.deleteValueForAttribute(B(this),r):(x.properties[r]||x.isCustomAttribute(r))&&w.deleteValueForProperty(B(this),r);for(r in e){var u=e[r],c=r===G?this._previousStyleCopy:null!=t?t[r]:void 0;if(e.hasOwnProperty(r)&&u!==c&&(null!=u||null!=c))if(r===G)if(u?u=this._previousStyleCopy=y({},u):this._previousStyleCopy=null,c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(a=a||{},a[i]=u[i])}else a=u;else if(z.hasOwnProperty(r))u?o(this,r,u,n):c&&j(this,r);else if(f(this._tag,e))W.hasOwnProperty(r)||w.setValueForAttribute(B(this),r,u);else if(x.properties[r]||x.isCustomAttribute(r)){var l=B(this);null!=u?w.setValueForProperty(l,r,u):w.deleteValueForProperty(l,r)}}a&&g.setValueForStyles(B(this),a,this)},_updateDOMChildren:function(t,e,n,r){var i=H[typeof t.children]?t.children:null,o=H[typeof e.children]?e.children:null,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=null!=i?null:t.children,c=null!=o?null:e.children,l=null!=i||null!=a,h=null!=o||null!=s;null!=u&&null==c?this.updateChildren(null,n,r):l&&!h&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=c&&this.updateChildren(c,n,r)},getHostNode:function(){return B(this)},unmountComponent:function(t){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var e=this._wrapperState.listeners;if(e)for(var n=0;n<e.length;n++)e[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(t),P.uncacheNode(this),S.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return B(this)}},y(d.prototype,d.Mixin,N.Mixin),e.exports=d},{1:1,10:10,11:11,114:114,128:128,132:132,138:138,146:146,154:154,158:158,16:16,160:160,161:161,162:162,17:17,18:18,27:27,37:37,39:39,4:4,40:40,46:46,47:47,48:48,52:52,66:66,69:69,8:8,84:84,9:9}],39:[function(t,e,n){var r={hasCachedChildNodes:1};e.exports=r},{}],40:[function(t,e,n){function r(t){for(var e;e=t._renderedComponent;)t=e;return t}function i(t,e){var n=r(t);n._hostNode=e,e[m]=n}function o(t){var e=t._hostNode;e&&(delete e[m],t._hostNode=null)}function a(t,e){if(!(t._flags&d.hasCachedChildNodes)){var n=t._renderedChildren,o=e.firstChild;t:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],u=r(s)._domID;if(0!==u){for(;null!==o;o=o.nextSibling)if(1===o.nodeType&&o.getAttribute(f)===String(u)||8===o.nodeType&&o.nodeValue===" react-text: "+u+" "||8===o.nodeType&&o.nodeValue===" react-empty: "+u+" "){i(s,o);continue t}l("32",u)}}t._flags|=d.hasCachedChildNodes}}function s(t){if(t[m])return t[m];for(var e=[];!t[m];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}for(var n,r;t&&(r=t[m]);t=e.pop())n=r,e.length&&a(r,t);return n}function u(t){var e=s(t);return null!=e&&e._hostNode===t?e:null}function c(t){if(void 0===t._hostNode?l("33"):void 0,t._hostNode)return t._hostNode;for(var e=[];!t._hostNode;)e.push(t),t._hostParent?void 0:l("34"),t=t._hostParent;for(;e.length;t=e.pop())a(t,t._hostNode);return t._hostNode}var l=t(132),h=t(10),p=t(39),f=(t(154),h.ID_ATTRIBUTE_NAME),d=p,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),y={getClosestInstanceFromNode:s,getInstanceFromNode:u,getNodeFromInstance:c,precacheChildNodes:a,precacheNode:i,uncacheNode:o};e.exports=y},{10:10,132:132,154:154,39:39}],41:[function(t,e,n){function r(t,e){var n={_topLevelWrapper:t,_idCounter:1,_ownerDocument:e?e.nodeType===i?e:e.ownerDocument:null,_node:e,_tag:e?e.nodeName.toLowerCase():null,_namespaceURI:e?e.namespaceURI:null};return n}var i=(t(138),9);e.exports=r},{138:138}],42:[function(t,e,n){var r=t(162),i=t(8),o=t(40),a=function(t){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(t,e,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=e,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(t.useCreateElement){var u=n._ownerDocument,c=u.createComment(s);return o.precacheNode(this,c),i(c)}return t.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},{162:162,40:40,8:8}],43:[function(t,e,n){var r=t(56),i=r.createFactory,o={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};e.exports=o},{56:56}],44:[function(t,e,n){var r={useCreateElement:!0};e.exports=r},{}],45:[function(t,e,n){var r=t(7),i=t(40),o={dangerouslyProcessChildrenUpdates:function(t,e){var n=i.getNodeFromInstance(t);r.processUpdates(n,e)}};e.exports=o},{40:40,7:7}],46:[function(t,e,n){function r(){this._rootNodeID&&p.updateWrapper(this)}function i(t){var e=this._currentElement.props,n=c.executeOnChange(e,t);h.asap(r,this);var i=e.name;if("radio"===e.type&&null!=i){for(var a=l.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),p=0;p<u.length;p++){var f=u[p];if(f!==a&&f.form===a.form){var d=l.getInstanceFromNode(f);d?void 0:o("90"),h.asap(r,d)}}}return n}var o=t(132),a=t(162),s=t(14),u=t(11),c=t(24),l=t(40),h=t(88),p=(t(154),t(161),{getHostProps:function(t,e){var n=c.getValue(e),r=c.getChecked(e),i=a({type:void 0,step:void 0,min:void 0,max:void 0},s.getHostProps(t,e),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return i},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,listeners:null,onChange:i.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&u.setValueForProperty(l.getNodeFromInstance(t),"checked",n||!1);var r=l.getNodeFromInstance(t),i=c.getValue(e);if(null!=i){var o=""+i;o!==r.value&&(r.value=o)}else null==e.value&&null!=e.defaultValue&&(r.defaultValue=""+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(r.defaultChecked=!!e.defaultChecked)},postMountWrapper:function(t){var e=t._currentElement.props,n=l.getNodeFromInstance(t);switch(e.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=p},{11:11,132:132,14:14,154:154,161:161,162:162,24:24,40:40,88:88}],47:[function(t,e,n){function r(t){var e="";return o.forEach(t,function(t){null!=t&&("string"==typeof t||"number"==typeof t?e+=t:u||(u=!0))}),e}var i=t(162),o=t(29),a=t(40),s=t(48),u=(t(161),!1),c={mountWrapper:function(t,e,n){var i=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(i=s.getSelectValueContext(o))}var a=null;if(null!=i){var u;if(u=null!=e.value?e.value+"":r(e.children),a=!1,Array.isArray(i)){for(var c=0;c<i.length;c++)if(""+i[c]===u){a=!0;break}}else a=""+i===u}t._wrapperState={selected:a}},postMountWrapper:function(t){var e=t._currentElement.props;if(null!=e.value){var n=a.getNodeFromInstance(t);n.setAttribute("value",e.value)}},getHostProps:function(t,e){var n=i({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(n.selected=t._wrapperState.selected);var o=r(e.children);return o&&(n.children=o),n}};e.exports=c},{161:161,162:162,29:29,40:40,48:48}],48:[function(t,e,n){function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=u.getValue(t);null!=e&&i(this,Boolean(t.multiple),e)}}function i(t,e,n){var r,i,o=c.getNodeFromInstance(t).options;if(e){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(t){var e=this._currentElement.props,n=u.executeOnChange(e,t);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(r,this),n}var a=t(162),s=t(14),u=t(24),c=t(40),l=t(88),h=(t(161),!1),p={getHostProps:function(t,e){return a({},s.getHostProps(t,e),{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=u.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,listeners:null,onChange:o.bind(t),wasMultiple:Boolean(e.multiple)},void 0===e.value||void 0===e.defaultValue||h||(h=!0)},getSelectValueContext:function(t){return t._wrapperState.initialValue},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var r=u.getValue(e);null!=r?(t._wrapperState.pendingUpdate=!1,i(t,Boolean(e.multiple),r)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?i(t,Boolean(e.multiple),e.defaultValue):i(t,Boolean(e.multiple),e.multiple?[]:""))}};e.exports=p},{14:14,161:161,162:162,24:24,40:40,88:88}],49:[function(t,e,n){function r(t,e,n,r){return t===n&&e===r}function i(t){var e=document.selection,n=e.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(t),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,i=e.anchorOffset,o=e.focusNode,a=e.focusOffset,s=e.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(t){return null}var u=r(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=u?0:s.toString().length,l=s.cloneRange();l.selectNodeContents(t),l.setEnd(s.startContainer,s.startOffset);var h=r(l.startContainer,l.startOffset,l.endContainer,l.endOffset),p=h?0:l.toString().length,f=p+c,d=document.createRange();d.setStart(n,i),d.setEnd(o,a);var m=d.collapsed;return{start:m?f:p,end:m?p:f}}function a(t,e){var n,r,i=document.selection.createRange().duplicate();void 0===e.end?(n=e.start,r=n):e.start>e.end?(n=e.end,r=e.start):(n=e.start,r=e.end),i.moveToElementText(t),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(t,e){if(window.getSelection){var n=window.getSelection(),r=t[l()].length,i=Math.min(e.start,r),o=void 0===e.end?i:Math.min(e.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=c(t,i),u=c(t,o);if(s&&u){var h=document.createRange();h.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(h),n.extend(u.node,u.offset)):(h.setEnd(u.node,u.offset),n.addRange(h))}}}var u=t(140),c=t(124),l=t(125),h=u.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:h?i:o,setOffsets:h?a:s};e.exports=p},{124:124,125:125,140:140}],50:[function(t,e,n){var r=t(55),i=t(83),o=t(89);r.inject();var a={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:o};e.exports=a},{55:55,83:83,89:89}],51:[function(t,e,n){var r=t(132),i=t(162),o=t(7),a=t(8),s=t(40),u=t(114),c=(t(154),t(138),function(t){this._currentElement=t,this._stringText=""+t,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(c.prototype,{mountComponent:function(t,e,n,r){var i=n._idCounter++,o=" react-text: "+i+" ",c=" /react-text ";if(this._domID=i,this._hostParent=e,t.useCreateElement){var l=n._ownerDocument,h=l.createComment(o),p=l.createComment(c),f=a(l.createDocumentFragment());return a.queueChild(f,a(h)),this._stringText&&a.queueChild(f,a(l.createTextNode(this._stringText))),a.queueChild(f,a(p)),s.precacheNode(this,h),this._closingComment=p,f}var d=u(this._stringText);return t.renderToStaticMarkup?d:"<!--"+o+"-->"+d+"<!--"+c+"-->"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var t=this._commentNodes;if(t)return t;if(!this._closingComment)for(var e=s.getNodeFromInstance(this),n=e.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return t=[this._hostNode,this._closingComment],this._commentNodes=t,t},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=c},{114:114,132:132,138:138,154:154,162:162,40:40,7:7,8:8}],52:[function(t,e,n){function r(){this._rootNodeID&&h.updateWrapper(this)}function i(t){var e=this._currentElement.props,n=u.executeOnChange(e,t);return l.asap(r,this),n}var o=t(132),a=t(162),s=t(14),u=t(24),c=t(40),l=t(88),h=(t(154),t(161),{getHostProps:function(t,e){null!=e.dangerouslySetInnerHTML?o("91"):void 0;var n=a({},s.getHostProps(t,e),{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return n},mountWrapper:function(t,e){var n=u.getValue(e),r=n;if(null==n){var a=e.defaultValue,s=e.children;null!=s&&(null!=a?o("92"):void 0,Array.isArray(s)&&(s.length<=1?void 0:o("93"),s=s[0]),a=""+s),null==a&&(a=""),r=a}t._wrapperState={initialValue:""+r,listeners:null,onChange:i.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=c.getNodeFromInstance(t),r=u.getValue(e);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==e.defaultValue&&(n.defaultValue=i)}null!=e.defaultValue&&(n.defaultValue=e.defaultValue)},postMountWrapper:function(t){var e=c.getNodeFromInstance(t);e.value=e.textContent}});e.exports=h},{132:132,14:14,154:154,161:161,162:162,24:24,40:40,88:88}],53:[function(t,e,n){function r(t,e){"_hostNode"in t?void 0:u("33"),"_hostNode"in e?void 0:u("33");for(var n=0,r=t;r;r=r._hostParent)n++;for(var i=0,o=e;o;o=o._hostParent)i++;for(;n-i>0;)t=t._hostParent,n--;for(;i-n>0;)e=e._hostParent,i--;for(var a=n;a--;){if(t===e)return t;t=t._hostParent,e=e._hostParent}return null}function i(t,e){"_hostNode"in t?void 0:u("35"),"_hostNode"in e?void 0:u("35");for(;e;){if(e===t)return!0;e=e._hostParent}return!1}function o(t){return"_hostNode"in t?void 0:u("36"),t._hostParent}function a(t,e,n){for(var r=[];t;)r.push(t),t=t._hostParent;var i;for(i=r.length;i-- >0;)e(r[i],!1,n);for(i=0;i<r.length;i++)e(r[i],!0,n)}function s(t,e,n,i,o){for(var a=t&&e?r(t,e):null,s=[];t&&t!==a;)s.push(t),t=t._hostParent;for(var u=[];e&&e!==a;)u.push(e),e=e._hostParent;var c;for(c=0;c<s.length;c++)n(s[c],!0,i);for(c=u.length;c-- >0;)n(u[c],!1,o)}var u=t(132);t(154),e.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},{132:132,154:154}],54:[function(t,e,n){function r(){this.reinitializeTransaction()}var i=t(162),o=t(88),a=t(106),s=t(146),u={initialize:s,close:function(){p.isBatchingUpdates=!1}},c={initialize:s,close:o.flushBatchedUpdates.bind(o)},l=[c,u];i(r.prototype,a.Mixin,{getTransactionWrappers:function(){return l}});var h=new r,p={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,r,i,o){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?t(e,n,r,i,o):h.perform(t,null,e,n,r,i,o)}};e.exports=p},{106:106,146:146,162:162,88:88}],55:[function(t,e,n){function r(){w||(w=!0,v.EventEmitter.injectReactEventListener(y),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginUtils.injectComponentTree(h),v.EventPluginUtils.injectTreeTraversal(f),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:_,BeforeInputEventPlugin:i}),v.HostComponent.injectGenericComponentClass(l),v.HostComponent.injectTextComponentClass(d),v.DOMProperty.injectDOMPropertyConfig(u),v.DOMProperty.injectDOMPropertyConfig(b),v.EmptyComponent.injectEmptyComponentFactory(function(t){return new p(t)}),v.Updates.injectReconcileTransaction(g),v.Updates.injectBatchingStrategy(m),v.Component.injectEnvironment(c))}var i=t(2),o=t(6),a=t(13),s=t(15),u=t(22),c=t(32),l=t(38),h=t(40),p=t(42),f=t(53),d=t(51),m=t(54),y=t(60),v=t(63),g=t(79),b=t(90),_=t(91),x=t(92),w=!1;e.exports={inject:r}},{13:13,15:15,2:2,22:22,32:32,38:38,40:40,42:42,51:51,53:53,54:54,6:6,60:60,63:63,79:79,90:90,91:91,92:92}],56:[function(t,e,n){function r(t){return void 0!==t.ref}function i(t){return void 0!==t.key}var o=t(162),a=t(35),s=(t(161),t(110),Object.prototype.hasOwnProperty),u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,c={key:!0,ref:!0,__self:!0,__source:!0},l=function(t,e,n,r,i,o,a){var s={$$typeof:u,type:t,key:e,ref:n,props:a,_owner:o};return s};l.createElement=function(t,e,n){var o,u={},h=null,p=null,f=null,d=null;if(null!=e){r(e)&&(p=e.ref),i(e)&&(h=""+e.key),f=void 0===e.__self?null:e.__self,d=void 0===e.__source?null:e.__source;for(o in e)s.call(e,o)&&!c.hasOwnProperty(o)&&(u[o]=e[o])}var m=arguments.length-2;if(1===m)u.children=n;else if(m>1){for(var y=Array(m),v=0;v<m;v++)y[v]=arguments[v+2];u.children=y}if(t&&t.defaultProps){var g=t.defaultProps;for(o in g)void 0===u[o]&&(u[o]=g[o])}return l(t,h,p,f,d,a.current,u)},l.createFactory=function(t){var e=l.createElement.bind(null,t);return e.type=t,e},l.cloneAndReplaceKey=function(t,e){var n=l(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},l.cloneElement=function(t,e,n){var u,h=o({},t.props),p=t.key,f=t.ref,d=t._self,m=t._source,y=t._owner;if(null!=e){r(e)&&(f=e.ref,y=a.current),i(e)&&(p=""+e.key);var v;t.type&&t.type.defaultProps&&(v=t.type.defaultProps);for(u in e)s.call(e,u)&&!c.hasOwnProperty(u)&&(void 0===e[u]&&void 0!==v?h[u]=v[u]:h[u]=e[u])}var g=arguments.length-2;if(1===g)h.children=n;else if(g>1){for(var b=Array(g),_=0;_<g;_++)b[_]=arguments[_+2];h.children=b}return l(t.type,p,f,d,m,y,h)},l.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===u},l.REACT_ELEMENT_TYPE=u,e.exports=l},{110:110,161:161,162:162,35:35}],57:[function(t,e,n){var r,i={injectEmptyComponentFactory:function(t){r=t}},o={create:function(t){return r(t)}};o.injection=i,e.exports=o},{}],58:[function(t,e,n){function r(t,e,n,r){try{return e(n,r)}catch(t){return void(null===i&&(i=t))}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var t=i;throw i=null,t}}};e.exports=o},{}],59:[function(t,e,n){function r(t){i.enqueueEvents(t),i.processEventQueue(!1)}var i=t(17),o={handleTopLevel:function(t,e,n,o){var a=i.extractEvents(t,e,n,o);r(a)}};e.exports=o},{17:17}],60:[function(t,e,n){function r(t){for(;t._hostParent;)t=t._hostParent;var e=h.getNodeFromInstance(t),n=e.parentNode;return h.getClosestInstanceFromNode(n)}function i(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function o(t){var e=f(t.nativeEvent),n=h.getClosestInstanceFromNode(e),i=n;do t.ancestors.push(i),i=i&&r(i);while(i);for(var o=0;o<t.ancestors.length;o++)n=t.ancestors[o],m._handleTopLevel(t.topLevelType,n,t.nativeEvent,f(t.nativeEvent))}function a(t){var e=d(window);t(e)}var s=t(162),u=t(139),c=t(140),l=t(25),h=t(40),p=t(88),f=t(121),d=t(151);s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(i,l.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(t){m._handleTopLevel=t},setEnabled:function(t){m._enabled=!!t},isEnabled:function(){return m._enabled},trapBubbledEvent:function(t,e,n){var r=n;return r?u.listen(r,e,m.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var r=n;return r?u.capture(r,e,m.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=a.bind(null,t);u.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(m._enabled){var n=i.getPooled(t,e);try{p.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=m},{121:121,139:139,140:140,151:151,162:162,25:25,40:40,88:88}],61:[function(t,e,n){var r={logTopLevelRenders:!1};e.exports=r},{}],62:[function(t,e,n){function r(t){return u?void 0:a("111",t.type),new u(t)}function i(t){return new l(t)}function o(t){return t instanceof l}var a=t(132),s=t(162),u=(t(154),null),c={},l=null,h={injectGenericComponentClass:function(t){u=t},injectTextComponentClass:function(t){l=t},injectComponentClasses:function(t){s(c,t)}},p={createInternalComponent:r,createInstanceForText:i,isTextComponent:o,injection:h};e.exports=p},{132:132,154:154,162:162}],63:[function(t,e,n){var r=t(10),i=t(17),o=t(19),a=t(33),s=t(30),u=t(57),c=t(27),l=t(62),h=t(88),p={Component:a.injection,Class:s.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:c.injection,HostComponent:l.injection,Updates:h.injection};e.exports=p},{10:10,17:17,19:19,27:27,30:30,33:33,57:57,62:62,88:88}],64:[function(t,e,n){function r(t){return o(document.documentElement,t)}var i=t(49),o=t(143),a=t(148),s=t(149),u={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=s();return{focusedElem:t,selectionRange:u.hasSelectionCapabilities(t)?u.getSelection(t):null}},restoreSelection:function(t){var e=s(),n=t.focusedElem,i=t.selectionRange;e!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,i),a(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=i.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,r=e.end;if(void 0===r&&(r=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(r,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(t,e)}};e.exports=u},{143:143,148:148,149:149,49:49}],65:[function(t,e,n){var r={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};e.exports=r},{}],66:[function(t,e,n){var r=null;e.exports={debugTool:r}},{}],67:[function(t,e,n){var r=t(109),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=r(t);return o.test(t)?t:t.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(t);return i===n}};e.exports=a},{109:109}],68:[function(t,e,n){function r(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r))return r;return t.length===e.length?-1:n}function i(t){return t?t.nodeType===N?t.documentElement:t.firstChild:null}function o(t){return t.getAttribute&&t.getAttribute(R)||""}function a(t,e,n,r,i){var o;if(x.logTopLevelRenders){var a=t._currentElement.props,s=a.type;o="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(o)}var u=S.mountComponent(t,n,null,g(t,e),i,0);o&&console.timeEnd(o),t._renderedComponent._topLevelWrapper=t,j._mountImageIntoNode(u,e,t,r,n)}function s(t,e,n,r){var i=T.ReactReconcileTransaction.getPooled(!n&&b.useCreateElement);i.perform(a,null,t,e,i,n,r),T.ReactReconcileTransaction.release(i)}function u(t,e,n){for(S.unmountComponent(t,n),e.nodeType===N&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function c(t){var e=i(t);if(e){var n=v.getInstanceFromNode(e);return!(!n||!n._hostParent)}}function l(t){return!(!t||t.nodeType!==I&&t.nodeType!==N&&t.nodeType!==D)}function h(t){var e=i(t),n=e&&v.getInstanceFromNode(e);return n&&!n._hostParent?n:null}function p(t){var e=h(t);return e?e._hostContainerInfo._topLevelWrapper:null}var f=t(132),d=t(8),m=t(10),y=t(27),v=(t(35),t(40)),g=t(41),b=t(44),_=t(56),x=t(61),w=t(65),C=(t(66),t(67)),S=t(80),E=t(87),T=t(88),M=t(147),A=t(127),P=(t(154),t(134)),k=t(136),R=(t(161),m.ID_ATTRIBUTE_NAME),O=m.ROOT_ATTRIBUTE_NAME,I=1,N=9,D=11,L={},V=1,F=function(){this.rootID=V++};F.prototype.isReactComponent={},F.prototype.render=function(){return this.props};var j={TopLevelWrapper:F,_instancesByReactRootID:L,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,r,i){return j.scrollMonitor(r,function(){E.enqueueElementInternal(t,e,n),i&&E.enqueueCallbackInternal(t,i)}),t},_renderNewRootComponent:function(t,e,n,r){l(e)?void 0:f("37"),y.ensureScrollValueMonitoring();var i=A(t,!1);T.batchedUpdates(s,i,e,n,r);var o=i._instance.rootID;return L[o]=i,i},renderSubtreeIntoContainer:function(t,e,n,r){return null!=t&&w.has(t)?void 0:f("38"),j._renderSubtreeIntoContainer(t,e,n,r)},_renderSubtreeIntoContainer:function(t,e,n,r){E.validateCallback(r,"ReactDOM.render"),
_.isValidElement(e)?void 0:f("39","string"==typeof e?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof e?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=e&&void 0!==e.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=_(F,null,null,null,null,null,e);if(t){var u=w.get(t);a=u._processChildContext(u._context)}else a=M;var l=p(n);if(l){var h=l._currentElement,d=h.props;if(k(d,e)){var m=l._renderedComponent.getPublicInstance(),y=r&&function(){r.call(m)};return j._updateRootComponent(l,s,a,n,y),m}j.unmountComponentAtNode(n)}var v=i(n),g=v&&!!o(v),b=c(n),x=g&&!l&&!b,C=j._renderNewRootComponent(s,n,x,a)._renderedComponent.getPublicInstance();return r&&r.call(C),C},render:function(t,e,n){return j._renderSubtreeIntoContainer(null,t,e,n)},unmountComponentAtNode:function(t){l(t)?void 0:f("40");var e=p(t);return e?(delete L[e._instance.rootID],T.batchedUpdates(u,e,t,!1),!0):(c(t),1===t.nodeType&&t.hasAttribute(O),!1)},_mountImageIntoNode:function(t,e,n,o,a){if(l(e)?void 0:f("41"),o){var s=i(e);if(C.canReuseMarkup(t,s))return void v.precacheNode(n,s);var u=s.getAttribute(C.CHECKSUM_ATTR_NAME);s.removeAttribute(C.CHECKSUM_ATTR_NAME);var c=s.outerHTML;s.setAttribute(C.CHECKSUM_ATTR_NAME,u);var h=t,p=r(h,c),m=" (client) "+h.substring(p-20,p+20)+"\n (server) "+c.substring(p-20,p+20);e.nodeType===N?f("42",m):void 0}if(e.nodeType===N?f("43"):void 0,a.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);d.insertTreeBefore(e,t,null)}else P(e,t),v.precacheNode(n,e.firstChild)}};e.exports=j},{10:10,127:127,132:132,134:134,136:136,147:147,154:154,161:161,27:27,35:35,40:40,41:41,44:44,56:56,61:61,65:65,66:66,67:67,8:8,80:80,87:87,88:88}],69:[function(t,e,n){function r(t,e,n){return{type:p.INSERT_MARKUP,content:t,fromIndex:null,fromNode:null,toIndex:n,afterNode:e}}function i(t,e,n){return{type:p.MOVE_EXISTING,content:null,fromIndex:t._mountIndex,fromNode:f.getHostNode(t),toIndex:n,afterNode:e}}function o(t,e){return{type:p.REMOVE_NODE,content:null,fromIndex:t._mountIndex,fromNode:e,toIndex:null,afterNode:null}}function a(t){return{type:p.SET_MARKUP,content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(t){return{type:p.TEXT_CONTENT,content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(t,e){return e&&(t=t||[],t.push(e)),t}function c(t,e){h.processChildrenUpdates(t,e)}var l=t(132),h=t(33),p=(t(65),t(66),t(70)),f=(t(35),t(80)),d=t(28),m=(t(146),t(116)),y=(t(154),{Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return d.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,r,i,o){var a,s=0;return a=m(e,s),d.updateChildren(t,a,n,r,i,this,this._hostContainerInfo,o,s),a},mountChildren:function(t,e,n){var r=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=0,c=f.mountComponent(s,e,this,this._hostContainerInfo,n,u);s._mountIndex=o++,i.push(c)}return i},updateTextContent:function(t){var e=this._renderedChildren;d.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&l("118");var r=[s(t)];c(this,r)},updateMarkup:function(t){var e=this._renderedChildren;d.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&l("118");var r=[a(t)];c(this,r)},updateChildren:function(t,e,n){this._updateChildren(t,e,n)},_updateChildren:function(t,e,n){var r=this._renderedChildren,i={},o=[],a=this._reconcilerUpdateChildren(r,t,o,i,e,n);if(a||r){var s,l=null,h=0,p=0,d=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var y=r&&r[s],v=a[s];y===v?(l=u(l,this.moveChild(y,m,h,p)),p=Math.max(y._mountIndex,p),y._mountIndex=h):(y&&(p=Math.max(y._mountIndex,p)),l=u(l,this._mountChildAtIndex(v,o[d],m,h,e,n)),d++),h++,m=f.getHostNode(v)}for(s in i)i.hasOwnProperty(s)&&(l=u(l,this._unmountChild(r[s],i[s])));l&&c(this,l),this._renderedChildren=a}},unmountChildren:function(t){var e=this._renderedChildren;d.unmountChildren(e,t),this._renderedChildren=null},moveChild:function(t,e,n,r){if(t._mountIndex<r)return i(t,e,n)},createChild:function(t,e,n){return r(n,e,t._mountIndex)},removeChild:function(t,e){return o(t,e)},_mountChildAtIndex:function(t,e,n,r,i,o){return t._mountIndex=r,this.createChild(t,n,e)},_unmountChild:function(t,e){var n=this.removeChild(t,e);return t._mountIndex=null,n}}});e.exports=y},{116:116,132:132,146:146,154:154,28:28,33:33,35:35,65:65,66:66,70:70,80:80}],70:[function(t,e,n){var r=t(157),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=i},{157:157}],71:[function(t,e,n){var r=t(132),i=t(56),o=(t(154),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(t){return null===t||t===!1?o.EMPTY:i.isValidElement(t)?"function"==typeof t.type?o.COMPOSITE:o.HOST:void r("26",t)}});e.exports=o},{132:132,154:154,56:56}],72:[function(t,e,n){function r(t,e){}var i=(t(161),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){r(t,"forceUpdate")},enqueueReplaceState:function(t,e){r(t,"replaceState")},enqueueSetState:function(t,e){r(t,"setState")}});e.exports=i},{161:161}],73:[function(t,e,n){var r=t(132),i=(t(154),{isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){i.isValidOwner(n)?void 0:r("119"),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){i.isValidOwner(n)?void 0:r("120");var o=n.getPublicInstance();o&&o.refs[e]===t.getPublicInstance()&&n.detachRef(e)}});e.exports=i},{132:132,154:154}],74:[function(t,e,n){var r={};e.exports=r},{}],75:[function(t,e,n){var r=t(157),i=r({prop:null,context:null,childContext:null});e.exports=i},{157:157}],76:[function(t,e,n){function r(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function i(t){this.message=t,this.stack=""}function o(t){function e(e,n,r,o,a,s,u){if(o=o||T,s=s||r,null==n[r]){var c=w[a];return e?new i("Required "+c+" `"+s+"` was not specified in "+("`"+o+"`.")):null}return t(n,r,o,a,s)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function a(t){function e(e,n,r,o,a,s){var u=e[n],c=g(u);if(c!==t){var l=w[o],h=b(u);return new i("Invalid "+l+" `"+a+"` of type "+("`"+h+"` supplied to `"+r+"`, expected ")+("`"+t+"`."))}return null}return o(e)}function s(){return o(S.thatReturns(null))}function u(t){function e(e,n,r,o,a){if("function"!=typeof t)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s)){var u=w[o],c=g(s);return new i("Invalid "+u+" `"+a+"` of type "+("`"+c+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<s.length;l++){var h=t(s,l,r,o,a+"["+l+"]",C);if(h instanceof Error)return h}return null}return o(e)}function c(){function t(t,e,n,r,o){var a=t[e];if(!x.isValidElement(a)){var s=w[r],u=g(a);return new i("Invalid "+s+" `"+o+"` of type "+("`"+u+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return o(t)}function l(t){function e(e,n,r,o,a){if(!(e[n]instanceof t)){var s=w[o],u=t.name||T,c=_(e[n]);return new i("Invalid "+s+" `"+a+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return o(e)}function h(t){function e(e,n,o,a,s){for(var u=e[n],c=0;c<t.length;c++)if(r(u,t[c]))return null;var l=w[a],h=JSON.stringify(t);return new i("Invalid "+l+" `"+s+"` of value `"+u+"` "+("supplied to `"+o+"`, expected one of "+h+"."))}return Array.isArray(t)?o(e):S.thatReturnsNull}function p(t){function e(e,n,r,o,a){if("function"!=typeof t)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=e[n],u=g(s);if("object"!==u){var c=w[o];return new i("Invalid "+c+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var l in s)if(s.hasOwnProperty(l)){var h=t(s,l,r,o,a+"."+l,C);if(h instanceof Error)return h}return null}return o(e)}function f(t){function e(e,n,r,o,a){for(var s=0;s<t.length;s++){var u=t[s];if(null==u(e,n,r,o,a,C))return null}var c=w[o];return new i("Invalid "+c+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(t)?o(e):S.thatReturnsNull}function d(){function t(t,e,n,r,o){if(!y(t[e])){var a=w[r];return new i("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(t)}function m(t){function e(e,n,r,o,a){var s=e[n],u=g(s);if("object"!==u){var c=w[o];return new i("Invalid "+c+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in t){var h=t[l];if(h){var p=h(s,l,r,o,a+"."+l,C);if(p)return p}}return null}return o(e)}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||x.isValidElement(t))return!0;var e=E(t);if(!e)return!1;var n,r=e.call(t);if(e!==t.entries){for(;!(n=r.next()).done;)if(!y(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!y(i[1]))return!1}return!0;default:return!1}}function v(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol}function g(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":v(e,t)?"symbol":e}function b(t){var e=g(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function _(t){return t.constructor&&t.constructor.name?t.constructor.name:T}var x=t(56),w=t(74),C=t(77),S=t(146),E=t(123),T=(t(161),"<<anonymous>>"),M={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:u,element:c(),instanceOf:l,node:d(),objectOf:p,oneOf:h,oneOfType:f,shape:m};i.prototype=Error.prototype,e.exports=M},{123:123,146:146,161:161,56:56,74:74,77:77}],77:[function(t,e,n){var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},{}],78:[function(t,e,n){function r(t,e,n){this.props=t,this.context=e,this.refs=u,this.updater=n||s}function i(){}var o=t(162),a=t(31),s=t(72),u=t(147);i.prototype=a.prototype,r.prototype=new i,r.prototype.constructor=r,o(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,e.exports=r},{147:147,162:162,31:31,72:72}],79:[function(t,e,n){function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=t}var i=t(162),o=t(5),a=t(25),s=t(27),u=t(64),c=(t(66),t(106)),l=t(87),h={initialize:u.getSelectionInformation,close:u.restoreSelection},p={initialize:function(){var t=s.isEnabled();return s.setEnabled(!1),t},close:function(t){s.setEnabled(t)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d=[h,p,f],m={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return l},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(t){this.reactMountReady.rollback(t)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,c.Mixin,m),a.addPoolingTo(r),e.exports=r},{106:106,162:162,25:25,27:27,5:5,64:64,66:66,87:87}],80:[function(t,e,n){function r(){i.attachRefs(this,this._currentElement)}var i=t(81),o=(t(66),t(161),{mountComponent:function(t,e,n,i,o,a){var s=t.mountComponent(e,n,i,o,a);return t._currentElement&&null!=t._currentElement.ref&&e.getReactMountReady().enqueue(r,t),s},getHostNode:function(t){return t.getHostNode()},unmountComponent:function(t,e){i.detachRefs(t,t._currentElement),t.unmountComponent(e)},receiveComponent:function(t,e,n,o){var a=t._currentElement;if(e!==a||o!==t._context){var s=i.shouldUpdateRefs(a,e);s&&i.detachRefs(t,a),t.receiveComponent(e,n,o),s&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(r,t)}},performUpdateIfNecessary:function(t,e,n){t._updateBatchNumber===n&&t.performUpdateIfNecessary(e)}});e.exports=o},{161:161,66:66,81:81}],81:[function(t,e,n){function r(t,e,n){"function"==typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}function i(t,e,n){"function"==typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}var o=t(73),a={};a.attachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&r(n,t,e._owner)}},a.shouldUpdateRefs=function(t,e){var n=null===t||t===!1,r=null===e||e===!1;return n||r||e.ref!==t.ref||"string"==typeof e.ref&&e._owner!==t._owner},a.detachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&i(n,t,e._owner)}},e.exports=a},{73:73}],82:[function(t,e,n){var r={isBatchingUpdates:!1,batchedUpdates:function(t){}};e.exports=r},{}],83:[function(t,e,n){function r(t,e){var n;try{return d.injection.injectBatchingStrategy(p),n=f.getPooled(e),v++,n.perform(function(){var r=y(t,!0),i=h.mountComponent(r,n,null,s(),m,0);return e||(i=l.addChecksumToMarkup(i)),i},null)}finally{v--,f.release(n),v||d.injection.injectBatchingStrategy(u)}}function i(t){return c.isValidElement(t)?void 0:a("46"),r(t,!1)}function o(t){return c.isValidElement(t)?void 0:a("47"),r(t,!0)}var a=t(132),s=t(41),u=t(54),c=t(56),l=(t(66),t(67)),h=t(80),p=t(82),f=t(84),d=t(88),m=t(147),y=t(127),v=(t(154),0);e.exports={renderToString:i,renderToStaticMarkup:o}},{127:127,132:132,147:147,154:154,41:41,54:54,56:56,66:66,67:67,80:80,82:82,84:84,88:88}],84:[function(t,e,n){function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.useCreateElement=!1,this.updateQueue=new s(this)}var i=t(162),o=t(25),a=t(106),s=(t(66),t(85)),u=[],c={enqueue:function(){}},l={getTransactionWrappers:function(){return u},getReactMountReady:function(){return c},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,a.Mixin,l),o.addPoolingTo(r),e.exports=r},{106:106,162:162,25:25,66:66,85:85}],85:[function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){}var o=t(87),a=(t(106),t(161),function(){function t(e){r(this,t),this.transaction=e}return t.prototype.isMounted=function(t){return!1},t.prototype.enqueueCallback=function(t,e,n){this.transaction.isInTransaction()&&o.enqueueCallback(t,e,n)},t.prototype.enqueueForceUpdate=function(t){this.transaction.isInTransaction()?o.enqueueForceUpdate(t):i(t,"forceUpdate")},t.prototype.enqueueReplaceState=function(t,e){this.transaction.isInTransaction()?o.enqueueReplaceState(t,e):i(t,"replaceState")},t.prototype.enqueueSetState=function(t,e){this.transaction.isInTransaction()?o.enqueueSetState(t,e):i(t,"setState")},t}());e.exports=a},{106:106,161:161,87:87}],86:[function(t,e,n){var r=t(162),i=t(36),o=t(50),a=t(26),s=r({__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:i,__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:o},a);e.exports=s},{162:162,26:26,36:36,50:50}],87:[function(t,e,n){function r(t){u.enqueueUpdate(t)}function i(t){var e=typeof t;if("object"!==e)return e;var n=t.constructor&&t.constructor.name||e,r=Object.keys(t);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function o(t,e){var n=s.get(t);return n?n:null}var a=t(132),s=(t(35),t(65)),u=(t(66),t(88)),c=(t(154),t(161),{isMounted:function(t){var e=s.get(t);return!!e&&!!e._renderedComponent},enqueueCallback:function(t,e,n){c.validateCallback(e,n);var i=o(t);return i?(i._pendingCallbacks?i._pendingCallbacks.push(e):i._pendingCallbacks=[e],void r(i)):null},enqueueCallbackInternal:function(t,e){t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],r(t)},enqueueForceUpdate:function(t){var e=o(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,r(e))},enqueueReplaceState:function(t,e){var n=o(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(t,e){var n=o(t,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(e),r(n)}},enqueueElementInternal:function(t,e,n){t._pendingElement=e,t._context=n,r(t)},validateCallback:function(t,e){t&&"function"!=typeof t?a("122",e,i(t)):void 0}});e.exports=c},{132:132,154:154,161:161,35:35,65:65,66:66,88:88}],88:[function(t,e,n){function r(){M.ReactReconcileTransaction&&x?void 0:l("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=M.ReactReconcileTransaction.getPooled(!0)}function o(t,e,n,i,o,a){r(),x.batchedUpdates(t,e,n,i,o,a)}function a(t,e){return t._mountOrder-e._mountOrder}function s(t){var e=t.dirtyComponentsLength;e!==v.length?l("124",e,v.length):void 0,v.sort(a),g++;for(var n=0;n<e;n++){var r=v[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var o;if(d.logTopLevelRenders){var s=r;r._currentElement.props===r._renderedComponent._currentElement&&(s=r._renderedComponent),o="React update: "+s.getName(),console.time(o)}if(m.performUpdateIfNecessary(r,t.reconcileTransaction,g),o&&console.timeEnd(o),i)for(var u=0;u<i.length;u++)t.callbackQueue.enqueue(i[u],r.getPublicInstance())}}function u(t){return r(),x.isBatchingUpdates?(v.push(t),void(null==t._updateBatchNumber&&(t._updateBatchNumber=g+1))):void x.batchedUpdates(u,t)}function c(t,e){x.isBatchingUpdates?void 0:l("125"),b.enqueue(t,e),_=!0}var l=t(132),h=t(162),p=t(5),f=t(25),d=t(61),m=t(80),y=t(106),v=(t(154),[]),g=0,b=p.getPooled(),_=!1,x=null,w={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),E()):v.length=0}},C={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},S=[w,C];h(i.prototype,y.Mixin,{getTransactionWrappers:function(){return S},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,M.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return y.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),f.addPoolingTo(i);var E=function(){for(;v.length||_;){if(v.length){var t=i.getPooled();t.perform(s,null,t),i.release(t)}if(_){_=!1;var e=b;b=p.getPooled(),e.notifyAll(),p.release(e)}}},T={injectReconcileTransaction:function(t){t?void 0:l("126"),M.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:l("127"),"function"!=typeof t.batchedUpdates?l("128"):void 0,"boolean"!=typeof t.isBatchingUpdates?l("129"):void 0,x=t}},M={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:E,injection:T,asap:c};e.exports=M},{106:106,132:132,154:154,162:162,25:25,5:5,61:61,80:80}],89:[function(t,e,n){e.exports="15.3.1"},{}],90:[function(t,e,n){var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(i).forEach(function(t){o.Properties[t]=0,i[t]&&(o.DOMAttributeNames[t]=i[t])}),e.exports=o},{}],91:[function(t,e,n){function r(t){if("selectionStart"in t&&c.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(t,e){if(x||null==g||g!==h())return null;var n=r(g);if(!_||!d(_,n)){_=n;var i=l.getPooled(v.select,b,t,e);return i.type="select",i.target=g,a.accumulateTwoPhaseDispatches(i),i}return null}var o=t(16),a=t(20),s=t(140),u=t(40),c=t(64),l=t(97),h=t(149),p=t(129),f=t(158),d=t(160),m=o.topLevelTypes,y=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,v={select:{phasedRegistrationNames:{bubbled:f({onSelect:null}),captured:f({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},g=null,b=null,_=null,x=!1,w=!1,C=f({onSelect:null}),S={eventTypes:v,extractEvents:function(t,e,n,r){if(!w)return null;var o=e?u.getNodeFromInstance(e):window;switch(t){case m.topFocus:(p(o)||"true"===o.contentEditable)&&(g=o,b=e,_=null);break;case m.topBlur:g=null,b=null,_=null;break;case m.topMouseDown:x=!0;break;case m.topContextMenu:case m.topMouseUp:return x=!1,i(n,r);case m.topSelectionChange:if(y)break;case m.topKeyDown:case m.topKeyUp:return i(n,r)}return null},didPutListener:function(t,e,n){e===C&&(w=!0)}};e.exports=S},{129:129,140:140,149:149,158:158,16:16,160:160,20:20,40:40,64:64,97:97}],92:[function(t,e,n){function r(t){return"."+t._rootNodeID}var i=t(132),o=t(16),a=t(139),s=t(20),u=t(40),c=t(93),l=t(94),h=t(97),p=t(98),f=t(100),d=t(101),m=t(96),y=t(102),v=t(103),g=t(104),b=t(105),_=t(146),x=t(118),w=(t(154),t(158)),C=o.topLevelTypes,S={abort:{phasedRegistrationNames:{bubbled:w({onAbort:!0}),captured:w({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:w({onAnimationEnd:!0}),captured:w({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:w({onAnimationIteration:!0}),captured:w({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:w({onAnimationStart:!0}),captured:w({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:w({onBlur:!0}),captured:w({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:w({onCanPlay:!0}),captured:w({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:w({onCanPlayThrough:!0}),captured:w({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:w({onClick:!0}),captured:w({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:w({onContextMenu:!0}),captured:w({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:w({onCopy:!0}),captured:w({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:w({onCut:!0}),captured:w({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:w({onDoubleClick:!0}),captured:w({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:w({onDrag:!0}),captured:w({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:w({onDragEnd:!0}),captured:w({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:w({onDragEnter:!0}),captured:w({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:w({onDragExit:!0}),captured:w({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:w({onDragLeave:!0}),captured:w({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:w({onDragOver:!0}),captured:w({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:w({onDragStart:!0}),captured:w({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:w({onDrop:!0}),captured:w({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:w({onDurationChange:!0}),captured:w({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:w({onEmptied:!0}),captured:w({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:w({onEncrypted:!0}),captured:w({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:w({onEnded:!0}),captured:w({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:w({onError:!0}),captured:w({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:w({onFocus:!0}),captured:w({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:w({onInput:!0}),captured:w({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:w({onInvalid:!0}),captured:w({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:w({onKeyDown:!0}),captured:w({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:w({onKeyPress:!0}),captured:w({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:w({onKeyUp:!0}),captured:w({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:w({onLoad:!0}),captured:w({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:w({onLoadedData:!0}),captured:w({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:w({onLoadedMetadata:!0}),captured:w({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:w({onLoadStart:!0}),captured:w({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:w({onMouseDown:!0}),captured:w({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:w({onMouseMove:!0}),captured:w({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:w({onMouseOut:!0}),captured:w({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:w({onMouseOver:!0}),captured:w({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:w({onMouseUp:!0}),captured:w({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:w({onPaste:!0}),captured:w({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:w({onPause:!0}),captured:w({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:w({onPlay:!0}),captured:w({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:w({onPlaying:!0}),captured:w({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:w({onProgress:!0}),captured:w({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:w({onRateChange:!0}),captured:w({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:w({onReset:!0}),captured:w({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:w({onScroll:!0}),captured:w({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:w({onSeeked:!0}),captured:w({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:w({onSeeking:!0}),captured:w({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:w({onStalled:!0}),captured:w({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:w({onSubmit:!0}),captured:w({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:w({onSuspend:!0}),captured:w({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:w({onTimeUpdate:!0}),captured:w({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:w({onTouchCancel:!0}),captured:w({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:w({onTouchEnd:!0}),captured:w({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:w({onTouchMove:!0}),captured:w({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:w({onTouchStart:!0}),captured:w({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:w({onTransitionEnd:!0}),captured:w({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:w({onVolumeChange:!0}),captured:w({onVolumeChangeCapture:!0})}},waiting:{
phasedRegistrationNames:{bubbled:w({onWaiting:!0}),captured:w({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:w({onWheel:!0}),captured:w({onWheelCapture:!0})}}},E={topAbort:S.abort,topAnimationEnd:S.animationEnd,topAnimationIteration:S.animationIteration,topAnimationStart:S.animationStart,topBlur:S.blur,topCanPlay:S.canPlay,topCanPlayThrough:S.canPlayThrough,topClick:S.click,topContextMenu:S.contextMenu,topCopy:S.copy,topCut:S.cut,topDoubleClick:S.doubleClick,topDrag:S.drag,topDragEnd:S.dragEnd,topDragEnter:S.dragEnter,topDragExit:S.dragExit,topDragLeave:S.dragLeave,topDragOver:S.dragOver,topDragStart:S.dragStart,topDrop:S.drop,topDurationChange:S.durationChange,topEmptied:S.emptied,topEncrypted:S.encrypted,topEnded:S.ended,topError:S.error,topFocus:S.focus,topInput:S.input,topInvalid:S.invalid,topKeyDown:S.keyDown,topKeyPress:S.keyPress,topKeyUp:S.keyUp,topLoad:S.load,topLoadedData:S.loadedData,topLoadedMetadata:S.loadedMetadata,topLoadStart:S.loadStart,topMouseDown:S.mouseDown,topMouseMove:S.mouseMove,topMouseOut:S.mouseOut,topMouseOver:S.mouseOver,topMouseUp:S.mouseUp,topPaste:S.paste,topPause:S.pause,topPlay:S.play,topPlaying:S.playing,topProgress:S.progress,topRateChange:S.rateChange,topReset:S.reset,topScroll:S.scroll,topSeeked:S.seeked,topSeeking:S.seeking,topStalled:S.stalled,topSubmit:S.submit,topSuspend:S.suspend,topTimeUpdate:S.timeUpdate,topTouchCancel:S.touchCancel,topTouchEnd:S.touchEnd,topTouchMove:S.touchMove,topTouchStart:S.touchStart,topTransitionEnd:S.transitionEnd,topVolumeChange:S.volumeChange,topWaiting:S.waiting,topWheel:S.wheel};for(var T in E)E[T].dependencies=[T];var M=w({onClick:null}),A={},P={eventTypes:S,extractEvents:function(t,e,n,r){var o=E[t];if(!o)return null;var a;switch(t){case C.topAbort:case C.topCanPlay:case C.topCanPlayThrough:case C.topDurationChange:case C.topEmptied:case C.topEncrypted:case C.topEnded:case C.topError:case C.topInput:case C.topInvalid:case C.topLoad:case C.topLoadedData:case C.topLoadedMetadata:case C.topLoadStart:case C.topPause:case C.topPlay:case C.topPlaying:case C.topProgress:case C.topRateChange:case C.topReset:case C.topSeeked:case C.topSeeking:case C.topStalled:case C.topSubmit:case C.topSuspend:case C.topTimeUpdate:case C.topVolumeChange:case C.topWaiting:a=h;break;case C.topKeyPress:if(0===x(n))return null;case C.topKeyDown:case C.topKeyUp:a=f;break;case C.topBlur:case C.topFocus:a=p;break;case C.topClick:if(2===n.button)return null;case C.topContextMenu:case C.topDoubleClick:case C.topMouseDown:case C.topMouseMove:case C.topMouseOut:case C.topMouseOver:case C.topMouseUp:a=d;break;case C.topDrag:case C.topDragEnd:case C.topDragEnter:case C.topDragExit:case C.topDragLeave:case C.topDragOver:case C.topDragStart:case C.topDrop:a=m;break;case C.topTouchCancel:case C.topTouchEnd:case C.topTouchMove:case C.topTouchStart:a=y;break;case C.topAnimationEnd:case C.topAnimationIteration:case C.topAnimationStart:a=c;break;case C.topTransitionEnd:a=v;break;case C.topScroll:a=g;break;case C.topWheel:a=b;break;case C.topCopy:case C.topCut:case C.topPaste:a=l}a?void 0:i("86",t);var u=a.getPooled(o,e,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(t,e,n){if(e===M){var i=r(t),o=u.getNodeFromInstance(t);A[i]||(A[i]=a.listen(o,"click",_))}},willDeleteListener:function(t,e){if(e===M){var n=r(t);A[n].remove(),delete A[n]}}};e.exports=P},{100:100,101:101,102:102,103:103,104:104,105:105,118:118,132:132,139:139,146:146,154:154,158:158,16:16,20:20,40:40,93:93,94:94,96:96,97:97,98:98}],93:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(97),o={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},{97:97}],94:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(97),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},{97:97}],95:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(97),o={data:null};i.augmentClass(r,o),e.exports=r},{97:97}],96:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(101),o={dataTransfer:null};i.augmentClass(r,o),e.exports=r},{101:101}],97:[function(t,e,n){function r(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var i=t(162),o=t(25),a=t(146),s=(t(161),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(t,e){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;i(a,t.prototype),t.prototype=a,t.prototype.constructor=t,t.Interface=i({},n.Interface,e),t.augmentClass=n.augmentClass,o.addPoolingTo(t,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),e.exports=r},{146:146,161:161,162:162,25:25}],98:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(104),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},{104:104}],99:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(97),o={data:null};i.augmentClass(r,o),e.exports=r},{97:97}],100:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(104),o=t(118),a=t(119),s=t(120),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(t){return"keypress"===t.type?o(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?o(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};i.augmentClass(r,u),e.exports=r},{104:104,118:118,119:119,120:120}],101:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(104),o=t(107),a=t(120),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+o.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},{104:104,107:107,120:120}],102:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(104),o=t(120),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},{104:104,120:120}],103:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(97),o={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},{97:97}],104:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(97),o=t(121),a={view:function(t){if(t.view)return t.view;var e=o(t);if(e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};i.augmentClass(r,a),e.exports=r},{121:121,97:97}],105:[function(t,e,n){function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t(101),o={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},{101:101}],106:[function(t,e,n){var r=t(132),i=(t(154),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,i,o,a,s,u){this.isInTransaction()?r("27"):void 0;var c,l;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=t.call(e,n,i,o,a,s,u),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(t){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r=e[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(t){}}}},closeAll:function(t){this.isInTransaction()?void 0:r("28");for(var e=this.transactionWrappers,n=t;n<e.length;n++){var i,a=e[n],s=this.wrapperInitData[n];try{i=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(t){}}}this.wrapperInitData.length=0}}),o={Mixin:i,OBSERVED_ERROR:{}};e.exports=o},{132:132,154:154}],107:[function(t,e,n){var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){r.currentScrollLeft=t.x,r.currentScrollTop=t.y}};e.exports=r},{}],108:[function(t,e,n){function r(t,e){return null==e?i("30"):void 0,null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}var i=t(132);t(154),e.exports=r},{132:132,154:154}],109:[function(t,e,n){function r(t){for(var e=1,n=0,r=0,o=t.length,a=o&-4;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(e+=t.charCodeAt(r))+(e+=t.charCodeAt(r+1))+(e+=t.charCodeAt(r+2))+(e+=t.charCodeAt(r+3));e%=i,n%=i}for(;r<o;r++)n+=e+=t.charCodeAt(r);return e%=i,n%=i,e|n<<16}var i=65521;e.exports=r},{}],110:[function(t,e,n){var r=!1;e.exports=r},{}],111:[function(t,e,n){(function(n){function r(t,e,n,r,u,c){for(var l in t)if(t.hasOwnProperty(l)){var h;try{"function"!=typeof t[l]?i("84",r||"React class",o[n],l):void 0,h=t[l](e,l,r,n,null,a)}catch(t){h=t}h instanceof Error&&!(h.message in s)&&(s[h.message]=!0)}}var i=t(132),o=t(74),a=t(77);t(154),t(161),"undefined"!=typeof n&&n.env,1;var s={};e.exports=r}).call(this,void 0)},{132:132,154:154,161:161,74:74,77:77}],112:[function(t,e,n){var r=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t};e.exports=r},{}],113:[function(t,e,n){function r(t,e,n){var r=null==e||"boolean"==typeof e||""===e;if(r)return"";var i=isNaN(e);return i||0===e||o.hasOwnProperty(t)&&o[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var i=t(3),o=(t(161),i.isUnitlessNumber);e.exports=r},{161:161,3:3}],114:[function(t,e,n){function r(t){var e=""+t,n=o.exec(e);if(!n)return e;var r,i="",a=0,s=0;for(a=n.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(i+=e.substring(s,a)),s=a+1,i+=r}return s!==a?i+e.substring(s,a):i}function i(t){return"boolean"==typeof t||"number"==typeof t?""+t:r(t)}var o=/["'&<>]/;e.exports=i},{}],115:[function(t,e,n){function r(t){if(null==t)return null;if(1===t.nodeType)return t;var e=a.get(t);return e?(e=s(e),e?o.getNodeFromInstance(e):null):void("function"==typeof t.render?i("44"):i("45",Object.keys(t)))}var i=t(132),o=(t(35),t(40)),a=t(65),s=t(122);t(154),t(161),e.exports=r},{122:122,132:132,154:154,161:161,35:35,40:40,65:65}],116:[function(t,e,n){(function(n){function r(t,e,n,r){if(t&&"object"==typeof t){var i=t,o=void 0===i[n];o&&null!=e&&(i[n]=e)}}function i(t,e){if(null==t)return t;var n={};return o(t,r,n),n}var o=(t(23),t(137));t(161),"undefined"!=typeof n&&n.env,e.exports=i}).call(this,void 0)},{137:137,161:161,23:23}],117:[function(t,e,n){function r(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}e.exports=r},{}],118:[function(t,e,n){function r(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}e.exports=r},{}],119:[function(t,e,n){function r(t){if(t.key){var e=o[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=i(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?a[t.keyCode]||"Unidentified":""}var i=t(118),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},{118:118}],120:[function(t,e,n){function r(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var r=o[t];return!!r&&!!n[r]}function i(t){return r}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=i},{}],121:[function(t,e,n){function r(t){var e=t.target||t.srcElement||window;return e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}e.exports=r},{}],122:[function(t,e,n){function r(t){for(var e;(e=t._renderedNodeType)===i.COMPOSITE;)t=t._renderedComponent;return e===i.HOST?t._renderedComponent:e===i.EMPTY?null:void 0}var i=t(71);e.exports=r},{71:71}],123:[function(t,e,n){function r(t){var e=t&&(i&&t[i]||t[o]);if("function"==typeof e)return e}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=r},{}],124:[function(t,e,n){function r(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function o(t,e){for(var n=r(t),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,o<=e&&a>=e)return{node:n,offset:e-o};o=a}n=r(i(n))}}e.exports=o},{}],125:[function(t,e,n){function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=t(140),o=null;e.exports=r},{140:140}],126:[function(t,e,n){function r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function i(t){if(s[t])return s[t];if(!a[t])return t;var e=a[t];for(var n in e)if(e.hasOwnProperty(n)&&n in u)return s[t]=e[n];return""}var o=t(140),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};o.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=i},{140:140}],127:[function(t,e,n){function r(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function o(t,e){var n;if(null===t||t===!1)n=c.create(o);else if("object"==typeof t){var s=t;!s||"function"!=typeof s.type&&"string"!=typeof s.type?a("130",null==s.type?s.type:typeof s.type,r(s._owner)):void 0,"string"==typeof s.type?n=l.createInternalComponent(s):i(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new h(s)}else"string"==typeof t||"number"==typeof t?n=l.createInstanceForText(t):a("131",typeof t);return n._mountIndex=0,n._mountImage=null,n}var a=t(132),s=t(162),u=t(34),c=t(57),l=t(62),h=(t(154),t(161),function(t){this.construct(t)});s(h.prototype,u.Mixin,{_instantiateReactComponent:o}),e.exports=o},{132:132,154:154,161:161,162:162,34:34,57:57,62:62}],128:[function(t,e,n){function r(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=t(140);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},{140:140}],129:[function(t,e,n){function r(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!i[t.type]:"textarea"===e}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=r},{}],130:[function(t,e,n){function r(t){return o.isValidElement(t)?void 0:i("143"),t}var i=t(132),o=t(56);t(154),e.exports=r},{132:132,154:154,56:56}],131:[function(t,e,n){function r(t){return'"'+i(t)+'"'}var i=t(114);e.exports=r},{114:114}],132:[function(t,e,n){function r(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=r},{}],133:[function(t,e,n){var r=t(68);e.exports=r.renderSubtreeIntoContainer},{68:68}],134:[function(t,e,n){var r,i=t(140),o=t(9),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=t(112),c=u(function(t,e){if(t.namespaceURI!==o.svg||"innerHTML"in t)t.innerHTML=e;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+e+"</svg>";for(var n=r.firstChild.childNodes,i=0;i<n.length;i++)t.appendChild(n[i])}});if(i.canUseDOM){var l=document.createElement("div");l.innerHTML=" ",""===l.innerHTML&&(c=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),a.test(e)||"<"===e[0]&&s.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e}),l=null}e.exports=c},{112:112,140:140,9:9}],135:[function(t,e,n){var r=t(140),i=t(114),o=t(134),a=function(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e};r.canUseDOM&&("textContent"in document.documentElement||(a=function(t,e){o(t,i(e))})),e.exports=a},{114:114,134:134,140:140}],136:[function(t,e,n){function r(t,e){var n=null===t||t===!1,r=null===e||e===!1;if(n||r)return n===r;var i=typeof t,o=typeof e;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&t.type===e.type&&t.key===e.key}e.exports=r},{}],137:[function(t,e,n){function r(t,e){return t&&"object"==typeof t&&null!=t.key?c.escape(t.key):e.toString(36)}function i(t,e,n,o){var p=typeof t;if("undefined"!==p&&"boolean"!==p||(t=null),null===t||"string"===p||"number"===p||s.isValidElement(t))return n(o,t,""===e?l+r(t,0):e),1;var f,d,m=0,y=""===e?l:e+h;if(Array.isArray(t))for(var v=0;v<t.length;v++)f=t[v],d=y+r(f,v),m+=i(f,d,n,o);else{var g=u(t);if(g){var b,_=g.call(t);if(g!==t.entries)for(var x=0;!(b=_.next()).done;)f=b.value,d=y+r(f,x++),m+=i(f,d,n,o);else for(;!(b=_.next()).done;){var w=b.value;w&&(f=w[1],d=y+c.escape(w[0])+h+r(f,0),m+=i(f,d,n,o))}}else if("object"===p){var C="",S=String(t);a("31","[object Object]"===S?"object with keys {"+Object.keys(t).join(", ")+"}":S,C)}}return m}function o(t,e,n){return null==t?0:i(t,"",e,n)}var a=t(132),s=(t(35),t(56)),u=t(123),c=(t(154),t(23)),l=(t(161),"."),h=":";e.exports=o},{123:123,132:132,154:154,161:161,23:23,35:35,56:56}],138:[function(t,e,n){var r=(t(162),t(146)),i=(t(161),r);e.exports=i},{146:146,161:161,162:162}],139:[function(t,e,n){var r=t(146),i={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},{146:146}],140:[function(t,e,n){var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},{}],141:[function(t,e,n){function r(t){return t.replace(i,function(t,e){return e.toUpperCase()})}var i=/-(.)/g;e.exports=r},{}],142:[function(t,e,n){function r(t){return i(t.replace(o,"ms-"))}var i=t(141),o=/^-ms-/;e.exports=r},{141:141}],143:[function(t,e,n){function r(t,e){return!(!t||!e)&&(t===e||!i(t)&&(i(e)?r(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var i=t(156);e.exports=r},{156:156}],144:[function(t,e,n){function r(t){var e=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?a(!1):void 0,"number"!=typeof e?a(!1):void 0,0===e||e-1 in t?void 0:a(!1),"function"==typeof t.callee?a(!1):void 0,t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(t){}for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}function i(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function o(t){return i(t)?Array.isArray(t)?t.slice():r(t):[t]}var a=t(154);e.exports=o},{154:154}],145:[function(t,e,n){function r(t){var e=t.match(l);return e&&e[1].toLowerCase()}function i(t,e){var n=c;c?void 0:u(!1);var i=r(t),o=i&&s(i);if(o){n.innerHTML=o[1]+t+o[2];for(var l=o[0];l--;)n=n.lastChild}else n.innerHTML=t;var h=n.getElementsByTagName("script");h.length&&(e?void 0:u(!1),a(h).forEach(e));for(var p=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var o=t(140),a=t(144),s=t(150),u=t(154),c=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;e.exports=i},{140:140,144:144,150:150,154:154}],146:[function(t,e,n){function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},e.exports=i},{}],147:[function(t,e,n){var r={};e.exports=r},{}],148:[function(t,e,n){function r(t){try{t.focus()}catch(t){}}e.exports=r},{}],149:[function(t,e,n){function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}e.exports=r},{}],150:[function(t,e,n){function r(t){return a?void 0:o(!1),p.hasOwnProperty(t)||(t="*"),s.hasOwnProperty(t)||("*"===t?a.innerHTML="<link />":a.innerHTML="<"+t+"></"+t+">",s[t]=!a.firstChild),s[t]?p[t]:null}var i=t(140),o=t(154),a=i.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(t){p[t]=h,s[t]=!0}),e.exports=r},{140:140,154:154}],151:[function(t,e,n){function r(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}e.exports=r},{}],152:[function(t,e,n){function r(t){return t.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;e.exports=r},{}],153:[function(t,e,n){function r(t){return i(t).replace(o,"-ms-")}var i=t(152),o=/^ms-/;e.exports=r},{152:152}],154:[function(t,e,n){function r(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(e.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}e.exports=r},{}],155:[function(t,e,n){function r(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}e.exports=r},{}],156:[function(t,e,n){function r(t){return i(t)&&3==t.nodeType}var i=t(155);e.exports=r},{155:155}],157:[function(t,e,n){var r=t(154),i=function(t){var e,n={};t instanceof Object&&!Array.isArray(t)?void 0:r(!1);for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};e.exports=i},{154:154}],158:[function(t,e,n){var r=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};e.exports=r},{}],159:[function(t,e,n){function r(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}e.exports=r},{}],160:[function(t,e,n){function r(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function i(t,e){if(r(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(e,n[a])||!r(t[n[a]],e[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},{}],161:[function(t,e,n){var r=t(146),i=r;e.exports=i},{146:146}],162:[function(t,e,n){function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function i(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}var o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=i()?Object.assign:function(t,e){for(var n,i,s=r(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)o.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(n);for(var l=0;l<i.length;l++)a.call(n,i[l])&&(s[i[l]]=n[i[l]])}}return s}},{}]},{},[86])(86)}),c=e.exports}();/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.2.1
 */
var l,h=function(e){function n(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function o(t){G=t}function a(t){Y=t}function s(){return function(){t.nextTick(h)}}function u(){var t=0,e=new Q(h),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function c(){var t=new MessageChannel;return t.port1.onmessage=h,function(){t.port2.postMessage(0)}}function l(){return function(){setTimeout(h,1)}}function h(){for(var t=0;t<X;t+=2){var e=tt[t],n=tt[t+1];e(n),tt[t]=void 0,tt[t+1]=void 0}X=0}function p(t,e){var n=this,r=new this.constructor(d);void 0===r[rt]&&I(r);var i=n._state;if(i){var o=arguments[i-1];Y(function(){k(i,r,o,n._result)})}else T(n,r,t,e);return r}function f(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(d);return w(n,t),n}function d(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(t){return st.error=t,st}}function g(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function b(t,e,n){Y(function(t){var r=!1,i=g(n,e,function(n){r||(r=!0,e!==n?w(t,n):S(t,n))},function(e){r||(r=!0,E(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,E(t,i))},t)}function _(t,e){e._state===ot?S(t,e._result):e._state===at?E(t,e._result):T(e,void 0,function(e){w(t,e)},function(e){E(t,e)})}function x(t,e,n){e.constructor===t.constructor&&n===et&&constructor.resolve===nt?_(t,e):n===st?E(t,st.error):void 0===n?S(t,e):i(n)?b(t,e,n):S(t,e)}function w(t,e){t===e?E(t,m()):n(e)?x(t,e,v(e)):S(t,e)}function C(t){t._onerror&&t._onerror(t._result),M(t)}function S(t,e){t._state===it&&(t._result=e,t._state=ot,0!==t._subscribers.length&&Y(M,t))}function E(t,e){t._state===it&&(t._state=at,t._result=e,Y(C,t))}function T(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+ot]=n,i[o+at]=r,0===o&&t._state&&Y(M,t)}function M(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?k(n,r,i,o):i(o);t._subscribers.length=0}}function A(){this.error=null}function P(t,e){try{return t(e)}catch(t){return ut.error=t,ut}}function k(t,e,n,r){var o,a,s,u,c=i(n);if(c){if(o=P(n,r),o===ut?(u=!0,a=o.error,o=null):s=!0,e===o)return void E(e,y())}else o=r,s=!0;e._state!==it||(c&&s?w(e,o):u?E(e,a):t===ot?S(e,o):t===at&&E(e,o))}function R(t,e){try{e(function(e){w(t,e)},function(e){E(t,e)})}catch(e){E(t,e)}}function O(){return ct++}function I(t){t[rt]=ct++,t._state=void 0,t._result=void 0,t._subscribers=[]}function N(t){return new dt(this,t).promise}function D(t){var e=this;return new e(W(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function L(t){var e=this,n=new e(d);return E(n,t),n}function V(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(t){this[rt]=O(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&V(),this instanceof j?R(this,t):F())}function B(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[rt]||I(this.promise),Array.isArray(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):E(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function z(){var t;if("undefined"!=typeof r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;e&&"[object Promise]"===Object.prototype.toString.call(e.resolve())&&!e.cast||(t.Promise=ft)}var H;H=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var G,q,W=H,X=0,Y=function(t,e){tt[X]=t,tt[X+1]=e,X+=2,2===X&&(G?G(h):q())},K="undefined"!=typeof window?window:void 0,Z=K||{},Q=Z.MutationObserver||Z.WebKitMutationObserver,$="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,tt=new Array(1e3);q=$?s():Q?u():J?c():l();var et=p,nt=f,rt=Math.random().toString(36).substring(16),it=void 0,ot=1,at=2,st=new A,ut=new A,ct=0,lt=N,ht=D,pt=L,ft=j;j.all=lt,j.race=ht,j.resolve=nt,j.reject=pt,j._setScheduler=o,j._setAsap=a,j._asap=Y,j.prototype={constructor:j,then:et,catch:function(t){return this.then(null,t)}};var dt=B;B.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===it&&n<t;n++)this._eachEntry(e[n],n)},B.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===nt){var i=v(t);if(i===et&&t._state!==it)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===ft){var o=new n(d);x(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(r(t),e)},B.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===it&&(this._remaining--,t===at?E(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},B.prototype._willSettleAt=function(t,e){var n=this;T(t,void 0,function(t){n._settledAt(ot,e,t)},function(t){n._settledAt(at,e,t)})};var mt=z,yt={Promise:ft,polyfill:mt};mt(),e.ES6Promise=yt};if("undefined"!=typeof window&&window&&window.Promise)l=window.Promise;else if("undefined"!=typeof r&&r&&r.Promise)l=r.Promise;else{var p={};h(p),l=p.ES6Promise.Promise}var f;!function(t){t.VERSION={number:"1.1.3",date:"Dec 18 2016"}}(f||(f={}));var f;!function(t){var e;!function(t){var e;!function(t){function e(t){return t.creator&&t.chunkSize}function n(t,e,n,r,i){return t.currentIndex>=t.chunkSize&&(t.currentIndex=0,t.current=t.creator(t.chunkSize),t.parts[t.parts.length]=t.current),t.current[t.currentIndex++]=e,t.current[t.currentIndex++]=n,t.current[t.currentIndex++]=r,t.current[t.currentIndex++]=i,t.elementCount++}function r(t,e,n,r){return t.currentIndex>=t.chunkSize&&(t.currentIndex=0,t.current=t.creator(t.chunkSize),t.parts[t.parts.length]=t.current),t.current[t.currentIndex++]=e,t.current[t.currentIndex++]=n,t.current[t.currentIndex++]=r,t.elementCount++}function i(t,e,n){return t.currentIndex>=t.chunkSize&&(t.currentIndex=0,t.current=t.creator(t.chunkSize),t.parts[t.parts.length]=t.current),t.current[t.currentIndex++]=e,t.current[t.currentIndex++]=n,t.elementCount++}function o(t,e){return t.currentIndex>=t.chunkSize&&(t.currentIndex=0,t.current=t.creator(t.chunkSize),t.parts[t.parts.length]=t.current),t.current[t.currentIndex++]=e,t.elementCount++}function a(t){var e,n=t.creator(t.elementSize*t.elementCount),r=(t.parts.length-1)*t.chunkSize,i=0;if(t.parts.length>1)if(t.parts[0].buffer)for(var o=0;o<t.parts.length-1;o++)n.set(t.parts[o],t.chunkSize*o);else for(var o=0;o<t.parts.length-1;o++){i=t.chunkSize*o,e=t.parts[o];for(var a=0;a<t.chunkSize;a++)n[i+a]=e[a]}if(t.current.buffer&&t.currentIndex>=t.chunkSize)n.set(t.current,t.chunkSize*(t.parts.length-1));else for(var o=0;o<t.currentIndex;o++)n[r+o]=t.current[o];return n}function s(t){return void 0===t&&(t=262144),d(function(t){return new Float32Array(t)},t,3)}function u(t){return void 0===t&&(t=262144),d(function(t){return new Uint32Array(t)},t,3)}function c(t){return void 0===t&&(t=131072),d(function(t){return new Int32Array(t)},t,2)}function l(t){return void 0===t&&(t=131072),d(function(t){return new Int32Array(t)},t,1)}function h(t){return void 0===t&&(t=131072),d(function(t){return new Int32Array(t)},t,1)}function p(t){return void 0===t&&(t=131072),d(function(t){return new Float32Array(t)},t,1)}function f(t){return void 0===t&&(t=131072),d(function(t){return[]},t,1)}function d(t,e,n){e|=0,e<=0&&(e=1);var r=e*n,i=t(r);return{elementSize:n,chunkSize:r,creator:t,current:i,parts:[i],currentIndex:0,elementCount:0}}t.is=e,t.add4=n,t.add3=r,t.add2=i,t.add=o,t.compact=a,t.forVertex3D=s,t.forIndexBuffer=u,t.forTokenIndices=c,t.forIndices=l,t.forInt32=h,t.forFloat32=p,t.forArray=f,t.create=d}(e=t.ChunkedArray||(t.ChunkedArray={}))}(e=t.Utils||(t.Utils={}))}(f||(f={}));var f;!function(t){var e;!function(t){var e;!function(t){function e(t,e,r){for(;e<r&&32===t.charCodeAt(e);)e++;return n(t,e,r)}function n(t,e,n){var r=0,i=1;for(45===t.charCodeAt(e)&&(i=-1,e++);e<n;e++){var o=t.charCodeAt(e)-48;if(o>9||o<0)return i*r|0;r=10*r+o|0}return i*r}function r(t,e,r,i){return 43===e.charCodeAt(r)&&r++,t*Math.pow(10,n(e,r,i))}function i(t,e,n){for(;e<n&&32===t.charCodeAt(e);)e++;return o(t,e,n)}function o(t,e,n){var i=1,o=0,a=0,s=1;for(45===t.charCodeAt(e)&&(i=-1,++e);e<n;){var u=t.charCodeAt(e)-48;if(!(u>=0&&u<10)){if(u===-2){for(++e;e<n;){if(u=t.charCodeAt(e)-48,!(u>=0&&u<10))return 53===u||21===u?r(i*(o+a/s),t,e+1,n):i*(o+a/s);a=10*a+u,s*=10,++e}return i*(o+a/s)}if(53===u||21===u)return r(i*o,t,e+1,n);break}o=10*o+u,++e}return i*o}t.parseIntSkipTrailingWhitespace=e,t.parseInt=n,t.parseFloatSkipTrailingWhitespace=i,t.parseFloat=o}(e=t.FastNumberParsers||(t.FastNumberParsers={}))}(e=t.Utils||(t.Utils={}))}(f||(f={}));var f;!function(t){var e;!function(t){var e=[];!function(){for(var t="",n=0;n<512;n++)e[n]=t,t+=" "}();var n;!function(t){function n(t){return void 0===t&&(t=512),{chunkData:[],chunkOffset:0,chunkCapacity:t,data:[]}}function r(t){return t.data.length?(t.chunkOffset>0&&(t.data[t.data.length]=t.chunkData.splice(0,t.chunkOffset).join("")),t.data.join("")):t.chunkData.length===t.chunkOffset?t.chunkData.join(""):t.chunkData.splice(0,t.chunkOffset).join("")}function i(t,e){o(t);for(var n=0,r=t.data;n<r.length;n++){var i=r[n];e.writeString(i)}}function o(t){t.chunkOffset>0&&(t.chunkData.length===t.chunkOffset?t.data[t.data.length]=t.chunkData.join(""):t.data[t.data.length]=t.chunkData.splice(0,t.chunkOffset).join(""),t.chunkOffset=0)}function a(t){u(t,"\n")}function s(t,n){u(t,e[n])}function u(t,e){void 0!==e&&null!==e&&(t.chunkOffset===t.chunkCapacity&&(t.data[t.data.length]=t.chunkData.join(""),t.chunkOffset=0),t.chunkData[t.chunkOffset++]=e)}function c(t,e){t.chunkOffset===t.chunkCapacity&&(t.data[t.data.length]=t.chunkData.join(""),t.chunkOffset=0),t.chunkData[t.chunkOffset++]=e}function l(t,n,r){void 0!==n&&null!==n||u(t,e[r]);var i=r-n.length;i>0&&u(t,e[i]),u(t,n)}function h(t,n,r){void 0!==n&&null!==n||u(t,e[r]);var i=r-n.length;u(t,n),i>0&&u(t,e[i])}function p(t,e){u(t,""+e)}function f(t,n,r){var i=""+n,o=r-i.length;o>0&&u(t,e[o]),u(t,i)}function d(t,n,r){var i=""+n,o=r-i.length;u(t,i),o>0&&u(t,e[o])}function m(t,e,n){u(t,""+Math.round(n*e)/n)}function y(t,n,r,i){var o=""+Math.round(r*n)/r,a=i-o.length;a>0&&u(t,e[a]),u(t,o)}function v(t,n,r,i){var o=""+Math.round(r*n)/r,a=i-o.length;u(t,o),a>0&&u(t,e[a])}t.create=n,t.asString=r,t.writeTo=i,t.newline=a,t.whitespace=s,t.write=u,t.writeSafe=c,t.writePadLeft=l,t.writePadRight=h,t.writeInteger=p,t.writeIntegerPadLeft=f,t.writeIntegerPadRight=d,t.writeFloat=m,t.writeFloatPadLeft=y,t.writeFloatPadRight=v}(n=t.StringWriter||(t.StringWriter={}))}(e=t.Utils||(t.Utils={}))}(f||(f={}));var f;!function(t){var e=function(){function t(){this.isDefined=!1}return t.prototype.getString=function(t){return null},t.prototype.getInteger=function(t){return 0},t.prototype.getFloat=function(t){return 0},t.prototype.getValuePresence=function(t){return 1},t.prototype.areValuesEqual=function(t,e){return!0},t.prototype.stringEquals=function(t,e){return null===e},t}();t.UndefinedColumn=new e;var n;!function(t){function e(t,e,n,r,i){for(var o=[],a=1;a<=n;a++){for(var s=[],u=1;u<=r;u++)s[u-1]=t.getColumn(e+"["+a+"]["+u+"]").getFloat(i);o[a-1]=s}return o}function n(t,e,n,r,i){for(var o=[],a=1;a<=n;a++)o[a-1]=t.getColumn(e+"["+a+"]").getFloat(i);return o}t.getMatrix=e,t.getVector=n}(n=t.Category||(t.Category={}))}(f||(f={}));var f;!function(t){var e;!function(t){function e(t,e){return void 0===e&&(e=-1),new n(t,e)}function i(t,e){return void 0===e&&(e=[]),new r(t,e)}t.error=e,t.success=i}(e=t.ParserResult||(t.ParserResult={}));var n=function(){function t(t,e){this.message=t,this.line=e,this.isError=!0}return t.prototype.toString=function(){return this.line>=0?"[Line "+this.line+"] "+this.message:this.message},t}();t.ParserError=n;var r=function(){function t(t,e){this.result=t,this.warnings=e,this.isError=!1}return t}();t.ParserSuccess=r}(f||(f={}));var f;!function(t){var e;!function(e){var n;!function(t){function e(){return new Map}function n(t,e){if(e.length>6)return e;var n=t.get(e);return void 0!==n?n:(t.set(e,e),e)}t.create=e,t.get=n}(n||(n={}));var r=function(){function t(t){this.dataBlocks=[],this.data=t}return t.prototype.toJSON=function(){return this.dataBlocks.map(function(t){return t.toJSON()})},t}();e.File=r;var i=function(){function t(t,e){this.header=e,this.data=t,this.categoryList=[],this.additionalData={},this.categoryMap=new Map}return Object.defineProperty(t.prototype,"categories",{get:function(){return this.categoryList},enumerable:!0,configurable:!0}),t.prototype.getCategory=function(t){return this.categoryMap.get(t)},t.prototype.addCategory=function(t){this.categoryList[this.categoryList.length]=t,this.categoryMap.set(t.name,t)},t.prototype.toJSON=function(){return{id:this.header,categories:this.categoryList.map(function(t){return t.toJSON()}),additionalData:this.additionalData}},t}();e.DataBlock=i;var o=function(){function e(t,e,n,r,i,o,a){this.name=e,this.tokens=o,this.data=t,this.startIndex=n,this.endIndex=r,this.columnCount=i.length,this.rowCount=a/i.length|0,this.columnIndices=new Map,this.columnNameList=[];for(var s=0;s<i.length;s++){var u=i[s].substr(e.length+1);this.columnIndices.set(u,s),this.columnNameList.push(u)}}return Object.defineProperty(e.prototype,"columnNames",{get:function(){return this.columnNameList},enumerable:!0,configurable:!0}),e.prototype.getColumn=function(e){var n=this.columnIndices.get(e);return void 0!==n?new u(this,this.data,e,n):t.UndefinedColumn},e.prototype.toJSON=function(){for(var t=[],e=this.data,r=this.tokens,i=this.columnNameList,o=n.create(),a=0;a<this.rowCount;a++){for(var s={},u=0;u<this.columnCount;u++){var c=2*(a*this.columnCount+u);s[i[u]]=n.get(o,e.substring(r[c],r[c+1]))}t[a]=s}return{name:this.name,columns:i,rows:t}},e}();e.Category=o;var a=t.Utils.FastNumberParsers.parseInt,s=t.Utils.FastNumberParsers.parseFloat,u=function(){function t(t,e,r,i){this.data=e,this.name=r,this.index=i,this.stringPool=n.create(),this.isDefined=!0,this.tokens=t.tokens,this.columnCount=t.columnCount}return t.prototype.getString=function(t){var e=2*(t*this.columnCount+this.index),r=n.get(this.stringPool,this.data.substring(this.tokens[e],this.tokens[e+1]));return"."===r||"?"===r?null:r},t.prototype.getInteger=function(t){var e=2*(t*this.columnCount+this.index);return a(this.data,this.tokens[e],this.tokens[e+1])},t.prototype.getFloat=function(t){var e=2*(t*this.columnCount+this.index);return s(this.data,this.tokens[e],this.tokens[e+1])},t.prototype.stringEquals=function(t,e){var n=2*(t*this.columnCount+this.index),r=this.tokens[n],i=e.length;if(i!==this.tokens[n+1]-r)return!1;for(var o=0;o<i;o++)if(this.data.charCodeAt(o+r)!==e.charCodeAt(o))return!1;return!0},t.prototype.areValuesEqual=function(t,e){var n=2*(t*this.columnCount+this.index),r=2*(e*this.columnCount+this.index),i=this.tokens[n],o=this.tokens[r],a=this.tokens[n+1]-i;if(a!==this.tokens[r+1]-o)return!1;for(var s=0;s<a;s++)if(this.data.charCodeAt(s+i)!==this.data.charCodeAt(s+o))return!1;return!0},t.prototype.getValuePresence=function(t){var e=t*this.columnCount+this.index,n=this.tokens[2*e];if(this.tokens[2*e+1]-n!==1)return 0;var r=this.data.charCodeAt(n);return 46===r?1:63===r?2:0},t}();e.Column=u}(e=t.Text||(t.Text={}))}(f||(f={}));var f;!function(t){var e;!function(e){function n(t){for(;t.position<t.length;)switch(t.data.charCodeAt(t.position)){case 9:case 10:case 13:case 32:return void(t.currentTokenEnd=t.position);default:++t.position}t.currentTokenEnd=t.position}function r(t,e){var n,r;for(++t.position;t.position<t.length;)if(r=t.data.charCodeAt(t.position),r===e)switch(n=t.data.charCodeAt(t.position+1)){case 9:case 10:case 13:case 32:return t.currentTokenStart++,t.currentTokenEnd=t.position,t.isEscaped=!0,void++t.position;default:if(void 0===n)return t.currentTokenStart++,t.currentTokenEnd=t.position,t.isEscaped=!0,void++t.position;++t.position}else{if(10===r||13===r)return void(t.currentTokenEnd=t.position);++t.position}t.currentTokenEnd=t.position}function i(t){for(var e,n=59,r=t.position+1;r<t.length;){if(e=t.data.charCodeAt(r),59===e&&(10===n||13===n)){for(t.position=r+1,t.currentTokenStart++,r--,e=t.data.charCodeAt(r);10===e||13===e;)r--,e=t.data.charCodeAt(r);return t.currentTokenEnd=r+1,void(t.isEscaped=!0)}13===e?t.currentLineNumber++:10===e&&13!==n&&t.currentLineNumber++,n=e,++r}return t.position=r,n}function o(t){for(;t.position<t.length;){var e=t.data.charCodeAt(t.position);if(10===e||13===e)return;++t.position}}function a(t){for(var e=10;t.position<t.length;){var n=t.data.charCodeAt(t.position);switch(n){case 9:case 32:e=n,++t.position;break;case 10:13!==e&&++t.currentLineNumber,e=n,++t.position;break;case 13:e=n,++t.position,++t.currentLineNumber;break;default:return e}}return e}function s(t){var e=t.data.charCodeAt(t.currentTokenStart);return(68===e||100===e)&&(e=t.data.charCodeAt(t.currentTokenStart+1),(65===e||97===e)&&(e=t.data.charCodeAt(t.currentTokenStart+2),(84===e||116===e)&&(e=t.data.charCodeAt(t.currentTokenStart+3),65===e||97===e)))}function u(t){var e=t.data.charCodeAt(t.currentTokenStart);return(83===e||115===e)&&(e=t.data.charCodeAt(t.currentTokenStart+1),(65===e||97===e)&&(e=t.data.charCodeAt(t.currentTokenStart+2),(86===e||118===e)&&(e=t.data.charCodeAt(t.currentTokenStart+3),69===e||101===e)))}function c(t){if(t.currentTokenEnd-t.currentTokenStart!==5)return!1;var e=t.data.charCodeAt(t.currentTokenStart);return(76===e||108===e)&&(e=t.data.charCodeAt(t.currentTokenStart+1),(79===e||111===e)&&(e=t.data.charCodeAt(t.currentTokenStart+2),(79===e||111===e)&&(e=t.data.charCodeAt(t.currentTokenStart+3),80===e||112===e)))}function l(t,e,n){var r,i=n-e,o=t.currentTokenStart-e,a=t.currentTokenEnd-t.currentTokenStart;if(a<i)return!1;for(r=e;r<n;++r)if(t.data.charCodeAt(r)!==t.data.charCodeAt(r+o))return!1;return i===a||46===t.data.charCodeAt(r+o)}function h(t){var e;for(e=t.currentTokenStart;e<t.currentTokenEnd;++e)if(46===t.data.charCodeAt(e))return e;return e}function p(t,e){return t.data.substring(t.currentTokenStart,e)}function f(t){return t.data.substring(t.currentTokenStart,t.currentTokenEnd)}function d(t){var e=a(t);if(t.position>=t.length)return void(t.currentTokenType=6);t.currentTokenStart=t.position,t.currentTokenEnd=t.position,t.isEscaped=!1;var l=t.data.charCodeAt(t.position);switch(l){case 35:o(t),t.currentTokenType=5;break;case 34:case 39:r(t,l),t.currentTokenType=3;break;case 59:10===e||13===e?i(t):n(t),t.currentTokenType=3;break;default:n(t),t.isEscaped?t.currentTokenType=3:95===t.data.charCodeAt(t.currentTokenStart)?t.currentTokenType=4:t.currentTokenEnd-t.currentTokenStart>=5&&95===t.data.charCodeAt(t.currentTokenStart+4)?s(t)?t.currentTokenType=0:u(t)?t.currentTokenType=1:c(t)?t.currentTokenType=2:t.currentTokenType=3:t.currentTokenType=3}}function m(t){for(d(t);5===t.currentTokenType;)d(t)}function y(t){return{data:t,length:t.length,position:0,currentTokenStart:0,currentTokenEnd:0,currentTokenType:6,currentLineNumber:1,isEscaped:!1}}function v(t,n){for(var r,i=t.currentTokenStart,o=h(t),a=p(t,o),s=[],u=C.create(512),c=0,d=!0;d;){if(4!==t.currentTokenType||!l(t,i,o)){d=!1;break}if(r=f(t),m(t),3!==t.currentTokenType)return{hasError:!0,errorLine:t.currentLineNumber,errorMessage:"Expected value."};s[s.length]=r,C.addToken(u,t.currentTokenStart,t.currentTokenEnd),c++,m(t)}return n.addCategory(new e.Category(n.data,a,i,t.currentTokenStart,s,u.tokens,c)),{hasError:!1,errorLine:0,errorMessage:""}}function g(t,n){var r=t.currentTokenStart,i=t.currentLineNumber;m(t);for(var o=p(t,h(t)),a=[],s=C.create("_atom_site"===o?n.data.length/1.85|0:1024),u=0;4===t.currentTokenType;)a[a.length]=f(t),m(t);for(;3===t.currentTokenType;)C.addToken(s,t.currentTokenStart,t.currentTokenEnd),u++,m(t);return u%a.length!==0?{hasError:!0,errorLine:t.currentLineNumber,errorMessage:"The number of values for loop starting at line "+i+" is not a multiple of the number of columns."}:(n.addCategory(new e.Category(n.data,o,r,t.currentTokenStart,a,s.tokens,u)),{hasError:!1,errorLine:0,errorMessage:""})}function b(e,n){return t.ParserResult.error(n,e)}function _(e){return t.ParserResult.success(e)}function x(t){var n,r,i,o=y(t),a=new e.File(t),s=new e.DataBlock(t,"default"),u=new e.DataBlock(t,"empty"),c=!1;for(m(o);6!==o.currentTokenType;){var l=o.currentTokenType;if(0===l){if(c)return b(o.currentLineNumber,"Unexpected data block inside a save frame.");s.categories.length>0&&a.dataBlocks.push(s),s=new e.DataBlock(t,t.substring(o.currentTokenStart+5,o.currentTokenEnd)),m(o)}else if(1===l){if(r=t.substring(o.currentTokenStart+5,o.currentTokenEnd),0===r.length)u.categories.length>0&&(i=s.additionalData.saveFrames,i||(i=[],s.additionalData.saveFrames=i),i[i.length]=u),c=!1;else{if(c)return b(o.currentLineNumber,"Save frames cannot be nested.");c=!0,u=new e.DataBlock(t,r)}m(o)}else if(2===l){if(n=g(o,c?u:s),n.hasError)return b(n.errorLine,n.errorMessage)}else{if(4!==l)return b(o.currentLineNumber,"Unexpected token. Expected data_, loop_, or data name.");if(n=v(o,c?u:s),n.hasError)return b(n.errorLine,n.errorMessage)}}return c?b(o.currentLineNumber,"Unfinished save frame (`"+u.header+"`)."):(s.categories.length>0&&a.dataBlocks.push(s),_(a))}function w(t){return x(t)}var C;!function(t){function e(t){var e=new Int32Array(1.61*t.tokens.length|0);e.set(t.tokens),t.tokens=e,t.tokensLenMinus2=e.length-2|0}function n(t,n,r){t.count>=t.tokensLenMinus2&&e(t),t.tokens[t.count++]=n,t.tokens[t.count++]=r}function r(t){return{tokensLenMinus2:t-2|0,count:0,tokens:new Int32Array(t)}}t.addToken=n,t.create=r}(C||(C={})),e.parse=w}(e=t.Text||(t.Text={}))}(f||(f={}));var f;!function(t){var e;!function(e){function n(t){return!!t&&t.indexOf("\n")>=0}function r(t,e){for(var r=t.desc.fields,i=t.data,o=r.reduce(function(t,e){return Math.max(t,e.name.length)},0)+t.desc.name.length+5,h=0,p=r;h<p.length;h++){var f=p[h];l.writePadRight(e,t.desc.name+"."+f.name,o);var d=f.presence,m=void 0;if(d&&0!==(m=d(i,0)))1===m?a(e):s(e);else{var y=f.string(i,0);n(y)?(c(e,y),l.newline(e)):u(e,y)}l.newline(e)}l.write(e,"#\n")}function i(t,e){o(e,"loop_");for(var r=t[0],i=r.desc.fields,h=0,p=i;h<p.length;h++){var f=p[h];o(e,r.desc.name+"."+f.name)}for(var d=0,m=t;d<m.length;d++)for(var y=m[d],v=y.data,g=y.count,b=0;b<g;b++){for(var _=0,x=i;_<x.length;_++){var f=x[_],w=f.presence,C=void 0;if(w&&0!==(C=w(v,b)))1===C?a(e):s(e);else{var S=f.string(v,b);n(S)?(c(e,S),l.newline(e)):u(e,S)}}l.newline(e)}l.write(e,"#\n")}function o(t,e){l.write(t,e),l.newline(t)}function a(t){l.writeSafe(t,". ")}function s(t){l.writeSafe(t,"? ")}function u(t,e){if(!e)return void l.writeSafe(t,". ");for(var n=!1,r="'",i="' ",o=!1,a=!1,s=!1,u=0,c=e.length-1;u<c;u++){var h=e.charCodeAt(u);switch(h){case 9:o=!0;break;case 10:return l.writeSafe(t,"\n;"+e),void l.writeSafe(t,"\n; ");case 32:o=!0;break;case 34:if(a)return l.writeSafe(t,"\n;"+e),void l.writeSafe(t,"\n; ");s=!0,n=!0,r="'",i="' ";break;case 39:if(s)return l.writeSafe(t,"\n;"+e),void l.writeSafe(t,"\n; ");n=!0,a=!0,r='"',i='" '}}var p=e.charCodeAt(0);n||35!==p&&59!==p&&!o||(r="'",i="' ",n=!0),n?l.writeSafe(t,r+e+i):(l.write(t,e),l.writeSafe(t," "))}function c(t,e){l.writeSafe(t,"\n;"+e),l.writeSafe(t,"\n; ")}var l=t.Utils.StringWriter,h=function(){function t(){this.writer=l.create(),this.encoded=!1,this.dataBlockCreated=!1}return t.prototype.startDataBlock=function(t){this.dataBlockCreated=!0,l.write(this.writer,"data_"+(t||"").replace(/[ \n\t]/g,"").toUpperCase()+"\n#\n")},t.prototype.writeCategory=function(t,e){if(this.encoded)throw new Error("The writer contents have already been encoded, no more writing.");if(!this.dataBlockCreated)throw new Error("No data block created.");var n=e&&e.length?e.map(function(e){return t(e)}):[t(void 0)],o=n.filter(function(t){return t&&t.count>0});if(o.length){var a=o.reduce(function(t,e){return t+(void 0===e.count?1:e.count)},0);a&&(1===a?r(o[0],this.writer):i(o,this.writer))}},t.prototype.encode=function(){this.encoded=!0},t.prototype.flush=function(t){l.writeTo(this.writer,t)},t}();e.Writer=h}(e=t.Text||(t.Text={}))}(f||(f={}));var f;!function(t){var e;!function(t){var e;!function(t){function e(t,e){for(var n={},r=0;r<e;r++){var i=o(t);n[i]=o(t)}return n}function n(t,e){for(var n=new Uint8Array(e),r=t.offset,i=0;i<e;i++)n[i]=t.buffer[i+r];return t.offset+=e,n}function r(e,n){var r=t.utf8Read(e.buffer,e.offset,n);return e.offset+=n,r}function i(t,e){for(var n=new Array(e),r=0;r<e;r++)n[r]=o(t);return n}function o(t){var o,a,s=t.buffer[t.offset];if(0===(128&s))return t.offset++,s;if(128===(240&s))return a=15&s,t.offset++,e(t,a);if(144===(240&s))return a=15&s,t.offset++,i(t,a);if(160===(224&s))return a=31&s,t.offset++,r(t,a);if(224===(224&s))return o=t.dataView.getInt8(t.offset),t.offset++,o;switch(s){case 192:return t.offset++,null;case 194:return t.offset++,!1;case 195:return t.offset++,!0;case 196:return a=t.dataView.getUint8(t.offset+1),t.offset+=2,n(t,a);case 197:return a=t.dataView.getUint16(t.offset+1),t.offset+=3,n(t,a);case 198:return a=t.dataView.getUint32(t.offset+1),t.offset+=5,n(t,a);case 202:return o=t.dataView.getFloat32(t.offset+1),t.offset+=5,o;case 203:return o=t.dataView.getFloat64(t.offset+1),t.offset+=9,o;case 204:return o=t.buffer[t.offset+1],t.offset+=2,o;case 205:return o=t.dataView.getUint16(t.offset+1),t.offset+=3,o;case 206:return o=t.dataView.getUint32(t.offset+1),t.offset+=5,o;case 208:return o=t.dataView.getInt8(t.offset+1),t.offset+=2,o;case 209:return o=t.dataView.getInt16(t.offset+1),t.offset+=3,o;case 210:return o=t.dataView.getInt32(t.offset+1),t.offset+=5,o;case 217:return a=t.dataView.getUint8(t.offset+1),t.offset+=2,r(t,a);case 218:return a=t.dataView.getUint16(t.offset+1),t.offset+=3,r(t,a);case 219:return a=t.dataView.getUint32(t.offset+1),t.offset+=5,r(t,a);case 220:return a=t.dataView.getUint16(t.offset+1),t.offset+=3,i(t,a);case 221:return a=t.dataView.getUint32(t.offset+1),t.offset+=5,i(t,a);case 222:return a=t.dataView.getUint16(t.offset+1),t.offset+=3,e(t,a);case 223:return a=t.dataView.getUint32(t.offset+1),t.offset+=5,e(t,a)}throw new Error("Unknown type 0x"+s.toString(16))}function a(t){return o({buffer:t,offset:0,dataView:new DataView(t.buffer)})}t.decode=a}(e=t.MessagePack||(t.MessagePack={}))}(e=t.Binary||(t.Binary={}))}(f||(f={}));var f;!function(t){var e;!function(t){var e;!function(t){function e(t){var e=new ArrayBuffer(n(t)),i=new DataView(e),o=new Uint8Array(e);return r(t,i,o,0),o}function n(e){var r=typeof e;if("string"===r){var i=t.utf8ByteCount(e);if(i<32)return 1+i;if(i<256)return 2+i;if(i<65536)return 3+i;if(i<4294967296)return 5+i}if(e instanceof Uint8Array){var o=e.byteLength;if(o<256)return 2+o;if(o<65536)return 3+o;if(o<4294967296)return 5+o}if("number"===r){if(Math.floor(e)!==e)return 9;if(e>=0){if(e<128)return 1;if(e<256)return 2;if(e<65536)return 3;if(e<4294967296)return 5;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return 1;if(e>=-128)return 2;if(e>=-32768)return 3;if(e>=-2147483648)return 5;throw new Error("Number too small -0x"+e.toString(16).substr(1))}if("boolean"===r||null===e||void 0===e)return 1;if("object"===r){var a,s=0;if(Array.isArray(e)){a=e.length;for(var u=0;u<a;u++)s+=n(e[u])}else{var c=Object.keys(e);a=c.length;for(var u=0;u<a;u++){var l=c[u];s+=n(l)+n(e[l])}}if(a<16)return 1+s;if(a<65536)return 3+s;if(a<4294967296)return 5+s;throw new Error("Array or object too long 0x"+a.toString(16))}throw new Error("Unknown type "+r)}function r(e,n,i,o){var a=typeof e;if("string"===a){var s=t.utf8ByteCount(e);if(s<32)return n.setUint8(o,160|s),t.utf8Write(i,o+1,e),1+s;if(s<256)return n.setUint8(o,217),n.setUint8(o+1,s),t.utf8Write(i,o+2,e),2+s;if(s<65536)return n.setUint8(o,218),n.setUint16(o+1,s),t.utf8Write(i,o+3,e),3+s;if(s<4294967296)return n.setUint8(o,219),n.setUint32(o+1,s),t.utf8Write(i,o+5,e),5+s}if(e instanceof Uint8Array){var u=e.byteLength,c=new Uint8Array(n.buffer);if(u<256)return n.setUint8(o,196),n.setUint8(o+1,u),c.set(e,o+2),2+u;if(u<65536)return n.setUint8(o,197),n.setUint16(o+1,u),c.set(e,o+3),3+u;if(u<4294967296)return n.setUint8(o,198),n.setUint32(o+1,u),c.set(e,o+5),5+u}if("number"===a){if(!isFinite(e))throw new Error("Number not finite: "+e);if(Math.floor(e)!==e)return n.setUint8(o,203),n.setFloat64(o+1,e),9;if(e>=0){if(e<128)return n.setUint8(o,e),1;if(e<256)return n.setUint8(o,204),n.setUint8(o+1,e),2;if(e<65536)return n.setUint8(o,205),n.setUint16(o+1,e),3;if(e<4294967296)return n.setUint8(o,206),n.setUint32(o+1,e),5;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return n.setInt8(o,e),1;if(e>=-128)return n.setUint8(o,208),n.setInt8(o+1,e),2;if(e>=-32768)return n.setUint8(o,209),n.setInt16(o+1,e),3;if(e>=-2147483648)return n.setUint8(o,210),n.setInt32(o+1,e),5;throw new Error("Number too small -0x"+(-e).toString(16).substr(1))}if(null===e||void 0===e)return n.setUint8(o,192),1;if("boolean"===a)return n.setUint8(o,e?195:194),1;if("object"===a){var l,h=0,p=Array.isArray(e),f=void 0;if(p?l=e.length:(f=Object.keys(e),l=f.length),l<16?(n.setUint8(o,l|(p?144:128)),h=1):l<65536?(n.setUint8(o,p?220:222),n.setUint16(o+1,l),h=3):l<4294967296&&(n.setUint8(o,p?221:223),n.setUint32(o+1,l),h=5),p)for(var d=0;d<l;d++)h+=r(e[d],n,i,o+h);else for(var m=0,y=f;m<y.length;m++){var v=y[m];h+=r(v,n,i,o+h),h+=r(e[v],n,i,o+h)}return h}throw new Error("Unknown type "+a)}t.encode=e}(e=t.MessagePack||(t.MessagePack={}))}(e=t.Binary||(t.Binary={}))}(f||(f={}));var f;!function(t){var e;!function(t){var e;!function(t){function e(t,e,n){for(var r=(t.byteLength,0),i=n.length;r<i;r++){var o=n.charCodeAt(r);if(o<128)t[e++]=o>>>0&127|0;else if(o<2048)t[e++]=o>>>6&31|192,t[e++]=o>>>0&63|128;else if(o<65536)t[e++]=o>>>12&15|224,t[e++]=o>>>6&63|128,t[e++]=o>>>0&63|128;else{if(!(o<1114112))throw new Error("bad codepoint "+o);t[e++]=o>>>18&7|240,t[e++]=o>>>12&63|128,t[e++]=o>>>6&63|128,t[e++]=o>>>0&63|128}}}function n(t){throw new Error(t)}function r(t,e,r){for(var i=o,a=void 0,s=[],u=512,c=0,l=e,h=e+r;l<h;l++){var p=t[l];0===(128&p)?s[c++]=i[p]:192===(224&p)?s[c++]=i[(15&p)<<6|63&t[++l]]:224===(240&p)?s[c++]=String.fromCharCode((15&p)<<12|(63&t[++l])<<6|(63&t[++l])<<0):240===(248&p)?s[c++]=String.fromCharCode((7&p)<<18|(63&t[++l])<<12|(63&t[++l])<<6|(63&t[++l])<<0):n("Invalid byte "+p.toString(16)),c===u&&(a=a||[],a[a.length]=s.join(""),c=0)}return a?(c>0&&(a[a.length]=s.slice(0,c).join("")),a.join("")):s.slice(0,c).join("")}function i(t){for(var e=0,r=0,i=t.length;r<i;r++){var o=t.charCodeAt(r);o<128?e+=1:o<2048?e+=2:o<65536?e+=3:o<1114112?e+=4:n("bad codepoint "+o)}return e}t.utf8Write=e;var o=function(){for(var t=[],e=0;e<1024;e++)t[e]=String.fromCharCode(e);return t}();t.utf8Read=r,t.utf8ByteCount=i}(e=t.MessagePack||(t.MessagePack={}))}(e=t.Binary||(t.Binary={}))}(f||(f={}));var f;!function(t){var e;!function(t){function e(t){for(var e=t.data,r=t.encoding.length-1;r>=0;r--)e=n.decodeStep(e,t.encoding[r]);return e}t.decode=e;var n;!function(t){function n(t,e){switch(e.kind){case"ByteArray":switch(e.type){case 4:return t;case 1:return o(t);case 2:return u(t);case 5:return c(t);case 3:return l(t);case 6:return h(t);case 32:return p(t);case 33:return f(t);default:throw new Error("Unsupported ByteArray type.");
}case"FixedPoint":return d(t,e);case"IntervalQuantization":return m(t,e);case"RunLength":return y(t,e);case"Delta":return v(t,e);case"IntegerPacking":return _(t,e);case"StringArray":return x(t,e)}}function r(t,e){switch(t){case 1:return new Int8Array(e);case 2:return new Int16Array(e);case 3:return new Int32Array(e);case 4:return new Uint8Array(e);case 5:return new Uint16Array(e);case 6:return new Uint32Array(e);default:throw new Error("Unsupported integer data type.")}}function i(t,e){switch(t){case 32:return new Float32Array(e);case 33:return new Float64Array(e);default:throw new Error("Unsupported floating data type.")}}function o(t){return new Int8Array(t.buffer,t.byteOffset)}function a(t,e){for(var n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0,o=t.length;i<o;i+=e)for(var a=0;a<e;a++)r[i+e-a-1]=t[i+a];return n}function s(t,e,n){return new n(w?t.buffer:a(t,e))}function u(t){return s(t,2,Int16Array)}function c(t){return s(t,2,Uint16Array)}function l(t){return s(t,4,Int32Array)}function h(t){return s(t,4,Uint32Array)}function p(t){return s(t,4,Float32Array)}function f(t){return s(t,8,Float64Array)}function d(t,e){for(var n=t.length,r=i(e.srcType,n),o=1/e.factor,a=0;a<n;a++)r[a]=o*t[a];return r}function m(t,e){for(var n=t.length,r=i(e.srcType,n),o=(e.max-e.min)/(e.numSteps-1),a=e.min,s=0;s<n;s++)r[s]=a+o*t[s];return r}function y(t,e){for(var n=r(e.srcType,e.srcSize),i=0,o=0,a=t.length;o<a;o+=2)for(var s=t[o],u=t[o+1],c=0;c<u;++c)n[i++]=s;return n}function v(t,e){var n=t.length,i=r(e.srcType,n);if(!n)return i;i[0]=t[0]+(0|e.origin);for(var o=1;o<n;++o)i[o]=t[o]+i[o-1];return i}function g(t,e){for(var n=1===e.byteCount?127:32767,r=-n-1,i=t.length,o=new Int32Array(e.srcSize),a=0,s=0;a<i;){for(var u=0,c=t[a];c===n||c===r;)u+=c,a++,c=t[a];u+=c,o[s]=u,a++,s++}return o}function b(t,e){for(var n=1===e.byteCount?255:65535,r=t.length,i=new Int32Array(e.srcSize),o=0,a=0;o<r;){for(var s=0,u=t[o];u===n;)s+=u,o++,u=t[o];s+=u,i[a]=s,o++,a++}return i}function _(t,e){return e.isUnsigned?b(t,e):g(t,e)}function x(t,n){for(var r=n.stringData,i=e({encoding:n.offsetEncoding,data:n.offsets}),o=e({encoding:n.dataEncoding,data:t}),a=new Map,s=new Array(o.length),u=0,c=0,l=o;c<l.length;c++){var h=l[c];if(h<0)s[u++]=null;else{var p=a.get(h);void 0===p&&(p=r.substring(i[h],i[h+1]),a.set(h,p)),s[u++]=p}}return s}t.decodeStep=n;var w=function(){var t=new ArrayBuffer(2),e=new Uint8Array(t),n=new Uint16Array(t);return e[0]=170,e[1]=187,48042===n[0]}()}(n||(n={}))}(e=t.Binary||(t.Binary={}))}(f||(f={}));var f;!function(t){var e;!function(e){function n(n){if(!n.data.data)return t.UndefinedColumn;var r=e.decode(n.data),i=void 0;return n.mask&&(i=e.decode(n.mask)),r.buffer&&r.byteLength&&r.BYTES_PER_ELEMENT?i?new c(r,i):new u(r):i?new h(r,i):new l(r)}var r=function(){function t(t){this.dataBlocks=t.dataBlocks.map(function(t){return new i(t)})}return t.prototype.toJSON=function(){return this.dataBlocks.map(function(t){return t.toJSON()})},t}();e.File=r;var i=function(){function t(t){this.additionalData={},this.header=t.header,this.categoryList=t.categories.map(function(t){return new o(t)}),this.categoryMap=new Map;for(var e=0,n=this.categoryList;e<n.length;e++){var r=n[e];this.categoryMap.set(r.name,r)}}return Object.defineProperty(t.prototype,"categories",{get:function(){return this.categoryList},enumerable:!0,configurable:!0}),t.prototype.getCategory=function(t){return this.categoryMap.get(t)},t.prototype.toJSON=function(){return{id:this.header,categories:this.categoryList.map(function(t){return t.toJSON()}),additionalData:this.additionalData}},t}();e.DataBlock=i;var o=function(){function e(t){this.name=t.name,this.columnCount=t.columns.length,this.rowCount=t.rowCount,this.columnNameList=[],this.encodedColumns=new Map;for(var e=0,n=t.columns;e<n.length;e++){var r=n[e];this.encodedColumns.set(r.name,r),this.columnNameList.push(r.name)}}return Object.defineProperty(e.prototype,"columnNames",{get:function(){return this.columnNameList},enumerable:!0,configurable:!0}),e.prototype.getColumn=function(e){var r=this.encodedColumns.get(e);return r?n(r):t.UndefinedColumn},e.prototype.toJSON=function(){for(var t=this,e=[],n=this.columnNameList.map(function(e){return{name:e,column:t.getColumn(e)}}),r=0;r<this.rowCount;r++){for(var i={},o=0,a=n;o<a.length;o++){var s=a[o],u=s.column.getValuePresence(r);0===u?i[s.name]=s.column.getString(r):1===u?i[s.name]=".":i[s.name]="?"}e[r]=i}return{name:this.name,columns:this.columnNames,rows:e}},e}();e.Category=o;var a=t.Utils.FastNumberParsers.parseInt,s=t.Utils.FastNumberParsers.parseFloat,u=function(){function t(t){this.data=t,this.isDefined=!0}return t.prototype.getString=function(t){return""+this.data[t]},t.prototype.getInteger=function(t){return 0|this.data[t]},t.prototype.getFloat=function(t){return 1*this.data[t]},t.prototype.stringEquals=function(t,e){return this.data[t]===s(e,0,e.length)},t.prototype.areValuesEqual=function(t,e){return this.data[t]===this.data[e]},t.prototype.getValuePresence=function(t){return 0},t}(),c=function(){function t(t,e){this.data=t,this.mask=e,this.isDefined=!0}return t.prototype.getString=function(t){return 0===this.mask[t]?""+this.data[t]:null},t.prototype.getInteger=function(t){return 0===this.mask[t]?this.data[t]:0},t.prototype.getFloat=function(t){return 0===this.mask[t]?this.data[t]:0},t.prototype.stringEquals=function(t,e){return 0===this.mask[t]?this.data[t]===s(e,0,e.length):null===e||void 0===e},t.prototype.areValuesEqual=function(t,e){return this.data[t]===this.data[e]},t.prototype.getValuePresence=function(t){return this.mask[t]},t}(),l=function(){function t(t){this.data=t,this.isDefined=!0}return t.prototype.getString=function(t){return this.data[t]},t.prototype.getInteger=function(t){var e=this.data[t];return a(e,0,e.length)},t.prototype.getFloat=function(t){var e=this.data[t];return s(e,0,e.length)},t.prototype.stringEquals=function(t,e){return this.data[t]===e},t.prototype.areValuesEqual=function(t,e){return this.data[t]===this.data[e]},t.prototype.getValuePresence=function(t){return 0},t}(),h=function(){function t(t,e){this.data=t,this.mask=e,this.isDefined=!0}return t.prototype.getString=function(t){return 0===this.mask[t]?this.data[t]:null},t.prototype.getInteger=function(t){if(0!==this.mask[t])return 0;var e=this.data[t];return a(e||"",0,(e||"").length)},t.prototype.getFloat=function(t){if(0!==this.mask[t])return 0;var e=this.data[t];return s(e||"",0,(e||"").length)},t.prototype.stringEquals=function(t,e){return this.data[t]===e},t.prototype.areValuesEqual=function(t,e){return this.data[t]===this.data[e]},t.prototype.getValuePresence=function(t){return this.mask[t]},t}()}(e=t.Binary||(t.Binary={}))}(f||(f={}));var f;!function(t){var e;!function(e){var n=function(){function t(t){this.providers=t}return t.prototype.and=function(e){return new t(this.providers.concat([e]))},t.prototype.encode=function(t){for(var e=[],n=0,r=this.providers;n<r.length;n++){var i=r[n],o=i(t);if(!o.encodings.length)throw new Error("Encodings must be non-empty.");t=o.data;for(var a=0,s=o.encodings;a<s.length;a++){var u=s[a];e.push(u)}}if(!(t instanceof Uint8Array))throw new Error("The encoding must result in a Uint8Array. Fix your encoding chain.");return{encoding:e,data:t}},t}();e.Encoder=n,function(n){function r(t){return new n([t])}function i(t){return{encodings:[{kind:"ByteArray",type:4}],data:t}}function o(t){return{encodings:[{kind:"ByteArray",type:1}],data:new Uint8Array(t.buffer,t.byteOffset)}}function a(t){var n=e.Encoding.getDataType(t);if(1===n)return o(t);if(4===n)return i(t);for(var r=new Uint8Array(t.length*_[n]),a=b[n],s=new DataView(r.buffer),u=0,c=t.length;u<c;u++)a(s,u,t[u]);return{encodings:[{kind:"ByteArray",type:n}],data:r}}function s(t,n){for(var r=e.Encoding.getDataType(t),i=new Int32Array(t.length),o=0,a=t.length;o<a;o++)i[o]=Math.round(t[o]*n);return{encodings:[{kind:"FixedPoint",factor:n,srcType:r}],data:i}}function u(t){return function(e){return s(e,t)}}function c(t,n,r,i,o){var a=e.Encoding.getDataType(t);if(!t.length)return{encodings:[{kind:"IntervalQuantization",min:n,max:r,numSteps:i,srcType:a}],data:new Int32Array(0)};if(r<n){var s=n;n=r,r=s}for(var u=(r-n)/(i-1),c=new o(t.length),l=0,h=t.length;l<h;l++){var p=t[l];p<=n?c[l]=0:p>=r?c[l]=i:c[l]=0|Math.round((p-n)/u)}return{encodings:[{kind:"IntervalQuantization",min:n,max:r,numSteps:i,srcType:a}],data:c}}function l(t,e,n,r){return void 0===r&&(r=Int32Array),function(i){return c(i,t,e,n,r)}}function h(t){var n=e.Encoding.getDataType(t);if(void 0===n&&(t=new Int32Array(t),n=3),!t.length)return{encodings:[{kind:"RunLength",srcType:n,srcSize:0}],data:new Int32Array(0)};for(var r=2,i=1,o=t.length;i<o;i++)t[i-1]!==t[i]&&(r+=2);for(var a=new Int32Array(r),s=0,u=1,i=1,o=t.length;i<o;i++)t[i-1]!==t[i]?(a[s]=t[i-1],a[s+1]=u,u=1,s+=2):++u;return a[s]=t[t.length-1],a[s+1]=u,{encodings:[{kind:"RunLength",srcType:n,srcSize:t.length}],data:a}}function p(t){if(!e.Encoding.isSignedIntegerDataType(t))throw new Error("Only signed integer types can be encoded using delta encoding.");var n=e.Encoding.getDataType(t);if(void 0===n&&(t=new Int32Array(t),n=3),!t.length)return{encodings:[{kind:"Delta",origin:0,srcType:n}],data:new t.constructor(0)};var r=new t.constructor(t.length),i=t[0];r[0]=t[0];for(var o=1,a=t.length;o<a;o++)r[o]=t[o]-t[o-1];return r[0]=0,{encodings:[{kind:"Delta",origin:i,srcType:n}],data:r}}function f(t){for(var e=0,n=t.length;e<n;e++)if(t[e]<0)return!0;return!1}function d(t,e){for(var n=-e-1,r=0,i=0,o=t.length;i<o;i++){var a=t[i];r+=0===a?1:a===e||a===n?2:a>0?Math.ceil(a/e):Math.ceil(a/n)}return r}function m(t){var e=f(t),n=e?d(t,127):d(t,255),r=e?d(t,32767):d(t,65535);return 4*t.length<2*r?{isSigned:e,size:t.length,bytesPerElement:4}:2*r<n?{isSigned:e,size:r,bytesPerElement:2}:{isSigned:e,size:n,bytesPerElement:1}}function y(t,e){for(var n=e.isSigned?1===e.bytesPerElement?127:32767:1===e.bytesPerElement?255:65535,r=-n-1,i=t.length,o=e.isSigned?1===e.bytesPerElement?new Int8Array(e.size):new Int16Array(e.size):1===e.bytesPerElement?new Uint8Array(e.size):new Uint16Array(e.size),s=0,u=0;u<i;u++){var c=t[u];if(c>=0)for(;c>=n;)o[s]=n,++s,c-=n;else for(;c<=r;)o[s]=r,++s,c-=r;o[s]=c,++s}var l=a(o);return{encodings:[{kind:"IntegerPacking",byteCount:e.bytesPerElement,isUnsigned:!e.isSigned,srcSize:i},l.encodings[0]],data:l.data}}function v(t){if(!(t instanceof Int32Array))throw new Error("Integer packing can only be applied to Int32 data.");var e=m(t);return 4===e.bytesPerElement?a(t):y(t,e)}function g(e){var r=new Map,i=[],o=0,a=t.Utils.ChunkedArray.create(function(t){return new Int32Array(t)},1024,1),s=new Int32Array(e.length);t.Utils.ChunkedArray.add(a,0);for(var u=0,c=0,l=e;c<l.length;c++){var f=l[c];if(null!==f&&void 0!==f){var d=r.get(f);void 0===d&&(o+=f.length,d=i.length,i[d]=f,r.set(f,d),t.Utils.ChunkedArray.add(a,o)),s[u++]=d}else s[u++]=-1}var m=n.by(p).and(v).encode(t.Utils.ChunkedArray.compact(a)),y=n.by(p).and(h).and(v).encode(s);return{encodings:[{kind:"StringArray",dataEncoding:y.encoding,stringData:i.join(""),offsetEncoding:m.encoding,offsets:m.data}],data:y.data}}n.by=r;var b=(x={},x[2]=function(t,e,n){t.setInt16(2*e,n,!0)},x[5]=function(t,e,n){t.setUint16(2*e,n,!0)},x[3]=function(t,e,n){t.setInt32(4*e,n,!0)},x[6]=function(t,e,n){t.setUint32(4*e,n,!0)},x[32]=function(t,e,n){t.setFloat32(4*e,n,!0)},x[33]=function(t,e,n){t.setFloat64(8*e,n,!0)},x),_=(w={},w[2]=2,w[5]=2,w[3]=4,w[6]=4,w[32]=4,w[33]=8,w);n.byteArray=a,n.fixedPoint=u,n.intervalQuantizaiton=l,n.runLength=h,n.delta=p,n.integerPacking=v,n.stringArray=g;var x,w}(n=e.Encoder||(e.Encoder={}))}(e=t.Binary||(t.Binary={}))}(f||(f={}));var f;!function(t){var e;!function(t){t.VERSION="0.3.0";var e;!function(t){function e(t){var e;if(t instanceof Int8Array)e=1;else if(t instanceof Int16Array)e=2;else if(t instanceof Int32Array)e=3;else if(t instanceof Uint8Array)e=4;else if(t instanceof Uint16Array)e=5;else if(t instanceof Uint32Array)e=6;else if(t instanceof Float32Array)e=32;else{if(!(t instanceof Float64Array))throw new Error("Unsupported integer data type.");e=33}return e}function n(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array}t.getDataType=e,t.isSignedIntegerDataType=n}(e=t.Encoding||(t.Encoding={}))}(e=t.Binary||(t.Binary={}))}(f||(f={}));var f;!function(t){var e;!function(e){function n(t,e){for(var n=0;n<2;n++)if(t[n]>e[n])return!1;return!0}function r(r){var i=[0,3];try{var o=new Uint8Array(r),a=e.MessagePack.decode(o);if(!n(i,a.version.match(/(\d)\.(\d)\.\d/).slice(1)))return t.ParserResult.error("Unsupported format version. Current "+a.version+", required "+i.join(".")+".");var s=new e.File(a);return t.ParserResult.success(s)}catch(e){return t.ParserResult.error(""+e)}}e.parse=r}(e=t.Binary||(t.Binary={}))}(f||(f={}));var f;!function(t){var e;!function(t){function e(e,n,r){var i,o=!1;e.typedArray?i=new e.typedArray(r):(o=!0,i=new Array(r));for(var a=new Uint8Array(r),s=e.presence,u=e.number?e.number:e.string,c=!0,l=0,h=0,p=n;h<p.length;h++)for(var f=p[h],d=f.data,m=0,y=f.count;m<y;m++){var v=void 0;s&&0!==(v=s(d,m))?(a[l]=v,o&&(i[l]=null),c=!1):(a[l]=0,i[l]=u(d,m)),l++}var g=e.encoder?e.encoder:t.Encoder.by(t.Encoder.stringArray),b=g.encode(i),_=void 0;if(!c){var x=t.Encoder.by(t.Encoder.runLength).and(t.Encoder.byteArray).encode(a);_=x.data.length<a.length?x:t.Encoder.by(t.Encoder.byteArray).encode(a)}return{name:e.name,data:b,mask:_}}var n=function(){function n(e){this.dataBlocks=[],this.data={encoder:e,version:t.VERSION,dataBlocks:this.dataBlocks}}return n.prototype.startDataBlock=function(t){this.dataBlocks.push({header:(t||"").replace(/[ \n\t]/g,"").toUpperCase(),categories:[]})},n.prototype.writeCategory=function(t,n){if(!this.data)throw new Error("The writer contents have already been encoded, no more writing.");if(!this.dataBlocks.length)throw new Error("No data block created.");var r=n&&n.length?n.map(function(e){return t(e)}):[t(void 0)],i=r.filter(function(t){return t&&t.count>0});if(i.length){var o=i.reduce(function(t,e){return t+e.count},0);if(o){for(var a=i[0],s={name:a.desc.name,columns:[],rowCount:o},u=i.map(function(t){return{data:t.data,count:t.count}}),c=0,l=a.desc.fields;c<l.length;c++){var h=l[c];s.columns.push(e(h,u,o))}this.dataBlocks[this.dataBlocks.length-1].categories.push(s)}}},n.prototype.encode=function(){this.encodedData=t.MessagePack.encode(this.data),this.data=null,this.dataBlocks=null},n.prototype.flush=function(t){t.writeBinary(this.encodedData)},n}();t.Writer=n}(e=t.Binary||(t.Binary={}))}(f||(f={}));var d={};(function(n,o,a){function s(t){return t&&t.Object===Object?t:null}function u(t){for(var e=t.length,n=new Array(e),r=0;r<e;r++)n[r]=t[r];return n}function c(t){return function(){try{return t.apply(this,arguments)}catch(t){return Mt.e=t,Mt}}}function l(t){throw t}function h(t,e){if(Pt&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&t.stack.indexOf(It)===-1){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var i=n.join("\n"+It+"\n");t.stack=p(i)}}function p(t){for(var e=t.split("\n"),n=[],r=0,i=e.length;r<i;r++){var o=e[r];f(o)||d(o)||!o||n.push(o)}return n.join("\n")}function f(t){var e=y(t);if(!e)return!1;var n=e[0],r=e[1];return n===Rt&&r>=Ot&&r<=Ci}function d(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function m(){if(Pt)try{throw new Error}catch(r){var t=r.stack.split("\n"),e=t[0].indexOf("@")>0?t[1]:t[2],n=y(e);if(!n)return;return Rt=n[0],n[1]}}function y(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function v(t,e,n,r,i,o){var s=_e(t),u=s.length,c=_e(e),l=c.length;if(u!==l&&!r)return!1;for(var h,p=u;p--;)if(h=s[p],!(r?h in e:ve.call(e,h)))return!1;for(var f=r;++p<u;){h=s[p];var d,m=t[h],y=e[h];if(!(d===a?n(m,y,r,i,o):d))return!1;f||(f="constructor"===h)}if(!f){var v=t.constructor,g=e.constructor;if(v!==g&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g))return!1}return!0}function g(t,e,n){switch(n){case Yt:case Kt:return+t===+e;case Zt:return t.name===e.name&&t.message===e.message;case Jt:return t!==+t?e!==+e:t===+e;case ee:case re:return t===e+""}return!1}function b(t){return!!t&&"object"==typeof t}function _(t){return"number"==typeof t&&t>-1&&t%1===0&&t<=be}function x(t){return b(t)&&_(t.length)&&!!me[ge.call(t)]}function w(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function C(t,e,n,r,i,o){var s=-1,u=t.length,c=e.length;if(u!==c&&!(r&&c>u))return!1;for(;++s<u;){var l,h=t[s],p=e[s];if(l!==a){if(l)continue;return!1}if(r){if(!w(e,function(t){return h===t||n(h,t,r,i,o)}))return!1}else if(h!==p&&!n(h,p,r,i,o))return!1}return!0}function S(t,e,n,r,i,o){var a=Ce(t),s=Ce(e),u=Xt,c=Xt;a||(u=ge.call(t),u===Wt?u=te:u!==te&&(a=x(t))),s||(c=ge.call(e),c===Wt&&(c=te));var l=u===te&&!we(t),h=c===te&&!we(e),p=u===c;if(p&&!a&&!l)return g(t,e,u);if(!r){var f=l&&ve.call(t,"__wrapped__"),d=h&&ve.call(e,"__wrapped__");if(f||d)return n(f?t.value():t,d?e.value():e,r,i,o)}if(!p)return!1;i||(i=[]),o||(o=[]);for(var m=i.length;m--;)if(i[m]===t)return o[m]===e;i.push(t),o.push(e);var y=(a?C:v)(t,e,n,r,i,o);return i.pop(),o.pop(),y}function E(t,e,n,r,i){return t===e||(null==t||null==e||!xe(t)&&!b(e)?t!==t&&e!==e:S(t,e,E,n,r,i))}function T(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e();return n}function M(t,e){this.id=t,this.value=e}function A(t){this._s=t,this.isDisposed=!1}function P(t){this._s=t}function k(t){this._s=t,this._l=t.length,this._i=0}function R(t){this._a=t}function O(t){this._a=t,this._l=L(t),this._i=0}function I(t){return"number"==typeof t&&vt.isFinite(t)}function N(t){var e,n=t[Bt];if(!n&&"string"==typeof t)return e=new P(t),e[Bt]();if(!n&&t.length!==a)return e=new R(t),e[Bt]();if(!n)throw new TypeError("Object is not iterable");return t[Bt]()}function D(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}function L(t){var e=+t.length;return isNaN(e)?0:0!==e&&I(e)?(e=D(e)*Math.floor(Math.abs(e)),e<=0?0:e>In?In:e):e}function V(t,e){return ze(t)||(t=Ye),new Dn(e,t)}function F(t,e){this.observer=t,this.parent=e}function j(){return!1}function B(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function j(){return!1}function B(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function j(){return!1}function U(){return[]}function j(){return!1}function U(){return[]}function B(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function z(t){return function(e){return t.subscribe(e)}}function H(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function H(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function G(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=r[t[i]];if("undefined"==typeof o)return a;r=o}return r}}function q(t,e,n,r){var i=new bi;return r.push(W(i,e,n)),t.apply(e,r),i.asObservable()}function W(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(Tt(n)){if(i=At(n).apply(e,i),i===Mt)return t.onError(i.e);t.onNext(i)}else i.length<=1?t.onNext(i[0]):t.onNext(i);t.onCompleted()}}function X(t,e,n,r){var i=new bi;return r.push(Y(i,e,n)),t.apply(e,r),i.asObservable()}function Y(t,e,n){return function(){var r=arguments[0];if(r)return t.onError(r);for(var i=arguments.length,o=[],a=1;a<i;a++)o[a-1]=arguments[a];if(Tt(n)){var o=At(n).apply(e,o);if(o===Mt)return t.onError(o.e);t.onNext(o)}else o.length<=1?t.onNext(o[0]):t.onNext(o);t.onCompleted()}}function K(t){return vt.StaticNodeList?t instanceof vt.StaticNodeList||t instanceof vt.NodeList:"[object NodeList]"===Object.prototype.toString.call(t)}function Z(t,e,n){this._e=t,this._n=e,this._fn=n,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function Q(t,e,n){var r=new Me,i=Object.prototype.toString.call(t);if(K(t)||"[object HTMLCollection]"===i)for(var o=0,a=t.length;o<a;o++)r.add(Q(t.item(o),e,n));else t&&r.add(new Z(t,e,n));return r}function $(t,e){return new ti(t,e)}function J(t,e,n){return new mi(function(r){var i=t,o=Ue(e);return n.scheduleRecursiveFuture(0,i,function(t,e){if(o>0){var a=n.now();i=new Date(i.getTime()+o),i.getTime()<=a&&(i=new Date(a+o))}r.onNext(t),e(t+1,new Date(i))})})}function tt(t,e,n){return t===e?new mi(function(t){return n.schedulePeriodic(0,e,function(e){return t.onNext(e),e+1})}):An(function(){return J(new Date(n.now()+t),e,n)})}function et(t,e,n){return new mi(function(r){var i,o=!1,a=new Le,s=null,u=[],c=!1;return i=t.materialize().timestamp(n).subscribe(function(t){var i,l;"E"===t.value.kind?(u=[],u.push(t),s=t.value.error,l=!c):(u.push({value:t.value,timestamp:t.timestamp+e}),l=!o,o=!0),l&&(null!==s?r.onError(s):(i=new De,a.setDisposable(i),i.setDisposable(n.scheduleRecursiveFuture(null,e,function(t,e){var i,a,l,h;if(null===s){c=!0;do l=null,u.length>0&&u[0].timestamp-n.now()<=0&&(l=u.shift().value),null!==l&&l.accept(r);while(null!==l);h=!1,a=0,u.length>0?(h=!0,a=Math.max(0,u[0].timestamp-n.now())):o=!1,i=s,c=!1,null!==i?r.onError(i):h&&e(null,a)}}))))}),new Ve(i,a)},t)}function nt(t,e,n){return An(function(){return et(t,e-n.now(),n)})}function rt(t,e,n){var r,i;return Tt(e)?i=e:(r=e,i=n),new mi(function(e){function n(){u.setDisposable(t.subscribe(function(t){var n=At(i)(t);if(n===Mt)return e.onError(n.e);var r=new De;a.add(r),r.setDisposable(n.subscribe(function(){e.onNext(t),a.remove(r),o()},function(t){e.onError(t)},function(){e.onNext(t),a.remove(r),o()}))},function(t){e.onError(t)},function(){s=!0,u.dispose(),o()}))}function o(){s&&0===a.length&&e.onCompleted()}var a=new Me,s=!1,u=new Le;return r?u.setDisposable(r.subscribe(n,function(t){e.onError(t)},n)):n(),new Ve(u,a)},t)}function it(t,e){return new mi(function(n){var r,i=!1,o=new Le,a=0,s=t.subscribe(function(t){var s=At(e)(t);if(s===Mt)return n.onError(s.e);Et(s)&&(s=Zr(s)),i=!0,r=t,a++;var u=a,c=new De;o.setDisposable(c),c.setDisposable(s.subscribe(function(){i&&a===u&&n.onNext(r),i=!1,c.dispose()},function(t){n.onError(t)},function(){i&&a===u&&n.onNext(r),i=!1,c.dispose()}))},function(t){o.dispose(),n.onError(t),i=!1,a++},function(){o.dispose(),i&&n.onNext(r),n.onCompleted(),i=!1,a++});return new Ve(s,o)},t)}function ot(t,e,n,r){return Tt(e)&&(r=n,n=e,e=jn()),mn.isObservable(r)||(r=qn(new ci)),new mi(function(i){function o(t){function e(){return h=n===l}var n=l,o=new De;u.setDisposable(o),o.setDisposable(t.subscribe(function(){e()&&s.setDisposable(r.subscribe(i)),o.dispose()},function(t){e()&&i.onError(t)},function(){e()&&s.setDisposable(r.subscribe(i))}))}function a(){var t=!h;return t&&l++,t}var s=new Le,u=new Le,c=new De;s.setDisposable(c);var l=0,h=!1;return o(e),c.setDisposable(t.subscribe(function(t){if(a()){i.onNext(t);var e=At(n)(t);if(e===Mt)return i.onError(e.e);o(Et(e)?Zr(e):e)}},function(t){a()&&i.onError(t)},function(){a()&&i.onCompleted()})),new Ve(s,u)},t)}function at(t,e,n,r){return ze(n)&&(r=n,n=qn(new ci)),n instanceof Error&&(n=qn(n)),ze(r)||(r=Je),mn.isObservable(n)||(n=qn(new ci)),new mi(function(i){function o(){var t=a;l.setDisposable(r.scheduleFuture(null,e,function(){c=a===t,c&&(Et(n)&&(n=Zr(n)),u.setDisposable(n.subscribe(i)))}))}var a=0,s=new De,u=new Le,c=!1,l=new Le;return u.setDisposable(s),o(),s.setDisposable(t.subscribe(function(t){c||(a++,i.onNext(t),o())},function(t){c||(a++,i.onError(t))},function(){c||(a++,i.onCompleted())})),new Ve(u,l)},t)}function st(t,e,n){return new mi(function(r){function i(t,e){if(c[e]=t,a[e]=!0,s||(s=a.every(_t))){if(o)return r.onError(o);var i=At(n).apply(null,c);if(i===Mt)return r.onError(i.e);r.onNext(i)}u&&c[1]&&r.onCompleted()}var o,a=[!1,!1],s=!1,u=!1,c=new Array(2);return new Ve(t.subscribe(function(t){i(t,0)},function(t){c[1]?r.onError(t):o=t},function(){u=!0,c[1]&&r.onCompleted()}),e.subscribe(function(t){i(t,1)},function(t){r.onError(t)},function(){u=!0,i(!0,1)}))},t)}function ut(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}var ct={function:!0,object:!0},lt=ct[typeof e]&&e&&!e.nodeType?e:null,ht=ct[typeof i]&&i&&!i.nodeType?i:null,pt=s(lt&&ht&&"object"==typeof r&&r),ft=s(ct[typeof self]&&self),dt=s(ct[typeof window]&&window),mt=ht&&ht.exports===lt?lt:null,yt=s(ct[typeof this]&&this),vt=pt||dt!==(yt&&yt.window)&&dt||ft||yt||Function("return this")(),gt={internals:{},config:{Promise:o},helpers:{}},bt=gt.helpers.noop=function(){},_t=gt.helpers.identity=function(t){return t},xt=gt.helpers.defaultNow=Date.now,wt=gt.helpers.defaultComparer=function(t,e){return Se(t,e)},Ct=gt.helpers.defaultSubComparer=function(t,e){return t>e?1:t<e?-1:0},St=(gt.helpers.defaultKeySerializer=function(t){return t.toString()},gt.helpers.defaultError=function(t){throw t}),Et=gt.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},Tt=gt.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==toString.call(t)}),t}(),Mt={e:{}},At=gt.internals.tryCatch=function(t){if(!Tt(t))throw new TypeError("fn must be a function");return c(t)};gt.config.longStackSupport=!1;var Pt=!1,kt=At(function(){throw new Error})();Pt=!!kt.e&&!!kt.e.stack;var Rt,Ot=m(),It="From previous event:",Nt=gt.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};Nt.prototype=Object.create(Error.prototype),Nt.prototype.name="EmptyError";var Dt=gt.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};Dt.prototype=Object.create(Error.prototype),Dt.prototype.name="ObjectDisposedError";var Lt=gt.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};Lt.prototype=Object.create(Error.prototype),Lt.prototype.name="ArgumentOutOfRangeError";var Vt=gt.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};Vt.prototype=Object.create(Error.prototype),Vt.prototype.name="NotSupportedError";var Ft=gt.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};Ft.prototype=Object.create(Error.prototype),Ft.prototype.name="NotImplementedError";var jt=gt.helpers.notImplemented=function(){throw new Ft},Bt=(gt.helpers.notSupported=function(){throw new Vt},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");vt.Set&&"function"==typeof(new vt.Set)["@@iterator"]&&(Bt="@@iterator");var Ut=gt.doneEnumerator={done:!0,value:a},zt=gt.helpers.isIterable=function(t){return t&&t[Bt]!==a},Ht=gt.helpers.isArrayLike=function(t){return t&&t.length!==a};gt.helpers.iterator=Bt;var Gt=gt.internals.bindCallback=function(t,e,n){if("undefined"==typeof e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},qt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Wt=(qt.length,"[object Arguments]"),Xt="[object Array]",Yt="[object Boolean]",Kt="[object Date]",Zt="[object Error]",Qt="[object Function]",$t="[object Map]",Jt="[object Number]",te="[object Object]",ee="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object WeakMap]",oe="[object ArrayBuffer]",ae="[object Float32Array]",se="[object Float64Array]",ue="[object Int8Array]",ce="[object Int16Array]",le="[object Int32Array]",he="[object Uint8Array]",pe="[object Uint8ClampedArray]",fe="[object Uint16Array]",de="[object Uint32Array]",me={};me[ae]=me[se]=me[ue]=me[ce]=me[le]=me[he]=me[pe]=me[fe]=me[de]=!0,me[Wt]=me[Xt]=me[oe]=me[Yt]=me[Kt]=me[Zt]=me[Qt]=me[$t]=me[Jt]=me[te]=me[ee]=me[ne]=me[re]=me[ie]=!1;var ye=Object.prototype,ve=ye.hasOwnProperty,ge=ye.toString,be=Math.pow(2,53)-1,_e=Object.keys||function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in i)t.call(i,o)&&s.push(o);if(e)for(a=0;a<r;a++)t.call(i,n[a])&&s.push(n[a]);return s}}(),xe=gt.internals.isObject=function(t){var e=typeof t;return!!t&&("object"===e||"function"===e)},we=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),Ce=Array.isArray||function(t){return b(t)&&_(t.length)&&ge.call(t)===Xt},Se=gt.internals.isEqual=function(t,e){return E(t,e)},Ee=({}.hasOwnProperty,Array.prototype.slice,gt.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}),Te=gt.internals.addProperties=function(t){for(var e=[],n=1,r=arguments.length;n<r;n++)e.push(arguments[n]);for(var i=0,o=e.length;i<o;i++){var a=e[i];for(var s in a)t[s]=a[s]}},Me=(gt.internals.addRef=function(t,e){return new mi(function(n){return new Ve(e.getDisposable(),t.subscribe(n))})},gt.CompositeDisposable=function(){var t,e,n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this.disposables=n,this.isDisposed=!1,this.length=n.length}),Ae=Me.prototype;Ae.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},Ae.remove=function(t){var e=!1;if(!this.isDisposed){var n=this.disposables.indexOf(t);n!==-1&&(e=!0,this.disposables.splice(n,1),this.length--,t.dispose())}return e},Ae.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),n=0;n<t;n++)e[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;n<t;n++)e[n].dispose()}};var Pe=gt.Disposable=function(t){this.isDisposed=!1,this.action=t||bt};Pe.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var ke=Pe.create=function(t){return new Pe(t)},Re=Pe.empty={dispose:bt},Oe=Pe.isDisposable=function(t){return t&&Tt(t.dispose)},Ie=Pe.checkDisposed=function(t){if(t.isDisposed)throw new Dt},Ne=Pe._fixup=function(t){return Oe(t)?t:Re},De=gt.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};De.prototype.getDisposable=function(){return this.current},De.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},De.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}};var Le=gt.SerialDisposable=function(){this.isDisposed=!1,this.current=null};Le.prototype.getDisposable=function(){return this.current},Le.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var n=this.current;this.current=t}n&&n.dispose(),e&&t&&t.dispose()},Le.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var Ve=gt.BinaryDisposable=function(t,e){this._first=t,this._second=e,this.isDisposed=!1};Ve.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this._first;this._first=null,t&&t.dispose();var e=this._second;this._second=null,e&&e.dispose()}};var Fe=gt.NAryDisposable=function(t){this._disposables=t,this.isDisposed=!1};Fe.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=0,e=this._disposables.length;t<e;t++)this._disposables[t].dispose();this._disposables.length=0}};var je=(gt.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){
this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?Re:new t(this)},e}(),gt.internals.ScheduledItem=function(t,e,n,r,i){this.scheduler=t,this.state=e,this.action=n,this.dueTime=r,this.comparer=i||Ct,this.disposable=new De});je.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},je.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},je.prototype.isCancelled=function(){return this.disposable.isDisposed},je.prototype.invokeCore=function(){return Ne(this.action(this.scheduler,this.state))};var Be=gt.Scheduler=function(){function t(){}t.isScheduler=function(e){return e instanceof t};var e=t.prototype;return e.schedule=function(t,e){throw new Ft},e.scheduleFuture=function(e,n,r){var i=n;return i instanceof Date&&(i-=this.now()),i=t.normalize(i),0===i?this.schedule(e,r):this._scheduleFuture(e,i,r)},e._scheduleFuture=function(t,e,n){throw new Ft},t.now=xt,t.prototype.now=xt,t.normalize=function(t){return t<0&&(t=0),t},t}(),Ue=Be.normalize,ze=Be.isScheduler;!function(t){function e(t,e){function n(e){function r(t,e){return a?o.remove(u):s=!0,i(e,n),Re}var a=!1,s=!1,u=t.schedule(e,r);s||(o.add(u),a=!0)}var r=e[0],i=e[1],o=new Me;return i(r,n),o}function n(t,e){function n(e,r){function a(t,e){return s?o.remove(c):u=!0,i(e,n),Re}var s=!1,u=!1,c=t.scheduleFuture(e,r,a);u||(o.add(c),s=!0)}var r=e[0],i=e[1],o=new Me;return i(r,n),o}t.scheduleRecursive=function(t,n){return this.schedule([t,n],e)},t.scheduleRecursiveFuture=function(t,e,r){return this.scheduleFuture([t,r],e,n)}}(Be.prototype),function(t){t.schedulePeriodic=function(t,e,n){if("undefined"==typeof vt.setInterval)throw new Vt;e=Ue(e);var r=t,i=vt.setInterval(function(){r=n(r)},e);return ke(function(){vt.clearInterval(i)})}}(Be.prototype);var He,Ge,qe=function(t){function e(){t.call(this)}return Ee(e,t),e.prototype.schedule=function(t,e){return Ne(e(this,t))},e}(Be),We=Be.immediate=new qe,Xe=function(t){function e(){for(;r.length>0;){var t=r.dequeue();!t.isCancelled()&&t.invoke()}}function n(){t.call(this)}var r;return Ee(n,t),n.prototype.schedule=function(t,n){var i=new je(this,t,n,this.now());if(r)r.enqueue(i);else{r=new tn(4),r.enqueue(i);var o=At(e)();r=null,o===Mt&&l(o.e)}return i.disposable},n.prototype.scheduleRequired=function(){return!r},n}(Be),Ye=Be.currentThread=new Xe,Ke=(gt.internals.SchedulePeriodicRecursive=function(){function t(t){return function(e,n){n(0,t._period);var r=At(t._action)(t._state);r===Mt&&(t._cancel.dispose(),l(r.e)),t._state=r}}function e(t,e,n,r){this._scheduler=t,this._state=e,this._period=n,this._action=r}return e.prototype.start=function(){var e=new De;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,t(this))),e},e}(),function(){var t,e=bt;if(vt.setTimeout)t=vt.setTimeout,e=vt.clearTimeout;else{if(!vt.WScript)throw new Vt;t=function(t,e){vt.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}()),Ze=Ke.setTimeout,Qe=Ke.clearTimeout;!function(){function e(t){if(o)Ze(function(){e(t)},0);else{var n=i[t];if(n){o=!0;var r=At(n)();Ge(t),o=!1,r===Mt&&l(r.e)}}}function n(){if(!vt.postMessage||vt.importScripts)return!1;var t=!1,e=vt.onmessage;return vt.onmessage=function(){t=!0},vt.postMessage("","*"),vt.onmessage=e,t}var r=1,i={},o=!1;Ge=function(t){delete i[t]};var a=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),s="function"==typeof(s=pt&&mt&&pt.setImmediate)&&!a.test(s)&&s;if(Tt(s))He=function(t){var n=r++;return i[n]=t,s(function(){e(n)}),n};else if("undefined"!=typeof t&&"[object process]"==={}.toString.call(t))He=function(n){var o=r++;return i[o]=n,t.nextTick(function(){e(o)}),o};else if(n()){var u="ms.rx.schedule"+Math.random(),c=function(t){"string"==typeof t.data&&t.data.substring(0,u.length)===u&&e(t.data.substring(u.length))};vt.addEventListener("message",c,!1),He=function(t){var e=r++;return i[e]=t,vt.postMessage(u+e,"*"),e}}else if(vt.MessageChannel){var h=new vt.MessageChannel;h.port1.onmessage=function(t){e(t.data)},He=function(t){var e=r++;return i[e]=t,h.port2.postMessage(e),e}}else He="document"in vt&&"onreadystatechange"in vt.document.createElement("script")?function(t){var n=vt.document.createElement("script"),o=r++;return i[o]=t,n.onreadystatechange=function(){e(o),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},vt.document.documentElement.appendChild(n),o}:function(t){var n=r++;return i[n]=t,Ze(function(){e(n)},0),n}}();var $e=function(t){function e(){t.call(this)}function n(t,e,n,r){return function(){t.setDisposable(Pe._fixup(e(n,r)))}}function r(t){this._id=t,this.isDisposed=!1}function i(t){this._id=t,this.isDisposed=!1}function o(t,e,n){return function(){e(t,n)}}return Ee(e,t),r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Ge(this._id))},i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Qe(this._id))},e.prototype.schedule=function(t,e){var i=new De,o=He(n(i,e,this,t));return new Ve(i,new r(o))},e.prototype._scheduleFuture=function(t,e,r){if(0===e)return this.schedule(t,r);var o=new De,a=Ze(n(o,r,this,t),e);return new Ve(o,new i(a))},e.prototype.scheduleLongRunning=function(t,e){var n=ke(bt);return He(o(t,e,n)),n},e}(Be),Je=Be.default=Be.async=new $e;M.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var tn=gt.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},en=tn.prototype;en.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},en.percolate=function(t){if(!(t>=this.length||t<0)){var e=t-1>>1;if(!(e<0||e===t)&&this.isHigherPriority(t,e)){var n=this.items[t];this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)}}},en.heapify=function(t){if(+t||(t=0),!(t>=this.length||t<0)){var e=2*t+1,n=2*t+2,r=t;if(e<this.length&&this.isHigherPriority(e,r)&&(r=e),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==t){var i=this.items[t];this.items[t]=this.items[r],this.items[r]=i,this.heapify(r)}}},en.peek=function(){return this.items[0].value},en.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=a,this.heapify()},en.dequeue=function(){var t=this.peek();return this.removeAt(0),t},en.enqueue=function(t){var e=this.length++;this.items[e]=new M(tn.count++,t),this.percolate(e)},en.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},tn.count=0;var nn,rn=gt.Notification=function(){function t(){}return t.prototype._accept=function(t,e,n){throw new Ft},t.prototype._acceptObserver=function(t,e,n){throw new Ft},t.prototype.accept=function(t,e,n){return t&&"object"==typeof t?this._acceptObserver(t):this._accept(t,e,n)},t.prototype.toObservable=function(t){var e=this;return ze(t)||(t=We),new mi(function(n){return t.schedule(e,function(t,e){e._acceptObserver(n),"N"===e.kind&&n.onCompleted()})})},t}(),on=function(t){function e(t){this.value=t,this.kind="N"}return Ee(e,t),e.prototype._accept=function(t){return t(this.value)},e.prototype._acceptObserver=function(t){return t.onNext(this.value)},e.prototype.toString=function(){return"OnNext("+this.value+")"},e}(rn),an=function(t){function e(t){this.error=t,this.kind="E"}return Ee(e,t),e.prototype._accept=function(t,e){return e(this.error)},e.prototype._acceptObserver=function(t){return t.onError(this.error)},e.prototype.toString=function(){return"OnError("+this.error+")"},e}(rn),sn=function(t){function e(){this.kind="C"}return Ee(e,t),e.prototype._accept=function(t,e,n){return n()},e.prototype._acceptObserver=function(t){return t.onCompleted()},e.prototype.toString=function(){return"OnCompleted()"},e}(rn),un=rn.createOnNext=function(t){return new on(t)},cn=rn.createOnError=function(t){return new an(t)},ln=rn.createOnCompleted=function(){return new sn},hn=gt.Observer=function(){},pn=hn.create=function(t,e,n){return t||(t=bt),e||(e=St),n||(n=bt),new dn(t,e,n)},fn=gt.internals.AbstractObserver=function(t){function e(){this.isStopped=!1}return Ee(e,t),e.prototype.next=jt,e.prototype.error=jt,e.prototype.completed=jt,e.prototype.onNext=function(t){!this.isStopped&&this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.error(t),!0)},e}(hn),dn=gt.AnonymousObserver=function(t){function e(e,n,r){t.call(this),this._onNext=e,this._onError=n,this._onCompleted=r}return Ee(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(fn),mn=gt.Observable=function(){function t(t,e){return function(n){var r=n.onError;return n.onError=function(e){h(e,t),r.call(n,e)},e.call(t,n)}}function e(){if(gt.config.longStackSupport&&Pt){var e=this._subscribe,n=At(l)(new Error).e;this.stack=n.stack.substring(n.stack.indexOf("\n")+1),this._subscribe=t(this,e)}}return nn=e.prototype,e.isObservable=function(t){return t&&Tt(t.subscribe)},nn.subscribe=nn.forEach=function(t,e,n){return this._subscribe("object"==typeof t?t:pn(t,e,n))},nn.subscribeOnNext=function(t,e){return this._subscribe(pn("undefined"!=typeof e?function(n){t.call(e,n)}:t))},nn.subscribeOnError=function(t,e){return this._subscribe(pn(null,"undefined"!=typeof e?function(n){t.call(e,n)}:t))},nn.subscribeOnCompleted=function(t,e){return this._subscribe(pn(null,null,"undefined"!=typeof e?function(){t.call(e)}:t))},e}(),yn=gt.internals.ScheduledObserver=function(t){function e(e,n){t.call(this),this.scheduler=e,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Le}function n(t,e){return function(){t.onNext(e)}}function r(t,e){return function(){t.onError(e)}}function i(t){return function(){t.onCompleted()}}function o(t,e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();var r=At(n)();return r===Mt?(t.queue=[],t.hasFaulted=!0,l(r.e)):void e(t)}return Ee(e,t),e.prototype.next=function(t){this.queue.push(n(this.observer,t))},e.prototype.error=function(t){this.queue.push(r(this.observer,t))},e.prototype.completed=function(){this.queue.push(i(this.observer))},e.prototype.ensureActive=function(){var t=!1;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,o))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(fn),vn=gt.ObservableBase=function(t){function e(t){return t&&Tt(t.dispose)?t:Tt(t)?ke(t):Re}function n(t,n){var r=n[0],i=n[1],o=At(i.subscribeCore).call(i,r);o!==Mt||r.fail(Mt.e)||l(Mt.e),r.setDisposable(e(o))}function r(){t.call(this)}return Ee(r,t),r.prototype._subscribe=function(t){var e=new yi(t),r=[e,this];return Ye.scheduleRequired()?Ye.schedule(r,n):n(null,r),e},r.prototype.subscribeCore=jt,r}(mn),gn=gt.FlatMapObservable=function(t){function e(e,n,r,i){this.resultSelector=Tt(r)?r:null,this.selector=Gt(Tt(n)?n:function(){return n},i,3),this.source=e,t.call(this)}function n(t,e,n,r){this.i=0,this.selector=e,this.resultSelector=n,this.source=r,this.o=t,fn.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.selector,this.resultSelector,this))},Ee(n,fn),n.prototype._wrapResult=function(t,e,n){return this.resultSelector?t.map(function(t,r){return this.resultSelector(e,t,n,r)},this):t},n.prototype.next=function(t){var e=this.i++,n=At(this.selector)(t,e,this.source);return n===Mt?this.o.onError(n.e):(Et(n)&&(n=Zr(n)),(Ht(n)||zt(n))&&(n=mn.from(n)),void this.o.onNext(this._wrapResult(n,t,e)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(vn),bn=gt.internals.Enumerable=function(){};A.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var _n=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=At(t.e.next).call(t.e);if(n===Mt)return t.o.onError(n.e);if(n.done)return t.o.onCompleted();var i=n.value;Et(i)&&(i=Zr(i));var o=new De;t.subscription.setDisposable(o),o.setDisposable(i.subscribe(new r(t,e)))}}function r(t,e){this._state=t,this._recurse=e,fn.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new Le,r={isDisposed:!1,o:t,subscription:e,e:this.sources[Bt]()},i=Ye.scheduleRecursive(r,n);return new Fe([e,i,new A(r)])},Ee(r,fn),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.o.onError(t)},r.prototype.completed=function(){this._recurse(this._state)},e}(vn);bn.prototype.concat=function(){return new _n(this)};var xn=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=At(t.e.next).call(t.e);if(n===Mt)return t.o.onError(n.e);if(n.done)return null!==t.lastError?t.o.onError(t.lastError):t.o.onCompleted();var i=n.value;Et(i)&&(i=Zr(i));var o=new De;t.subscription.setDisposable(o),o.setDisposable(i.subscribe(new r(t,e)))}}function r(t,e){this._state=t,this._recurse=e,fn.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new Le,r={isDisposed:!1,e:this.sources[Bt](),subscription:e,lastError:null,o:t},i=Ye.scheduleRecursive(r,n);return new Fe([e,i,new A(r)])},Ee(r,fn),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.lastError=t,this._recurse(this._state)},r.prototype.completed=function(){this._state.o.onCompleted()},e}(vn);bn.prototype.catchError=function(){return new xn(this)};var wn=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function n(t){this.v=t.v,this.l=t.c}return Ee(e,t),e.prototype[Bt]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?Ut:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(bn),Cn=bn.repeat=function(t,e){return new wn(t,e)},Sn=function(t){function e(t,e,n){this.s=t,this.fn=e?Gt(e,n,3):null}function n(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return Ee(e,t),e.prototype[Bt]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:Ut},e}(bn),En=bn.of=function(t,e,n){return new Sn(t,e,n)},Tn=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.a=[],fn.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},Ee(n,fn),n.prototype.next=function(t){this.a.push(t)},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},e}(vn);nn.toArray=function(){return new Tn(this)},mn.create=function(t,e){return new mi(t,e)};var Mn=function(t){function e(e){this._f=e,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=At(this._f)();return e===Mt?qn(e.e).subscribe(t):(Et(e)&&(e=Zr(e)),e.subscribe(t))},e}(vn),An=mn.defer=function(t){return new Mn(t)},Pn=function(t){function e(e){this.scheduler=e,t.call(this)}function n(t,e){this.observer=t,this.scheduler=e}function r(t,e){return e.onCompleted(),Re}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new n(t,this.scheduler);return e.run()},n.prototype.run=function(){var t=this.observer;return this.scheduler===We?r(null,t):this.scheduler.schedule(t,r)},e}(vn),kn=new Pn(We),Rn=mn.empty=function(t){return ze(t)||(t=We),t===We?kn:new Pn(t)},On=function(t){function e(e,n,r){this._iterable=e,this._fn=n,this._scheduler=r,t.call(this)}function n(t,e,n){return function(r,i){var o=At(e.next).call(e);if(o===Mt)return t.onError(o.e);if(o.done)return t.onCompleted();var a=o.value;return Tt(n)&&(a=At(n)(a,r),a===Mt)?t.onError(a.e):(t.onNext(a),void i(r+1))}}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=Object(this._iterable),r=N(e);return this._scheduler.scheduleRecursive(0,n(t,r,this._fn))},e}(vn),In=Math.pow(2,53)-1;P.prototype[Bt]=function(){return new k(this._s)},k.prototype[Bt]=function(){return this},k.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:Ut},R.prototype[Bt]=function(){return new O(this._a)},O.prototype[Bt]=function(){return this},O.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:Ut};var Nn=mn.from=function(t,e,n,r){if(null==t)throw new Error("iterable cannot be null.");if(e&&!Tt(e))throw new Error("mapFn when provided must be a function");if(e)var i=Gt(e,n,2);return ze(r)||(r=Ye),new On(t,i,r)},Dn=function(t){function e(e,n){this._args=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e.length;return function(r,i){r<n?(t.onNext(e[r]),i(r+1)):t.onCompleted()}}return Ee(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._args))},e}(vn),Ln=mn.fromArray=function(t,e){return ze(e)||(e=Ye),new Dn(t,e)},Vn=function(t){function e(){t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return Re},e}(vn),Fn=new Vn,jn=mn.never=function(){return Fn};mn.of=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Dn(e,Ye)},mn.ofWithScheduler=function(t){for(var e=arguments.length,n=new Array(e-1),r=1;r<e;r++)n[r-1]=arguments[r];return new Dn(n,t)};var Bn=function(t){function e(e,n){this._o=e,this._keys=Object.keys(e),this._scheduler=n,t.call(this)}function n(t,e,n){return function(r,i){if(r<n.length){var o=n[r];t.onNext([o,e[o]]),i(r+1)}else t.onCompleted()}}return Ee(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._o,this._keys))},e}(vn);mn.pairs=function(t,e){return e||(e=Ye),new Bn(t,e)};var Un=function(t){function e(e,n,r){this.start=e,this.rangeCount=n,this.scheduler=r,t.call(this)}function n(t,e,n){return function(r,i){r<e?(n.onNext(t+r),i(r+1)):n.onCompleted()}}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.scheduler.scheduleRecursive(0,n(this.start,this.rangeCount,t))},e}(vn);mn.range=function(t,e,n){return ze(n)||(n=Ye),new Un(t,e,n)};var zn=function(t){function e(e,n,r){this.value=e,this.repeatCount=null==n?-1:n,this.scheduler=r,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new F(t,this);return e.run()},e}(vn);F.prototype.run=function(){function t(t,r){return(t===-1||t>0)&&(e.onNext(n),t>0&&t--),0===t?e.onCompleted():void r(t)}var e=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,t)},mn.repeat=function(t,e,n){return ze(n)||(n=Ye),new zn(t,e,n)};var Hn=function(t){function e(e,n){this._value=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];return r.onNext(n),r.onCompleted(),Re}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=[this._value,t];return this._scheduler===We?n(null,e):this._scheduler.schedule(e,n)},e}(vn),Gn=(mn.return=mn.just=function(t,e){return ze(e)||(e=We),new Hn(t,e)},function(t){function e(e,n){this._error=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];return r.onError(n),Re}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=[this._error,t];return this._scheduler===We?n(null,e):this._scheduler.schedule(e,n)},e}(vn)),qn=mn.throw=function(t,e){return ze(e)||(e=We),new Gn(t,e)},Wn=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new De,n=new Le;return n.setDisposable(e),e.setDisposable(this.source.subscribe(new Xn(t,n,this._fn))),n},e}(vn),Xn=function(t){function e(e,n,r){this._o=e,this._s=n,this._fn=r,t.call(this)}return Ee(e,t),e.prototype.next=function(t){this._o.onNext(t)},e.prototype.completed=function(){return this._o.onCompleted()},e.prototype.error=function(t){var e=At(this._fn)(t);if(e===Mt)return this._o.onError(e.e);Et(e)&&(e=Zr(e));var n=new De;this._s.setDisposable(n),n.setDisposable(e.subscribe(this._o))},e}(fn);nn.catch=function(t){return Tt(t)?new Wn(this,t):Yn([this,t])};var Yn=mn.catch=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return En(t).catchError()};nn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Qn.apply(this,e)};var Kn=function(t){function e(e,n){this._params=e,this._cb=n,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){for(var e=this._params.length,n=new Array(e),r={hasValue:T(e,j),hasValueAll:!1,isDone:T(e,j),values:new Array(e)},i=0;i<e;i++){var o=this._params[i],a=new De;n[i]=a,Et(o)&&(o=Zr(o)),a.setDisposable(o.subscribe(new Zn(t,i,this._cb,r)))}return new Fe(n)},e}(vn),Zn=function(t){function e(e,n,r,i){this._o=e,this._i=n,this._cb=r,this._state=i,t.call(this)}function n(t){return function(e,n){return n!==t}}return Ee(e,t),e.prototype.next=function(t){if(this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(_t))){var e=At(this._cb).apply(null,this._state.values);if(e===Mt)return this._o.onError(e.e);this._o.onNext(e)}else this._state.isDone.filter(n(this._i)).every(_t)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(_t)&&this._o.onCompleted()},e}(fn),Qn=mn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Tt(e[t-1])?e.pop():B;return Array.isArray(e[0])&&(e=e[0]),new Kn(e,r)};nn.concat=function(){for(var t=[],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);return t.unshift(this),tr.apply(null,t)};var $n=function(t){function e(e,n){this._s=e,this._fn=n,t.call(this)}return Ee(e,t),e.prototype.next=function(t){this._s.o.onNext(t)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.i++,this._fn(this._s)},e}(fn),Jn=function(t){function e(e){this._sources=e,t.call(this)}function n(t,e){if(!t.disposable.isDisposed){if(t.i===t.sources.length)return t.o.onCompleted();var n=t.sources[t.i];Et(n)&&(n=Zr(n));var r=new De;t.subscription.setDisposable(r),r.setDisposable(n.subscribe(new $n(t,e)))}}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new Le,r=ke(bt),i={o:t,i:0,subscription:e,disposable:r,sources:this._sources},o=We.scheduleRecursive(i,n);return new Fe([e,r,o])},e}(vn),tr=mn.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,n=arguments.length;e<n;e++)t[e]=arguments[e]}return new Jn(t)};nn.concatAll=function(){return this.merge(1)};var er=function(t){function e(e,n){this.source=e,this.maxConcurrent=n,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new Me;return e.add(this.source.subscribe(new nr(t,this.maxConcurrent,e))),e},e}(vn),nr=function(t){function e(e,n,r){this.o=e,this.max=n,this.g=r,this.done=!1,this.q=[],this.activeCount=0,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Ee(e,t),e.prototype.handleSubscribe=function(t){var e=new De;this.g.add(e),Et(t)&&(t=Zr(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.next=function(t){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t)},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},Ee(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},e}(fn);nn.merge=function(t){return"number"!=typeof t?rr(this,t):new er(this,t)};var rr=mn.merge=function(){var t,e,n=[],r=arguments.length;if(arguments[0])if(ze(arguments[0]))for(t=arguments[0],e=1;e<r;e++)n.push(arguments[e]);else for(t=We,e=0;e<r;e++)n.push(arguments[e]);else for(t=We,e=1;e<r;e++)n.push(arguments[e]);return Array.isArray(n[0])&&(n=n[0]),V(t,n).mergeAll()},ir=gt.CompositeError=function(t){this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};ir.prototype=Object.create(Error.prototype),ir.prototype.name="CompositeError";var or=function(t){function e(e){this.source=e,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new Me,n=new De,r={isStopped:!1,errors:[],o:t};return e.add(n),n.setDisposable(this.source.subscribe(new ar(e,r))),e},e}(vn),ar=function(t){function e(e,n){this._group=e,this._state=n,t.call(this)}function n(t,e){0===e.length?t.onCompleted():1===e.length?t.onError(e[0]):t.onError(new ir(e))}function r(e,n,r){this._inner=e,this._group=n,this._state=r,t.call(this)}return Ee(e,t),e.prototype.next=function(t){var e=new De;this._group.add(e),Et(t)&&(t=Zr(t)),e.setDisposable(t.subscribe(new r(e,this._group,this._state)))},e.prototype.error=function(t){this._state.errors.push(t),this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},e.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},Ee(r,t),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.errors.push(t),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},r.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},e}(fn);mn.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}var r=V(null,t);return new or(r)};var sr=function(t){function e(e){this.source=e,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new Me,n=new De;return e.add(n),n.setDisposable(this.source.subscribe(new ur(t,e))),e},e}(vn),ur=function(t){function e(e,n){this.o=e,this.g=n,this.done=!1,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Ee(e,t),e.prototype.next=function(t){var e=new De;this.g.add(e),Et(t)&&(t=Zr(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},Ee(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},e}(fn);nn.mergeAll=function(){return new sr(this)};var cr=function(t){function e(e,n){this._s=e,this._o=Et(n)?Zr(n):n,this._open=!1,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new De;e.setDisposable(this._s.subscribe(new lr(t,this))),Et(this._o)&&(this._o=Zr(this._o));var n=new De;return n.setDisposable(this._o.subscribe(new hr(t,this,n))),new Ve(e,n)},e}(vn),lr=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Ee(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},e}(fn),hr=function(t){function e(e,n,r){this._o=e,this._p=n,this._r=r,t.call(this)}return Ee(e,t),e.prototype.next=function(){this._p._open=!0,this._r.dispose()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._r.dispose()},e}(fn);nn.skipUntil=function(t){return new cr(this,t)};var pr=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,fn.call(this)}function r(t,e){this.parent=t,this.id=e,fn.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new Le,r=this.source.subscribe(new n(t,e));return new Ve(r,e)},Ee(n,fn),n.prototype.next=function(t){var e=new De,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),Et(t)&&(t=Zr(t)),e.setDisposable(t.subscribe(new r(this,n)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},Ee(r,fn),r.prototype.next=function(t){this.parent.latest===this.id&&this.parent.o.onNext(t)},r.prototype.error=function(t){this.parent.latest===this.id&&this.parent.o.onError(t)},r.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},e}(vn);nn.switch=nn.switchLatest=function(){return new pr(this)};var fr=function(t){function e(e,n){this.source=e,this.other=Et(n)?Zr(n):n,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return new Ve(this.source.subscribe(t),this.other.subscribe(new dr(t)))},e}(vn),dr=function(t){function e(e){this._o=e,t.call(this)}return Ee(e,t),e.prototype.next=function(){this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=bt,e}(fn);nn.takeUntil=function(t){return new fr(this,t)};var mr=function(t){function e(e,n,r){this._s=e,this._ss=n,this._cb=r,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){for(var e=this._ss.length,n={hasValue:T(e,j),hasValueAll:!1,values:new Array(e)},r=this._ss.length,i=new Array(r+1),o=0;o<r;o++){var a=this._ss[o],s=new De;Et(a)&&(a=Zr(a)),s.setDisposable(a.subscribe(new yr(t,o,n))),i[o]=s}var u=new De;return u.setDisposable(this._s.subscribe(new vr(t,this._cb,n))),i[r]=u,new Fe(i)},e}(vn),yr=function(t){function e(e,n,r){this._o=e,this._i=n,this._state=r,t.call(this)}return Ee(e,t),e.prototype.next=function(t){this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(_t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=bt,e}(fn),vr=function(t){function e(e,n,r){this._o=e,this._cb=n,this._state=r,t.call(this)}return Ee(e,t),e.prototype.next=function(t){var e=[t].concat(this._state.values);if(this._state.hasValueAll){var n=At(this._cb).apply(null,e);return n===Mt?this._o.onError(n.e):void this._o.onNext(n)}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(fn);nn.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Tt(e[t-1])?e.pop():B;return Array.isArray(e[0])&&(e=e[0]),new mr(this,e,r)};var gr=function(t){function e(e,n){this._s=e,this._cb=n,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){for(var e=this._s.length,n=new Array(e),r=T(e,j),i=T(e,U),o=0;o<e;o++){var a=this._s[o],s=new De;n[o]=s,Et(a)&&(a=Zr(a)),s.setDisposable(a.subscribe(new br(t,o,this,i,r)))}return new Fe(n)},e}(vn),br=function(t){function e(e,n,r,i,o){this._o=e,this._i=n,this._p=r,this._q=i,this._d=o,t.call(this)}function n(t){return t.length>0}function r(t){return t.shift()}function i(t){return function(e,n){return n!==t}}return Ee(e,t),e.prototype.next=function(t){if(this._q[this._i].push(t),this._q.every(n)){var e=this._q.map(r),o=At(this._p._cb).apply(null,e);
if(o===Mt)return this._o.onError(o.e);this._o.onNext(o)}else this._d.filter(i(this._i)).every(_t)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d[this._i]=!0,this._d.every(_t)&&this._o.onCompleted()},e}(fn);nn.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Tt(e[t-1])?e.pop():B;Array.isArray(e[0])&&(e=e[0]);var i=this;return e.unshift(i),new gr(e,r)},mn.zip=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.isArray(e[0])&&(e=Tt(e[1])?e[0].concat(e[1]):e[0]);var r=e.shift();return r.zip.apply(r,e)};var _r=function(t){function e(e,n){this.sources=e,this._cb=n,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){for(var e=this.sources,n=e.length,r=new Array(n),i={q:T(n,U),done:T(n,j),cb:this._cb,o:t},o=0;o<n;o++)!function(t){var n=e[t],o=new De;(Ht(n)||zt(n))&&(n=Nn(n)),r[t]=o,o.setDisposable(n.subscribe(new xr(i,t)))}(o);return new Fe(r)},e}(vn),xr=function(t){function e(e,n){this._s=e,this._i=n,t.call(this)}function n(t){return t.length>0}function r(t){return t.shift()}function i(t){return function(e,n){return n!==t}}return Ee(e,t),e.prototype.next=function(t){if(this._s.q[this._i].push(t),this._s.q.every(n)){var e=this._s.q.map(r),o=At(this._s.cb).apply(null,e);if(o===Mt)return this._s.o.onError(o.e);this._s.o.onNext(o)}else this._s.done.filter(i(this._i)).every(_t)&&this._s.o.onCompleted()},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(_t)&&this._s.o.onCompleted()},e}(fn);nn.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Tt(e[t-1])?e.pop():B,i=this;return e.unshift(i),new _r(e,r)},nn.asObservable=function(){return new mi(z(this),this)};var wr=function(t){function e(e){this.source=e,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Cr(t))},e}(vn),Cr=function(t){function e(e){this._o=e,t.call(this)}return Ee(e,t),e.prototype.next=function(t){t.accept(this._o)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(fn);nn.dematerialize=function(){return new wr(this)};var Sr=function(t){function e(e,n,r){this.source=e,this.keyFn=n,this.comparer=r,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Er(t,this.keyFn,this.comparer))},e}(vn),Er=function(t){function e(e,n,r){this.o=e,this.keyFn=n,this.comparer=r,this.hasCurrentKey=!1,this.currentKey=null,t.call(this)}return Ee(e,t),e.prototype.next=function(t){var e,n=t;return Tt(this.keyFn)&&(n=At(this.keyFn)(t),n===Mt)?this.o.onError(n.e):this.hasCurrentKey&&(e=At(this.comparer)(this.currentKey,n),e===Mt)?this.o.onError(e.e):void(this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=n,this.o.onNext(t)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.o.onCompleted()},e}(fn);nn.distinctUntilChanged=function(t,e){return e||(e=wt),new Sr(this,t,e)};var Tr=function(t){function e(e,n,r,i){this.source=e,this._oN=n,this._oE=r,this._oC=i,t.call(this)}function n(t,e){this.o=t,this.t=!e._oN||Tt(e._oN)?pn(e._oN||bt,e._oE||bt,e._oC||bt):e._oN,this.isStopped=!1,fn.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this))},Ee(n,fn),n.prototype.next=function(t){var e=At(this.t.onNext).call(this.t,t);e===Mt&&this.o.onError(e.e),this.o.onNext(t)},n.prototype.error=function(t){var e=At(this.t.onError).call(this.t,t);return e===Mt?this.o.onError(e.e):void this.o.onError(t)},n.prototype.completed=function(){var t=At(this.t.onCompleted).call(this.t);return t===Mt?this.o.onError(t.e):void this.o.onCompleted()},e}(vn);nn.do=nn.tap=nn.doAction=function(t,e,n){return new Tr(this,t,e,n)},nn.doOnNext=nn.tapOnNext=function(t,e){return this.tap("undefined"!=typeof e?function(n){t.call(e,n)}:t)},nn.doOnError=nn.tapOnError=function(t,e){return this.tap(bt,"undefined"!=typeof e?function(n){t.call(e,n)}:t)},nn.doOnCompleted=nn.tapOnCompleted=function(t,e){return this.tap(bt,null,"undefined"!=typeof e?function(){t.call(e)}:t)};var Mr=function(t){function e(e,n,r){this.source=e,this._fn=Gt(n,r,0),t.call(this)}function n(t,e){this.isDisposed=!1,this._s=t,this._fn=e}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=At(this.source.subscribe).call(this.source,t);return e===Mt&&(this._fn(),l(e.e)),new n(e,this._fn)},n.prototype.dispose=function(){if(!this.isDisposed){var t=At(this._s.dispose).call(this._s);this._fn(),t===Mt&&l(t.e)}},e}(vn);nn.finally=function(t,e){return new Mr(this,t,e)};var Ar=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=bt,n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(t),!0)},e}(vn);nn.ignoreElements=function(){return new Ar(this)};var Pr=function(t){function e(e,n){this.source=e,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new kr(t))},e}(vn),kr=function(t){function e(e){this._o=e,t.call(this)}return Ee(e,t),e.prototype.next=function(t){this._o.onNext(un(t))},e.prototype.error=function(t){this._o.onNext(cn(t)),this._o.onCompleted()},e.prototype.completed=function(){this._o.onNext(ln()),this._o.onCompleted()},e}(fn);nn.materialize=function(){return new Pr(this)},nn.repeat=function(t){return Cn(this,t).concat()},nn.retry=function(t){return Cn(this,t).catchError()};var Rr=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Ee(n,t),n.prototype.subscribeCore=function(t){var n,r=new gi,i=new gi,o=this._notifier(r),a=o.subscribe(i),s=this.source["@@iterator"](),u={isDisposed:!1},c=new Le,l=Ye.scheduleRecursive(null,function(e,o){if(!u.isDisposed){var a=s.next();if(a.done)return void(n?t.onError(n):t.onCompleted());var l=a.value;Et(l)&&(l=Zr(l));var h=new De,p=new De;c.setDisposable(new Ve(p,h)),h.setDisposable(l.subscribe(function(e){t.onNext(e)},function(e){p.setDisposable(i.subscribe(o,function(e){t.onError(e)},function(){t.onCompleted()})),r.onNext(e),h.dispose()},function(){t.onCompleted()}))}});return new Fe([a,c,l,e(u)])},n}(vn);nn.retryWhen=function(t){return new Rr(H(this),t)};var Or=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Ee(n,t),n.prototype.subscribeCore=function(t){var n,r=new gi,i=new gi,o=this._notifier(r),a=o.subscribe(i),s=this.source["@@iterator"](),u={isDisposed:!1},c=new Le,l=Ye.scheduleRecursive(null,function(e,o){if(!u.isDisposed){var a=s.next();if(a.done)return void(n?t.onError(n):t.onCompleted());var l=a.value;Et(l)&&(l=Zr(l));var h=new De,p=new De;c.setDisposable(new Ve(p,h)),h.setDisposable(l.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){p.setDisposable(i.subscribe(o,function(e){t.onError(e)},function(){t.onCompleted()})),r.onNext(null),h.dispose()}))}});return new Fe([a,c,l,e(u)])},n}(vn);nn.repeatWhen=function(t){return new Or(H(this),t)};var Ir=function(t){function e(e,n,r,i){this.source=e,this.accumulator=n,this.hasSeed=r,this.seed=i,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Nr(t,this))},e}(vn),Nr=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Ee(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=At(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?At(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===Mt?this._o.onError(this._a.e):(this._o.onNext(this._a),void this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},e}(fn);nn.scan=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new Ir(this,n,e,t)};var Dr=function(t){function e(e,n){this.source=e,this._c=n,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Lr(t,this._c))},e}(vn),Lr=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Ee(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._o.onNext(this._q.shift())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(fn);nn.skipLast=function(t){if(t<0)throw new Lt;return new Dr(this,t)},nn.startWith=function(){var t,e=0;arguments.length&&ze(arguments[0])?(t=arguments[0],e=1):t=We;for(var n=[],r=e,i=arguments.length;r<i;r++)n.push(arguments[r]);return tr.apply(null,[Ln(n,t),this])};var Vr=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Ee(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},e}(fn);nn.takeLast=function(t){if(t<0)throw new Lt;var e=this;return new mi(function(n){return e.subscribe(new Vr(n,t))},e)},nn.flatMapConcat=nn.concatMap=function(t,e,n){return new gn(this,t,e,n).merge(1)};var Fr=function(t){function e(e,n,r){this.source=e,this.selector=Gt(n,r,3),t.call(this)}function n(t,e){return function(n,r,i){return t.call(this,e.selector(n,r,i),r,i)}}function r(t,e,n){this.o=t,this.selector=e,this.source=n,this.i=0,fn.call(this)}return Ee(e,t),e.prototype.internalMap=function(t,r){return new e(this.source,n(t,this),r)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.selector,this))},Ee(r,fn),r.prototype.next=function(t){var e=At(this.selector)(t,this.i++,this.source);return e===Mt?this.o.onError(e.e):void this.o.onNext(e)},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(vn);nn.map=nn.select=function(t,e){var n="function"==typeof t?t:function(){return t};return this instanceof Fr?this.internalMap(n,e):new Fr(this,n,e)},nn.pluck=function(){var t=arguments.length,e=new Array(t);if(0===t)throw new Error("List of properties cannot be empty.");for(var n=0;n<t;n++)e[n]=arguments[n];return this.map(G(e,t))},nn.flatMap=nn.selectMany=nn.mergeMap=function(t,e,n){return new gn(this,t,e,n).mergeAll()},nn.flatMapLatest=nn.switchMap=function(t,e,n){return new gn(this,t,e,n).switchLatest()};var jr=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._r=e,fn.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Ee(n,fn),n.prototype.next=function(t){this._r<=0?this._o.onNext(t):this._r--},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(vn);nn.skip=function(t){if(t<0)throw new Lt;return new jr(this,t)};var Br=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ur(t,this))},e}(vn),Ur=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!1,t.call(this)}return Ee(e,t),e.prototype.next=function(t){if(!this._r){var e=At(this._p._fn)(t,this._i++,this._p);if(e===Mt)return this._o.onError(e.e);this._r=!e}this._r&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(fn);nn.skipWhile=function(t,e){var n=Gt(t,e,3);return new Br(this,n)};var zr=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._c=e,this._r=e,fn.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Ee(n,fn),n.prototype.next=function(t){this._r-- >0&&(this._o.onNext(t),this._r<=0&&this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(vn);nn.take=function(t,e){if(t<0)throw new Lt;return 0===t?Rn(e):new zr(this,t)};var Hr=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Gr(t,this))},e}(vn),Gr=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!0,t.call(this)}return Ee(e,t),e.prototype.next=function(t){return this._r&&(this._r=At(this._p._fn)(t,this._i++,this._p),this._r===Mt)?this._o.onError(this._r.e):void(this._r?this._o.onNext(t):this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(fn);nn.takeWhile=function(t,e){var n=Gt(t,e,3);return new Hr(this,n)};var qr=function(t){function e(e,n,r){this.source=e,this.predicate=Gt(n,r,3),t.call(this)}function n(t,e){return function(n,r,i){return e.predicate(n,r,i)&&t.call(this,n,r,i)}}function r(t,e,n){this.o=t,this.predicate=e,this.source=n,this.i=0,fn.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.predicate,this))},e.prototype.internalFilter=function(t,r){return new e(this.source,n(t,this),r)},Ee(r,fn),r.prototype.next=function(t){var e=At(this.predicate)(t,this.i++,this.source);return e===Mt?this.o.onError(e.e):void(e&&this.o.onNext(t))},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(vn);nn.filter=nn.where=function(t,e){return this instanceof qr?this.internalFilter(t,e):new qr(this,t,e)},mn.fromCallback=function(t,e,n){return function(){"undefined"==typeof e&&(e=this);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return q(t,e,n,i)}},mn.fromNodeCallback=function(t,e,n){return function(){"undefined"==typeof e&&(e=this);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return X(t,e,n,i)}},Z.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},gt.config.useNativeEvents=!1;var Wr=function(t){function e(e,n,r){this._el=e,this._n=n,this._fn=r,t.call(this)}function n(t,e){return function(){var n=arguments[0];return Tt(e)&&(n=At(e).apply(null,arguments),n===Mt)?t.onError(n.e):void t.onNext(n)}}return Ee(e,t),e.prototype.subscribeCore=function(t){return Q(this._el,this._n,n(t,this._fn))},e}(vn);mn.fromEvent=function(t,e,n){return t.addListener?Yr(function(n){t.addListener(e,n)},function(n){t.removeListener(e,n)},n):gt.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new Wr(t,e,n).publish().refCount():Yr(function(n){t.on(e,n)},function(n){t.off(e,n)},n)};var Xr=function(t){function e(e,n,r){this._add=e,this._del=n,this._fn=r,t.call(this)}function n(t,e){return function(){var n=arguments[0];return Tt(e)&&(n=At(e).apply(null,arguments),n===Mt)?t.onError(n.e):void t.onNext(n)}}function r(t,e,n){this._del=t,this._fn=e,this._ret=n,this.isDisposed=!1}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=n(t,this._fn),i=this._add(e);return new r(this._del,e,i)},r.prototype.dispose=function(){this.isDisposed||(Tt(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},e}(vn),Yr=mn.fromEventPattern=function(t,e,n){return new Xr(t,e,n).publish().refCount()},Kr=function(t){function e(e,n){this._p=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];n.onNext(r),n.onCompleted()}function r(t,e){var n=e[0],r=e[1];n.onError(r)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new De,i=this,o=this._p;return Tt(o)&&(o=At(o)(),o===Mt)?(t.onError(o.e),e):(o.then(function(r){e.setDisposable(i._s.schedule([t,r],n))},function(n){e.setDisposable(i._s.schedule([t,n],r))}),e)},e}(vn),Zr=mn.fromPromise=function(t,e){return e||(e=Je),new Kr(t,e)};nn.toPromise=function(t){if(t||(t=gt.config.Promise),!t)throw new Vt("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,n){var r;e.subscribe(function(t){r=t},n,function(){t(r)})})},mn.startAsync=function(t){var e=At(t)();return e===Mt?qn(e.e):Zr(e)};var Qr=function(t){function e(e,n,r){this.source=e,this._fn1=n,this._fn2=r,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=this.source.multicast(this._fn1());return new Ve(this._fn2(e).subscribe(t),e.connect())},e}(vn);nn.multicast=function(t,e){return Tt(t)?new Qr(this,t,e):new Jr(this,t)},nn.publish=function(t){return t&&Tt(t)?this.multicast(function(){return new gi},t):this.multicast(new gi)},nn.share=function(){return this.publish().refCount()},nn.publishLast=function(t){return t&&Tt(t)?this.multicast(function(){return new bi},t):this.multicast(new bi)},nn.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new xi(e)},t):this.multicast(new xi(t))},nn.shareValue=function(t){return this.publishValue(t).refCount()},nn.replay=function(t,e,n,r){return t&&Tt(t)?this.multicast(function(){return new wi(e,n,r)},t):this.multicast(new wi(e,n,r))},nn.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var $r=function(t){function e(e){this.source=e,this._count=0,this._connectableSubscription=null,t.call(this)}function n(t,e){this._p=t,this._s=e,this.isDisposed=!1}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=this.source.subscribe(t);return 1===++this._count&&(this._connectableSubscription=this.source.connect()),new n(this,e)},n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0===--this._p._count&&this._p._connectableSubscription.dispose())},e}(vn),Jr=gt.ConnectableObservable=function(t){function e(e,n){this.source=e,this._connection=null,this._source=e.asObservable(),this._subject=n,t.call(this)}function n(t,e){this._p=t,this._s=e}return Ee(e,t),n.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},e.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return Re;var t=this._source.subscribe(this._subject);this._connection=new n(this,t)}return this._connection},e.prototype._subscribe=function(t){return this._subject.subscribe(t)},e.prototype.refCount=function(){return new $r(this)},e}(mn),ti=function(t){function e(e,n){this._dt=e,this._s=n,t.call(this)}function n(t,e){e.onNext(0),e.onCompleted()}return Ee(e,t),e.prototype.subscribeCore=function(t){return this._s.scheduleFuture(t,this._dt,n)},e}(vn),ei=mn.interval=function(t,e){return tt(t,t,ze(e)?e:Je)};mn.timer=function(t,e,n){var r;return ze(n)||(n=Je),null!=e&&"number"==typeof e?r=e:ze(e)&&(n=e),(t instanceof Date||"number"==typeof t)&&r===a?$(t,n):t instanceof Date&&r!==a?J(t,e,n):tt(t,r,n)};nn.delay=function(){var t=arguments[0];if("number"==typeof t||t instanceof Date){var e=t,n=arguments[1];return ze(n)||(n=Je),e instanceof Date?nt(this,e,n):et(this,e,n)}if(mn.isObservable(t)||Tt(t))return rt(this,t,arguments[1]);throw new Error("Invalid arguments")};var ni=function(t){function e(e,n,r){ze(r)||(r=Je),this.source=e,this._dt=n,this._s=r,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e=new Le;return new Ve(this.source.subscribe(new ri(t,this._dt,this._s,e)),e)},e}(vn),ri=function(t){function e(e,n,r,i){this._o=e,this._d=n,this._scheduler=r,this._c=i,this._v=null,this._hv=!1,this._id=0,t.call(this)}return Ee(e,t),e.prototype.next=function(t){this._hv=!0,this._v=t;var e=++this._id,n=new De;this._c.setDisposable(n),n.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(n,r){r._hv&&r._id===e&&r._o.onNext(t),r._hv=!1}))},e.prototype.error=function(t){this._c.dispose(),this._o.onError(t),this._hv=!1,this._id++},e.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},e}(fn);nn.debounce=function(){if(Tt(arguments[0]))return it(this,arguments[0]);if("number"==typeof arguments[0])return new ni(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")};var ii=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new oi(t,this._s))},e}(vn),oi=function(t){function e(e,n){this._o=e,this._s=n,t.call(this)}return Ee(e,t),e.prototype.next=function(t){this._o.onNext({value:t,timestamp:this._s.now()})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(fn);nn.timestamp=function(t){return ze(t)||(t=Je),new ii(this,t)};var ai=function(t){function e(e,n){this.source=e,this._sampler=n,t.call(this)}return Ee(e,t),e.prototype.subscribeCore=function(t){var e={o:t,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new De};return e.sourceSubscription.setDisposable(this.source.subscribe(new ui(e))),new Ve(e.sourceSubscription,this._sampler.subscribe(new si(e)))},e}(vn),si=function(t){function e(e){this._s=e,t.call(this)}return Ee(e,t),e.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},e.prototype.next=function(){this._handleMessage()},e.prototype.error=function(t){this._s.onError(t)},e.prototype.completed=function(){this._handleMessage()},e}(fn),ui=function(t){function e(e){this._s=e,t.call(this)}return Ee(e,t),e.prototype.next=function(t){this._s.hasValue=!0,this._s.value=t},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},e}(fn);nn.sample=function(t,e){return ze(e)||(e=Je),"number"==typeof t?new ai(this,ei(t,e)):new ai(this,t)};var ci=gt.TimeoutError=function(t){this.message=t||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};ci.prototype=Object.create(Error.prototype),nn.timeout=function(){var t=arguments[0];if(t instanceof Date||"number"==typeof t)return at(this,t,arguments[1],arguments[2]);if(mn.isObservable(t)||Tt(t))return ot(this,t,arguments[1],arguments[2]);throw new Error("Invalid arguments")},nn.throttle=function(t,e){ze(e)||(e=Je);var n=+t||0;if(n<=0)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new mi(function(t){var i=0;return r.subscribe(function(r){var o=e.now();(0===i||o-i>=n)&&(i=o,t.onNext(r))},function(e){t.onError(e)},function(){t.onCompleted()})},r)};var li=function(t){function e(e,n){this.source=e,this.controller=new gi,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return Ee(e,t),e.prototype._subscribe=function(t){var e=this.source.publish(),n=e.subscribe(t),r=Re,i=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe(function(t){t?r=e.connect():(r.dispose(),r=Re)});return new Fe([n,r,i])},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(mn);nn.pausable=function(t){return new li(this,t)};var hi=function(t){function e(e,n){this.source=e,this.controller=new gi,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return Ee(e,t),e.prototype._subscribe=function(t){function e(){for(;r.length>0;)t.onNext(r.shift())}var n,r=[],i=st(this.source,this.pauser.startWith(!this.paused).distinctUntilChanged(),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(i){n!==a&&i.shouldFire!==n?(n=i.shouldFire,i.shouldFire&&e()):(n=i.shouldFire,i.shouldFire?t.onNext(i.data):r.push(i.data))},function(n){e(),t.onError(n)},function(){e(),t.onCompleted()});return i},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(mn);nn.pausableBuffered=function(t){return new hi(this,t)};var pi=function(t){function e(e,n,r){t.call(this),this.subject=new fi(n,r),this.source=e.multicast(this.subject).refCount()}return Ee(e,t),e.prototype._subscribe=function(t){return this.source.subscribe(t)},e.prototype.request=function(t){return this.subject.request(null==t?-1:t)},e}(mn),fi=function(t){function e(e,n){null==e&&(e=!0),t.call(this),this.subject=new gi,this.enableQueue=e,this.queue=e?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=n||Ye}return Ee(e,t),Te(e.prototype,hn,{_subscribe:function(t){return this.subject.subscribe(t)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(rn.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(rn.createOnError(t)):(this.subject.onError(t),this.disposeCurrentRequest())},onNext:function(t){this.requestedCount<=0?this.enableQueue&&this.queue.push(rn.createOnNext(t)):(0===this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(t))},_processRequest:function(t){if(this.enableQueue)for(;this.queue.length>0&&(t>0||"N"!==this.queue[0].kind);){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return t},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.schedule(t,function(t,n){var r=e._processRequest(n),i=e.hasCompleted||e.hasFailed;if(!i&&r>0)return e.requestedCount=r,ke(function(){e.requestedCount=0})}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),e}(mn);nn.controlled=function(t,e){return t&&ze(t)&&(e=t,t=!0),null==t&&(t=!0),new pi(this,t,e)},nn.pipe=function(t){function e(){n.resume()}var n=this.pausableBuffered();return t.addListener("drain",e),n.subscribe(function(e){!t.write(e)&&n.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),n.resume(),t};var di=function(t){function e(e,n){this._o=e,this._xform=n,t.call(this)}return Ee(e,t),e.prototype.next=function(t){var e=At(this._xform["@@transducer/step"]).call(this._xform,this._o,t);e===Mt&&this._o.onError(e.e)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},e}(fn);nn.transduce=function(t){var e=this;return new mi(function(n){var r=t(ut(n));return e.subscribe(new di(n,r))},e)};var mi=gt.AnonymousObservable=function(t){function e(t){return t&&Tt(t.dispose)?t:Tt(t)?ke(t):Re}function n(t,n){var r=n[0],i=n[1],o=At(i.__subscribe).call(i,r);o!==Mt||r.fail(Mt.e)||l(Mt.e),r.setDisposable(e(o))}function r(e,n){this.source=n,this.__subscribe=e,t.call(this)}return Ee(r,t),r.prototype._subscribe=function(t){var e=new yi(t),r=[e,this];return Ye.scheduleRequired()?Ye.schedule(r,n):n(null,r),e},r}(mn),yi=function(t){function e(e){t.call(this),this.observer=e,this.m=new De}Ee(e,t);var n=e.prototype;return n.next=function(t){var e=At(this.observer.onNext).call(this.observer,t);e===Mt&&(this.dispose(),l(e.e))},n.error=function(t){var e=At(this.observer.onError).call(this.observer,t);this.dispose(),e===Mt&&l(e.e)},n.completed=function(){var t=At(this.observer.onCompleted).call(this.observer);this.dispose(),t===Mt&&l(t.e)},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(fn),vi=function(t,e){this._s=t,this._o=e};vi.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var t=this._s.observers.indexOf(this._o);this._s.observers.splice(t,1),this._o=null}};var gi=gt.Subject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return Ee(e,t),Te(e.prototype,hn.prototype,{_subscribe:function(t){return Ie(this),this.isStopped?this.hasError?(t.onError(this.error),Re):(t.onCompleted(),Re):(this.observers.push(t),new vi(this,t))},hasObservers:function(){return Ie(this),this.observers.length>0},onCompleted:function(){if(Ie(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=u(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ie(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,n=u(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Ie(this),!this.isStopped)for(var e=0,n=u(this.observers),r=n.length;e<r;e++)n[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),e.create=function(t,e){return new _i(t,e)},e}(mn),bi=gt.AsyncSubject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return Ee(e,t),Te(e.prototype,hn.prototype,{_subscribe:function(t){return Ie(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),Re):(this.observers.push(t),new vi(this,t))},hasObservers:function(){return Ie(this),this.observers.length>0},onCompleted:function(){var t,e;if(Ie(this),!this.isStopped){this.isStopped=!0;var n=u(this.observers),e=n.length;if(this.hasValue)for(t=0;t<e;t++){var r=n[t];r.onNext(this.value),r.onCompleted()}else for(t=0;t<e;t++)n[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ie(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=u(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){Ie(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),e}(mn),_i=gt.AnonymousSubject=function(t){function e(e,n){this.observer=e,this.observable=n,t.call(this)}return Ee(e,t),Te(e.prototype,hn.prototype,{_subscribe:function(t){return this.observable.subscribe(t)},onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),e}(mn),xi=gt.BehaviorSubject=function(t){function e(e){t.call(this),this.value=e,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return Ee(e,t),Te(e.prototype,hn.prototype,{_subscribe:function(t){return Ie(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),Re):(this.observers.push(t),t.onNext(this.value),new vi(this,t))},getValue:function(){return Ie(this),this.hasError&&l(this.error),this.value},hasObservers:function(){return Ie(this),this.observers.length>0},onCompleted:function(){if(Ie(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=u(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ie(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=u(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Ie(this),!this.isStopped){this.value=t;for(var e=0,n=u(this.observers),r=n.length;e<r;e++)n[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),e}(mn),wi=gt.ReplaySubject=function(t){function e(t,e){return ke(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1);
})}function n(e,n,i){this.bufferSize=null==e?r:e,this.windowSize=null==n?r:n,this.scheduler=i||Ye,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this)}var r=Math.pow(2,53)-1;return Ee(n,t),Te(n.prototype,hn.prototype,{_subscribe:function(t){Ie(this);var n=new yn(this.scheduler,t),r=e(this,n);this._trim(this.scheduler.now()),this.observers.push(n);for(var i=0,o=this.q.length;i<o;i++)n.onNext(this.q[i].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),r},hasObservers:function(){return Ie(this),this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(Ie(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var n=0,r=u(this.observers),i=r.length;n<i;n++){var o=r[n];o.onNext(t),o.ensureActive()}}},onError:function(t){if(Ie(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var n=0,r=u(this.observers),i=r.length;n<i;n++){var o=r[n];o.onError(t),o.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Ie(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,n=u(this.observers),r=n.length;e<r;e++){var i=n[e];i.onCompleted(),i.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),n}(mn);gt.Pauser=function(t){function e(){t.call(this)}return Ee(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}(gi),n.Rx=gt;var Ci=m()}).call(this,d,l);var m,y=d.Rx,v=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},g=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}};!function(t){t.Promise=l}(m||(m={})),function(t){var e;!function(e){e.Rx=y,e.Promise=t.Promise;var n;!function(t){t.CIF=f}(n=e.Formats||(e.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){t.VERSION={number:"2.5.1",date:"Dec 21 2016"}}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){function e(t){return new n(t)}t.computation=e;var n=function(){function e(t){this.computation=t}return e.prototype.run=function(t){return this.runWithContext(t).result},e.prototype.runWithContext=function(e){var n=this,i=e?e:new r;return{progress:i.progressStream,result:new t.Promise(function(t,e){return v(n,void 0,void 0,function(){var n,r;return g(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),i.started(),[4,this.computation(i)];case 1:return n=o.sent(),t(n),[3,4];case 2:return r=o.sent(),e(r),[3,4];case 3:return i.finished(),[7];case 4:return[2]}})})})}},e}();t.Computation=n,function(n){function i(n){return e(function(){return t.Promise.resolve(n)})}function o(n){return e(function(){return t.Promise.reject(n)})}function a(){return new r}n.resolve=i,n.reject=o,n.createContext=a,n.Aborted="Aborted",n.UpdateProgressDelta=100}(n=t.Computation||(t.Computation={}));var r=function(){function e(){var e=this;this._abortRequested=!1,this._abortRequester=function(){e._abortRequested=!0},this.progressTick=new t.Rx.Subject,this._progress={message:"Working...",current:0,max:0,isIndeterminate:!0,requestAbort:void 0},this.progressStream=new t.Rx.BehaviorSubject(this._progress),this.startEndCounter=0,this.progressTick.throttle(1e3/15).subscribe(function(t){e.progressStream.onNext({message:t.message,isIndeterminate:t.isIndeterminate,current:t.current,max:t.max,requestAbort:t.requestAbort})})}return Object.defineProperty(e.prototype,"isAbortRequested",{get:function(){return this._abortRequested},enumerable:!0,configurable:!0}),e.prototype.checkAborted=function(){if(this._abortRequested)throw n.Aborted},e.prototype.requestAbort=function(){try{this._abortRequester&&this._abortRequester.call(null)}catch(t){}},Object.defineProperty(e.prototype,"progress",{get:function(){return this.progressTick},enumerable:!0,configurable:!0}),e.prototype.updateProgress=function(e,n,r,i){return void 0===r&&(r=NaN),void 0===i&&(i=NaN),this.checkAborted(),this._progress.message=e,"boolean"==typeof n?this._progress.requestAbort=n?this._abortRequester:void 0:(n&&(this._abortRequester=n),this._progress.requestAbort=n?this._abortRequester:void 0),isNaN(r)?this._progress.isIndeterminate=!0:(this._progress.isIndeterminate=!1,this._progress.current=r,this._progress.max=i),this.progressTick.onNext(this._progress),new t.Promise(function(t){return setTimeout(t,0)})},e.prototype.started=function(){this.startEndCounter++},e.prototype.finished=function(){if(this.startEndCounter--,this.startEndCounter<=0&&(this.progressTick.onCompleted(),this.progressStream.onCompleted()),this.startEndCounter<0)throw"Bug in code somewhere, Computation.resolve/reject called too many times."},e}()}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(t,e,n){for(var r,i=e,o=t,a=n,s=0,u=Object.keys(e);s<u.length;s++){var c=u[s];r=i[c],void 0!==r?o[c]=r:n&&(o[c]=a[c])}if(n)for(var l=0,h=Object.keys(n);l<h.length;l++){var c=h[l];r=o[c],void 0===r&&(o[c]=a[c])}return t}function r(t,e){var n,r,i,o,a,s,u,c=0,l=0,h=!0,p=!1;e=Math.max(0,e)||0;var f=function(){var l=e-(performance.now()-o);if(l<=0){r&&clearTimeout(r);var h=u;r=s=u=void 0,h&&(c=performance.now(),i=t.apply(a,n),s||r||(n=a=null))}else s=setTimeout(f,l)},d=function(){s&&clearTimeout(s),r=s=u=void 0,(h||l!==e)&&(c=performance.now(),i=t.apply(a,n),s||r||(n=a=null))};return function(){n=arguments,o=performance.now(),a=this,u=h&&(s||!p);var m=!1,y=!1;if(0===l)y=p&&!s;else{r||p||(c=o);var v=l-(o-c),g=v<=0;g?(r&&(r=clearTimeout(r)),c=o,i=t.apply(a,n)):r||(r=setTimeout(d,v))}return m&&s?s=clearTimeout(s):s||e===l||(s=setTimeout(f,e)),y&&(m=!0,i=t.apply(a,n)),!m||s||r||(n=a=null),i}}e.FastNumberParsers=t.Formats.CIF.Utils.FastNumberParsers,e.extend=n,e.debounce=r}(e=t.Utils||(t.Utils={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){function e(t){var e=new Int32Array(t.size);return t.forEach(function(t){this.array[this.index++]=t},{array:e,index:0}),Array.prototype.sort.call(e,function(t,e){return t-e}),e}function n(t){for(var e=[],n=0;n<t;n++)e[n]=0;return e}function r(t){var e=[];if(!t)return e;e[0]=.1;for(var n=0;n<t;n++)e[n]=0;return e}t.integerSetToSortedTypedArray=e,t.makeNativeIntArray=n,t.makeNativeFloatArray=r;var i;!function(t){function e(t){return t.creator&&t.chunkSize}function n(t,e,n,r,i){return t.currentIndex>=t.chunkSize&&(t.currentIndex=0,t.current=t.creator(t.chunkSize),t.parts[t.parts.length]=t.current),t.current[t.currentIndex++]=e,t.current[t.currentIndex++]=n,t.current[t.currentIndex++]=r,t.current[t.currentIndex++]=i,t.elementCount++}function r(t,e,n,r){return t.currentIndex>=t.chunkSize&&(t.currentIndex=0,t.current=t.creator(t.chunkSize),t.parts[t.parts.length]=t.current),t.current[t.currentIndex++]=e,t.current[t.currentIndex++]=n,t.current[t.currentIndex++]=r,t.elementCount++}function i(t,e,n){return t.currentIndex>=t.chunkSize&&(t.currentIndex=0,t.current=t.creator(t.chunkSize),t.parts[t.parts.length]=t.current),t.current[t.currentIndex++]=e,t.current[t.currentIndex++]=n,t.elementCount++}function o(t,e){return t.currentIndex>=t.chunkSize&&(t.currentIndex=0,t.current=t.creator(t.chunkSize),t.parts[t.parts.length]=t.current),t.current[t.currentIndex++]=e,t.elementCount++}function a(t){var e,n=t.creator(t.elementSize*t.elementCount),r=(t.parts.length-1)*t.chunkSize,i=0;if(t.parts.length>1)if(t.parts[0].buffer)for(var o=0;o<t.parts.length-1;o++)n.set(t.parts[o],t.chunkSize*o);else for(var o=0;o<t.parts.length-1;o++){i=t.chunkSize*o,e=t.parts[o];for(var a=0;a<t.chunkSize;a++)n[i+a]=e[a]}if(t.current.buffer&&t.currentIndex>=t.chunkSize)n.set(t.current,t.chunkSize*(t.parts.length-1));else for(var o=0;o<t.currentIndex;o++)n[r+o]=t.current[o];return n}function s(t){return void 0===t&&(t=262144),d(function(t){return new Float32Array(t)},t,3)}function u(t){return void 0===t&&(t=262144),d(function(t){return new Uint32Array(t)},t,3)}function c(t){return void 0===t&&(t=131072),d(function(t){return new Int32Array(t)},t,2)}function l(t){return void 0===t&&(t=131072),d(function(t){return new Int32Array(t)},t,1)}function h(t){return void 0===t&&(t=131072),d(function(t){return new Int32Array(t)},t,1)}function p(t){return void 0===t&&(t=131072),d(function(t){return new Float32Array(t)},t,1)}function f(t){return void 0===t&&(t=131072),d(function(t){return[]},t,1)}function d(t,e,n){e|=0,e<=0&&(e=1);var r=e*n,i=t(r);return{elementSize:n,chunkSize:r,creator:t,current:i,parts:[i],currentIndex:0,elementCount:0}}t.is=e,t.add4=n,t.add3=r,t.add2=i,t.add=o,t.compact=a,t.forVertex3D=s,t.forIndexBuffer=u,t.forTokenIndices=c,t.forIndices=l,t.forInt32=h,t.forFloat32=p,t.forArray=f,t.create=d}(i=t.ChunkedArray||(t.ChunkedArray={}));var o;!function(t){function e(t,e,n,r){var i=t.array;i[t.currentIndex++]=e,i[t.currentIndex++]=n,i[t.currentIndex++]=r,t.elementCount++}function n(t,e,n){var r=t.array;r[t.currentIndex++]=e,r[t.currentIndex++]=n,t.elementCount++}function r(t,e){t.array[t.currentIndex++]=e,t.elementCount++}function i(t){return h(function(t){return new Float32Array(t)},t,3)}function o(t){return h(function(t){return new Int32Array(t)},t,3)}function a(t){return h(function(t){return new Int32Array(t)},t,2)}function s(t){return h(function(t){return new Int32Array(t)},t,1)}function u(t){return h(function(t){return new Int32Array(t)},t,1)}function c(t){return h(function(t){return new Float32Array(t)},t,1)}function l(t){return h(function(t){return[]},t,1)}function h(t,e,n){return e|=0,{array:t(e*n),currentIndex:0,elementCount:0}}t.add3=e,t.add2=n,t.add=r,t.forVertex3D=i,t.forIndexBuffer=o,t.forTokenIndices=a,t.forIndices=s,t.forInt32=u,t.forFloat32=c,t.forArray=l,t.create=h}(o=t.ArrayBuilder||(t.ArrayBuilder={}))}(e=t.Utils||(t.Utils={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){e.perfGetTime=function(){return"undefined"!=typeof window&&window.performance?function(){return window.performance.now()}:"undefined"!=typeof t&&"undefined"!==t.hrtime?function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return+new Date}}()}(n||(n={}));var r=function(){function t(){this.starts=new Map,this.ends=new Map}return t.currentTime=function(){return n.perfGetTime()},t.prototype.start=function(t){this.starts.set(t,n.perfGetTime())},t.prototype.end=function(t){this.ends.set(t,n.perfGetTime())},t.format=function(t){if(isNaN(t))return"n/a";for(var e=Math.floor(t/36e5),n=Math.floor(t/6e4%60),r=Math.floor(t/1e3%60),i=Math.floor(t%1e3).toString();i.length<3;)i="0"+i;return e>0?e+"h"+n+"m"+r+"."+i+"s":n>0?n+"m"+r+"."+i+"s":r>0?r+"."+i+"s":t.toFixed(0)+"ms"},t.prototype.formatTime=function(e){return t.format(this.time(e))},t.prototype.formatTimeSum=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.format(this.timeSum.apply(this,e))},t.prototype.time=function(t){var e=this.starts.get(t),n=this.ends.get(t);return this.starts.delete(t),this.ends.delete(t),n-e},t.prototype.timeSum=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=0,o=e.map(function(e){return t.ends.get(e)-t.starts.get(e)});i<o.length;i++){var a=o[i];r+=a}return r},t}();e.PerformanceMonitor=r}(n=e.Utils||(e.Utils={}))}(n=e.Core||(e.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t){return t.name&&t.parse}function n(t,e){e=e.toLowerCase().trim();for(var n=0,r=t;n<r.length;n++)for(var i=r[n],o=0,a=i.shortcuts;o<a.length;o++){var s=a[o];if(s.toLowerCase()===e)return i}}function r(t){return new RegExp(t.extensions.map(function(t){return"(\\"+t+")"}).join("|")+"(\\.gz){0,1}$","i")}function i(t){return t.map(function(t){return t.extensions.map(function(t){return t+","+t+".gz"}).join(",")}).join(",")}function o(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(r(o).test(t))return o}}t.is=e,t.fromShortcut=n,t.formatRegExp=r,t.formatFileFilters=i,t.getFormat=o}(e=t.FormatInfo||(t.FormatInfo={}));var n;!function(t){function e(t,e){return void 0===e&&(e=-1),new r(t,e)}function n(t,e){return void 0===e&&(e=[]),new i(t,e)}t.error=e,t.success=n}(n=t.ParserResult||(t.ParserResult={}));var r=function(){function t(t,e){this.message=t,this.line=e,this.isError=!0}return t.prototype.toString=function(){return this.line>=0?"[Line "+this.line+"] "+this.message:this.message},t}();t.ParserError=r;var i=function(){function t(t,e){this.result=t,this.warnings=e,this.isError=!1}return t}();t.ParserSuccess=i;var o;!function(t){function e(t){var e=new Int32Array(1.61*t.tokens.length|0);e.set(t.tokens),t.tokens=e,t.tokensLenMinus2=e.length-2|0}function n(t,n,r){t.count>=t.tokensLenMinus2&&e(t),t.tokens[t.count++]=n,t.tokens[t.count++]=r}function r(t){return{tokensLenMinus2:t-2|0,count:0,tokens:new Int32Array(t)}}t.addToken=n,t.create=r}(o=t.TokenIndexBuilder||(t.TokenIndexBuilder={}));var a;!function(t){function e(){return new Map}function n(t,e){if(e.length>6)return e;var n=t.get(e);return void 0!==n?n:(t.set(e,e),e)}t.create=e,t.get=n}(a=t.ShortStringPool||(t.ShortStringPool={}))}(e=t.Formats||(t.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){var n;!function(e){function n(e,n,r,i){var o,a,s,u=t.Geometry.LinearAlgebra.Matrix4.identity();for(o=1;o<=3;o++){for(a=1;a<=3;a++)s=n+"["+o+"]["+a+"]",t.Geometry.LinearAlgebra.Matrix4.setValue(u,o-1,a-1,e.getColumn(n+"["+o+"]["+a+"]").getFloat(i));t.Geometry.LinearAlgebra.Matrix4.setValue(u,o-1,3,e.getColumn(r+"["+o+"]").getFloat(i))}return u}function r(t,e,n){var r=0;if(!n||!n.isDefined)return e;for(r=t+1;r<e&&n.areValuesEqual(r-1,r);r++);return r}function i(t){for(var e=new Map,n=0,r=S;n<r.length;n++){var i=r[n];e.set(i,t.getColumn(i))}return e}function o(e,n,i){for(var o=r(e,n,i.get("pdbx_PDB_model_num")),a=new t.Structure.DataTableBuilder(o-e),s=a.addColumn("id",function(t){return new Int32Array(t)}),u=i.get("id"),c=a.addColumn("x",function(t){return new Float32Array(t)}),l=i.get("Cartn_x"),h=a.addColumn("y",function(t){return new Float32Array(t)}),p=i.get("Cartn_y"),f=a.addColumn("z",function(t){return new Float32Array(t)}),d=i.get("Cartn_z"),m=a.addColumn("altLoc",function(t){return new Array(t)}),y=i.get("label_alt_id"),v=a.addColumn("rowIndex",function(t){return new Int32Array(t)}),g=a.addColumn("residueIndex",function(t){return new Int32Array(t)}),b=a.addColumn("chainIndex",function(t){return new Int32Array(t)}),_=a.addColumn("entityIndex",function(t){return new Int32Array(t)}),x=a.addColumn("name",function(t){return new Array(t)}),w=i.get("label_atom_id"),S=a.addColumn("elementSymbol",function(t){return new Array(t)}),E=i.get("type_symbol"),T=a.addColumn("occupancy",function(t){return new Float32Array(t)}),M=i.get("occupancy"),A=a.addColumn("tempFactor",function(t){return new Float32Array(t)}),P=i.get("B_iso_or_equiv"),k=a.addColumn("authName",function(t){return new Array(t)}),R=i.get("auth_atom_id"),O=i.get("label_asym_id"),I=i.get("label_entity_id"),N=i.get("pdbx_PDB_ins_code"),D=i.get("auth_seq_id"),L=i.get("pdbx_PDB_model_num"),V=0,F=0,j=0,B=e,U=e;U<o;U++){var z=U-e;s[z]=u.getInteger(U),c[z]=l.getFloat(U),h[z]=p.getFloat(U),f[z]=d.getFloat(U),S[z]=E.getString(U)||C.ElementSymbol,x[z]=w.getString(U)||S[z],k[z]=R.getString(U)||x[z],m[z]=y.getString(U),T[z]=M.getFloat(U),A[z]=P.getFloat(U);var H=!1,G=!D.areValuesEqual(B,U)||!N.areValuesEqual(B,U);O.areValuesEqual(B,U)||(H=!0,G=!0),I.areValuesEqual(B,U)||(j++,H=!0,G=!0),G&&F++,H&&V++,v[z]=U,g[z]=F,b[z]=V,_[z]=j,B=U}var q=L.isDefined?L.getString(e)||C.ModelId:C.ModelId;return{atoms:a.seal(),modelId:q,endRow:o}}function a(e,n){var r=n.count,i=n.residueIndex,o=n.chainIndex,a=n.entityIndex,s=new t.Structure.DataTableBuilder(n.residueIndex[n.count-1]+1),u=new t.Structure.DataTableBuilder(n.chainIndex[n.count-1]+1),c=new t.Structure.DataTableBuilder(n.entityIndex[n.count-1]+1),l=s.addColumn("name",function(t){return new Array(t)}),h=s.addColumn("seqNumber",function(t){return new Int32Array(t)}),p=s.addColumn("asymId",function(t){return new Array(t)}),f=s.addColumn("authName",function(t){return new Array(t)}),d=s.addColumn("authSeqNumber",function(t){return new Int32Array(t)}),m=s.addColumn("authAsymId",function(t){return new Array(t)}),y=s.addColumn("insCode",function(t){return new Array(t)}),v=s.addColumn("entityId",function(t){return new Array(t)}),g=s.addColumn("isHet",function(t){return new Int8Array(t)}),b=s.addColumn("atomStartIndex",function(t){return new Int32Array(t)}),_=s.addColumn("atomEndIndex",function(t){return new Int32Array(t)}),x=s.addColumn("chainIndex",function(t){return new Int32Array(t)}),w=s.addColumn("entityIndex",function(t){return new Int32Array(t)});s.addColumn("secondaryStructureIndex",function(t){return new Int32Array(t)});var S=u.addColumn("asymId",function(t){return[]}),E=u.addColumn("entityId",function(t){return[]}),T=u.addColumn("authAsymId",function(t){return[]}),M=u.addColumn("atomStartIndex",function(t){return new Int32Array(t)}),A=u.addColumn("atomEndIndex",function(t){return new Int32Array(t)}),P=u.addColumn("residueStartIndex",function(t){return new Int32Array(t)}),k=u.addColumn("residueEndIndex",function(t){return new Int32Array(t)}),R=u.addColumn("entityIndex",function(t){return new Int32Array(t)}),O=c.addColumn("entityId",function(t){return[]}),I=c.addColumn("entityType",function(t){return[]}),N=c.addColumn("type",function(t){return[]}),D=c.addColumn("atomStartIndex",function(t){return new Int32Array(t)}),L=c.addColumn("atomEndIndex",function(t){return new Int32Array(t)}),V=c.addColumn("residueStartIndex",function(t){return new Int32Array(t)}),F=c.addColumn("residueEndIndex",function(t){return new Int32Array(t)}),j=c.addColumn("chainStartIndex",function(t){return new Int32Array(t)}),B=c.addColumn("chainEndIndex",function(t){return new Int32Array(t)}),U=e.get("label_comp_id"),z=e.get("label_seq_id"),H=e.get("label_asym_id"),G=e.get("auth_comp_id"),q=e.get("auth_seq_id"),W=e.get("auth_asym_id"),X=e.get("group_PDB"),Y=e.get("label_entity_id"),K=e.get("pdbx_PDB_ins_code"),Z=0,Q=0,$=0,J=0,tt=0,et=0,nt=0,rt=0,it=0,ot=0;for(ot=0;ot<r;ot++)i[ot]!==i[Z]&&(l[nt]=U.getString(Z)||C.ResidueName,h[nt]=z.getInteger(Z),p[nt]=H.getString(Z)||C.AsymId,f[nt]=G.getString(Z)||l[nt],d[nt]=q.getInteger(Z),m[nt]=W.getString(Z)||p[nt],y[nt]=K.getString(Z),v[nt]=Y.getString(Z)||C.EntityId,g[nt]=X.stringEquals(Z,"HETATM")?1:0,b[nt]=Z,_[nt]=ot,x[nt]=rt,w[nt]=it,nt++,Z=ot),o[ot]!==o[Q]&&(S[rt]=H.getString(Q)||C.AsymId,T[rt]=W.getString(Q)||S[rt],E[rt]=Y.getString(Q)||C.EntityId,P[rt]=et,k[rt]=nt,M[rt]=Q,A[rt]=ot,R[rt]=it,rt++,Q=ot,et=nt),a[ot]!==a[$]&&(O[it]=Y.getString($)||C.EntityId,I[it]=t.Structure.EntityType.Unknown,N[it]="unknown",D[it]=$,L[it]=ot,V[it]=tt,F[it]=nt,j[it]=J,B[it]=rt,it++,$=ot,J=rt,tt=nt);return O[it]=Y.getString($)||C.EntityId,I[it]=t.Structure.EntityType.Unknown,N[it]="unknown",D[it]=$,L[it]=ot,V[it]=tt,F[it]=nt+1,j[it]=J,B[it]=rt+1,S[rt]=H.getString(Q)||C.AsymId,T[rt]=W.getString(Q)||S[rt],E[rt]=Y.getString(Q)||C.EntityId,P[rt]=et,k[rt]=nt+1,M[rt]=Q,A[rt]=ot,R[rt]=it,l[nt]=U.getString(Z)||C.ResidueName,h[nt]=z.getInteger(Z),p[nt]=H.getString(Z)||C.AsymId,f[nt]=G.getString(Z)||l[nt],d[nt]=q.getInteger(Z),m[nt]=W.getString(Z)||p[nt],y[nt]=K.getString(Z),b[nt]=Z,_[nt]=ot,x[nt]=rt,w[nt]=it,g[nt]=X.stringEquals(Z,"HETATM")?1:0,{residues:s.seal(),chains:u.seal(),entities:c.seal()}}function s(e,n){var r;for(r=0;r<n.count;r++)n.entityType[r]=t.Structure.EntityType.Unknown;if(e){var i,o={},a={},s=e.getColumn("type"),u=e.getColumn("id");for(r=0;r<e.rowCount;r++){var c=(s.getString(r)||"").toLowerCase();switch(c){case"polymer":i=t.Structure.EntityType.Polymer;break;case"non-polymer":i=t.Structure.EntityType.NonPolymer;break;case"water":i=t.Structure.EntityType.Water;break;default:i=t.Structure.EntityType.Unknown}var l=u.getString(r)||C.EntityId;o[l]=i,a[l]=""!==c?c:"unknown"}for(r=0;r<n.count;r++)i=o[n.entityId[r]],void 0!==i&&(n.entityType[r]=i,n.type[r]=a[n.entityId[r]])}}function u(e,n,r,i){return new t.Structure.PolyResidueIdentifier(n.getString(e)||C.AsymId,r.getInteger(e),i.getString(e))}function c(e,n,r,i){if(r.entityType[n.entityIndex[i]]!==t.Structure.EntityType.Polymer)return!1;for(var o=!1,a=!1,s=e.name,u=0,c=n.atomStartIndex[i],l=n.atomEndIndex[i];c<l;c++){var h=s[c];if(o||"CA"!==h?a||"O"!==h||(a=!0,u++):(o=!0,u++),2===u)break}return o&&a||o&&!n.isHet[i]}function l(e,n,r,i){if(E[n.name[i]]||r.entityType[n.entityIndex[i]]!==t.Structure.EntityType.Polymer)return!1;var o=!1,a=!1,s=!1,u=!1,c=e.name,l=0,h=n.atomStartIndex[i],p=n.atomEndIndex[i];if(p-h===1&&!n.isHet[h]&&"P"===c[h])return!0;for(var f=h;f<p;f++){var d=c[f];if(o||"O5'"!==d?a||"C3'"!==d?s||"N3"!==d?u||"P"!==d||(u=!0,l++):(s=!0,l++):(a=!0,l++):(o=!0,l++),4===l)break}return o&&a&&s&&u}function h(e,n,r,i,o,a){for(var s=n.asymId,u=n.entityIndex,h=0,p=i,f=i,d=o;p<d;){if(l(e,n,r,p)){for(f=p+1;f<d&&s[p]===s[f]&&u[p]===u[f]&&l(e,n,r,f);)f++;h=5}else if(c(e,n,r,p)){for(f=p+1;f<d&&s[p]===s[f]&&u[p]===u[f]&&c(e,n,r,f);)f++;h=4}else{for(f=p+1;f<d&&s[p]===s[f]&&u[p]===u[f]&&!l(e,n,r,f)&&!c(e,n,r,f);)f++;h=0}var m=new t.Structure.SecondaryStructureElement(h,new t.Structure.PolyResidueIdentifier(n.asymId[p],n.seqNumber[p],n.insCode[p]),new t.Structure.PolyResidueIdentifier(n.asymId[f-1],n.seqNumber[f-1],n.insCode[f-1]));m.startResidueIndex=p,m.endResidueIndex=f,a[a.length]=m,p=f}}function p(e,n){for(var r=[],i=e.authSeqNumber,o=0,a=n;o<a.length;o++){for(var s=a[o],u=s.startResidueIndex,c=s.endResidueIndex-1,l=s.startResidueIndex;l<c;l++)if(i[l+1]-i[l]!==1){var h=new t.Structure.SecondaryStructureElement(s.type,s.startResidueId,s.endResidueId,s.info);h.startResidueIndex=u,h.endResidueIndex=l+1,r[r.length]=h,u=l+1}if(u===s.startResidueIndex)r[r.length]=s;else{var h=new t.Structure.SecondaryStructureElement(s.type,s.startResidueId,s.endResidueId,s.info);h.startResidueIndex=u,h.endResidueIndex=s.endResidueIndex,r[r.length]=h}}return r}function f(t,e){for(var n=e.residues,r=n.count,i=n.asymId,o=n.seqNumber,a=n.insCode,s=void 0,u="",c=new Map,l=new Map,h=0,p=t;h<p.length;h++){var f=p[h];u=f.startResidueId.asymId+" "+f.startResidueId.seqNumber,f.startResidueId.insCode&&(u+=" "+f.startResidueId.insCode),c.set(u,f),u=f.endResidueId.asymId+" "+f.endResidueId.seqNumber,f.endResidueId.insCode&&(u+=" "+f.endResidueId.insCode),l.set(u,f)}for(var m=0;m<r;m++)u=i[m]+" "+o[m],a[m]&&(u+=" "+a[m]),s=c.get(u),s&&(s.startResidueIndex=m,s.endResidueIndex=m+1),s=l.get(u),s&&(s.startResidueIndex<0&&(s.startResidueIndex=m),s.endResidueIndex=m+1);s&&(s.endResidueIndex=r);for(var y=[],v=0,g=t;v<g.length;v++){var f=g[v];f.startResidueIndex<0||f.endResidueIndex<0||3===f.type&&f.length<3||f.endResidueIndex>=0&&f.startResidueIndex>=0&&(y[y.length]=f)}y.sort(function(t,e){return t.startResidueIndex-e.startResidueIndex});for(var m=0;m<y.length-1;m++)y[m+1].startResidueIndex-y[m].endResidueIndex===-1&&y[m+1].startResidueIndex++;if(!y.length)return y;for(var b=[y[0]],m=1;m<y.length;m++){var _=b[b.length-1],x=y[m];x.startResidueIndex<_.endResidueIndex?d(_,x):b[b.length]=x}return b}function d(t,e){e.endResidueIndex>t.endResidueIndex&&(t.endResidueIndex=e.endResidueIndex)}function m(e,n,r){var i,o=[],a=[],s=e.getCategory("_struct_conf"),c=e.getCategory("_struct_sheet_range");if(s){var l=s.getColumn("conf_type_id");if(l){var d=s.getColumn("beg_label_asym_id"),m=s.getColumn("beg_label_seq_id"),y=s.getColumn("pdbx_beg_PDB_ins_code"),v=s.getColumn("end_label_asym_id"),g=s.getColumn("end_label_seq_id"),b=s.getColumn("pdbx_end_PDB_ins_code"),_=s.getColumn("pdbx_PDB_helix_class");for(i=0;i<s.rowCount;i++){var x=void 0;switch((l.getString(i)||"").toUpperCase()){case"HELX_P":x=1;break;case"TURN_P":x=2}x&&(o[o.length]=new t.Structure.SecondaryStructureElement(x,u(i,d,m,y),u(i,v,g,b),{helixClass:_.getString(i)}))}}}if(c){var d=c.getColumn("beg_label_asym_id"),m=c.getColumn("beg_label_seq_id"),y=c.getColumn("pdbx_beg_PDB_ins_code"),v=c.getColumn("end_label_asym_id"),g=c.getColumn("end_label_seq_id"),b=c.getColumn("pdbx_end_PDB_ins_code"),w=c.getColumn("symmetry"),C=c.getColumn("sheet_id");for(i=0;i<c.rowCount;i++)o[o.length]=new t.Structure.SecondaryStructureElement(3,u(i,d,m,y),u(i,v,g,b),{symmetry:w.getString(i),sheetId:C.getString(i),id:C.getString(i)})}var S=o.length>0?f(o,r):[],E=r.residues,T=E.count;if(0===S.length)return h(n,E,r.entities,0,T,a),p(E,a);var M=S.length-1;for(S[0].startResidueIndex>0&&h(n,E,r.entities,0,S[0].startResidueIndex,a),i=0;i<M;i++)a[a.length]=S[i],S[i+1].startResidueIndex-S[i].endResidueIndex>0&&h(n,E,r.entities,S[i].endResidueIndex,S[i+1].startResidueIndex,a);return a[a.length]=S[M],S[M].endResidueIndex<T&&h(n,E,r.entities,S[M].endResidueIndex,T,a),p(E,a)}function y(t,e){for(var n=t.secondaryStructureIndex,r=0,i=0,o=e;i<o.length;i++){for(var a=o[i],s=a.startResidueIndex;s<a.endResidueIndex;s++)n[s]=r;r++}return n}function v(t){for(var e,n=/\(?([^\(\)]+)\)?]*/g,r=[],i=[];e=n.exec(t);)r[r.length]=e[1];return r.forEach(function(t){var e=[];t.split(",").forEach(function(t){var n=t.indexOf("-");if(n>0)for(var r=parseInt(t.substring(0,n)),i=parseInt(t.substr(n+1)),o=r;o<=i;o++)e[e.length]=o.toString();else e[e.length]=t.trim()}),i[i.length]=e}),i}function g(e){var r=e.getCategory("_pdbx_struct_assembly"),i=e.getCategory("_pdbx_struct_assembly_gen"),o=e.getCategory("_pdbx_struct_oper_list");if(r&&i&&o){var a,s={},u=[],c=new Map,l=i.getColumn("assembly_id"),h=i.getColumn("oper_expression"),p=i.getColumn("asym_id_list");for(a=0;a<i.rowCount;a++){var f=l.getString(a);if(!f)return;var d=c.get(f);d||(d=new t.Structure.AssemblyGen(f),c.set(f,d),u.push(d)),d.gens.push(new t.Structure.AssemblyGenEntry(v(h.getString(a)),p.getString(a).split(",")))}var m=o.getColumn("id"),y=o.getColumn("name");for(a=0;a<o.rowCount;a++){var g=n(o,"matrix","vector",a);if(!g)return;var b=new t.Structure.AssemblyOperator(m.getString(a),y.getString(a),g);s[b.id]=b}return new t.Structure.AssemblyInfo(s,u)}}function b(e){var r=e.getCategory("_cell"),i=e.getCategory("_symmetry"),o=e.getCategory("_atom_sites"),a="",s=[1,1,1],u=[90,90,90],c=t.Geometry.LinearAlgebra.Matrix4.identity(),l=!1;if(r&&i&&(a=i.getColumn("space_group_name_H-M").getString(0),s=[r.getColumn("length_a").getFloat(0),r.getColumn("length_b").getFloat(0),r.getColumn("length_c").getFloat(0)],u=[r.getColumn("angle_alpha").getFloat(0),r.getColumn("angle_beta").getFloat(0),r.getColumn("angle_gamma").getFloat(0)],a&&!s.every(function(t){return isNaN(t)||0===t})&&!s.every(function(t){return isNaN(t)||0===t}))){var h=function(t){return t*t},p=function(t){return t*Math.PI/180},f=s[0],d=s[1],m=s[2],y=p(u[0]),v=p(u[1]),g=p(u[2]),b=f*d*m*Math.sqrt(1-h(Math.cos(y))-h(Math.cos(v))-h(Math.cos(g))+2*Math.cos(y)*Math.cos(v)*Math.cos(g)),_=t.Geometry.LinearAlgebra.Matrix4.ofRows([[f,d*Math.cos(g),m*Math.cos(v),0],[0,d*Math.sin(g),m*(Math.cos(y)-Math.cos(v)*Math.cos(g))/Math.sin(g),0],[0,0,b/(f*d*Math.sin(g)),0],[0,0,0,1]]),x=t.Geometry.LinearAlgebra.Matrix4.identity();if(t.Geometry.LinearAlgebra.Matrix4.invert(x,_),o){var w=n(o,"fract_transf_matrix","fract_transf_vector",0);w&&(c=w,t.Geometry.LinearAlgebra.Matrix4.areEqual(x,w,1e-4)||(l=!0))}else c=x;return new t.Structure.SymmetryInfo(a,s,u,c,l)}}function _(e){if(e&&e.rowCount){for(var n=new t.Structure.ComponentBondInfo,r=e.getColumn("comp_id"),i=e.getColumn("atom_id_1"),o=e.getColumn("atom_id_2"),a=e.getColumn("value_order"),s=e.rowCount,u=n.newEntry(r.getString(0)),c=0;c<s;c++){var l=r.getString(c),h=i.getString(c),p=o.getString(c),f=a.getString(c);u.id!==l&&(u=n.newEntry(l));var d=void 0;switch(f.toLowerCase()){case"sing":d=1;break;case"doub":case"delo":d=2;break;case"trip":d=3;break;case"quad":d=4;break;default:d=0}u.add(h,p,d)}return n}}function x(e,n,r){var i,u=o(e,n.getCategory("_atom_site").rowCount,r),c=u.atoms,l=u.modelId,h=u.endRow,p=a(r,c),f=n.getCategory("_entry");i=f&&f.getColumn("id").isDefined?f.getColumn("id").getString(0):n.header,s(n.getCategory("_entity"),p.entities);var d=m(n,c,p);return y(p.residues,d),{model:new t.Structure.MoleculeModel({id:i,modelId:l,atoms:c,residues:p.residues,chains:p.chains,entities:p.entities,componentBonds:_(n.getCategory("_chem_comp_bond")),secondaryStructure:d,symmetryInfo:b(n),assemblyInfo:g(n),source:t.Structure.MoleculeModelSource.File}),endRow:h}}function w(e){var n=[],r=e.getCategory("_atom_site"),o=0;if(!r)throw"'_atom_site' category is missing in the input.";var a,s=e.getCategory("_entry"),u=i(r);for(a=s&&s.getColumn("id").isDefined?s.getColumn("id").getString(0):e.header;o<r.rowCount;){var c=x(o,e,u),l=c.model,h=c.endRow;n.push(l),o=h}var p=void 0,f=e.getCategory("_exptl");return f&&(p=f.getColumn("method").getString(0)||void 0),new t.Structure.Molecule(a,n,{experimentMethod:p})}var C;!function(t){t.ElementSymbol="X",t.ResidueName="UNK",t.AsymId="",t.EntityId="1",t.ModelId="1"}(C||(C={}));var S=["id","Cartn_x","Cartn_y","Cartn_z","label_atom_id","type_symbol","occupancy","B_iso_or_equiv","auth_atom_id","label_alt_id","label_comp_id","label_seq_id","label_asym_id","auth_comp_id","auth_seq_id","auth_asym_id","group_PDB","label_entity_id","pdbx_PDB_ins_code","pdbx_PDB_model_num"],E={ALA:!0,ARG:!0,ASP:!0,CYS:!0,GLN:!0,GLU:!0,GLY:!0,HIS:!0,ILE:!0,LEU:!0,LYS:!0,MET:!0,PHE:!0,PRO:!0,SER:!0,THR:!0,TRP:!0,TYR:!0,VAL:!0,ASN:!0,PYL:!0,SEC:!0};e.ofDataBlock=w}(n=e.mmCIF||(e.mmCIF={}))}(n=e.Molecule||(e.Molecule={}))}(e=t.Formats||(t.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){var r=function(){function t(t,e,n,r){this.header=t,this.crystInfo=e,this.models=n,this.data=r}return t.prototype.makeEntities=function(){var t=["data_ent","loop_","_entity.id","_entity.type","_entity.src_method","_entity.pdbx_description","_entity.formula_weight","_entity.pdbx_number_of_molecules","_entity.details","_entity.pdbx_mutation","_entity.pdbx_fragment","_entity.pdbx_ec","1 polymer man polymer 0.0 0 ? ? ? ?","2 non-polymer syn non-polymer 0.0 0 ? ? ? ?","3 water nat water 0.0 0 ? ? ? ?"].join("\n"),n=e.CIF.Text.parse(t);if(n.isError)throw n.toString();return n.result.dataBlocks[0].getCategory("_entity")},t.prototype.toCifFile=function(){var t={dot:n.Parser.getDotRange(this.data.length),question:n.Parser.getQuestionmarkRange(this.data.length),numberTokens:n.Parser.getNumberRanges(this.data.length),data:this.data},r=new e.CIF.Text.File(this.data),i=new e.CIF.Text.DataBlock(this.data,this.header.id);if(r.dataBlocks.push(i),i.addCategory(this.makeEntities()),this.crystInfo){var o=this.crystInfo.toCifCategory(this.header.id),a=o.cell,s=o.symm;i.addCategory(a),i.addCategory(s);
}return i.addCategory(this.models.toCifCategory(i,t)),r},t}();n.MoleculeData=r;var i=function(){function t(t){this.id=t}return t}();n.Header=i;var o=function(){function t(t){this.record=t}return t.prototype.toCifCategory=function(t){var n=["_cell.entry_id           '"+t+"'","_cell.length_a           "+this.record.substr(6,9).trim(),"_cell.length_b           "+this.record.substr(15,9).trim(),"_cell.length_c           "+this.record.substr(24,9).trim(),"_cell.angle_alpha        "+this.record.substr(33,7).trim(),"_cell.angle_beta         "+this.record.substr(40,7).trim(),"_cell.angle_gamma        "+this.record.substr(48,7).trim(),"_cell.Z_PDB              "+this.record.substr(66,4).trim(),"_cell.pdbx_unique_axis   ?","_symmetry.entry_id                         '"+t+"'","_symmetry.space_group_name_H-M             '"+this.record.substr(55,11).trim()+"'","_symmetry.pdbx_full_space_group_name_H-M   ?","_symmetry.cell_setting                     ?","_symmetry.Int_Tables_number                ?","_symmetry.space_group_name_Hall            ?"].join("\n"),r=e.CIF.Text.parse(n);if(r.isError)throw new Error(r.toString());return{cell:r.result.dataBlocks[0].getCategory("_cell"),symm:r.result.dataBlocks[0].getCategory("_symmetry")}},t}();n.CrystStructureInfo=o;var a=function(){function t(t,e){this.helixTokens=t,this.sheetTokens=e}return t.prototype.toCifCategory=function(t){},t}();n.SecondaryStructure=a;var s=function(){function e(t,e,n){this.idToken=t,this.atomTokens=e,this.atomCount=n}return e.prototype.writeToken=function(e,n){t.Utils.ArrayBuilder.add2(n,this.atomTokens[2*e],this.atomTokens[2*e+1])},e.prototype.writeTokenCond=function(e,n,r){var i=this.atomTokens[2*e],o=this.atomTokens[2*e+1];i===o?t.Utils.ArrayBuilder.add2(n,r.start,r.end):t.Utils.ArrayBuilder.add2(n,i,o)},e.prototype.writeRange=function(e,n){t.Utils.ArrayBuilder.add2(n,e.start,e.end)},e.prototype.tokenEquals=function(t,e,n,r){var i=n.length;if(i!==e-t)return!1;for(var o=n.length-1;o>=0;o--)if(r.charCodeAt(o+t)!==n.charCodeAt(o))return!1;return!0},e.prototype.getEntityType=function(t,e){var n=14*t;if(this.tokenEquals(this.atomTokens[2*n],this.atomTokens[2*n+1],"HETATM",e)){var r=this.atomTokens[2*(n+4)],i=this.atomTokens[2*(n+4)+1];return this.tokenEquals(r,i,"HOH",e)||this.tokenEquals(r,i,"WTR",e)||this.tokenEquals(r,i,"SOL",e)?3:2}return 1},e.prototype.writeCifTokens=function(t,e,n){for(var r={RECORD:0,SERIAL:1,ATOM_NAME:2,ALT_LOC:3,RES_NAME:4,CHAIN_ID:5,RES_SEQN:6,INS_CODE:7,X:8,Y:9,Z:10,OCCUPANCY:11,TEMP_FACTOR:12,ELEMENT:13},i=14,o=0;o<this.atomCount;o++){var a=o*i;this.writeToken(a+r.RECORD,e),this.writeToken(a+r.SERIAL,e),this.writeToken(a+r.ELEMENT,e),this.writeToken(a+r.ATOM_NAME,e),this.writeTokenCond(a+r.ALT_LOC,e,n.dot),this.writeToken(a+r.RES_NAME,e),this.writeToken(a+r.CHAIN_ID,e),this.writeRange(n.numberTokens.get(this.getEntityType(o,n.data)),e),this.writeToken(a+r.RES_SEQN,e),this.writeTokenCond(a+r.INS_CODE,e,n.dot),this.writeToken(a+r.X,e),this.writeToken(a+r.Y,e),this.writeToken(a+r.Z,e),this.writeToken(a+r.OCCUPANCY,e),this.writeToken(a+r.TEMP_FACTOR,e),this.writeRange(n.question,e),this.writeRange(n.question,e),this.writeRange(n.question,e),this.writeRange(n.question,e),this.writeRange(n.question,e),this.writeRange(n.question,e),this.writeToken(a+r.RES_SEQN,e),this.writeToken(a+r.RES_NAME,e),this.writeToken(a+r.CHAIN_ID,e),this.writeToken(a+r.ATOM_NAME,e),this.writeRange(t,e)}},e}();s.COLUMNS=["_atom_site.group_PDB","_atom_site.id","_atom_site.type_symbol","_atom_site.label_atom_id","_atom_site.label_alt_id","_atom_site.label_comp_id","_atom_site.label_asym_id","_atom_site.label_entity_id","_atom_site.label_seq_id","_atom_site.pdbx_PDB_ins_code","_atom_site.Cartn_x","_atom_site.Cartn_y","_atom_site.Cartn_z","_atom_site.occupancy","_atom_site.B_iso_or_equiv","_atom_site.Cartn_x_esd","_atom_site.Cartn_y_esd","_atom_site.Cartn_z_esd","_atom_site.occupancy_esd","_atom_site.B_iso_or_equiv_esd","_atom_site.pdbx_formal_charge","_atom_site.auth_seq_id","_atom_site.auth_comp_id","_atom_site.auth_asym_id","_atom_site.auth_atom_id","_atom_site.pdbx_PDB_model_num"],n.ModelData=s;var u=function(){function n(t){this.models=t}return n.prototype.toCifCategory=function(n,r){for(var i=0,o=0,a=this.models;o<a.length;o++){var u=a[o];i+=u.atomCount}for(var c=26,l=t.Utils.ArrayBuilder.forTokenIndices(i*c),h=0,p=this.models;h<p.length;h++){var u=p[h];u.writeCifTokens(u.idToken,l,r)}return new e.CIF.Text.Category(n.data,"_atom_site",0,0,s.COLUMNS,l.array,i*c)},n}();n.ModelsData=u}(r=n.PDB||(n.PDB={}))}(n=e.Molecule||(e.Molecule={}))}(e=t.Formats||(t.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){function n(t,e){return i.parse(t,e)}var r=function(){function e(t){this.data=t,this.trimmedToken={start:0,end:0},this.line=0,this.position=0,this.length=t.length}return e.prototype.moveToNextLine=function(){for(;this.position<this.length&&10!==this.data.charCodeAt(this.position);)this.position++;return this.position++,this.line++,this.position},e.prototype.moveToEndOfLine=function(){for(;this.position<this.length;){var t=this.data.charCodeAt(this.position);if(10===t||13===t)return this.position;this.position++}return this.position},e.prototype.startsWith=function(t,e){for(var n=e.length-1;n>=0;n--)if(this.data.charCodeAt(n+t)!==e.charCodeAt(n))return!1;return!0},e.prototype.trim=function(t,e){for(;t<e&&32===this.data.charCodeAt(t);)t++;for(;e>t&&32===this.data.charCodeAt(e-1);)e--;this.trimmedToken.start=t,this.trimmedToken.end=e},e.prototype.tokenizeAtomRecord=function(e){var n=this.position,r=this.position,i=this.moveToEndOfLine(),o=i-r;return!(o<66)&&(this.trim(r,r+6),t.TokenIndexBuilder.addToken(e,this.trimmedToken.start,this.trimmedToken.end),r=n+6,this.trim(r,r+5),t.TokenIndexBuilder.addToken(e,this.trimmedToken.start,this.trimmedToken.end),r=n+12,this.trim(r,r+4),t.TokenIndexBuilder.addToken(e,this.trimmedToken.start,this.trimmedToken.end),32===this.data.charCodeAt(n+16)?t.TokenIndexBuilder.addToken(e,0,0):t.TokenIndexBuilder.addToken(e,n+16,n+17),r=n+17,this.trim(r,r+3),t.TokenIndexBuilder.addToken(e,this.trimmedToken.start,this.trimmedToken.end),t.TokenIndexBuilder.addToken(e,n+21,n+22),r=n+22,this.trim(r,r+4),t.TokenIndexBuilder.addToken(e,this.trimmedToken.start,this.trimmedToken.end),32===this.data.charCodeAt(n+26)?t.TokenIndexBuilder.addToken(e,0,0):t.TokenIndexBuilder.addToken(e,n+26,n+27),r=n+30,this.trim(r,r+8),t.TokenIndexBuilder.addToken(e,this.trimmedToken.start,this.trimmedToken.end),r=n+38,this.trim(r,r+8),t.TokenIndexBuilder.addToken(e,this.trimmedToken.start,this.trimmedToken.end),r=n+46,this.trim(r,r+8),t.TokenIndexBuilder.addToken(e,this.trimmedToken.start,this.trimmedToken.end),r=n+54,this.trim(r,r+6),t.TokenIndexBuilder.addToken(e,this.trimmedToken.start,this.trimmedToken.end),r=n+60,this.trim(r,r+6),t.TokenIndexBuilder.addToken(e,this.trimmedToken.start,this.trimmedToken.end),o>=78?(r=n+76,this.trim(r,r+2),this.trimmedToken.start<this.trimmedToken.end?t.TokenIndexBuilder.addToken(e,this.trimmedToken.start,this.trimmedToken.end):t.TokenIndexBuilder.addToken(e,n+12,n+13)):t.TokenIndexBuilder.addToken(e,n+12,n+13),!0)},e}(),i=function(){function n(){}return n.tokenizeAtom=function(e,n){if(!n.tokenizeAtomRecord(e))return new t.ParserError("Invalid ATOM/HETATM record.",n.line)},n.tokenize=function(i,o){for(var a=new r(o),s=o.length,u=t.TokenIndexBuilder.create(4096),c=0,l=[],h=void 0,p={start:0,end:0};a.position<s;){var f=!0;switch(o.charCodeAt(a.position)){case 65:if(a.startsWith(a.position,"ATOM")){u||(u=t.TokenIndexBuilder.create(4096));var d=n.tokenizeAtom(u,a);if(c++,d)return d}break;case 67:if(a.startsWith(a.position,"CRYST1")){var m=a.position,y=a.moveToEndOfLine();h=new e.CrystStructureInfo(o.substring(m,y))}break;case 69:if(a.startsWith(a.position,"ENDMDL")&&c>0)0===l.length&&(p={start:o.length+3,end:o.length+4}),u&&l.push(new e.ModelData(p,u.tokens,c)),c=0,u=null;else if(a.startsWith(a.position,"END")){var m=a.position,y=a.moveToEndOfLine();a.trim(m,y),a.trimmedToken.end-a.trimmedToken.start===3&&(f=!1)}break;case 72:if(a.startsWith(a.position,"HETATM")){u||(u=t.TokenIndexBuilder.create(4096));var d=n.tokenizeAtom(u,a);if(c++,d)return d}break;case 77:if(a.startsWith(a.position,"MODEL")){c>0&&(0===l.length&&(p={start:o.length+3,end:o.length+4}),u&&l.push(new e.ModelData(p,u.tokens,c)));var m=a.position+6,y=a.moveToEndOfLine();a.trim(m,y),p={start:a.trimmedToken.start,end:a.trimmedToken.end},(c>0||!u)&&(u=t.TokenIndexBuilder.create(4096)),c=0}}if(a.moveToNextLine(),!f)break}var v=o+".?0123";return c>0&&(0===l.length&&(p={start:o.length+3,end:o.length+4}),u&&l.push(new e.ModelData(p,u.tokens,c))),new e.MoleculeData(new e.Header(i),h,new e.ModelsData(l),v)},n.getDotRange=function(t){return{start:t-6,end:t-5}},n.getNumberRanges=function(t){for(var e=new Map,n=0;n<4;n++)e.set(n,{start:t-4+n,end:t-3+n});return e},n.getQuestionmarkRange=function(t){return{start:t-5,end:t-4}},n.parse=function(e,r){var i=n.tokenize(e,r);return i instanceof t.ParserError?t.ParserResult.error(i.message,i.line):t.ParserResult.success(i.toCifFile())},n}();e.Parser=i,e.toCifFile=n}(n=e.PDB||(e.PDB={}))}(e=t.Molecule||(t.Molecule={}))}(e=t.Formats||(t.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){function r(n,r){var i=n.split(/\r?\n/g),o=i[0].trim();o.length||(o="SDF");var a=i[3],s=+a.substr(0,3),u=+a.substr(3,3);return{id:r?r:o,atomCount:s,bondCount:u,atoms:t.Structure.DefaultDataTables.forAtoms(s).table,bonds:t.Structure.DefaultDataTables.forBonds(u).table,lines:i,currentLine:4,error:void 0,stringPool:e.ShortStringPool.create()}}function i(n,r){var i=r.lines[r.currentLine],o=r.atoms,a=e.ShortStringPool.get(r.stringPool,i.substr(31,3).trim());o.id[n]=n,o.elementSymbol[n]=a,o.name[n]=a,o.authName[n]=a,o.occupancy[n]=1,o.rowIndex[n]=r.currentLine,o.x[n]=t.Utils.FastNumberParsers.parseFloatSkipTrailingWhitespace(i,0,10),o.y[n]=t.Utils.FastNumberParsers.parseFloatSkipTrailingWhitespace(i,10,20),o.z[n]=t.Utils.FastNumberParsers.parseFloatSkipTrailingWhitespace(i,20,30)}function o(t){for(var e=0;e<t.atomCount;e++)i(e,t),t.currentLine++}function a(e,n){var r=n.lines[n.currentLine],i=n.bonds;switch(i.atomAIndex[e]=t.Utils.FastNumberParsers.parseIntSkipTrailingWhitespace(r,0,3)-1,i.atomBIndex[e]=t.Utils.FastNumberParsers.parseIntSkipTrailingWhitespace(r,3,6)-1,t.Utils.FastNumberParsers.parseIntSkipTrailingWhitespace(r,6,9)){case 1:i.type[e]=1;break;case 2:i.type[e]=2;break;case 3:i.type[e]=3;break;case 4:i.type[e]=4;break;default:i.type[e]=0}}function s(t){for(var e=0;e<t.bondCount;e++)a(e,t),t.currentLine++}function u(e){var n=t.Structure.DefaultDataTables.forResidues(1),r=t.Structure.DefaultDataTables.forChains(1),i=t.Structure.DefaultDataTables.forEntities(1);n.columns.isHet[0]=1,n.columns.insCode[0]=null,n.columns.name[0]=n.columns.authName[0]="UNK",n.columns.atomEndIndex[0]=r.columns.atomEndIndex[0]=i.columns.atomEndIndex[0]=e.atomCount,n.columns.asymId[0]=n.columns.authAsymId[0]=r.columns.asymId[0]=r.columns.authAsymId[0]="X",n.columns.entityId[0]=r.columns.entityId[0]=i.columns.entityId[0]="1",r.columns.residueEndIndex[0]=i.columns.residueEndIndex[0]=0,i.columns.chainEndIndex[0]=1,i.columns.type[0]="non-polymer",i.columns.entityType[0]=t.Structure.EntityType.NonPolymer;var o=new t.Structure.PolyResidueIdentifier("X",0,null),a=[new t.Structure.SecondaryStructureElement(0,o,o)];return a[0].startResidueIndex=0,a[0].endResidueIndex=1,new t.Structure.MoleculeModel({id:e.id,modelId:"1",atoms:e.atoms,residues:n.table,chains:r.table,entities:i.table,covalentBonds:e.bonds,componentBonds:void 0,secondaryStructure:a,symmetryInfo:void 0,assemblyInfo:void 0,source:t.Structure.MoleculeModelSource.File})}function c(n,i){try{var a=r(n,i);o(a),s(a);var c=u(a);if(a.error)return e.ParserResult.error(a.error,a.currentLine+1);var l=new t.Structure.Molecule(i?i:a.id,[c]);return e.ParserResult.success(l)}catch(t){return e.ParserResult.error(""+t)}}n.parse=c}(r=n.SDF||(n.SDF={}))}(n=e.Molecule||(e.Molecule={}))}(e=t.Formats||(t.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){function r(r,i){var o=this;return function(a,s){return t.computation(function(t){return v(o,void 0,void 0,function(){var o,u,c;return g(this,function(l){switch(l.label){case 0:return[4,t.updateProgress("Parsing...")];case 1:if(l.sent(),o=i(a,s),o.isError)throw o.toString();if(u=o.result,!u.dataBlocks.length)throw"The "+r+" data does not contain a data block.";return[4,t.updateProgress("Creating representation...")];case 2:return l.sent(),c=n.mmCIF.ofDataBlock(u.dataBlocks[0]),[2,e.ParserResult.success(c,u.dataBlocks.length>1?["The input data contains multiple data blocks, only the first one was parsed. To parse all data blocks, use the function 'mmCIF.ofDataBlock' separately for each block."]:void 0)]}})})})}}var i;!function(i){var o=this;i.mmCIF={name:"mmCIF",shortcuts:["mmcif","cif"],extensions:[".cif"],parse:r("CIF",e.CIF.Text.parse)},i.mmBCIF={name:"mmCIF (Binary)",shortcuts:["mmbcif","bcif","binarycif"],extensions:[".bcif"],isBinary:!0,parse:r("BinaryCIF",e.CIF.Binary.parse)},i.PDB={name:"PDB",shortcuts:["pdb","ent"],extensions:[".pdb",".ent"],parse:r("PDB",function(t,e){return n.PDB.toCifFile(e&&e.id||"PDB",t)})},i.SDF={name:"SDF",shortcuts:["sdf","mol"],extensions:[".sdf",".mol"],parse:function(r,i){return t.computation(function(t){return v(o,void 0,void 0,function(){var o;return g(this,function(a){switch(a.label){case 0:return[4,t.updateProgress("Parsing...")];case 1:if(a.sent(),o=n.SDF.parse(r,i&&i.id||void 0),o.isError)throw o.toString();return[2,e.ParserResult.success(o.result)]}})})})}},i.All=[i.mmCIF,i.mmBCIF,i.PDB,i.SDF]}(i=n.SupportedFormats||(n.SupportedFormats={}))}(n=e.Molecule||(e.Molecule={}))}(e=t.Formats||(t.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e){for(var n=t.length,r=0;r<n;r++)t[r]=e}var n=function(){function t(t,e){this.data=t,this.dimensions=e,this.len=this.dimensions[0]*this.dimensions[1]*this.dimensions[2],this.nX=this.dimensions[0],this.nY=this.dimensions[1]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.getAt=function(t){return this.data[t]},t.prototype.setAt=function(t,e){this.data[t]=e},t.prototype.get=function(t,e,n){return this.data[this.nX*(n*this.nY+e)+t|0]},t.prototype.set=function(t,e,n,r){this.data[this.nX*(n*this.nY+e)+t|0]=r},t.prototype.fill=function(t){e(this.data,t)},t}();t.Field3DZYX=n;var r;!function(t){function e(t,e,n,r,i,o,a,s,u,c,l){return{cellSize:t,cellAngles:e,origin:n,hasSkewMatrix:r,skewMatrix:i,data:o,basis:s,startOffset:u,dataDimensions:a,valuesInfo:c,attributes:l?l:{},isNormalized:!1}}function n(t){if(!t.isNormalized){for(var e=t.data,n=t.valuesInfo,r=n.mean,i=n.sigma,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=0,u=e.length;s<u;s++){var c=(e.getAt(s)-r)/i;e.setAt(s,c),c<o&&(o=c),c>a&&(a=c)}t.valuesInfo.min=o,t.valuesInfo.max=a,t.isNormalized=!0}}function r(t){if(t.isNormalized){for(var e=t.data,n=t.valuesInfo,r=n.mean,i=n.sigma,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=0,u=e.length;s<u;s++){var c=i*e.getAt(s)+r;e.setAt(s,c),c<o&&(o=c),c>a&&(a=c)}t.valuesInfo.min=o,t.valuesInfo.max=a,t.isNormalized=!1}}t.create=e,t.normalize=n,t.denormalize=r}(r=t.Data||(t.Data={}))}(e=t.Density||(t.Density={}))}(e=t.Formats||(t.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){function r(t){return i.parse(t)}n.parse=r;var i;!function(n){function r(t,e,n){for(var r=[],i=0;i<n;i++)r[i]=t(e+i);return r}function i(n){var i=1024,s=!1,u=new DataView(n,0,i),c=[],l=u.getInt32(12,!1);if(2!==l&&(s=!0,l=u.getInt32(12,!0),2!==l))return t.ParserResult.error("Only CCP4 modes 0 and 2 are supported.");var h=function(t){return u.getInt32(4*t,s)},p=function(t){return u.getFloat32(4*t,s)},f={extent:r(h,0,3),mode:l,nxyzStart:r(h,4,3),grid:r(h,7,3),cellDimensions:r(p,10,3),cellAngles:r(p,13,3),crs2xyz:r(h,16,3),min:p(19),max:p(20),mean:p(21),spacegroupNumber:h(22),symBytes:h(23),skewFlag:h(24),skewMatrix:r(p,25,9),skewTranslation:r(p,34,3),origin2k:r(p,49,3)},d=n.byteLength-4*f.extent[0]*f.extent[1]*f.extent[2];if(d!==i+f.symBytes)if(d===i)c.push("File contains bogus symmetry record.");else{if(d<i)return t.ParserResult.error("File appears truncated and doesn't match header.");if(!(d>i&&d<1048576))return t.ParserResult.error("File is MUCH larger than expected and doesn't match header.");d=i+f.symBytes,c.push("File is larger than expected and doesn't match header. Continuing file load, good luck!")}0===f.grid[0]&&f.extent[0]>0&&(f.grid[0]=f.extent[0]-1,c.push("Fixed X interval count.")),0===f.grid[1]&&f.extent[1]>0&&(f.grid[1]=f.extent[1]-1,c.push("Fixed Y interval count.")),0===f.grid[2]&&f.extent[2]>0&&(f.grid[2]=f.extent[2]-1,c.push("Fixed Z interval count.")),0===f.crs2xyz[0]&&0===f.crs2xyz[1]&&0===f.crs2xyz[2]&&(c.push("All crs2xyz records are zero. Setting crs2xyz to 1, 2, 3."),f.crs2xyz=[1,2,3]),0===f.cellDimensions[0]&&0===f.cellDimensions[1]&&0===f.cellDimensions[2]&&(c.push("Cell dimensions are all zero. Setting to 1.0, 1.0, 1.0. Map file will not align with other structures."),f.cellDimensions[0]=1,f.cellDimensions[1]=1,f.cellDimensions[2]=1);var m=Math.PI/180*f.cellAngles[0],y=Math.PI/180*f.cellAngles[1],v=Math.PI/180*f.cellAngles[2],g=f.cellDimensions[0]/f.grid[0],b=f.cellDimensions[1]/f.grid[1],_=f.cellDimensions[2]/f.grid[2],x=Math.cos(y),w=(Math.cos(m)-Math.cos(y)*Math.cos(v))/Math.sin(v),C=Math.sqrt(1-x*x-w*w),S=[g,0,0],E=[Math.cos(v)*b,Math.sin(v)*b,0],T=[x*_,w*_,C*_],M=[0,0,0];M[f.crs2xyz[0]-1]=0,M[f.crs2xyz[1]-1]=1,M[f.crs2xyz[2]-1]=2;var A;A=0===f.origin2k[0]&&0===f.origin2k[1]&&0===f.origin2k[2]?[S[0]*f.nxyzStart[M[0]]+E[0]*f.nxyzStart[M[1]]+T[0]*f.nxyzStart[M[2]],E[1]*f.nxyzStart[M[1]]+T[1]*f.nxyzStart[M[2]],T[2]*f.nxyzStart[M[2]]]:[f.origin2k[M[0]],f.origin2k[M[1]],f.origin2k[M[2]]];var P,k,R=[f.extent[M[0]],f.extent[M[1]],f.extent[M[2]]],O=new Float32Array(16);for(P=0;P<3;P++){for(k=0;k<3;k++)O[4*k+P]=f.skewMatrix[3*P+k];O[12+P]=f.skewTranslation[P]}var I=13330===new Uint16Array(new Uint8Array([18,52]).buffer)[0],N=s===I?o(new Float32Array(n,i+f.symBytes,R[0]*R[1]*R[2]),s,R,f.extent,M,f.mean):a(new DataView(n,i+f.symBytes),s,R,f.extent,M,f.mean),D=new e.Field3DZYX(N.data,R),L=e.Data.create(f.cellDimensions,f.cellAngles,A,0!==f.skewFlag,O,D,R,{x:S,y:E,z:T},[f.nxyzStart[M[0]],f.nxyzStart[M[1]],f.nxyzStart[M[2]]],{min:f.min,max:f.max,mean:f.mean,sigma:N.sigma},{spacegroupIndex:f.spacegroupNumber-1});return t.ParserResult.success(L,c)}function o(t,e,n,r,i,o){var a,s,u,c,l,h,p,f,d=new Float32Array(n[0]*n[1]*n[2]),m=[0,0,0],y=0,v=.1,g=0,b=.1,_=i[0],x=i[1],w=i[2];for(a=r[0],s=r[1],u=r[2],p=n[0],f=n[0]*n[1],h=0;h<u;h++)for(m[2]=h,l=0;l<s;l++)for(m[1]=l,c=0;c<a;c++)m[0]=c,v=t[y],b=v-o,g+=b*b,d[m[_]+m[x]*p+m[w]*f]=v,y+=1;return g/=a*s*u,g=Math.sqrt(g),{data:d,sigma:g}}function a(t,e,n,r,i,o){var a,s,u,c,l,h,p,f,d=new Float32Array(n[0]*n[1]*n[2]),m=[0,0,0],y=0,v=.1,g=0,b=.1,_=i[0],x=i[1],w=i[2];for(a=r[0],s=r[1],u=r[2],p=n[0],f=n[0]*n[1],h=0;h<u;h++)for(m[2]=h,l=0;l<s;l++)for(m[1]=l,c=0;c<a;c++)m[0]=c,v=t.getFloat32(y,e),b=v-o,g+=b*b,d[m[_]+m[x]*p+m[w]*f]=v,y+=4;return g/=a*s*u,g=Math.sqrt(g),{data:d,sigma:g}}n.parse=i}(i||(i={}))}(n=e.CCP4||(e.CCP4={}))}(e=t.Density||(t.Density={}))}(e=t.Formats||(t.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){function r(t){return i.parse(t)}n.parse=r;var i;!function(n){function r(n){function r(t){for(var e=[],n=0;n<3;n++)e[n]=a.getColumn(t+"["+n+"]").getFloat(0);return e}function o(t){return a.getColumn(t).getFloat(0)}var a=n.getCategory("_density_info");if(!a)return t.ParserResult.error("_density_info category is missing.");if(!n.getCategory("_density_data"))return t.ParserResult.error("_density_data category is missing.");var s={name:a.getColumn("name").getString(0),grid:r("grid"),axisOrder:r("axis_order"),extent:r("extent"),origin:r("origin"),cellSize:r("cell_size"),cellAngles:r("cell_angles"),mean:o("mean"),sigma:o("sigma"),spacegroupNumber:0|o("spacegroup_number")},u=Math.PI/180*s.cellAngles[0],c=Math.PI/180*s.cellAngles[1],l=Math.PI/180*s.cellAngles[2],h=s.cellSize[0]/s.grid[0],p=s.cellSize[1]/s.grid[1],f=s.cellSize[2]/s.grid[2],d=Math.cos(c),m=(Math.cos(u)-Math.cos(c)*Math.cos(l))/Math.sin(l),y=Math.sqrt(1-d*d-m*m),v=[h,0,0],g=[Math.cos(l)*p,Math.sin(l)*p,0],b=[d*f,m*f,y*f],_=[0,0,0];_[s.axisOrder[0]]=0,_[s.axisOrder[1]]=1,_[s.axisOrder[2]]=2;var x=[s.origin[s.axisOrder[0]],s.origin[s.axisOrder[1]],s.origin[s.axisOrder[2]]],w=[v[0]*x[0]+g[0]*x[1]+b[0]*x[2],g[1]*x[1]+b[1]*x[2],b[2]*x[2]],C=[s.extent[_[0]],s.extent[_[1]],s.extent[_[2]]],S=i(n.getCategory("_density_data").getColumn("values"),C,s.extent,_,s.mean),E=new e.Field3DZYX(S.data,C),T=e.Data.create(s.cellSize,s.cellAngles,w,!1,void 0,E,C,{x:v,y:g,z:b},[s.axisOrder[_[0]],s.axisOrder[_[1]],s.axisOrder[_[2]]],{min:S.min,max:S.max,mean:s.mean,sigma:s.sigma},{spacegroupIndex:s.spacegroupNumber-1,name:s.name});return t.ParserResult.success(T)}function i(t,e,n,r,i){var o,a,s,u,c,l,h,p,f=new Float32Array(e[0]*e[1]*e[2]),d=[0,0,0],m=0,y=.1,v=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,b=r[0],_=r[1],x=r[2];for(o=n[0],a=n[1],s=n[2],h=e[0],p=e[0]*e[1],l=0;l<s;l++)for(d[2]=l,c=0;c<a;c++)for(d[1]=c,u=0;u<o;u++)d[0]=u,y=t.getFloat(m),y<v?v=y:y>g&&(g=y),f[d[b]+d[_]*h+d[x]*p]=y,m+=1;return{data:f,min:v,max:g}}n.parse=r}(i||(i={}))}(n=e.CIF||(e.CIF={}))}(e=t.Density||(t.Density={}))}(e=t.Formats||(t.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){function r(t){return o.parse(t)}function i(t,e){return t.filter(function(t){return t!==e})}n.parse=r;var o;!function(n){function r(n){var r=512,a=!1,s=new Uint8Array(n,0,r),u=String.fromCharCode.apply(null,s),c=u.search("origin"),l=u.search("extent"),h=u.search("grid"),p=u.search("cell"),f=u.search("prod"),d=u.search("plus"),m=u.search("sigma"),y=u.substring(c+"origin".length,l).replace(" ","").split(" "),v=i(y,""),g=u.substring(l+"extent".length,h).split(" "),b=i(g,""),_=u.substring(h+"grid".length,p).split(" "),x=i(_,""),w=u.substring(p+"cell".length,f).split(" "),C=i(w,""),S=u.substring(f+"prod".length,d).split(" "),E=i(S,""),T=u.substring(d+"plus".length,m).split(" "),M=i(T,""),A=[],P=0,k={extent:b.map(function(t){return parseInt(t)}),mode:P,nxyzStart:[0,0,0],grid:x.map(function(t){return parseInt(t)}),cellDimensions:C.slice(0,3).map(function(t){return parseFloat(t)}),cellAngles:C.slice(3,6).map(function(t){return parseFloat(t)}),crs2xyz:[1,2,3],min:0,max:0,mean:0,symBytes:0,skewFlag:0,skewMatrix:0,skewTranslation:0,origin2k:v.map(function(t){return parseFloat(t)}),prod:E.map(function(t){return parseFloat(t)})[0],plus:M.map(function(t){return parseFloat(t)})[0]},R=512;if(R!==r+k.symBytes)if(R===r)A.push("File contains bogus symmetry record.");else{if(R<r)return t.ParserResult.error("File appears truncated and doesn't match header.");if(!(R>r&&R<1048576))return t.ParserResult.error("File is MUCH larger than expected and doesn't match header.");R=r+k.symBytes,A.push("File is larger than expected and doesn't match header. Continuing file load, good luck!")}0===k.grid[0]&&k.extent[0]>0&&(k.grid[0]=k.extent[0]-1,A.push("Fixed X interval count.")),0===k.grid[1]&&k.extent[1]>0&&(k.grid[1]=k.extent[1]-1,A.push("Fixed Y interval count.")),0===k.grid[2]&&k.extent[2]>0&&(k.grid[2]=k.extent[2]-1,A.push("Fixed Z interval count.")),0===k.crs2xyz[0]&&0===k.crs2xyz[1]&&0===k.crs2xyz[2]&&(A.push("All crs2xyz records are zero. Setting crs2xyz to 1, 2, 3."),k.crs2xyz=[1,2,3]),0===k.cellDimensions[0]&&0===k.cellDimensions[1]&&0===k.cellDimensions[2]&&(A.push("Cell dimensions are all zero. Setting to 1.0, 1.0, 1.0. Map file will not align with other structures."),k.cellDimensions[0]=1,k.cellDimensions[1]=1,k.cellDimensions[2]=1);var O=Math.PI/180*k.cellAngles[0],I=Math.PI/180*k.cellAngles[1],N=Math.PI/180*k.cellAngles[2],D=k.cellDimensions[0]/k.grid[0],L=k.cellDimensions[1]/k.grid[1],V=k.cellDimensions[2]/k.grid[2],F=Math.cos(I),j=(Math.cos(O)-Math.cos(I)*Math.cos(N))/Math.sin(N),B=Math.sqrt(1-F*F-j*j),U=[D,0,0],z=[Math.cos(N)*L,Math.sin(N)*L,0],H=[F*V,j*V,B*V],G=[0,0,0];G[k.crs2xyz[0]-1]=0,G[k.crs2xyz[1]-1]=1,G[k.crs2xyz[2]-1]=2;var q;q=0===k.origin2k[0]&&0===k.origin2k[1]&&0===k.origin2k[2]?[U[0]*k.nxyzStart[G[0]]+z[0]*k.nxyzStart[G[1]]+H[0]*k.nxyzStart[G[2]],z[1]*k.nxyzStart[G[1]]+H[1]*k.nxyzStart[G[2]],H[2]*k.nxyzStart[G[2]]]:[k.origin2k[G[0]],k.origin2k[G[1]],k.origin2k[G[2]]];var W,X,Y=[k.extent[G[0]],k.extent[G[1]],k.extent[G[2]]],K=new Float32Array(16);for(W=0;W<3;W++){for(X=0;X<3;X++)K[4*X+W]=0;K[12+W]=0}var Z=13330===new Uint16Array(new Uint8Array([18,52]).buffer)[0];a=Z;var Q=o(new Uint8Array(n,r+k.symBytes),a,Y,k.extent,G,k.mean,k.prod,k.plus),$=new e.Field3DZYX(Q.data,Y),J=e.Data.create(k.cellDimensions,k.cellAngles,q,0!==k.skewFlag,K,$,Y,{x:U,y:z,z:H},[k.nxyzStart[G[0]],k.nxyzStart[G[1]],k.nxyzStart[G[2]]],{min:Q.minj,max:Q.maxj,mean:Q.meanj,sigma:Q.sigma},{prod:k.prod,plus:k.plus});//! added attributes property to store additional information
return t.ParserResult.success(J,A)}function o(t,e,n,r,i,o,a,s){
//! DataView is generally a LOT slower than Uint8Array. For performance reasons I think it would be better to use that.
//! Endian has no effect on individual bytes anyway to my knowledge.
var u,c,l,h,p,f,d,m,y,v,g,b,_,x,w=0,C=.1,S=0,E=.1,T=0,M=0,A=0,P=8,k=8,R=8,O=8,I=P*P*P;
//! I think this will need some fixing, because the values are non-integer
//! A small perf trick: use 'value | 0' to tell the runtime the value is an integer.
u=r[0]/8,c=r[1]/8,l=r[2]/8;var N=new Float32Array(8*u*8*c*8*l);for(d=8*u,m=64*u*c,T=0,M=0,A=0,y=0;y<I*u*c*l;y++)C=(t[y]-s)/a,A+=C,C<T&&(T=C),C>M&&(M=C);for(A/=I*u*c*l,f=0;f<l;f++)for(p=0;p<c;p++)for(h=0;h<u;h++){
//! cX is suppoed to change the fastest because of the memory layout of the 1D array 
//! changed the ordering mi == X coord, was Z; mk == Z coord, was X
for(g=0;g<k;g++)for(v=0;v<R;v++)for(y=0;y<O;y++)C=(t[w+y+8*v+64*g]-s)/a,b=O*h+y,_=R*p+v,x=k*f+g,
//! swapped x and z here.
N[b+d*_+m*x]=C,E=C-A,S+=E*E;w+=I}return S/=I*u*c*l,S=Math.sqrt(S),{data:N,sigma:S,minj:T,maxj:M,meanj:A}}n.parse=r}(o||(o={}))}(n=e.DSN6||(e.DSN6={}))}(e=t.Density||(t.Density={}))}(e=t.Formats||(t.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){function n(e,n,r){var i=this;return t.computation(function(t){return v(i,void 0,void 0,function(){return g(this,function(i){switch(i.label){case 0:return[4,t.updateProgress("Parsing "+n+"...")];case 1:return i.sent(),[2,r(e)]}})})})}var r;!function(t){t.CCP4={name:"CCP4",shortcuts:["ccp4","map"],extensions:[".ccp4",".map"],isBinary:!0,parse:function(t){return n(t,"CCP4",function(t){return e.CCP4.parse(t)})}},t.DSN6={name:"DSN6",shortcuts:["dsn6"],extensions:[".dsn6"],isBinary:!0,parse:function(t){return n(t,"DSN6",function(t){return e.DSN6.parse(t)})}},t.All=[t.CCP4,t.DSN6]}(r=e.SupportedFormats||(e.SupportedFormats={}))}(n=e.Density||(e.Density={}))}(e=t.Formats||(t.Formats={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e,n="undefined"!=typeof Float64Array?function(t){return new Float64Array(t)}:function(t){return[]};!function(t){function e(){return n(16)}function r(){var t=n(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i(t){var e,r,i,o=n(16);for(e=0;e<4;e++)for(i=t[e],r=0;r<4;r++)o[4*r+e]=i[r];return o}function o(t,e,n){for(var r=0;r<16;r++)if(Math.abs(t[r]-e[r])>n)return!1;return!0}function a(t,e,n,r){t[4*n+e]=r}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function u(e){return t.copy(t.empty(),e)}function c(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],y=e[14],v=e[15],g=n*s-r*a,b=n*u-i*a,_=n*c-o*a,x=r*u-i*s,w=r*c-o*s,C=i*c-o*u,S=l*m-h*d,E=l*y-p*d,T=l*v-f*d,M=h*y-p*m,A=h*v-f*m,P=p*v-f*y,k=g*P-b*A+_*M+x*T-w*E+C*S;return k?(k=1/k,t[0]=(s*P-u*A+c*M)*k,t[1]=(i*A-r*P-o*M)*k,t[2]=(m*C-y*w+v*x)*k,t[3]=(p*w-h*C-f*x)*k,t[4]=(u*T-a*P-c*E)*k,t[5]=(n*P-i*T+o*E)*k,t[6]=(y*_-d*C-v*b)*k,t[7]=(l*C-p*_+f*b)*k,t[8]=(a*A-s*T+c*S)*k,t[9]=(r*T-n*A-o*S)*k,t[10]=(d*w-m*_+v*g)*k,t[11]=(h*_-l*w-f*g)*k,t[12]=(s*E-a*M-u*S)*k,t[13]=(n*M-r*E+i*S)*k,t[14]=(m*b-d*x-y*g)*k,t[15]=(l*x-h*b+p*g)*k,t):null}function l(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=e[9],f=e[10],d=e[11],m=e[12],y=e[13],v=e[14],g=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*s+x*h+w*m,t[1]=b*i+_*u+x*p+w*y,t[2]=b*o+_*c+x*f+w*v,t[3]=b*a+_*l+x*d+w*g,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*r+_*s+x*h+w*m,t[5]=b*i+_*u+x*p+w*y,t[6]=b*o+_*c+x*f+w*v,t[7]=b*a+_*l+x*d+w*g,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*r+_*s+x*h+w*m,t[9]=b*i+_*u+x*p+w*y,t[10]=b*o+_*c+x*f+w*v,t[11]=b*a+_*l+x*d+w*g,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*r+_*s+x*h+w*m,t[13]=b*i+_*u+x*p+w*y,t[14]=b*o+_*c+x*f+w*v,t[15]=b*a+_*l+x*d+w*g,t}function h(t,e,n){var r,i,o,a,s,u,c,l,h,p,f,d,m=n[0],y=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*y+e[8]*v+e[12],t[13]=e[1]*m+e[5]*y+e[9]*v+e[13],t[14]=e[2]*m+e[6]*y+e[10]*v+e[14],t[15]=e[3]*m+e[7]*y+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=e[9],f=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=h,t[9]=p,t[10]=f,t[11]=d,t[12]=r*m+s*y+h*v+e[12],t[13]=i*m+u*y+p*v+e[13],t[14]=o*m+c*y+f*v+e[14],t[15]=a*m+l*y+d*v+e[15]),t}function p(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function f(t,e,n){var r=e.x,i=e.y,o=e.z;return t.x=n[0]*r+n[4]*i+n[8]*o+n[12],t.y=n[1]*r+n[5]*i+n[9]*o+n[13],t.z=n[2]*r+n[6]*i+n[10]*o+n[14],t}function d(t){for(var e="",n=0;n<4;n++){for(var r=0;r<4;r++)e+=t[4*r+n].toString(),r<3&&(e+=" ");n<3&&(e+="\n")}return e}function m(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],h=t[10],p=t[11],f=t[12],d=t[13],m=t[14],y=t[15],v=e*a-n*o,g=e*s-r*o,b=e*u-i*o,_=n*s-r*a,x=n*u-i*a,w=r*u-i*s,C=c*d-l*f,S=c*m-h*f,E=c*y-p*f,T=l*m-h*d,M=l*y-p*d,A=h*y-p*m;return v*A-g*M+b*T+_*E-x*S+w*C}t.empty=e,t.identity=r,t.ofRows=i,t.areEqual=o,t.setValue=a,t.copy=s,t.clone=u,t.invert=c,t.mul=l,t.translate=h,t.fromTranslation=p,t.transformVector3=f,t.makeTable=d,t.determinant=m}(e=t.Matrix4||(t.Matrix4={}));var r;!function(t){function e(){var t=n(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function r(t){var e=n(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function i(t,e,r,i){var o=n(4);return o[0]=t,o[1]=e,o[2]=r,o[3]=i,o}function o(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function a(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)}function s(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function u(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function c(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function l(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}t.create=e,t.clone=r,t.fromValues=i,t.set=o,t.distance=a,t.squaredDistance=s,t.norm=u,t.squaredNorm=c,t.transform=l}(r=t.Vector4||(t.Vector4={}))}(e=t.LinearAlgebra||(t.LinearAlgebra={}))}(e=t.Geometry||(t.Geometry={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t){var e,n=2*t.capacity+1,r=new Int32Array(n);if(t.count<32)for(e=0;e<t.count;e++)r[e]=t.indices[e];else r.set(t.indices);t.indices=r,t.capacity=n}function n(t,n){this.count+1>=this.capacity&&e(this),this.indices[this.count++]=n}function r(){this.count=0}function i(t){return t<1&&(t=1),{indices:new Int32Array(t),count:0,capacity:t,hasPriorities:!1,priorities:void 0,add:n,reset:r}}t.create=i}(e=t.SubdivisionTree3DResultIndexBuffer||(t.SubdivisionTree3DResultIndexBuffer={}));var n;!function(t){function e(t){var e,n=2*t.capacity+1,r=new Int32Array(n),i=new Float32Array(n);if(t.count<32)for(e=0;e<t.count;e++)r[e]=t.indices[e],i[e]=t.priorities[e];else r.set(t.indices),i.set(t.priorities);t.indices=r,t.priorities=i,t.capacity=n}function n(t,n){this.count+1>=this.capacity&&e(this),this.priorities[this.count]=t,this.indices[this.count++]=n}function r(){this.count=0}function i(t){return t<1&&(t=1),{indices:new Int32Array(t),count:0,capacity:t,hasPriorities:!0,priorities:new Float32Array(t),add:n,reset:r}}t.create=i}(n=t.SubdivisionTree3DResultPriorityBuffer||(t.SubdivisionTree3DResultPriorityBuffer={}));var r;!function(t){function e(t,e,n,r){this.pivot[0]=t,this.pivot[1]=e,this.pivot[2]=n,this.radius=r,this.radiusSq=r*r,this.buffer.reset(),a.nearest(this.tree.root,this,0)}function n(t,n){return{tree:t,indices:t.indices,positions:t.positions,buffer:n,pivot:[.1,.1,.1],radius:1.1,radiusSq:1.1*1.1,nearest:e}}t.create=n}(r=t.SubdivisionTree3DQueryContext||(t.SubdivisionTree3DQueryContext={}));var i;!function(t){function i(t,i,o){return void 0===o&&(o=!1),r.create(t,o?n.create(Math.max(i*i|0,8)):e.create(Math.max(i*i|0,8)))}function o(t,e,n){void 0===n&&(n=32);var r=u.build(t,e,n),i=r.root,o=r.indices,a=r.positions;return{data:t,root:i,indices:o,positions:a}}t.createContextRadius=i,t.create=o}(i=t.SubdivisionTree3D||(t.SubdivisionTree3D={}));var o;!function(t){function e(t,e,n,r){t.data[t._count++]=e,t.data[t._count++]=n,t.data[t._count++]=r,t.boundsMin[0]=Math.min(e,t.boundsMin[0]),t.boundsMin[1]=Math.min(n,t.boundsMin[1]),t.boundsMin[2]=Math.min(r,t.boundsMin[2]),t.boundsMax[0]=Math.max(e,t.boundsMax[0]),t.boundsMax[1]=Math.max(n,t.boundsMax[1]),t.boundsMax[2]=Math.max(r,t.boundsMax[2])}function n(t){var e=new Float32Array(3*t|0),n=s.createInfinite(),r=n.min,i=n.max;return{_count:0,data:e,bounds:n,boundsMin:r,boundsMax:i}}t.add=e,t.create=n}(o||(o={}));var a;!function(t){function e(t,e){var n,r,i,o,a,s,u=e.pivot,c=e.indices,l=e.positions,h=e.radiusSq;for(s=t.startIndex;s<t.endIndex;s++)o=3*c[s],n=u[0]-l[o],r=u[1]-l[o+1],i=u[2]-l[o+2],a=n*n+r*r+i*i,a<=h&&e.buffer.add(a,c[s])}function n(t,e,n){var i=e.pivot[n],o=i<t.splitValue;(o?i+e.radius>t.splitValue:i-e.radius<t.splitValue)?(r(t.left,e,(n+1)%3),r(t.right,e,(n+1)%3)):o?r(t.left,e,(n+1)%3):r(t.right,e,(n+1)%3)}function r(t,r,i){t.startIndex!==t.endIndex&&(isNaN(t.splitValue)?e(t,r):n(t,r,i))}function i(t,e,n,r,i){return{splitValue:t,startIndex:e,endIndex:n,left:r,right:i}}t.nearest=r,t.create=i}(a=t.SubdivisionTree3DNode||(t.SubdivisionTree3DNode={}));var s;!function(t){function e(){return{min:[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],max:[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]}}t.createInfinite=e}(s=t.Box3D||(t.Box3D={}));var u;!function(t){function e(t,n,r,i){var o=r-n+1;if(o<=0)return t.emptyNode;if(o<=t.leafSize)return a.create(NaN,n,r+1,t.emptyNode,t.emptyNode);for(var s,u,c,l=t.bounds.min[i],h=t.bounds.max[i],p=.5*(l+h),f=0,d=n,m=r;d<m;){for(s=t.indices[m],t.indices[m]=t.indices[d],t.indices[d]=s;d<=r&&t.positions[3*t.indices[d]+i]<=p;)d++;for(;m>=n&&t.positions[3*t.indices[m]+i]>p;)m--}return f=d-1,t.bounds.max[i]=p,u=e(t,n,f,(i+1)%3),t.bounds.max[i]=h,t.bounds.min[i]=p,c=e(t,f+1,r,(i+1)%3),t.bounds.min[i]=l,a.create(p,n,r+1,u,c)}function n(t){var e=o.add;return function(n,r,i){e(t,n,r,i)}}function r(t,r,i){for(var s=o.create(t.length),u=new Int32Array(t.length),c=n(s),l=0;l<t.length;l++)u[l]=l,r(t[l],c);c=void 0;var h={bounds:s.bounds,positions:s.data,leafSize:i,indices:u,emptyNode:a.create(NaN,-1,-1,void 0,void 0)},p=e(h,0,u.length-1,0);return h=void 0,{root:p,indices:u,positions:s.data}}t.build=r}(u||(u={}))}(e=t.Geometry||(t.Geometry={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){function r(t){if(!t.normals){var e,n,r=new Float32Array(t.vertices.length),i=t.vertices,o=t.triangleIndices;for(n=0;n<o.length;n+=3){var a=3*o[n],s=3*o[n+1],u=3*o[n+2],c=i[a+2]*(i[s+1]-i[u+1])+i[s+2]*i[u+1]-i[s+1]*i[u+2]+i[a+1]*(-i[s+2]+i[u+2]),l=-(i[s+2]*i[u])+i[a+2]*(-i[s]+i[u])+i[a]*(i[s+2]-i[u+2])+i[s]*i[u+2],h=i[a+1]*(i[s]-i[u])+i[s+1]*i[u]-i[s]*i[u+1]+i[a]*(-i[s+1]+i[s+1]);r[a]+=c,r[a+1]+=l,r[a+2]+=h,r[s]+=c,r[s+1]+=l,r[s+2]+=h,r[u]+=c,r[u+1]+=l,r[u+2]+=h}for(n=0;n<r.length;n+=3){var c=r[n],l=r[n+1],h=r[n+2];e=1/Math.sqrt(c*c+l*l+h*h),r[n]*=e,r[n+1]*=e,r[n+2]*=e}t.normals=r}}function i(e){var n=this;return t.computation(function(t){return v(n,void 0,void 0,function(){return g(this,function(n){switch(n.label){case 0:return e.normals?[2,e]:[4,t.updateProgress("Computing normals...")];case 1:return n.sent(),r(e),[2,e]}})})})}function o(t,e,n,r){n[3*r]+=t[3*e],n[3*r+1]+=t[3*e+1],n[3*r+2]+=t[3*e+2]}function a(t,e,n){for(var r=t.triangleIndices.length,i=t.vertices,a=t.triangleIndices,s=0;s<r;s+=3){var u=a[s],c=a[s+1],l=a[s+2];o(i,c,n,u),o(i,l,n,u),o(i,u,n,c),o(i,l,n,c),o(i,u,n,l),o(i,c,n,l)}for(var s=0,h=t.vertexCount;s<h;s++){var p=e[s]+2;n[3*s]=(n[3*s]+2*i[3*s])/p,n[3*s+1]=(n[3*s+1]+2*i[3*s+1])/p,n[3*s+2]=(n[3*s+2]+2*i[3*s+2])/p}}function s(e,n){var r=this;return void 0===n&&(n=1),n<1&&(n=0),0===n?t.Computation.resolve(e):t.computation(function(i){return v(r,void 0,void 0,function(){var r,o,s,u,c,l,u,h,p,f,d;return g(this,function(m){switch(m.label){case 0:return[4,i.updateProgress("Smoothing surface...",!0)];case 1:for(m.sent(),r=new Int32Array(e.vertexCount),o=e.triangleIndices.length,s=e.triangleIndices,u=0;u<o;u++)r[s[u]]+=2;return c=new Float32Array(e.vertices.length),l=t.Utils.PerformanceMonitor.currentTime(),[4,i.updateProgress("Smoothing surface...",!0)];case 2:m.sent(),u=0,m.label=3;case 3:if(!(u<n))return[3,6];if(u>0)for(h=0,p=c.length;h<p;h++)c[h]=0;return e.normals=void 0,a(e,r,c),f=e.vertices,e.vertices=c,c=f,d=t.Utils.PerformanceMonitor.currentTime(),d-l>t.Computation.UpdateProgressDelta?(l=d,[4,i.updateProgress("Smoothing surface...",!0,u+1,n)]):[3,5];case 4:m.sent(),m.label=5;case 5:return u++,[3,3];case 6:return[2,e]}})})})}function u(e){var n=this;return t.computation(function(t){return v(n,void 0,void 0,function(){var n,r,i,o,a,s,u,a,s,c,l,h;return g(this,function(p){switch(p.label){case 0:return e.boundingSphere?[2,e]:[4,t.updateProgress("Computing bounding sphere...")];case 1:for(p.sent(),n=e.vertices,r=0,i=0,o=0,a=0,s=e.vertices.length;a<s;a+=3)r+=n[a],i+=n[a+1],o+=n[a+2];for(r/=e.vertexCount,i/=e.vertexCount,o/=e.vertexCount,u=0,a=0,s=n.length;a<s;a+=3)c=r-n[a],l=i-n[a+1],h=o-n[a+2],u=Math.max(u,c*c+l*l+h*h);return e.boundingSphere={center:{x:r,y:i,z:o},radius:Math.sqrt(u)},[2,e]}})})})}function c(t,n){for(var r={x:.1,y:.1,z:.1},i=e.LinearAlgebra.Matrix4.transformVector3,o=t.vertices,a=0,s=t.vertices.length;a<s;a+=3)r.x=o[a],r.y=o[a+1],r.z=o[a+2],i(r,r,n),o[a]=r.x,o[a+1]=r.y,o[a+2]=r.z;t.normals=void 0,t.boundingSphere=void 0}function l(e,n){var r=this;return t.computation(function(t){return v(r,void 0,void 0,function(){return g(this,function(r){return t.updateProgress("Updating surface..."),c(e,n),[2,e]})})})}n.computeNormalsImmediate=r,n.computeNormals=i,n.laplacianSmooth=s,n.computeBoundingSphere=u,n.transformImmediate=c,n.transform=l}(n=e.Surface||(e.Surface={}))}(e=t.Geometry||(t.Geometry={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){function n(e){var n=this;return t.computation(function(t){return v(n,void 0,void 0,function(){var n;return g(this,function(i){switch(i.label){case 0:return n=new r(e,t),[4,n.run()];case 1:return[2,i.sent()]}})})})}e.compute=n;var r=function(){function e(e,n){this.ctx=n,this.minX=0,this.minY=0,this.minZ=0,this.maxX=0,this.maxY=0,this.maxZ=0;var r=t.Utils.extend({},e);r.bottomLeft||(r.bottomLeft=[0,0,0]),r.topRight||(r.topRight=r.scalarField.dimensions),this.state=new i(r),this.minX=r.bottomLeft[0],this.minY=r.bottomLeft[1],this.minZ=r.bottomLeft[2],this.maxX=r.topRight[0]-1,this.maxY=r.topRight[1]-1,this.maxZ=r.topRight[2]-1,this.size=(this.maxX-this.minX)*(this.maxY-this.minY)*(this.maxZ-this.minZ),this.sliceSize=(this.maxX-this.minX)*(this.maxY-this.minY)}return e.prototype.doSlices=function(){return v(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(o){switch(o.label){case 0:e=0,n=t.Utils.PerformanceMonitor.currentTime(),r=this.minZ,o.label=1;case 1:return r<this.maxZ?(this.slice(r),e+=this.sliceSize,i=t.Utils.PerformanceMonitor.currentTime(),i-n>t.Computation.UpdateProgressDelta?[4,this.ctx.updateProgress("Computing surface...",!0,e,this.size)]:[3,3]):[3,4];case 2:o.sent(),n=i,o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.slice=function(t){for(var e=this.minY;e<this.maxY;e++)for(var n=this.minX;n<this.maxX;n++)this.state.processCell(n,e,t)},e.prototype.finish=function(){var e=t.Utils.ChunkedArray.compact(this.state.vertexBuffer),n=t.Utils.ChunkedArray.compact(this.state.triangleBuffer);this.state.vertexBuffer=void 0,this.state.verticesOnEdges=void 0;var r={vertexCount:e.length/3|0,triangleCount:n.length/3|0,vertices:e,triangleIndices:n,annotation:this.state.annotate?t.Utils.ChunkedArray.compact(this.state.annotationBuffer):void 0};return r},e.prototype.run=function(){return v(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,this.ctx.updateProgress("Computing surface...",!0,0,this.size)];case 1:return t.sent(),[4,this.doSlices()];case 2:return t.sent(),[4,this.ctx.updateProgress("Finalizing...")];case 3:return t.sent(),[2,this.finish()]}})})},e}(),i=function(){function n(e){this.vertList=[0,0,0,0,0,0,0,0,0,0,0,0],this.i=0,this.j=0,this.k=0,this.nX=e.scalarField.dimensions[0],this.nY=e.scalarField.dimensions[1],this.nZ=e.scalarField.dimensions[2],this.isoLevel=e.isoLevel,this.scalarField=e.scalarField,this.annotationField=e.annotationField;var n=e.topRight[0]-e.bottomLeft[0],r=e.topRight[1]-e.bottomLeft[1],i=e.topRight[2]-e.bottomLeft[2],o=Math.min(262144,0|Math.max(n*r*i/16,1024)),a=Math.min(65536,4*o);this.vertexBuffer=t.Utils.ChunkedArray.forVertex3D(o),this.triangleBuffer=t.Utils.ChunkedArray.create(function(t){return new Uint32Array(t)},a,3),this.annotate=!!e.annotationField,this.annotate&&(this.annotationBuffer=t.Utils.ChunkedArray.forInt32(o)),this.verticesOnEdges=new Int32Array(3*this.nX*this.nY*this.nZ)}return n.prototype.get3dOffsetFromEdgeInfo=function(t){return this.nX*((this.k+t.k)*this.nY+this.j+t.j)+this.i+t.i|0},n.prototype.interpolate=function(n){var r=e.EdgeIdInfo[n],i=3*this.get3dOffsetFromEdgeInfo(r)+r.e,o=this.verticesOnEdges[i];if(o>0)return o-1|0;var a=e.CubeEdges[n],s=a.a,u=a.b,c=s.i+this.i,l=s.j+this.j,h=s.k+this.k,p=u.i+this.i,f=u.j+this.j,d=u.k+this.k,m=this.scalarField.get(c,l,h),y=this.scalarField.get(p,f,d),v=(this.isoLevel-m)/(m-y),g=0|t.Utils.ChunkedArray.add3(this.vertexBuffer,c+v*(c-p),l+v*(l-f),h+v*(h-d));return this.verticesOnEdges[i]=g+1,this.annotate&&t.Utils.ChunkedArray.add(this.annotationBuffer,this.annotationField.get(this.i,this.j,this.k)),g},n.prototype.processCell=function(n,r,i){var o=0;if(this.scalarField.get(n,r,i)<this.isoLevel&&(o|=1),this.scalarField.get(n+1,r,i)<this.isoLevel&&(o|=2),this.scalarField.get(n+1,r+1,i)<this.isoLevel&&(o|=4),this.scalarField.get(n,r+1,i)<this.isoLevel&&(o|=8),this.scalarField.get(n,r,i+1)<this.isoLevel&&(o|=16),this.scalarField.get(n+1,r,i+1)<this.isoLevel&&(o|=32),this.scalarField.get(n+1,r+1,i+1)<this.isoLevel&&(o|=64),this.scalarField.get(n,r+1,i+1)<this.isoLevel&&(o|=128),0!==o&&255!==o){this.i=n,this.j=r,this.k=i;var a=e.EdgeTable[o];(1&a)>0&&(this.vertList[0]=this.interpolate(0)),(2&a)>0&&(this.vertList[1]=this.interpolate(1)),(4&a)>0&&(this.vertList[2]=this.interpolate(2)),(8&a)>0&&(this.vertList[3]=this.interpolate(3)),(16&a)>0&&(this.vertList[4]=this.interpolate(4)),(32&a)>0&&(this.vertList[5]=this.interpolate(5)),(64&a)>0&&(this.vertList[6]=this.interpolate(6)),(128&a)>0&&(this.vertList[7]=this.interpolate(7)),(256&a)>0&&(this.vertList[8]=this.interpolate(8)),(512&a)>0&&(this.vertList[9]=this.interpolate(9)),(1024&a)>0&&(this.vertList[10]=this.interpolate(10)),(2048&a)>0&&(this.vertList[11]=this.interpolate(11));for(var s=e.TriTable[o],u=0;u<s.length;u+=3)t.Utils.ChunkedArray.add3(this.triangleBuffer,this.vertList[s[u]],this.vertList[s[u+1]],this.vertList[s[u+2]])}},n}()}(n=e.MarchingCubes||(e.MarchingCubes={}))}(e=t.Geometry||(t.Geometry={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t,e,n){this.i=0|t,this.j=0|e,this.k=0|n}return t}();t.Index=e;var n=function(){function t(t,e){this.a=t,this.b=e}return t}();t.IndexPair=n,t.EdgesXY=[[],[0,3],[0,1],[1,3],[1,2],[0,1,1,2,2,3,0,3],[0,2],[2,3],[2,3],[0,2],[0,1,1,2,2,3,0,3],[1,2],[1,3],[0,1],[0,3],[]],t.EdgesXZ=[[],[0,8],[0,9],[9,8],[9,4],[0,9,9,4,4,8,0,8],[0,4],[4,8],[4,8],[0,4],[0,9,9,4,4,8,0,8],[9,4],[9,8],[0,9],[0,8],[]],t.EdgesYZ=[[],[3,8],[3,11],[11,8],[11,7],[3,11,11,7,7,8,3,8],[3,7],[7,8],[7,8],[3,7],[3,11,11,7,7,8,3,8],[11,7],[11,8],[3,11],[3,8],[]],t.CubeVertices=[new e(0,0,0),new e(1,0,0),new e(1,1,0),new e(0,1,0),new e(0,0,1),new e(1,0,1),new e(1,1,1),new e(0,1,1)],t.CubeEdges=[new n(t.CubeVertices[0],t.CubeVertices[1]),new n(t.CubeVertices[1],t.CubeVertices[2]),new n(t.CubeVertices[2],t.CubeVertices[3]),new n(t.CubeVertices[3],t.CubeVertices[0]),new n(t.CubeVertices[4],t.CubeVertices[5]),new n(t.CubeVertices[5],t.CubeVertices[6]),new n(t.CubeVertices[6],t.CubeVertices[7]),new n(t.CubeVertices[7],t.CubeVertices[4]),new n(t.CubeVertices[0],t.CubeVertices[4]),new n(t.CubeVertices[1],t.CubeVertices[5]),new n(t.CubeVertices[2],t.CubeVertices[6]),new n(t.CubeVertices[3],t.CubeVertices[7])],t.EdgeIdInfo=[{i:0,j:0,k:0,e:0},{i:1,j:0,k:0,e:1},{i:0,j:1,k:0,e:0},{i:0,j:0,k:0,e:1},{i:0,j:0,k:1,e:0},{i:1,j:0,k:1,e:1},{i:0,j:1,k:1,e:0},{i:0,j:0,k:1,e:1},{i:0,j:0,k:0,e:2},{i:1,j:0,k:0,e:2},{i:1,j:1,k:0,e:2},{i:0,j:1,k:0,e:2}],t.EdgeTable=[0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0],t.TriTable=[[],[0,8,3],[0,1,9],[1,8,3,9,8,1],[1,2,10],[0,8,3,1,2,10],[9,2,10,0,2,9],[2,8,3,2,10,8,10,9,8],[3,11,2],[0,11,2,8,11,0],[1,9,0,2,3,11],[1,11,2,1,9,11,9,8,11],[3,10,1,11,10,3],[0,10,1,0,8,10,8,11,10],[3,9,0,3,11,9,11,10,9],[9,8,10,10,8,11],[4,7,8],[4,3,0,7,3,4],[0,1,9,8,4,7],[4,1,9,4,7,1,7,3,1],[1,2,10,8,4,7],[3,4,7,3,0,4,1,2,10],[9,2,10,9,0,2,8,4,7],[2,10,9,2,9,7,2,7,3,7,9,4],[8,4,7,3,11,2],[11,4,7,11,2,4,2,0,4],[9,0,1,8,4,7,2,3,11],[4,7,11,9,4,11,9,11,2,9,2,1],[3,10,1,3,11,10,7,8,4],[1,11,10,1,4,11,1,0,4,7,11,4],[4,7,8,9,0,11,9,11,10,11,0,3],[4,7,11,4,11,9,9,11,10],[9,5,4],[9,5,4,0,8,3],[0,5,4,1,5,0],[8,5,4,8,3,5,3,1,5],[1,2,10,9,5,4],[3,0,8,1,2,10,4,9,5],[5,2,10,5,4,2,4,0,2],[2,10,5,3,2,5,3,5,4,3,4,8],[9,5,4,2,3,11],[0,11,2,0,8,11,4,9,5],[0,5,4,0,1,5,2,3,11],[2,1,5,2,5,8,2,8,11,4,8,5],[10,3,11,10,1,3,9,5,4],[4,9,5,0,8,1,8,10,1,8,11,10],[5,4,0,5,0,11,5,11,10,11,0,3],[5,4,8,5,8,10,10,8,11],[9,7,8,5,7,9],[9,3,0,9,5,3,5,7,3],[0,7,8,0,1,7,1,5,7],[1,5,3,3,5,7],[9,7,8,9,5,7,10,1,2],[10,1,2,9,5,0,5,3,0,5,7,3],[8,0,2,8,2,5,8,5,7,10,5,2],[2,10,5,2,5,3,3,5,7],[7,9,5,7,8,9,3,11,2],[9,5,7,9,7,2,9,2,0,2,7,11],[2,3,11,0,1,8,1,7,8,1,5,7],[11,2,1,11,1,7,7,1,5],[9,5,8,8,5,7,10,1,3,10,3,11],[5,7,0,5,0,9,7,11,0,1,0,10,11,10,0],[11,10,0,11,0,3,10,5,0,8,0,7,5,7,0],[11,10,5,7,11,5],[10,6,5],[0,8,3,5,10,6],[9,0,1,5,10,6],[1,8,3,1,9,8,5,10,6],[1,6,5,2,6,1],[1,6,5,1,2,6,3,0,8],[9,6,5,9,0,6,0,2,6],[5,9,8,5,8,2,5,2,6,3,2,8],[2,3,11,10,6,5],[11,0,8,11,2,0,10,6,5],[0,1,9,2,3,11,5,10,6],[5,10,6,1,9,2,9,11,2,9,8,11],[6,3,11,6,5,3,5,1,3],[0,8,11,0,11,5,0,5,1,5,11,6],[3,11,6,0,3,6,0,6,5,0,5,9],[6,5,9,6,9,11,11,9,8],[5,10,6,4,7,8],[4,3,0,4,7,3,6,5,10],[1,9,0,5,10,6,8,4,7],[10,6,5,1,9,7,1,7,3,7,9,4],[6,1,2,6,5,1,4,7,8],[1,2,5,5,2,6,3,0,4,3,4,7],[8,4,7,9,0,5,0,6,5,0,2,6],[7,3,9,7,9,4,3,2,9,5,9,6,2,6,9],[3,11,2,7,8,4,10,6,5],[5,10,6,4,7,2,4,2,0,2,7,11],[0,1,9,4,7,8,2,3,11,5,10,6],[9,2,1,9,11,2,9,4,11,7,11,4,5,10,6],[8,4,7,3,11,5,3,5,1,5,11,6],[5,1,11,5,11,6,1,0,11,7,11,4,0,4,11],[0,5,9,0,6,5,0,3,6,11,6,3,8,4,7],[6,5,9,6,9,11,4,7,9,7,11,9],[10,4,9,6,4,10],[4,10,6,4,9,10,0,8,3],[10,0,1,10,6,0,6,4,0],[8,3,1,8,1,6,8,6,4,6,1,10],[1,4,9,1,2,4,2,6,4],[3,0,8,1,2,9,2,4,9,2,6,4],[0,2,4,4,2,6],[8,3,2,8,2,4,4,2,6],[10,4,9,10,6,4,11,2,3],[0,8,2,2,8,11,4,9,10,4,10,6],[3,11,2,0,1,6,0,6,4,6,1,10],[6,4,1,6,1,10,4,8,1,2,1,11,8,11,1],[9,6,4,9,3,6,9,1,3,11,6,3],[8,11,1,8,1,0,11,6,1,9,1,4,6,4,1],[3,11,6,3,6,0,0,6,4],[6,4,8,11,6,8],[7,10,6,7,8,10,8,9,10],[0,7,3,0,10,7,0,9,10,6,7,10],[10,6,7,1,10,7,1,7,8,1,8,0],[10,6,7,10,7,1,1,7,3],[1,2,6,1,6,8,1,8,9,8,6,7],[2,6,9,2,9,1,6,7,9,0,9,3,7,3,9],[7,8,0,7,0,6,6,0,2],[7,3,2,6,7,2],[2,3,11,10,6,8,10,8,9,8,6,7],[2,0,7,2,7,11,0,9,7,6,7,10,9,10,7],[1,8,0,1,7,8,1,10,7,6,7,10,2,3,11],[11,2,1,11,1,7,10,6,1,6,7,1],[8,9,6,8,6,7,9,1,6,11,6,3,1,3,6],[0,9,1,11,6,7],[7,8,0,7,0,6,3,11,0,11,6,0],[7,11,6],[7,6,11],[3,0,8,11,7,6],[0,1,9,11,7,6],[8,1,9,8,3,1,11,7,6],[10,1,2,6,11,7],[1,2,10,3,0,8,6,11,7],[2,9,0,2,10,9,6,11,7],[6,11,7,2,10,3,10,8,3,10,9,8],[7,2,3,6,2,7],[7,0,8,7,6,0,6,2,0],[2,7,6,2,3,7,0,1,9],[1,6,2,1,8,6,1,9,8,8,7,6],[10,7,6,10,1,7,1,3,7],[10,7,6,1,7,10,1,8,7,1,0,8],[0,3,7,0,7,10,0,10,9,6,10,7],[7,6,10,7,10,8,8,10,9],[6,8,4,11,8,6],[3,6,11,3,0,6,0,4,6],[8,6,11,8,4,6,9,0,1],[9,4,6,9,6,3,9,3,1,11,3,6],[6,8,4,6,11,8,2,10,1],[1,2,10,3,0,11,0,6,11,0,4,6],[4,11,8,4,6,11,0,2,9,2,10,9],[10,9,3,10,3,2,9,4,3,11,3,6,4,6,3],[8,2,3,8,4,2,4,6,2],[0,4,2,4,6,2],[1,9,0,2,3,4,2,4,6,4,3,8],[1,9,4,1,4,2,2,4,6],[8,1,3,8,6,1,8,4,6,6,10,1],[10,1,0,10,0,6,6,0,4],[4,6,3,4,3,8,6,10,3,0,3,9,10,9,3],[10,9,4,6,10,4],[4,9,5,7,6,11],[0,8,3,4,9,5,11,7,6],[5,0,1,5,4,0,7,6,11],[11,7,6,8,3,4,3,5,4,3,1,5],[9,5,4,10,1,2,7,6,11],[6,11,7,1,2,10,0,8,3,4,9,5],[7,6,11,5,4,10,4,2,10,4,0,2],[3,4,8,3,5,4,3,2,5,10,5,2,11,7,6],[7,2,3,7,6,2,5,4,9],[9,5,4,0,8,6,0,6,2,6,8,7],[3,6,2,3,7,6,1,5,0,5,4,0],[6,2,8,6,8,7,2,1,8,4,8,5,1,5,8],[9,5,4,10,1,6,1,7,6,1,3,7],[1,6,10,1,7,6,1,0,7,8,7,0,9,5,4],[4,0,10,4,10,5,0,3,10,6,10,7,3,7,10],[7,6,10,7,10,8,5,4,10,4,8,10],[6,9,5,6,11,9,11,8,9],[3,6,11,0,6,3,0,5,6,0,9,5],[0,11,8,0,5,11,0,1,5,5,6,11],[6,11,3,6,3,5,5,3,1],[1,2,10,9,5,11,9,11,8,11,5,6],[0,11,3,0,6,11,0,9,6,5,6,9,1,2,10],[11,8,5,11,5,6,8,0,5,10,5,2,0,2,5],[6,11,3,6,3,5,2,10,3,10,5,3],[5,8,9,5,2,8,5,6,2,3,8,2],[9,5,6,9,6,0,0,6,2],[1,5,8,1,8,0,5,6,8,3,8,2,6,2,8],[1,5,6,2,1,6],[1,3,6,1,6,10,3,8,6,5,6,9,8,9,6],[10,1,0,10,0,6,9,5,0,5,6,0],[0,3,8,5,6,10],[10,5,6],[11,5,10,7,5,11],[11,5,10,11,7,5,8,3,0],[5,11,7,5,10,11,1,9,0],[10,7,5,10,11,7,9,8,1,8,3,1],[11,1,2,11,7,1,7,5,1],[0,8,3,1,2,7,1,7,5,7,2,11],[9,7,5,9,2,7,9,0,2,2,11,7],[7,5,2,7,2,11,5,9,2,3,2,8,9,8,2],[2,5,10,2,3,5,3,7,5],[8,2,0,8,5,2,8,7,5,10,2,5],[9,0,1,5,10,3,5,3,7,3,10,2],[9,8,2,9,2,1,8,7,2,10,2,5,7,5,2],[1,3,5,3,7,5],[0,8,7,0,7,1,1,7,5],[9,0,3,9,3,5,5,3,7],[9,8,7,5,9,7],[5,8,4,5,10,8,10,11,8],[5,0,4,5,11,0,5,10,11,11,3,0],[0,1,9,8,4,10,8,10,11,10,4,5],[10,11,4,10,4,5,11,3,4,9,4,1,3,1,4],[2,5,1,2,8,5,2,11,8,4,5,8],[0,4,11,0,11,3,4,5,11,2,11,1,5,1,11],[0,2,5,0,5,9,2,11,5,4,5,8,11,8,5],[9,4,5,2,11,3],[2,5,10,3,5,2,3,4,5,3,8,4],[5,10,2,5,2,4,4,2,0],[3,10,2,3,5,10,3,8,5,4,5,8,0,1,9],[5,10,2,5,2,4,1,9,2,9,4,2],[8,4,5,8,5,3,3,5,1],[0,4,5,1,0,5],[8,4,5,8,5,3,9,0,5,0,3,5],[9,4,5],[4,11,7,4,9,11,9,10,11],[0,8,3,4,9,7,9,11,7,9,10,11],[1,10,11,1,11,4,1,4,0,7,4,11],[3,1,4,3,4,8,1,10,4,7,4,11,10,11,4],[4,11,7,9,11,4,9,2,11,9,1,2],[9,7,4,9,11,7,9,1,11,2,11,1,0,8,3],[11,7,4,11,4,2,2,4,0],[11,7,4,11,4,2,8,3,4,3,2,4],[2,9,10,2,7,9,2,3,7,7,4,9],[9,10,7,9,7,4,10,2,7,8,7,0,2,0,7],[3,7,10,3,10,2,7,4,10,1,10,0,4,0,10],[1,10,2,8,7,4],[4,9,1,4,1,7,7,1,3],[4,9,1,4,1,7,0,8,1,8,7,1],[4,0,3,7,4,3],[4,8,7],[9,10,8,10,11,8],[3,0,9,3,9,11,11,9,10],[0,1,10,0,10,8,8,10,11],[3,1,10,11,3,10],[1,2,11,1,11,9,9,11,8],[3,0,9,3,9,11,1,2,9,2,11,9],[0,2,11,8,0,11],[3,2,11],[2,3,8,2,8,10,10,8,9],[9,10,2,0,9,2],[2,3,8,2,8,10,0,1,8,1,10,8],[1,10,2],[1,3,8,9,1,8],[0,9,1],[0,3,8],[]]}(e=t.MarchingCubes||(t.MarchingCubes={}))}(e=t.Geometry||(t.Geometry={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){function r(e){var n=this;return t.computation(function(t){return v(n,void 0,void 0,function(){var n;return g(this,function(r){switch(r.label){case 0:return n=new a(e,t),[4,n.run()];case 1:return[2,r.sent()]}})})})}function i(n){var i=this;return t.computation(function(t){return v(i,void 0,void 0,function(){var i,o,a;return g(this,function(s){switch(s.label){case 0:return[4,r(n).run(t)];case 1:return i=s.sent(),[4,e.MarchingCubes.compute(i.data).run(t)];case 2:return o=s.sent(),[4,e.Surface.transform(o,i.transform).run(t)];case 3:return o=s.sent(),a=n.parameters&&n.parameters.smoothingIterations||1,[4,e.Surface.laplacianSmooth(o,a).run(t)];case 4:return o=s.sent(),[2,{surface:o,usedParameters:i.parameters}]}})})})}var o=function(){function e(e){t.Utils.extend(this,e,{exactBoundary:!1,boundaryDelta:{dx:1.5,dy:1.5,dz:1.5},probeRadius:1.4,atomRadii:function(){return 1},density:1.1,interactive:!1,smoothingIterations:1}),this.exactBoundary&&(this.boundaryDelta={dx:0,dy:0,dz:0}),this.density<.3&&(this.density=.3)}return e}(),a=function(){function n(t,e){this.inputParameters=t,this.ctx=e,this.minX=Number.MAX_VALUE,this.minY=Number.MAX_VALUE,this.minZ=Number.MAX_VALUE,this.maxX=-Number.MAX_VALUE,this.maxY=-Number.MAX_VALUE,this.maxZ=-Number.MAX_VALUE,this.nX=0,this.nY=0,this.nZ=0,this.dX=.1,this.dY=.1,this.dZ=.1,this.field=new Float32Array(0),this.distanceField=new Float32Array(0),this.proximityMap=new Int32Array(0),this.minIndex={i:0,j:0,k:0},this.maxIndex={i:0,j:0,k:0},this.parameters=new o(t.parameters);var n=t.positions;this.x=n.x,this.y=n.y,this.z=n.z,this.atomIndices=t.atomIndices}return n.prototype.findBounds=function(){for(var t=0,e=this.atomIndices;t<e.length;t++){var n=e[t],r=this.parameters.exactBoundary?0:this.parameters.atomRadius(n)+this.parameters.probeRadius,i=this.x[n],o=this.y[n],a=this.z[n];r<0||(this.minX=Math.min(this.minX,i-r),this.minY=Math.min(this.minY,o-r),this.minZ=Math.min(this.minZ,a-r),this.maxX=Math.max(this.maxX,i+r),this.maxY=Math.max(this.maxY,o+r),this.maxZ=Math.max(this.maxZ,a+r))}this.minX===Number.MAX_VALUE&&(this.minX=this.minY=this.minZ=-1,this.maxX=this.maxY=this.maxZ=1),this.minX-=this.parameters.boundaryDelta.dx,this.minY-=this.parameters.boundaryDelta.dy,this.minZ-=this.parameters.boundaryDelta.dz,this.maxX+=this.parameters.boundaryDelta.dx,this.maxY+=this.parameters.boundaryDelta.dy,this.maxZ+=this.parameters.boundaryDelta.dz,this.nX=Math.floor((this.maxX-this.minX)*this.parameters.density),this.nY=Math.floor((this.maxY-this.minY)*this.parameters.density),this.nZ=Math.floor((this.maxZ-this.minZ)*this.parameters.density),this.nX=Math.min(this.nX,333),this.nY=Math.min(this.nY,333),this.nZ=Math.min(this.nZ,333),this.dX=(this.maxX-this.minX)/(this.nX-1),this.dY=(this.maxY-this.minY)/(this.nY-1),this.dZ=(this.maxZ-this.minZ)/(this.nZ-1)},n.prototype.initData=function(){var t=this.nX*this.nY*this.nZ;this.field=new Float32Array(t),this.distanceField=new Float32Array(t),this.proximityMap=new Int32Array(t);for(var e=Number.POSITIVE_INFINITY,n=0,r=this.proximityMap.length;n<r;n++)this.distanceField[n]=e,this.proximityMap[n]=-1},n.prototype.updateMinIndex=function(t,e,n){this.minIndex.i=Math.max(0|Math.floor((t-this.minX)/this.dX),0),this.minIndex.j=Math.max(0|Math.floor((e-this.minY)/this.dY),0),this.minIndex.k=Math.max(0|Math.floor((n-this.minZ)/this.dZ),0)},n.prototype.updateMaxIndex=function(t,e,n){this.maxIndex.i=Math.min(0|Math.ceil((t-this.minX)/this.dX),this.nX),this.maxIndex.j=Math.min(0|Math.ceil((e-this.minY)/this.dY),this.nY),this.maxIndex.k=Math.min(0|Math.ceil((n-this.minZ)/this.dZ),this.nZ)},n.prototype.addBall=function(t,e){var n=e*e,r=this.x[t],i=this.y[t],o=this.z[t];this.updateMinIndex(r-e,i-e,o-e),this.updateMaxIndex(r+e,i+e,o+e);var a=this.minIndex.i,s=this.minIndex.j,u=this.minIndex.k,c=this.maxIndex.i,l=this.maxIndex.j,h=this.maxIndex.k;r=this.minX-r,i=this.minY-i,o=this.minZ-o;for(var p=u;p<h;p++)for(var f=o+p*this.dZ,d=f*f,m=p*this.nY,y=s;y<l;y++)for(var v=i+y*this.dY,g=d+v*v,b=this.nX*(m+y),_=a;_<c;_++){var x=r+_*this.dX,w=g+x*x,C=b+_,S=n/(1e-6+w)-1;w<this.distanceField[C]&&(this.proximityMap[C]=t,this.distanceField[C]=w),S>0&&(this.field[C]+=S)}},n.prototype.processChunks=function(){return v(this,void 0,void 0,function(){var e,n,r,i,o,a,s;return g(this,function(u){switch(u.label){case 0:return e=1e4,n=t.Utils.PerformanceMonitor.currentTime(),[4,this.ctx.updateProgress("Creating field...",!0)];case 1:u.sent(),r=0,i=this.atomIndices.length,u.label=2;case 2:return r<i?(o=this.atomIndices[r],a=this.parameters.atomRadius(o)+this.parameters.probeRadius,a>=0&&this.addBall(o,a),(r+1)%e!==0?[3,4]:(s=t.Utils.PerformanceMonitor.currentTime(),s-n>t.Computation.UpdateProgressDelta?(n=s,
[4,this.ctx.updateProgress("Creating field...",!0,r,i)]):[3,4])):[3,5];case 3:u.sent(),u.label=4;case 4:return r++,[3,2];case 5:return[2]}})})},n.prototype.finish=function(){var n=e.LinearAlgebra.Matrix4.empty();e.LinearAlgebra.Matrix4.fromTranslation(n,[this.minX,this.minY,this.minZ]),n[0]=this.dX,n[5]=this.dY,n[10]=this.dZ;var r={data:{scalarField:new t.Formats.Density.Field3DZYX(this.field,[this.nX,this.nY,this.nZ]),annotationField:this.parameters.interactive?new t.Formats.Density.Field3DZYX(this.proximityMap,[this.nX,this.nY,this.nZ]):void 0,isoLevel:.05},bottomLeft:{x:this.minX,y:this.minY,z:this.minZ},topRight:{x:this.maxX,y:this.maxY,z:this.maxZ},transform:n,inputParameters:this.inputParameters,parameters:this.parameters};return this.distanceField=null,this.proximityMap=null,r},n.prototype.run=function(){return v(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,this.ctx.updateProgress("Initializing...")];case 1:return t.sent(),this.findBounds(),this.initData(),[4,this.processChunks()];case 2:return t.sent(),[4,this.ctx.updateProgress("Finalizing...",void 0,this.atomIndices.length,this.atomIndices.length)];case 3:return t.sent(),[2,this.finish()]}})})},n}();n.createMolecularIsoFieldAsync=r,n.computeMolecularSurfaceAsync=i}(n=e.MolecularSurface||(e.MolecularSurface={}))}(e=t.Geometry||(t.Geometry={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n=function(){function t(t,e){this.name=t,this.creator=e}return t}();e.DataTableColumnDescriptor=n;var r=function(){function e(e,n,r){this.count=e,this.indices=new Int32Array(e),this.columns=[];for(var i=0;i<e;i++)this.indices[i]=i;for(var o=0,a=n;o<a.length;o++){var s=a[o],u=r[s.name];t.Utils.ChunkedArray.is(u)&&(u=t.Utils.ChunkedArray.compact(u)),Object.defineProperty(this,s.name,{enumerable:!0,configurable:!1,writable:!1,value:u}),this.columns[this.columns.length]=s}}return e.prototype.getBuilder=function(t){for(var e=new i(t),n=0,r=this.columns;n<r.length;n++){var o=r[n];e.addColumn(o.name,o.creator)}return e},e.prototype.getRawData=function(){var t=this;return this.columns.map(function(e){return t[e.name]})},e}();e.DataTable=r;var i=function(){function t(t){this.columns=[],this.count=t}return t.prototype.addColumn=function(t,e){var r=e(this.count);return Object.defineProperty(this,t,{enumerable:!0,configurable:!1,writable:!1,value:r}),this.columns[this.columns.length]=new n(t,e),r},t.prototype.getRawData=function(){var t=this;return this.columns.map(function(e){return t[e.name]})},t.prototype.seal=function(){return new r(this.count,this.columns,this)},t}();e.DataTableBuilder=i;var o;!function(t){t[t.Polymer=0]="Polymer",t[t.NonPolymer=1]="NonPolymer",t[t.Water=2]="Water",t[t.Unknown=3]="Unknown"}(o=e.EntityType||(e.EntityType={}));var a=function(){function t(t){this.id=t,this.map=new Map}return t.prototype.add=function(t,e,n,r){void 0===r&&(r=!0);var i=this.map.get(t);if(void 0!==i){var o=i.get(e);void 0===o&&i.set(e,n)}else{var a=new Map;a.set(e,n),this.map.set(t,a)}r&&this.add(e,t,n,!1)},t}();e.ComponentBondInfoEntry=a;var s=function(){function t(){this.entries=new Map}return t.prototype.newEntry=function(t){var e=new a(t);return this.entries.set(t,e),e},t}();e.ComponentBondInfo=s;var u=function(){function t(t,e,n){this.asymId=t,this.seqNumber=e,this.insCode=n}return t.areEqual=function(t,e,n,r,i){return t.asymId===n[e]&&t.seqNumber===r[e]&&t.insCode===i[e]},t.compare=function(t,e){return t.asymId===e.asymId?t.seqNumber===e.seqNumber?t.insCode===e.insCode?0:void 0===t.insCode?-1:void 0===e.insCode?1:t.insCode<e.insCode?-1:1:t.seqNumber<e.seqNumber?-1:1:t.asymId<e.asymId?-1:1},t.compareResidue=function(t,e,n,r,i){return t.asymId===n[e]?t.seqNumber===r[e]?t.insCode===i[e]?0:void 0===t.insCode?-1:void 0===i[e]?1:t.insCode<i[e]?-1:1:t.seqNumber<r[e]?-1:1:t.asymId<n[e]?-1:1},t}();e.PolyResidueIdentifier=u;var c=function(){function t(t,e,n,r){void 0===r&&(r={}),this.type=t,this.startResidueId=e,this.endResidueId=n,this.info=r,this.startResidueIndex=-1,this.endResidueIndex=-1}return Object.defineProperty(t.prototype,"length",{get:function(){return this.endResidueIndex-this.startResidueIndex},enumerable:!0,configurable:!0}),t}();e.SecondaryStructureElement=c;var l=function(){function t(t,e,n,r,i){this.spacegroupName=t,this.cellSize=e,this.cellAngles=n,this.toFracTransform=r,this.isNonStandardCrytalFrame=i}return t}();e.SymmetryInfo=l;var h=function(){function t(t,e,n){this.id=t,this.name=e,this.operator=n}return t}();e.AssemblyOperator=h;var p=function(){function t(t,e){this.operators=t,this.asymIds=e}return t}();e.AssemblyGenEntry=p;var f=function(){function t(t){this.name=t,this.gens=[]}return t}();e.AssemblyGen=f;var d=function(){function t(t,e){this.operators=t,this.assemblies=e}return t}();e.AssemblyInfo=d;var m;!function(t){function e(t){var e=new i(t),n={id:e.addColumn("id",function(t){return new Int32Array(t)}),x:e.addColumn("x",function(t){return new Float32Array(t)}),y:e.addColumn("y",function(t){return new Float32Array(t)}),z:e.addColumn("z",function(t){return new Float32Array(t)}),altLoc:e.addColumn("altLoc",function(t){return[]}),rowIndex:e.addColumn("rowIndex",function(t){return new Int32Array(t)}),residueIndex:e.addColumn("residueIndex",function(t){return new Int32Array(t)}),chainIndex:e.addColumn("chainIndex",function(t){return new Int32Array(t)}),entityIndex:e.addColumn("entityIndex",function(t){return new Int32Array(t)}),name:e.addColumn("name",function(t){return[]}),elementSymbol:e.addColumn("elementSymbol",function(t){return[]}),occupancy:e.addColumn("occupancy",function(t){return new Float32Array(t)}),tempFactor:e.addColumn("tempFactor",function(t){return new Float32Array(t)}),authName:e.addColumn("authName",function(t){return[]})};return{table:e.seal(),columns:n}}function n(t){var e=new i(t),n={name:e.addColumn("name",function(t){return[]}),seqNumber:e.addColumn("seqNumber",function(t){return new Int32Array(t)}),asymId:e.addColumn("asymId",function(t){return[]}),authName:e.addColumn("authName",function(t){return[]}),authSeqNumber:e.addColumn("authSeqNumber",function(t){return new Int32Array(t)}),authAsymId:e.addColumn("authAsymId",function(t){return[]}),insCode:e.addColumn("insCode",function(t){return[]}),entityId:e.addColumn("entityId",function(t){return[]}),isHet:e.addColumn("isHet",function(t){return new Int8Array(t)}),atomStartIndex:e.addColumn("atomStartIndex",function(t){return new Int32Array(t)}),atomEndIndex:e.addColumn("atomEndIndex",function(t){return new Int32Array(t)}),chainIndex:e.addColumn("chainIndex",function(t){return new Int32Array(t)}),entityIndex:e.addColumn("entityIndex",function(t){return new Int32Array(t)}),secondaryStructureIndex:e.addColumn("secondaryStructureIndex",function(t){return new Int32Array(t)})};return{table:e.seal(),columns:n}}function r(t){var e=new i(t),n={asymId:e.addColumn("asymId",function(t){return[]}),entityId:e.addColumn("entityId",function(t){return[]}),authAsymId:e.addColumn("authAsymId",function(t){return[]}),atomStartIndex:e.addColumn("atomStartIndex",function(t){return new Int32Array(t)}),atomEndIndex:e.addColumn("atomEndIndex",function(t){return new Int32Array(t)}),residueStartIndex:e.addColumn("residueStartIndex",function(t){return new Int32Array(t)}),residueEndIndex:e.addColumn("residueEndIndex",function(t){return new Int32Array(t)}),entityIndex:e.addColumn("entityIndex",function(t){return new Int32Array(t)})};return{table:e.seal(),columns:n}}function o(t){var e=new i(t),n={entityId:e.addColumn("entityId",function(t){return[]}),entityType:e.addColumn("entityType",function(t){return[]}),type:e.addColumn("type",function(t){return[]}),atomStartIndex:e.addColumn("atomStartIndex",function(t){return new Int32Array(t)}),atomEndIndex:e.addColumn("atomEndIndex",function(t){return new Int32Array(t)}),residueStartIndex:e.addColumn("residueStartIndex",function(t){return new Int32Array(t)}),residueEndIndex:e.addColumn("residueEndIndex",function(t){return new Int32Array(t)}),chainStartIndex:e.addColumn("chainStartIndex",function(t){return new Int32Array(t)}),chainEndIndex:e.addColumn("chainEndIndex",function(t){return new Int32Array(t)})};return{table:e.seal(),columns:n}}function a(t){var e=new i(t),n={atomAIndex:e.addColumn("atomAIndex",function(t){return new Int32Array(t)}),atomBIndex:e.addColumn("atomBIndex",function(t){return new Int32Array(t)}),type:e.addColumn("type",function(t){return new Int8Array(t)})};return{table:e.seal(),columns:n}}t.forAtoms=e,t.forResidues=n,t.forChains=r,t.forEntities=o,t.forBonds=a}(m=e.DefaultDataTables||(e.DefaultDataTables={}));var y;!function(t){t[t.File=0]="File",t[t.Computed=1]="Computed"}(y=e.MoleculeModelSource||(e.MoleculeModelSource={}));var v=function(){function e(t,e,n){this.matrix=t,this.id=e,this.isIdentity=n}return e.prototype.apply=function(e){t.Geometry.LinearAlgebra.Matrix4.transformVector3(e,e,this.matrix)},e.applyToModelUnsafe=function(e,n){for(var r={x:.1,y:.1,z:.1},i=n.atoms,o=i.x,a=i.y,s=i.z,u=0,c=n.atoms.count;u<c;u++)r.x=o[u],r.y=a[u],r.z=s[u],t.Geometry.LinearAlgebra.Matrix4.transformVector3(r,r,e),o[u]=r.x,a[u]=r.y,s[u]=r.z},e}();e.Operator=v;var g=function(){function t(t){this._queryContext=void 0,this.id=t.id,this.modelId=t.modelId,this.atoms=t.atoms,this.residues=t.residues,this.chains=t.chains,this.entities=t.entities,this.covalentBonds=t.covalentBonds,this.nonCovalentbonds=t.nonCovalentbonds,this.componentBonds=t.componentBonds,this.secondaryStructure=t.secondaryStructure,this.symmetryInfo=t.symmetryInfo,this.assemblyInfo=t.assemblyInfo,this.parent=t.parent,this.source=t.source,this.operators=t.operators}return Object.defineProperty(t.prototype,"queryContext",{get:function(){return this._queryContext?this._queryContext:(this._queryContext=e.Query.Context.ofStructure(this),this._queryContext)},enumerable:!0,configurable:!0}),t.prototype.query=function(t){return e.Query.Builder.toQuery(t)(this.queryContext)},t}();e.MoleculeModel=g;var b=function(){function t(t,e,n){void 0===n&&(n={}),this.id=t,this.models=e,this.properties=n}return t}();e.Molecule=b,function(t){function e(t){for(var e={},n=t.atoms,i=0,o=n.columns;i<o.length;i++){var a=o[i];"x"===a.name||"y"===a.name||"z"===a.name?e[a.name]=a.creator(n.count):e[a.name]=n[a.name]}return new r(n.count,n.columns,e)}function n(n,r,i){for(var o=n.atoms,a=o.x,s=o.y,u=o.z,c=e(n),l=c.x,h=c.y,p=c.z,f={x:0,y:0,z:0},d=0,m=n.atoms.count;d<m;d++)i(r,a[d],s[d],u[d],f),l[d]=f.x,h[d]=f.y,p[d]=f.z;return new t({id:n.id,modelId:n.modelId,atoms:c,residues:n.residues,chains:n.chains,entities:n.entities,covalentBonds:n.covalentBonds,nonCovalentbonds:n.nonCovalentbonds,componentBonds:n.componentBonds,secondaryStructure:n.secondaryStructure,symmetryInfo:n.symmetryInfo,assemblyInfo:n.assemblyInfo,parent:n.parent,source:n.source,operators:n.operators})}t.withTransformedXYZ=n}(g=e.MoleculeModel||(e.MoleculeModel={}))}(e=t.Structure||(t.Structure={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n=t.Geometry.LinearAlgebra.Matrix4,r=t.Geometry.LinearAlgebra.Vector4,i=function(){function t(t){if(this.info=t,this.temp=n.empty(),this.tempV=new Float64Array(4),void 0===o.Spacegroup[t.spacegroupName])throw"'"+t.spacegroupName+"' is not a spacegroup recognized by the library.";this.space=this.getSpace(),this.operators=this.getOperators()}return Object.defineProperty(t.prototype,"operatorCount",{get:function(){return this.operators.length},enumerable:!0,configurable:!0}),t.prototype.getOperatorMatrix=function(t,e,r,i,o){return this.tempV[0]=e,this.tempV[1]=r,this.tempV[2]=i,n.fromTranslation(this.temp,this.tempV),n.mul(o,n.mul(o,n.mul(o,this.space.fromFrac,this.temp),this.operators[t]),this.space.toFrac),o},t.prototype.getSpace=function(){var t=this.info.toFracTransform,e=n.empty();return n.invert(e,t),{toFrac:t,fromFrac:e,baseX:r.transform(r.create(),r.fromValues(1,0,0,1),t),baseY:r.transform(r.create(),r.fromValues(0,1,0,1),t),baseZ:r.transform(r.create(),r.fromValues(0,0,1,1),t)}},t.getOperator=function(t){var e=o.Transform[t[0]],r=o.Transform[t[1]],i=o.Transform[t[2]];return n.ofRows([e,r,i,[0,0,0,1]])},t.prototype.getOperators=function(){var e=o.Group[o.Spacegroup[this.info.spacegroupName]];return e.map(function(e){return t.getOperator(o.Operator[e])})},t}();e.Spacegroup=i;var o;!function(t){t.Transform=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[-1,0,0,0],[0,-1,0,0],[0,0,-1,0],[0,1,0,.5],[1,0,0,.5],[-1,0,0,.5],[0,0,1,.5],[0,-1,0,.5],[0,0,-1,.5],[1,0,0,.25],[0,-1,0,.25],[0,0,1,.25],[-1,0,0,.25],[0,1,0,.25],[0,-1,0,.75],[0,0,1,.75],[0,1,0,.75],[1,0,0,.75],[-1,0,0,.75],[0,0,-1,.25],[0,0,-1,.75],[1,-1,0,0],[-1,1,0,0],[0,0,1,.333333333333333],[0,0,1,.666666666666667],[1,0,0,.666666666666667],[0,1,0,.333333333333333],[0,-1,0,.666666666666667],[1,-1,0,.333333333333333],[-1,1,0,.666666666666667],[-1,0,0,.333333333333333],[1,0,0,.333333333333333],[0,1,0,.666666666666667],[0,-1,0,.333333333333333],[1,-1,0,.666666666666667],[-1,1,0,.333333333333333],[-1,0,0,.666666666666667],[0,0,-1,.333333333333333],[0,0,-1,.666666666666667],[0,0,1,.833333333333333],[0,0,1,.166666666666667],[0,0,-1,.833333333333333],[0,0,-1,.166666666666667]],t.Operator=[[0,1,2],[3,4,5],[3,1,5],[3,6,5],[7,6,2],[8,6,5],[0,4,2],[0,4,9],[7,10,2],[7,10,9],[0,10,2],[8,10,5],[3,1,11],[3,6,11],[0,10,9],[8,6,11],[3,4,2],[0,4,5],[3,4,9],[7,10,5],[8,4,9],[8,10,9],[8,10,2],[0,6,9],[3,10,9],[0,10,11],[7,1,9],[8,1,11],[7,4,11],[7,6,9],[7,10,11],[3,10,2],[8,1,5],[0,4,11],[3,1,2],[3,1,9],[7,4,2],[8,1,2],[8,1,9],[3,6,9],[7,4,9],[8,6,2],[8,6,9],[3,6,2],[12,13,14],[15,16,14],[12,17,18],[15,19,18],[20,13,18],[21,16,18],[20,17,14],[21,19,14],[0,1,5],[8,10,11],[7,6,11],[7,6,5],[8,4,2],[7,4,5],[7,1,5],[7,1,11],[0,10,5],[0,1,11],[0,6,11],[0,6,5],[3,10,11],[8,4,11],[15,13,22],[12,16,22],[15,17,23],[12,19,23],[21,13,23],[20,16,23],[21,17,22],[20,19,22],[4,0,2],[1,3,2],[4,0,14],[1,3,18],[4,0,9],[1,3,9],[4,0,18],[1,3,14],[10,7,9],[6,8,9],[4,7,14],[6,3,18],[10,0,18],[1,8,14],[1,3,5],[4,0,5],[6,8,11],[10,7,11],[1,3,11],[4,0,11],[10,7,2],[6,8,2],[3,10,22],[7,1,23],[8,4,23],[0,6,22],[1,0,5],[4,3,5],[1,0,23],[4,3,22],[10,7,14],[6,8,18],[8,6,22],[7,10,23],[4,3,11],[1,0,11],[1,0,22],[4,3,23],[10,7,18],[6,8,14],[8,6,23],[7,10,22],[6,7,11],[10,8,11],[8,1,23],[0,10,22],[3,6,22],[7,4,23],[4,3,2],[1,0,2],[10,8,2],[6,7,2],[4,3,9],[1,0,9],[10,8,9],[6,7,9],[4,8,14],[6,0,18],[10,3,18],[1,7,14],[4,8,18],[6,0,14],[10,3,14],[1,7,18],[6,7,5],[10,8,5],[6,8,5],[10,7,5],[8,1,22],[0,10,23],[3,6,23],[7,4,22],[4,24,2],[25,3,2],[4,24,26],[25,3,27],[4,24,27],[25,3,26],[28,29,26],[30,31,26],[32,33,26],[34,35,27],[36,37,27],[38,39,27],[2,0,1],[1,2,0],[1,25,5],[24,0,5],[39,36,40],[35,38,40],[37,34,40],[33,30,41],[29,32,41],[31,28,41],[5,3,4],[4,5,3],[25,1,5],[0,24,5],[24,4,5],[3,25,5],[4,3,41],[25,1,40],[24,4,41],[3,25,40],[4,3,40],[25,1,41],[24,4,40],[3,25,41],[35,34,40],[37,36,40],[39,38,40],[29,28,41],[31,30,41],[33,32,41],[3,5,4],[5,4,3],[25,1,2],[0,24,2],[24,4,2],[3,25,2],[25,1,9],[0,24,9],[24,4,9],[3,25,9],[30,33,26],[32,29,26],[28,31,26],[36,39,27],[38,35,27],[34,37,27],[0,2,1],[2,1,0],[30,33,42],[32,29,42],[28,31,42],[36,39,43],[38,35,43],[34,37,43],[7,9,6],[9,6,7],[25,1,11],[0,24,11],[24,4,11],[3,25,11],[35,34,44],[37,36,44],[39,38,44],[29,28,45],[31,30,45],[33,32,45],[8,11,10],[11,10,8],[1,25,2],[24,0,2],[1,25,42],[24,0,43],[1,25,43],[24,0,42],[1,25,27],[24,0,26],[1,25,26],[24,0,27],[1,25,9],[24,0,9],[4,24,5],[25,3,5],[4,24,11],[25,3,11],[1,0,40],[4,3,44],[0,24,45],[1,0,41],[4,3,45],[0,24,44],[0,24,40],[0,24,41],[2,3,4],[5,3,1],[5,0,4],[4,2,3],[1,5,3],[4,5,0],[2,7,6],[2,8,10],[5,8,6],[5,7,10],[1,9,7],[4,9,8],[1,11,8],[4,11,7],[9,0,6],[9,3,10],[11,3,6],[11,0,10],[6,2,7],[10,2,8],[6,5,8],[10,5,7],[9,7,1],[9,8,4],[11,8,1],[11,7,4],[6,9,0],[10,9,3],[6,11,3],[10,11,0],[9,7,6],[9,8,10],[11,8,6],[11,7,10],[6,9,7],[10,9,8],[6,11,8],[10,11,7],[2,3,10],[5,8,1],[11,0,4],[10,2,3],[1,5,8],[4,11,0],[5,0,1],[2,0,4],[2,3,1],[1,5,0],[4,2,0],[1,2,3],[11,8,10],[11,7,6],[9,7,10],[9,8,6],[10,11,8],[6,11,7],[10,9,7],[6,9,8],[5,8,10],[5,7,6],[2,7,10],[2,8,6],[4,11,8],[1,11,7],[4,9,7],[1,9,8],[11,3,10],[11,0,6],[9,0,10],[9,3,6],[10,5,8],[6,5,7],[10,2,7],[6,2,8],[11,8,4],[11,7,1],[9,7,4],[9,8,1],[10,11,3],[6,11,0],[10,9,0],[6,9,3],[22,15,13],[22,12,16],[14,12,13],[14,15,16],[13,22,15],[16,22,12],[13,14,12],[16,14,15],[22,21,17],[22,20,19],[14,20,17],[14,21,19],[13,23,21],[16,23,20],[13,18,20],[16,18,21],[23,15,17],[23,12,19],[18,12,17],[18,15,19],[17,22,21],[19,22,20],[17,14,20],[19,14,21],[23,21,13],[23,20,16],[18,20,13],[18,21,16],[17,23,15],[19,23,12],[17,18,12],[19,18,15],[5,0,6],[2,7,4],[9,3,1],[6,5,0],[4,2,7],[1,9,3],[0,2,4],[3,2,1],[0,5,1],[2,1,3],[2,4,0],[5,1,0],[7,9,10],[8,9,6],[7,11,6],[9,6,8],[9,10,7],[11,6,7],[1,7,11],[4,8,11],[1,8,9],[4,7,9],[0,9,10],[3,9,6],[3,11,10],[0,11,6],[2,6,8],[2,10,7],[5,6,7],[5,10,8],[6,0,11],[10,3,11],[6,3,9],[10,0,9],[7,2,10],[8,2,6],[8,5,10],[7,5,6],[9,1,8],[9,4,7],[11,1,7],[11,4,8],[7,9,4],[8,9,1],[8,11,4],[7,11,1],[9,6,3],[9,10,0],[11,6,0],[11,10,3],[19,12,23],[13,15,22],[16,21,18],[17,20,14],[20,14,17],[21,18,16],[15,22,13],[12,23,19],[18,16,21],[14,17,20],[23,19,12],[22,13,15],[19,20,22],[13,21,23],[16,15,14],[17,12,18],[20,18,13],[21,14,19],[15,23,17],[12,22,16],[18,19,15],[14,13,12],[23,16,20],[22,17,21],[16,12,22],[17,15,23],[19,21,14],[13,20,18],[12,14,13],[15,18,19],[21,22,17],[20,23,16],[14,16,15],[18,17,12],[22,19,20],[23,13,21],[16,20,23],[17,21,22],[19,15,18],[13,12,14],[12,18,17],[15,14,16],[21,23,13],[20,22,19],[14,19,21],[18,13,20],[22,16,12],[23,17,15],[19,12,22],[17,21,23],[16,15,18],[13,20,14],[20,14,13],[15,18,16],[21,23,17],[12,22,19],[18,16,15],[14,13,20],[22,19,12],[23,17,21],[3,2,4],[3,5,1],[0,5,4],[2,4,3],[5,1,3],[5,4,0],[1,7,9],[4,8,9],[1,8,11],[4,7,11],[0,9,6],[3,9,10],[3,11,6],[0,11,10],[2,6,7],[2,10,8],[5,6,8],[5,10,7],[6,0,9],[10,3,9],[6,3,11],[10,0,11],[7,2,6],[8,2,10],[8,5,6],[7,5,10],[9,1,7],[9,4,8],[11,1,8],[11,4,7],[7,9,1],[8,9,4],[8,11,1],[7,11,4],[9,6,0],[9,10,3],[11,6,3],[11,10,0],[8,9,10],[8,11,6],[7,11,10],[9,10,8],[11,6,8],[11,10,7],[6,0,2],[10,3,2],[6,3,5],[10,0,5],[7,2,1],[8,2,4],[8,5,1],[7,5,4],[9,1,0],[9,4,3],[11,1,3],[11,4,0],[1,7,2],[4,8,2],[1,8,5],[4,7,5],[0,9,1],[3,9,4],[3,11,1],[0,11,4],[2,6,0],[2,10,3],[5,6,3],[5,10,0],[0,2,6],[3,2,10],[3,5,6],[0,5,10],[2,1,7],[2,4,8],[5,1,8],[5,4,7],[16,12,14],[13,21,18],[19,15,23],[17,20,22],[12,14,16],[21,18,13],[15,23,19],[20,22,17],[14,16,12],[18,13,21],[23,19,15],[22,17,20],[19,20,18],[17,15,14],[16,21,22],[13,12,23],[20,18,19],[15,14,17],[21,22,16],[12,23,13],[18,19,20],[14,17,15],[22,16,21],[23,13,12],[6,0,5],[10,3,5],[6,3,2],[10,0,2],[7,2,4],[8,2,1],[8,5,4],[7,5,1],[9,1,3],[9,4,0],[11,1,0],[11,4,3],[1,7,5],[4,8,5],[1,8,2],[4,7,2],[0,9,4],[3,9,1],[3,11,4],[0,11,1],[2,6,3],[2,10,0],[5,6,0],[5,10,3],[0,2,10],[3,2,6],[3,5,10],[0,5,6],[2,1,8],[2,4,7],[5,1,7],[5,4,8],[21,17,23],[20,16,22],[12,13,18],[15,19,14],[23,21,17],[22,20,16],[18,12,13],[14,15,19],[17,23,21],[16,22,20],[13,18,12],[19,14,15],[21,13,22],[20,19,23],[12,17,14],[15,16,18],[23,15,13],[22,12,19],[18,20,17],[14,21,16],[17,22,15],[16,23,12],[13,14,20],[19,18,21],[15,17,22],[12,16,23],[20,13,14],[21,19,18],[22,21,13],[23,20,19],[14,12,17],[18,15,16],[13,23,15],[19,22,12],[17,18,20],[16,14,21],[15,13,23],[12,19,22],[20,17,18],[21,16,14],[22,15,17],[23,12,16],[14,20,13],[18,21,19],[13,22,21],[19,23,20],[17,14,12],[16,18,15],[6,5,3],[4,9,3],[9,3,4],[5,7,4],[4,5,7],[5,3,6]],t.Group=[[0],[0,1],[0,2],[0,3],[0,2,4,5],[0,6],[0,7],[0,6,4,8],[0,7,4,9],[0,6,2,1],[0,3,1,10],[0,6,2,1,4,8,5,11],[0,12,1,7],[0,1,13,14],[0,12,1,7,4,15,11,9],[0,16,2,17],[0,18,12,17],[0,16,5,19],[0,20,13,19],[0,18,12,17,4,21,15,19],[0,16,2,17,4,22,5,19],[0,16,2,17,23,24,13,25,26,20,27,28,4,22,5,19],[0,16,17,2,29,21,30,15],[0,20,13,19,29,31,32,33],[0,16,6,34],[0,18,7,34],[0,16,7,35],[0,16,36,37],[0,18,36,38],[0,16,14,39],[0,20,40,34],[0,16,8,41],[0,18,8,42],[0,16,9,42],[0,16,6,34,4,22,8,41],[0,18,7,34,4,21,9,41],[0,16,7,35,4,22,9,42],[0,16,6,34,23,24,14,39],[0,16,10,43,23,24,7,35],[0,16,36,37,23,24,9,42],[0,16,8,41,23,24,40,38],[0,16,6,34,23,24,14,39,26,20,40,38,4,22,8,41],[0,16,44,45,23,24,46,47,26,20,48,49,4,22,50,51],[0,16,6,34,29,21,9,42],[0,16,8,41,29,21,7,35],[0,16,36,37,29,21,14,39],[0,16,2,17,1,52,6,34],[0,16,2,17,53,54,9,42],[0,16,12,33,1,52,7,35],[0,16,2,17,11,55,8,41],[0,56,2,57,1,58,6,37],[0,56,15,25,1,58,9,39],[0,20,27,17,1,59,40,34],[0,56,12,28,1,58,7,38],[0,16,5,19,1,52,8,41],[0,22,13,28,1,55,14,38],[0,18,13,60,1,61,14,43],[0,16,15,30,1,52,9,42],[0,16,5,19,11,55,6,34],[0,21,12,19,1,54,7,41],[0,20,13,19,1,59,14,41],[0,20,3,30,1,59,10,42],[0,18,12,17,1,61,7,34,4,21,15,19,11,54,9,41],[0,24,13,17,1,62,14,34,4,20,27,19,11,59,40,41],[0,16,2,17,1,52,6,34,4,22,5,19,11,55,8,41],[0,16,12,33,1,52,7,35,4,22,15,30,11,55,9,42],[0,31,3,17,1,63,10,34,4,56,32,19,11,58,36,41],[0,22,2,19,64,59,14,38,4,16,5,17,65,62,40,39],[0,16,2,17,1,52,6,34,23,24,13,25,64,62,14,39,26,20,27,28,65,59,40,38,4,22,5,19,11,55,8,41],[0,16,2,17,66,67,44,45,23,24,13,25,68,69,46,47,26,20,27,28,70,71,48,49,4,22,5,19,72,73,50,51],[0,16,2,17,1,52,6,34,29,21,15,30,53,54,9,42],[0,16,5,19,1,52,8,41,29,21,12,33,53,54,7,35],[0,20,13,19,1,59,14,41,29,31,32,33,53,63,36,35],[0,31,3,17,1,63,10,34,29,20,27,30,53,59,40,42],[0,16,74,75],[0,18,76,77],[0,16,78,79],[0,18,80,81],[0,16,74,75,29,21,82,83],[0,21,84,85,29,16,86,87],[0,16,88,89],[0,16,88,89,29,21,90,91],[0,16,74,75,1,52,88,89],[0,16,78,79,1,52,92,93],[0,16,94,95,11,55,88,89],[0,16,82,83,53,54,88,89],[0,16,74,75,1,52,88,89,29,21,82,83,53,54,90,91],[0,21,84,85,96,97,88,91,29,16,86,87,98,99,90,89],[0,16,74,75,2,17,100,101],[0,16,94,95,5,19,100,101],[0,18,76,77,2,33,102,103],[0,18,104,105,106,107,100,108],[0,16,78,79,2,17,109,108],[0,16,82,83,15,30,100,101],[0,18,80,81,2,33,110,111],[0,18,112,113,114,115,100,108],[0,16,74,75,2,17,100,101,29,21,82,83,15,30,116,117],[0,21,84,85,118,119,116,101,29,16,86,87,120,121,100,117],[0,16,74,75,6,34,122,123],[0,16,74,75,8,41,124,125],[0,16,78,79,7,35,122,123],[0,16,82,83,9,42,122,123],[0,16,74,75,7,35,126,127],[0,16,74,75,9,42,128,129],[0,16,78,79,6,34,126,127],[0,16,78,79,8,41,128,129],[0,16,74,75,6,34,122,123,29,21,82,83,9,42,128,129],[0,16,74,75,7,35,126,127,29,21,82,83,8,41,124,125],[0,21,84,85,6,42,130,131,29,16,86,87,9,34,132,133],[0,21,84,85,7,41,134,135,29,16,86,87,8,35,136,137],[0,16,89,88,2,17,122,123],[0,16,89,88,12,33,126,127],[0,16,89,88,5,19,124,125],[0,16,89,88,15,30,128,129],[0,16,88,89,6,34,100,101],[0,16,89,88,7,35,109,108],[0,16,89,88,8,41,138,139],[0,16,89,88,9,42,116,117],[0,16,89,88,6,34,100,101,29,21,91,90,9,42,116,117],[0,16,89,88,7,35,109,108,29,21,91,90,8,41,138,139],[0,16,89,88,2,17,122,123,29,21,91,90,15,30,128,129],[0,16,89,88,118,121,132,131,29,21,91,90,120,119,130,133],[0,16,74,75,2,17,100,101,1,52,88,89,6,34,122,123],[0,16,74,75,12,33,109,108,1,52,88,89,7,35,126,127],[0,16,74,75,2,17,100,101,11,55,140,141,8,41,124,125],[0,16,74,75,2,17,100,101,53,54,90,91,9,42,128,129],[0,16,74,75,5,19,138,139,1,52,88,89,8,41,124,125],[0,16,74,75,15,30,116,117,1,52,88,89,9,42,128,129],[0,16,94,95,5,19,100,101,11,55,88,89,6,34,124,125],[0,16,94,95,15,30,109,108,11,55,88,89,7,35,128,129],[0,16,78,79,2,17,109,108,1,52,92,93,6,34,126,127],[0,16,78,79,12,33,100,101,1,52,92,93,7,35,122,123],[0,16,82,83,12,33,138,139,53,54,88,89,8,41,126,127],[0,16,82,83,2,17,116,117,53,54,88,89,9,42,122,123],[0,16,78,79,5,19,116,117,1,52,92,93,8,41,128,129],[0,16,82,83,15,30,100,101,1,52,90,91,9,42,122,123],[0,16,82,83,15,30,100,101,53,54,88,89,6,34,128,129],[0,16,82,83,5,19,109,108,53,54,88,89,7,35,124,125],[0,16,74,75,2,17,100,101,1,52,88,89,6,34,122,123,29,21,82,83,15,30,116,117,53,54,90,91,9,42,128,129],[0,16,74,75,12,33,109,108,1,52,88,89,7,35,126,127,29,21,82,83,5,19,138,139,53,54,90,91,8,41,124,125],[0,21,84,85,118,119,116,101,96,97,88,91,9,34,132,133,29,16,86,87,120,121,100,117,98,99,90,89,6,42,130,131],[0,21,84,85,142,143,138,108,96,97,88,91,8,35,136,137,29,16,86,87,144,145,109,139,98,99,90,89,7,41,134,135],[0,146,147],[0,148,149],[0,150,151],[0,146,147,152,153,154,155,156,157],[0,158,159],[0,146,147,1,160,161],[0,146,147,1,160,161,152,153,154,162,163,164,155,156,157,165,166,167],[0,158,159,1,168,169],[0,146,147,101,170,171],[0,146,147,100,172,173],[0,148,149,174,175,171],[0,148,149,100,176,177],[0,150,151,178,179,171],[0,150,151,100,180,181],[0,146,147,100,172,173,152,153,154,182,183,184,155,156,157,185,186,187],[0,158,159,101,188,189],[0,146,147,122,190,191],[0,146,147,123,192,193],[0,146,147,126,194,195],[0,146,147,127,196,197],[0,146,147,122,190,191,152,153,154,198,199,200,155,156,157,201,202,203],[0,158,159,123,204,205],[0,146,147,126,194,195,152,153,154,206,207,208,155,156,157,209,210,211],[0,158,159,129,212,213],[0,146,147,101,170,171,1,160,161,123,192,193],[0,146,147,108,214,215,1,160,161,127,196,197],[0,146,147,100,172,173,1,160,161,122,190,191],[0,146,147,109,216,217,1,160,161,126,194,195],[0,146,147,100,172,173,1,160,161,122,190,191,152,153,154,182,183,184,162,163,164,198,199,200,155,156,157,185,186,187,165,166,167,201,202,203],[0,158,159,101,188,189,1,168,169,123,204,205],[0,146,147,109,216,217,1,160,161,126,194,195,152,153,154,218,219,220,162,163,164,206,207,208,155,156,157,221,222,223,165,166,167,209,210,211],[0,158,159,117,224,225,1,168,169,129,212,213],[0,146,147,16,226,227],[0,148,149,18,228,229],[0,150,151,18,230,231],[0,150,151,16,232,233],[0,148,149,16,234,235],[0,146,147,18,236,237],[0,146,147,52,238,239],[0,146,147,16,226,227,1,160,161,52,238,239],[0,146,147,18,236,237,1,160,161,61,240,241],[0,146,147,16,226,227,100,172,173,101,170,171],[0,148,149,18,228,229,242,172,181,243,214,244],[0,150,151,18,230,231,245,172,177,246,214,247],[0,150,151,16,232,233,245,172,177,174,170,248],[0,148,149,16,234,235,242,172,181,178,170,249],[0,146,147,18,236,237,100,172,173,108,214,215],[0,146,147,16,226,227,122,190,191,123,192,193],[0,146,147,16,226,227,126,194,195,127,196,197],[0,146,147,18,236,237,126,194,195,123,192,193],[0,146,147,18,236,237,122,190,191,127,196,197],[0,146,147,52,238,239,122,190,191,101,170,171],[0,146,147,61,240,241,126,194,195,101,170,171],[0,146,147,52,238,239,100,172,173,123,192,193],[0,146,147,61,240,241,100,172,173,127,196,197],[0,146,147,16,226,227,100,172,173,101,170,171,1,160,161,52,239,238,122,190,191,123,192,193],[0,146,147,16,226,227,109,216,217,108,214,215,1,160,161,52,239,238,126,194,195,127,196,197],[0,146,147,18,236,237,109,216,217,101,170,171,1,160,161,61,241,240,126,194,195,123,192,193],[0,146,147,18,236,237,100,172,173,108,214,215,1,160,161,61,241,240,122,190,191,127,196,197],[0,16,2,17,158,250,251,252,159,253,254,255],[0,16,2,17,158,250,251,252,159,253,254,255,23,24,13,25,256,257,258,259,260,261,262,263,26,20,27,28,264,265,266,267,268,269,270,271,4,22,5,19,272,273,274,275,276,277,278,279],[0,16,2,17,158,250,251,252,159,253,254,255,29,21,15,30,280,281,282,283,284,285,286,287],[0,20,13,19,158,273,266,259,159,261,278,271],[0,20,13,19,158,273,266,259,159,261,278,271,29,31,32,33,280,288,289,290,284,291,292,293],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299],[0,16,2,17,158,250,251,252,159,253,254,255,53,54,9,42,300,301,302,303,304,305,306,307],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299,23,24,13,25,256,257,258,259,260,261,262,263,64,62,14,39,308,309,310,311,312,313,314,315,26,20,27,28,264,265,266,267,268,269,270,271,65,59,40,38,316,317,318,319,320,321,322,323,4,22,5,19,272,273,274,275,276,277,278,279,11,55,8,41,324,325,326,327,328,329,330,331],[0,16,2,17,158,250,251,252,159,253,254,255,66,67,44,45,332,333,334,335,336,337,338,339,23,24,13,25,256,257,258,259,260,261,262,263,68,69,46,47,340,341,342,343,344,345,346,347,26,20,27,28,264,265,266,267,268,269,270,271,70,71,48,49,348,349,350,351,352,353,354,355,4,22,5,19,272,273,274,275,276,277,278,279,72,73,50,51,356,357,358,359,360,361,362,363],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299,29,21,15,30,280,281,282,283,284,285,286,287,53,54,9,42,300,301,302,303,304,305,306,307],[0,20,13,19,158,273,266,259,159,261,278,271,1,59,14,41,168,325,318,311,169,313,330,323],[0,20,13,19,158,273,266,259,159,261,278,271,1,59,14,41,168,325,318,311,169,313,330,323,29,31,32,33,280,288,289,290,284,291,292,293,53,63,36,35,300,364,365,366,304,367,368,369],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,23,24,13,25,256,257,258,259,260,261,262,263,382,383,384,385,386,387,388,389,390,391,392,393,26,20,27,28,264,265,266,267,268,269,270,271,394,395,396,397,398,399,400,401,402,403,404,405,4,22,5,19,272,273,274,275,276,277,278,279,138,139,95,94,406,407,408,409,410,411,412,413],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,29,21,15,30,280,281,282,283,284,285,286,287,116,117,83,82,376,377,224,378,379,380,381,225],[0,20,13,19,158,273,266,259,159,261,278,271,450,415,440,429,454,431,420,445,458,447,436,425],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473,29,31,32,33,280,288,289,290,284,291,292,293,450,415,440,429,454,431,420,445,458,447,436,425],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479,23,24,13,25,256,257,258,259,260,261,262,263,480,481,482,483,484,485,486,487,488,489,490,491,26,20,27,28,264,265,266,267,268,269,270,271,492,493,494,495,496,497,498,499,500,501,502,503,4,22,5,19,272,273,274,275,276,277,278,279,125,124,140,141,504,505,506,507,508,509,510,511],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479,29,21,15,30,280,281,282,283,284,285,286,287,129,128,90,91,212,512,513,514,213,515,516,517],[0,16,2,17,158,250,251,252,159,253,254,255,129,128,90,91,212,512,513,514,213,515,516,517],[0,16,2,17,158,250,251,252,159,253,254,255,129,128,90,91,212,512,513,514,213,515,516,517,23,24,13,25,256,257,258,259,260,261,262,263,518,519,520,521,522,523,524,525,526,527,528,529,26,20,27,28,264,265,266,267,268,269,270,271,530,531,532,533,534,535,536,537,538,539,540,541,4,22,5,19,272,273,274,275,276,277,278,279,127,126,92,93,542,543,544,545,546,547,548,549],[0,20,13,19,158,273,266,259,159,261,278,271,550,551,552,553,554,555,556,557,558,559,560,561,29,31,32,33,280,288,289,290,284,291,292,293,562,563,564,565,566,567,568,569,570,571,572,573],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,53,54,9,42,300,301,302,303,304,305,306,307,128,129,91,90,513,514,212,512,517,516,515,213],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,1,52,6,34,168,294,295,296,169,297,298,299,128,129,91,90,513,514,212,512,517,516,515,213],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,53,54,9,42,300,301,302,303,304,305,306,307,122,123,89,88,475,476,204,474,479,478,477,205],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205,23,24,13,25,256,257,258,259,260,261,262,263,382,383,384,385,386,387,388,389,390,391,392,393,64,62,14,39,308,309,310,311,312,313,314,315,481,480,483,482,486,487,484,485,491,490,489,488,26,20,27,28,264,265,266,267,268,269,270,271,394,395,396,397,398,399,400,401,402,403,404,405,65,59,40,38,316,317,318,319,320,321,322,323,493,492,495,494,498,499,496,497,503,502,501,500,4,22,5,19,272,273,274,275,276,277,278,279,138,139,95,94,406,407,408,409,410,411,412,413,11,55,8,41,324,325,326,327,328,329,330,331,124,125,141,140,506,507,504,505,511,510,509,508],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,1,52,6,34,168,294,295,296,169,297,298,299,128,129,91,90,513,514,212,512,517,516,515,213,23,24,13,25,256,257,258,259,260,261,262,263,574,575,576,577,578,579,580,581,582,583,584,585,64,62,14,39,308,309,310,311,312,313,314,315,519,518,521,520,524,525,522,523,529,528,527,526,26,20,27,28,264,265,266,267,268,269,270,271,586,587,588,589,590,591,592,593,594,595,596,597,65,59,40,38,316,317,318,319,320,321,322,323,531,530,533,532,536,537,534,535,541,540,539,538,4,22,5,19,272,273,274,275,276,277,278,279,109,108,79,78,598,599,600,601,602,603,604,605,11,55,8,41,324,325,326,327,328,329,330,331,126,127,93,92,544,545,542,543,549,548,547,546],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,66,69,50,49,332,349,342,359,336,361,354,347,493,123,483,140,498,507,204,485,503,490,509,205,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,68,67,48,51,340,357,334,351,344,353,362,339,124,480,89,494,506,499,484,474,511,478,501,488,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,70,73,46,45,348,333,358,343,352,345,338,363,122,492,141,482,475,487,496,505,479,510,489,500,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461,72,71,44,47,356,341,350,335,360,337,346,355,481,125,495,88,486,476,504,497,491,502,477,508],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,606,607,608,609,610,611,612,613,614,615,616,617,531,129,521,92,536,545,212,523,541,528,547,213,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,618,619,620,621,622,623,624,625,626,627,628,629,126,518,91,532,544,537,522,512,549,516,539,526,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,630,631,632,633,634,635,636,637,638,639,640,641,128,530,93,520,513,525,534,543,517,548,527,538,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461,642,643,644,645,646,647,648,649,650,651,652,653,519,127,533,90,524,514,542,535,529,540,515,546],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205,29,21,15,30,280,281,282,283,284,285,286,287,116,117,83,82,376,377,224,378,379,380,381,225,53,54,9,42,300,301,302,303,304,305,306,307,128,129,91,90,513,514,212,512,517,516,515,213],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473,1,59,14,41,168,325,318,311,169,313,330,323,551,550,553,552,556,557,554,555,561,560,559,558,29,31,32,33,280,288,289,290,284,291,292,293,450,415,440,429,454,431,420,445,458,447,436,425,53,63,36,35,300,364,365,366,304,367,368,369,563,562,565,564,568,569,566,567,573,572,571,570],[0,16],[0,18],[0,16,26,20],[0,2,23,13],[0,3,4,32],[0,2,29,15],[0,3,29,27],[0,52],[0,63],[0,52,26,59],[0,63,26,54],[0,52,16,1],[0,18,1,61],[0,52,16,1,26,59,20,65],[0,31,1,63],[0,1,24,62],[0,31,1,63,26,21,65,54],[0,2,57,56],[0,60,3,16],[0,22,57,3],[0,2,28,20],[0,17,13,24],[0,20,19,13,4,24,17,27],[0,22,57,3,4,16,60,32],[0,22,57,3,23,20,30,12,26,24,33,15,4,16,60,32],[0,22,57,3,29,18,27,25],[0,22,3,57,1,55,10,37],[0,22,385,396,3,57,109,117],[0,22,57,3,159,279,654,655,158,274,656,657,29,18,25,27,284,658,262,269,280,659,257,267]],
t.Spacegroup={"P 1":0,"P -1":1,"P 1 2 1":2,"P 1 21 1":3,"C 1 2 1":4,"P 1 m 1":5,"P 1 c 1":6,"C 1 m 1":7,"C 1 c 1":8,"P 1 2/m 1":9,"P 1 21/m 1":10,"C 1 2/m 1":11,"P 1 2/c 1":12,"P 1 21/c 1":13,"C 1 2/c 1":14,"P 2 2 2":15,"P 2 2 21":16,"P 21 21 2":17,"P 21 21 21":18,"C 2 2 21":19,"C 2 2 2":20,"F 2 2 2":21,"I 2 2 2":22,"I 21 21 21":23,"P m m 2":24,"P m c 21":25,"P c c 2":26,"P m a 2":27,"P c a 21":28,"P n c 2":29,"P m n 21":30,"P b a 2":31,"P n a 21":32,"P n n 2":33,"C m m 2":34,"C m c 21":35,"C c c 2":36,"A m m 2":37,"A b m 2":38,"A m a 2":39,"A b a 2":40,"F m m 2":41,"F d d 2":42,"I m m 2":43,"I b a 2":44,"I m a 2":45,"P 2/m 2/m 2/m":46,"P m m m":46,"P 2/n 2/n 2/n":47,"P n n n":47,"P 2/c 2/c 2/m":48,"P c c m":48,"P 2/b 2/a 2/n":49,"P b a n":49,"P 21/m 2/m 2/a":50,"P m m a":50,"P 2/n 21/n 2/a":51,"P n n a":51,"P 2/m 2/n 21/a":52,"P m n a":52,"P 21/c 2/c 2/a":53,"P c c a":53,"P 21/b 21/a 2/m":54,"P b a m":54,"P 21/c 21/c 2/n":55,"P c c n":55,"P 2/b 21/c 21/m":56,"P b c m":56,"P 21/n 21/n 2/m":57,"P n n m":57,"P 21/m 21/m 2/n":58,"P m m n":58,"P 21/b 2/c 21/n":59,"P b c n":59,"P 21/b 21/c 21/a":60,"P b c a":60,"P 21/n 21/m 21/a":61,"P n m a":61,"C 2/m 2/c 21/m":62,"C m c m":62,"C 2/m 2/c 21/a":63,"C m c a":63,"C 2/m 2/m 2/m":64,"C m m m":64,"C 2/c 2/c 2/m":65,"C c c m":65,"C 2/m 2/m 2/a":66,"C m m a":66,"C 2/c 2/c 2/a":67,"C c c a":67,"F 2/m 2/m 2/m":68,"F m m m":68,"F 2/d 2/d 2/d":69,"F d d d":69,"I 2/m 2/m 2/m":70,"I m m m":70,"I 2/b 2/a 2/m":71,"I b a m":71,"I 21/b 21/c 21/a":72,"I b c a":72,"I 21/m 21/m 21/a":73,"I m m a":73,"P 4":74,"P 41":75,"P 42":76,"P 43":77,"I 4":78,"I 41":79,"P -4":80,"I -4":81,"P 4/m":82,"P 42/m":83,"P 4/n":84,"P 42/n":85,"I 4/m":86,"I 41/a":87,"P 4 2 2":88,"P 4 21 2":89,"P 41 2 2":90,"P 41 21 2":91,"P 42 2 2":92,"P 42 21 2":93,"P 43 2 2":94,"P 43 21 2":95,"I 4 2 2":96,"I 41 2 2":97,"P 4 m m":98,"P 4 b m":99,"P 42 c m":100,"P 42 n m":101,"P 4 c c":102,"P 4 n c":103,"P 42 m c":104,"P 42 b c":105,"I 4 m m":106,"I 4 c m":107,"I 41 m d":108,"I 41 c d":109,"P -4 2 m":110,"P -4 2 c":111,"P -4 21 m":112,"P -4 21 c":113,"P -4 m 2":114,"P -4 c 2":115,"P -4 b 2":116,"P -4 n 2":117,"I -4 m 2":118,"I -4 c 2":119,"I -4 2 m":120,"I -4 2 d":121,"P 4/m 2/m 2/m":122,"P4/m m m":122,"P 4/m 2/c 2/c":123,"P4/m c c":123,"P 4/n 2/b 2/m":124,"P4/n b m":124,"P 4/n 2/n 2/c":125,"P4/n n c":125,"P 4/m 21/b 2/m":126,"P4/m b m":126,"P 4/m 21/n 2/c":127,"P4/m n c":127,"P 4/n 21/m 2/m":128,"P4/n m m":128,"P 4/n 2/c 2/c":129,"P4/n c c":129,"P 42/m 2/m 2/c":130,"P42/m m c":130,"P 42/m 2/c 2/m":131,"P42/m c m":131,"P 42/n 2/b 2/c":132,"P42/n b c":132,"P 42/n 2/n 2/m":133,"P42/n n m":133,"P 42/m 21/b 2/c":134,"P42/m b c":134,"P 42/m 21/n 2/m":135,"P42/m n m":135,"P 42/n 21/m 2/c":136,"P42/n m c":136,"P 42/n 21/c 2/m":137,"P42/n c m":137,"I 4/m 2/m 2/m":138,"I4/m m m":138,"I 4/m 2/c 2/m":139,"I4/m c m":139,"I 41/a 2/m 2/d":140,"I41/a m d":140,"I 41/a 2/c 2/d":141,"I41/a c d":141,"P 3":142,"P 31":143,"P 32":144,"H 3":145,"R 3":146,"P -3":147,"H -3":148,"R -3":149,"P 3 1 2":150,"P 3 2 1":151,"P 31 1 2":152,"P 31 2 1":153,"P 32 1 2":154,"P 32 2 1":155,"H 3 2":156,"R 3 2":157,"P 3 m 1":158,"P 3 1 m":159,"P 3 c 1":160,"P 3 1 c":161,"H 3 m":162,"R 3 m":163,"H 3 c":164,"R 3 c":165,"P -3 1 2/m":166,"P -3 1 m":166,"P -3 1 2/c":167,"P -3 1 c":167,"P -3 2/m 1":168,"P -3 m 1":168,"P -3 2/c 1":169,"P -3 c 1":169,"H -3 2/m":170,"H -3 m":170,"R -3 2/m":171,"R -3 m":171,"H -3 2/c":172,"H -3 c":172,"R -3 2/c":173,"R -3 c":173,"P 6":174,"P 61":175,"P 65":176,"P 62":177,"P 64":178,"P 63":179,"P -6":180,"P 6/m":181,"P 63/m":182,"P 6 2 2":183,"P 61 2 2":184,"P 65 2 2":185,"P 62 2 2":186,"P 64 2 2":187,"P 63 2 2":188,"P 6 m m":189,"P 6 c c":190,"P 63 c m":191,"P 63 m c":192,"P -6 m 2":193,"P -6 c 2":194,"P -6 2 m":195,"P -6 2 c":196,"P 6/m 2/m 2/m":197,"P 6/m m m":197,"P 6/m 2/c 2/c":198,"P 6/m c c":198,"P 63/m 2/c 2/m":199,"P 63/m c m":199,"P 63/m 2/m 2/c":200,"P 63/m m c":200,"P 2 3":201,"F 2 3":202,"I 2 3":203,"P 21 3":204,"I 21 3":205,"P 2/m -3":206,"P m -3":206,"P 2/n -3":207,"P n -3":207,"F 2/m -3":208,"F m -3":208,"F 2/d -3":209,"F d -3":209,"I 2/m -3":210,"I m -3":210,"P 21/a -3":211,"P a -3":211,"I 21/a -3":212,"I a -3":212,"P 4 3 2":213,"P 42 3 2":214,"F 4 3 2":215,"F 41 3 2":216,"I 4 3 2":217,"P 43 3 2":218,"P 41 3 2":219,"I 41 3 2":220,"P -4 3 m":221,"F -4 3 m":222,"I -4 3 m":223,"P -4 3 n":224,"F -4 3 c":225,"I -4 3 d":226,"P 4/m -3 2/m":227,"P m -3 m":227,"P 4/n -3 2/n":228,"P n -3 n":228,"P 42/m -3 2/n":229,"P m -3 n":229,"P 42/n -3 2/m":230,"P n -3 m":230,"F 4/m -3 2/m":231,"F m -3 m":231,"F 4/m -3 2/c":232,"F m -3 c":232,"F 41/d -3 2/m":233,"F d -3 m":233,"F 41/d -3 2/c":234,"F d -3 c":234,"I 4/m -3 2/m":235,"I m -3 m":235,"I 41/a -3 2/d":236,"I a -3 d":236,"P 1 1 2":237,"P 1 1 21":238,"B 1 1 2":239,"B 2":239,"A 1 2 1":240,"C 1 21 1":241,"I 1 2 1":242,"I 2":242,"I 1 21 1":243,"P 1 1 m":244,"P 1 1 b":245,"B 1 1 m":246,"B 1 1 b":247,"P 1 1 2/m":248,"P 1 1 21/m":249,"B 1 1 2/m":250,"P 1 1 2/b":251,"P 1 1 21/b":252,"B 1 1 2/b":253,"P 21 2 2":254,"P 2 21 2":255,"P 21 21 2 (a)":256,"P 21 2 21":257,"P 2 21 21":258,"C 2 2 21a)":259,"C 2 2 2a":260,"F 2 2 2a":261,"I 2 2 2a":262,"P 21/m 21/m 2/n a":263,"P 42 21 2a":264,"I 2 3a":265}}(o=e.SpacegroupTables||(e.SpacegroupTables={}))}(e=t.Structure||(t.Structure={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(t,e,n){return o.buildPivotGroupSymmetry(t,e,n)}function r(t,e){return o.buildMates(t,e)}function i(t,e){return o.buildAssembly(t,e)}var o;!function(n){function r(t,e){for(var n=t.x,r=t.y,i=t.z,o={x:0,y:0,z:0},a=0,s=e;a<s.length;a++){var c=s[a];o.x+=n[c],o.y+=r[c],o.z+=i[c]}var l=e.length>0?e.length:1;o.x/=l,o.y/=l,o.z/=l;for(var h=0,p=0,f=e;p<f.length;p++){var c=f[p];h=Math.max(u(c,o,t),h)}return{center:o,radius:Math.sqrt(h)}}function i(){return{x:0,y:0,z:0}}function o(t,e,n){var r=t.x-n.center.x,i=t.y-n.center.y,o=t.z-n.center.z;return Math.sqrt(r*r+i*i+o*o)-(e+n.radius)}function a(t,e,n,r,i,a){return a.x=n.x[e],a.y=n.y[e],a.z=n.z[e],P.transformVector3(a,a,r),o(a,n.r[e],t)<=i}function s(t,e,n){var r=n.x[t]-n.cX[e],i=n.y[t]-n.cY[e],o=n.z[t]-n.cZ[e];return r*r+i*i+o*o}function u(t,e,n){var r=n.x[t]-e.x,i=n.y[t]-e.y,o=n.z[t]-e.z;return r*r+i*i+o*o}function c(t,e,n,r){return{model:t,boundingInfo:e,spacegroup:n,radius:r,transform:P.empty(),transformed:{x:0,y:0,z:0},i:0,j:0,k:0,op:0}}function l(t,e){return P.transformVector3(t.transformed,e,t.transform)}function h(t){return p(t.i,t.j,t.k,t.op,P.clone(t.transform))}function p(t,e,n,r,i){return{isIdentity:!(t||e||n||r),id:r+1+"_"+(5+t)+(5+e)+(5+n),transform:i}}function f(t,e){for(var n=!0,r=0;r<4;r++){for(var i=0;i<4;i++){var o=e[4*i+r];if(r===i){if(Math.abs(o-1)>1e-7){n=!1;break}}else if(Math.abs(o)>1e-7){n=!1;break}}if(!n)break}return{isIdentity:n,id:t.toString(),transform:e}}function d(t,n){for(var r=t.atoms,o=t.residues,a=t.chains,c=t.entities,l=r.x,h=r.y,p=r.z,f=new e.DataTableBuilder(c.count),d=f.addColumn("x",function(t){return new Float64Array(t)}),m=f.addColumn("y",function(t){return new Float64Array(t)}),y=f.addColumn("z",function(t){return new Float64Array(t)}),v=f.addColumn("r",function(t){return new Float64Array(t)}),g=new e.DataTableBuilder(a.count),b=g.addColumn("x",function(t){return new Float64Array(t)}),_=g.addColumn("y",function(t){return new Float64Array(t)}),x=g.addColumn("z",function(t){return new Float64Array(t)}),w=g.addColumn("r",function(t){return new Float64Array(t)}),C=new e.DataTableBuilder(o.count),S=C.addColumn("x",function(t){return new Float64Array(t)}),E=C.addColumn("y",function(t){return new Float64Array(t)}),T=C.addColumn("z",function(t){return new Float64Array(t)}),M=C.addColumn("r",function(t){return new Float64Array(t)}),A=i(),P=0,k=i(),R=0,O=0,I=i(),N=0,D=i(),L=0,V=i(),F=0,j=0,B=c.count;j<B;j++){I.x=0,I.y=0,I.z=0;for(var U=c.chainStartIndex[j],z=c.chainEndIndex[j];U<z;U++){D.x=0,D.y=0,D.z=0;for(var H=a.residueStartIndex[U],G=a.residueEndIndex[U];H<G;H++){V.x=0,V.y=0,V.z=0;for(var q=o.atomStartIndex[H],W=o.atomEndIndex[H];q<W;q++)V.x+=l[q],V.y+=h[q],V.z+=p[q];A.x+=V.x,A.y+=V.y,A.z+=V.z,O=o.atomEndIndex[H]-o.atomStartIndex[H],D.x+=V.x,D.y+=V.y,D.z+=V.z,S[H]=V.x/O,E[H]=V.y/O,T[H]=V.z/O}I.x+=D.x,I.y+=D.y,I.z+=D.z,O=a.atomEndIndex[U]-a.atomStartIndex[U],b[U]=D.x/O,_[U]=D.y/O,x[U]=D.z/O}O=c.atomEndIndex[j]-c.atomStartIndex[j],d[j]=I.x/O,m[j]=I.y/O,y[j]=I.z/O}A.x/=r.count,A.y/=r.count,A.z/=r.count;for(var X=0,Y=n;X<Y.length;X++){var q=Y[X];k.x+=l[q],k.y+=h[q],k.z+=p[q]}var K=n.length>0?n.length:1;k.x/=K,k.y/=K,k.z/=K;for(var Z={x:l,y:h,z:p,cX:d,cY:m,cZ:y},Q={x:l,y:h,z:p,cX:b,cY:_,cZ:x},$={x:l,y:h,z:p,cX:S,cY:E,cZ:T},j=0,B=c.count;j<B;j++){N=0;for(var U=c.chainStartIndex[j],z=c.chainEndIndex[j];U<z;U++){L=0;for(var H=a.residueStartIndex[U],G=a.residueEndIndex[U];H<G;H++){F=0;for(var q=o.atomStartIndex[H],W=o.atomEndIndex[H];q<W;q++)F=Math.max(F,s(q,H,$)),L=Math.max(L,s(q,U,Q)),N=Math.max(N,s(q,j,Z)),P=Math.max(P,u(q,A,$));F=Math.sqrt(F),M[H]=F}L=Math.sqrt(L),w[U]=L}N=Math.sqrt(N),v[j]=N}P=Math.sqrt(P);for(var J=0,tt=n;J<tt.length;J++){var q=tt[J];R=Math.max(R,u(q,k,$))}return R=Math.sqrt(R),{entities:f.seal(),chains:g.seal(),residues:C.seal(),allAtoms:{center:A,radius:P},target:{center:k,radius:R}}}function m(t){var e=t.boundingInfo,n=t.spacegroup,r=[];t.transform=P.identity(),r[0]=h(t);for(var i=-3;i<=3;i++)for(var a=-3;a<=3;a++)for(var s=-3;s<=3;s++)for(var u=0===i&&0===a&&0===s?1:0,c=n.operatorCount;u<c;u++){n.getOperatorMatrix(u,i,a,s,t.transform),t.i=i,t.k=s,t.j=a,t.op=u;var p=l(t,e.allAtoms.center),f=o(p,e.allAtoms.radius,e.target);f<t.radius&&(r[r.length]=h(t))}return r}function y(e,n){for(var r=e.boundingInfo,i=e.radius,o=r.target,s=e.model,u=s.residues,c=s.chains,l=s.entities,h=t.Utils.ChunkedArray.create(function(t){return new Int32Array(t)},e.model.residues.count,1),p=t.Utils.ChunkedArray.create(function(t){return new Int32Array(t)},e.model.residues.count,1),f={x:0,y:0,z:0},d=0,m=0,y=0,v=0,g=0,b=l.count;g<b;g++){d=0;for(var _=!1,x=0,w=n;x<w.length;x++){for(var C=w[x],S=l.chainStartIndex[g],E=l.chainEndIndex[g];S<E;S++)if(a(o,S,r.chains,C.transform,i,f)){for(var T=!1,M=c.residueStartIndex[S],A=c.residueEndIndex[S];M<A;M++)a(o,M,r.residues,C.transform,i,f)&&(t.Utils.ChunkedArray.add(h,M),t.Utils.ChunkedArray.add(p,d),m+=u.atomEndIndex[M]-u.atomStartIndex[M],T=!0);T&&(y+=1,_=!0)}d++}_&&v++}return{residues:t.Utils.ChunkedArray.compact(h),operators:t.Utils.ChunkedArray.compact(p),atomCount:m,chainCount:y,entityCount:v}}function v(t,e,n,r,i){for(var o=0;o<i;o++)n[o][r]=t[o][e]}function g(t,n,r){for(var i,o,a,s,u,c,l,h=t.residues,p=h.chainIndex,f=h.entityIndex,d=h.atomStartIndex,m=h.atomEndIndex,y=t.atoms,g=y.x,_=y.y,x=y.z,w=new e.DataTableBuilder(n.atomCount),C=[],S=t.entities.getBuilder(n.entityCount),E=S,T=t.entities.getRawData(),M=E.getRawData(),A=E.chainStartIndex,k=E.chainEndIndex,R=E.residueStartIndex,O=E.residueEndIndex,I=E.atomStartIndex,N=E.atomEndIndex,D=0,L=t.chains.getBuilder(n.chainCount),V=L,F=t.chains.getRawData(),j=V.getRawData(),B=V.residueStartIndex,U=V.residueEndIndex,z=V.atomStartIndex,H=V.atomEndIndex,G=V.asymId,q=V.authAsymId,W=V.entityIndex,X=L.addColumn("sourceChainIndex",function(t){return new Int32Array(t)}),Y=L.addColumn("operatorIndex",function(t){return new Int32Array(t)}),K=0,Z=t.residues.getBuilder(n.residues.length),Q=t.residues.getRawData(),$=Z.getRawData(),J=Z.atomStartIndex,tt=Z.atomEndIndex,et=Z.asymId,nt=Z.authAsymId,rt=Z.chainIndex,it=Z.entityIndex,ot=0,at=t.atoms.columns;ot<at.length;ot++){var st=at[ot],ut=w.addColumn(st.name,st.creator);"x"===st.name?i=ut:"y"===st.name?o=ut:"z"===st.name?a=ut:"residueIndex"===st.name?u=ut:"chainIndex"===st.name?c=ut:"entityIndex"===st.name?l=ut:"id"===st.name?s=ut:C[C.length]={src:y[st.name],target:ut}}var ct,lt,ht=n.residues,pt=n.operators,ft={x:0,y:0,z:0},dt=0,mt=ht[0],yt=p[mt],vt=f[mt],gt=pt[0];v(T,f[mt],M,0,T.length),A[0]=0,R[0]=0,I[0]=0,v(F,p[mt],j,0,F.length),W[0]=0,B[0]=0,z[0]=0,ct=t.chains.asymId[p[mt]],lt=t.chains.authAsymId[p[mt]];var bt=r[pt[0]];bt&&!bt.isIdentity&&(G[K]=t.chains.asymId[p[mt]]+"-"+bt.id,q[K]=t.chains.authAsymId[p[mt]]+"-"+bt.id,X[K]=p[mt],Y[K]=gt,ct=G[K],lt=q[K]);for(var _t=0,xt=ht.length;_t<xt;_t++){mt=ht[_t];var wt=pt[_t];bt=r[wt],v(Q,mt,$,_t,$.length);var Ct=f[mt],St=p[mt],Et=!1;Ct!==vt?(U[K]=_t,H[K]=dt,K+=1,k[D]=K,O[D]=_t,N[D]=dt,D+=1,v(T,Ct,M,D,T.length),A[D]=K,R[D]=_t,I[D]=dt,Et=!0):St!==yt?(U[K]=_t,H[K]=dt,K+=1,Et=!0):wt!==gt&&(U[K]=_t,H[K]=dt,K+=1,Et=!0),Et&&(v(F,St,j,K,F.length),W[K]=D,B[K]=_t,z[K]=dt,bt.isIdentity||(G[K]=t.chains.asymId[St]+"-"+bt.id,q[K]=t.chains.authAsymId[St]+"-"+bt.id),X[K]=St,Y[K]=wt,ct=G[K],lt=q[K]),yt=St,vt=Ct,gt=wt,rt[_t]=K,it[_t]=D,J[_t]=dt,et[_t]=ct,nt[_t]=lt;for(var Tt=d[mt],Mt=m[mt];Tt<Mt;Tt++){ft.x=g[Tt],ft.y=_[Tt],ft.z=x[Tt],P.transformVector3(ft,ft,bt.transform),i[dt]=ft.x,o[dt]=ft.y,a[dt]=ft.z,s[dt]=dt+1,u[dt]=_t,c[dt]=K,l[dt]=D;for(var At=0,Pt=C;At<Pt.length;At++){var ut=Pt[At];ut.target[dt]=ut.src[Tt]}dt++}tt[_t]=dt}k[D]=K+1,O[D]=ht.length,N[D]=dt,U[K]=ht.length,H[K]=dt;var kt=w.seal(),Rt=Z.seal(),Ot=L.seal(),It=S.seal(),Nt=b(t,n,Rt);return new e.MoleculeModel({id:t.id,modelId:t.modelId,atoms:kt,residues:Rt,chains:Ot,entities:It,componentBonds:t.componentBonds,secondaryStructure:Nt,parent:t,source:e.MoleculeModelSource.Computed,operators:r.map(function(t){return new e.Operator(t.transform,t.id,t.isIdentity)})})}function b(t,n,r){for(var i=t.residues.secondaryStructureIndex,o=t.secondaryStructure,a=r.asymId,s=r.seqNumber,u=r.insCode,c=r.secondaryStructureIndex,l=n.residues,h=n.operators,p=l.length,f=[],d=0;d<p;){for(var m=d,y=i[l[d]],v=h[d];m<p&&h[m]==v&&i[l[m]]==y;)m++;var g=o[y],b=new e.SecondaryStructureElement(g.type,new e.PolyResidueIdentifier(a[d],s[d],u[d]),new e.PolyResidueIdentifier(a[m-1],s[m-1],u[m-1]),g.info);b.startResidueIndex=d,b.endResidueIndex=m;for(var _=f.length,x=d;x<m;x++)c[x]=_;f[_]=b,d=m}return f}function _(t,n,r){var i=t.symmetryInfo;if(!i||"P 1"===i.spacegroupName||i.cellSize[0]<1.1&&i.cellSize[1]<1.1&&i.cellSize[2]<1.1)return t;var o;o=r?t.query(r).unionAtomIndices():t.atoms.indices;var a=d(t,o),s=new e.Spacegroup(i),u=c(t,a,s,n),l=m(u),h=y(u,l);return g(t,h,l)}function x(t,n){for(var i=r(t.atoms,t.atoms.indices),a=new e.Spacegroup(t.symmetryInfo),s=P.empty(),u={x:0,y:0,z:0},c=[],l=-3;l<=3;l++)for(var h=-3;h<=3;h++)for(var f=-3;f<=3;f++)for(var d=0;d<a.operatorCount;d++)if(a.getOperatorMatrix(d,l,h,f,s),P.transformVector3(u,i.center,s),!(o(u,i.radius,i)>n)){var m=P.empty();P.copy(m,s),c.push(p(l,h,f,d,m))}return c}function w(e,n){for(var r=e.atoms,i=e.chains,o=e.entities,a=t.Utils.ArrayBuilder.create(function(t){return new Int32Array(t)},e.residues.count*n.length,1),s=t.Utils.ArrayBuilder.create(function(t){return new Int32Array(t)},e.residues.count*n.length,1),u=n.length*r.count,c=n.length*i.count,l=e.entities.count,h=0,p=o.count;h<p;h++)for(var f=0;f<n.length;f++){for(var d=o.chainStartIndex[h],m=o.chainEndIndex[h];d<m;d++)for(var y=i.residueStartIndex[d],v=i.residueEndIndex[d];y<v;y++)t.Utils.ArrayBuilder.add(a,y),t.Utils.ArrayBuilder.add(s,f);f++}return{residues:a.array,operators:s.array,atomCount:u,chainCount:c,entityCount:l}}function C(t,e){var n=t.symmetryInfo;if(!n||"P 1"===n.spacegroupName||n.cellSize[0]<1.1&&n.cellSize[1]<1.1&&n.cellSize[2]<1.1)return t;var r=x(t,e),i=w(t,r);return g(t,i,r)}function S(t,e,n,r){if(n<0)return void(e[e.length]=r.slice(0));for(var i=t[n],o=i.length,a=0;a<o;a++)r[n]=i[a],S(t,e,n-1,r)}function E(t,e){for(var n=t.assemblyInfo,r=[],i=0,o=0,a=e;o<a.length;o++){for(var s=a[o],u=P.identity(),c=0;c<s.length;c++)P.mul(u,u,n.operators[s[c]].operator);i++,r[r.length]=f(i,u)}return r}function T(e,n,r,i){for(var o=e.residues,a=e.chains,s=e.entities,u=i.residueIndices,c=i.operatorIndices,l=0,h=0,p=0,f=0,d=s.count;f<d;f++){for(var m=i.transformsOffset,y=!1,v=0,g=r;v<g.length;v++){for(var b=(g[v],s.chainStartIndex[f]),_=s.chainEndIndex[f];b<_;b++){for(var x=!1,w=a.residueStartIndex[b],C=a.residueEndIndex[b];w<C;w++)n[w]&&(t.Utils.ChunkedArray.add(u,w),t.Utils.ChunkedArray.add(c,m),l+=o.atomEndIndex[w]-o.atomStartIndex[w],x=!0);x&&(h+=1,y=!0)}m++}y&&p++}i.atomCount+=l,i.chainCount+=h,i.entityCount+=p}function M(t,e,n){for(var r=[],i=[],o=0;o<e.operators.length;o++)i[o]="";S(e.operators,r,e.operators.length-1,i);var a=E(t,r);n.transformsOffset+=n.transforms.length,(p=n.transforms).push.apply(p,a);var s=new Set;e.asymIds.forEach(function(t){return s.add(t)});for(var u=t.residues.asymId,c=t.residues.count,l=n.mask,h=0;h<c;h++)l[h]=s.has(u[h]);T(t,l,a,n);var p}function A(e,n){for(var r={atomCount:0,chainCount:0,entityCount:0,transforms:[],transformsOffset:0,mask:new Int8Array(e.residues.count),residueIndices:t.Utils.ChunkedArray.create(function(t){return new Int32Array(t)},e.residues.count,1),operatorIndices:t.Utils.ChunkedArray.create(function(t){return new Int32Array(t)},e.residues.count,1)},i=0,o=n.gens;i<o.length;i++){var a=o[i];M(e,a,r)}var s={residues:t.Utils.ChunkedArray.compact(r.residueIndices),operators:t.Utils.ChunkedArray.compact(r.operatorIndices),atomCount:r.atomCount,chainCount:r.chainCount,entityCount:r.entityCount};return g(e,s,r.transforms)}var P=t.Geometry.LinearAlgebra.Matrix4;n.buildPivotGroupSymmetry=_,n.buildMates=C,n.buildAssemblyEntry=M,n.buildAssembly=A}(o||(o={})),e.buildPivotGroupSymmetry=n,e.buildSymmetryMates=r,e.buildAssembly=i}(e=t.Structure||(t.Structure={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){var n=function(){function e(t,e){this.structure=t,this.mask=e}return Object.defineProperty(e.prototype,"atomCount",{get:function(){return this.mask.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.mask.size===this.structure.atoms.count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tree",{get:function(){return this.lazyTree||this.makeTree(),this.lazyTree},enumerable:!0,configurable:!0}),e.prototype.hasAtom=function(t){return!!this.mask.has(t)},e.prototype.hasRange=function(t,e){for(var n=t;n<e;n++)if(this.mask.has(n))return!0;return!1},e.ofStructure=function(t){return new e(t,e.Mask.ofStructure(t))},e.ofFragments=function(t){return new e(t.context.structure,e.Mask.ofFragments(t))},e.ofAtomIndices=function(t,n){return new e(t,e.Mask.ofIndices(t,n))},e.prototype.makeTree=function(){for(var e=new Int32Array(this.mask.size),n=0,r=this.structure.atoms,i=r.x,o=r.y,a=r.z,s=0,u=this.structure.atoms.count;s<u;s++)this.mask.has(s)&&(e[n++]=s);this.lazyTree=t.Geometry.SubdivisionTree3D.create(e,function(t,e){return e(i[t],o[t],a[t])})},e}();e.Context=n,function(t){var e;!function(t){function e(t){return new o(t.atoms.count)}function n(t,e){var n=e.length/t.atoms.count;if(n<.25){for(var r=new Set,o=0,a=e;o<a.length;o++){var s=a[o];r.add(s)}return r}for(var u=new Int8Array(t.atoms.count),c=0,l=e;c<l.length;c++){var s=l[c];u[s]=1}return new i(u,e.length)}function r(t){for(var e=0,n=0,r=t.fragments;n<r.length;n++){var o=r[n];e+=o.atomCount}var a=t.context.structure.atoms.count;if(e/a<.25){for(var s=new Set,u=0,c=t.fragments;u<c.length;u++)for(var o=c[u],l=0,h=o.atomIndices;l<h.length;l++){var p=h[l];s.add(p)}return s}for(var s=new Int8Array(a),f=0,d=t.fragments;f<d.length;f++)for(var o=d[f],m=0,y=o.atomIndices;m<y.length;m++){var p=y[m];s[p]=1}for(var v=0,p=0;p<a;p++)0!==s[p]&&v++;return new i(s,v)}var i=function(){function t(t,e){this.mask=t,this.size=e}return t.prototype.has=function(t){return this.mask[t]},t}(),o=function(){function t(t){this.size=t}return t.prototype.has=function(t){return!0},t}();t.ofStructure=e,t.ofIndices=n,t.ofFragments=r}(e=t.Mask||(t.Mask={}))}(n=e.Context||(e.Context={}));var r=function(){function r(t,e,n){this._hashCode=0,this._hashComputed=!1,this.context=t,this.tag=e,this.atomIndices=n}return Object.defineProperty(r.prototype,"hashCode",{get:function(){if(this._hashComputed)return this._hashCode;for(var t=23,e=0,n=this.atomIndices;e<n.length;e++){var r=n[e];t=31*t+r|0}return this._hashCode=t,this._hashComputed=!0,t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"id",{get:function(){return this.context.structure.id+"_"+this.tag},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"atomCount",{get:function(){return this.atomIndices.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isHet",{get:function(){var t=this.context.structure.atoms.residueIndex[this.tag];return this.context.structure.residues.isHet[t]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fingerprint",{get:function(){if(this._fingerprint)return this._fingerprint;for(var t=this.residueIndices,e=this.context.structure.residues,n=e.name,r=e.asymId,i=e.seqNumber,o=e.insCode,a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=n[c]+" "+r[c]+" "+i[c];o[c]&&(l+=" i:"+o[c]),a[a.length]=l}return a.join("-")},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"authFingerprint",{get:function(){if(this._authFingerprint)return this._authFingerprint;for(var t=this.residueIndices,e=this.context.structure.residues,n=e.authName,r=e.authAsymId,i=e.authSeqNumber,o=e.insCode,a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=n[c]+" "+r[c]+" "+i[c];o[c]&&(l+=" i:"+o[c]),a[a.length]=l}return a.join("-")},enumerable:!0,configurable:!0}),r.prototype.find=function(t){var r=n.ofFragments(new i(this.context,[this]));return e.Builder.toQuery(t)(r)},r.prototype.computeIndices=function(){if(!this._residueIndices){for(var e=new Set,n=new Set,r=new Set,i=this.context.structure.atoms.residueIndex,o=this.context.structure.residues.chainIndex,a=this.context.structure.chains.entityIndex,s=0,u=this.atomIndices;s<u.length;s++){var c=u[s];e.add(i[c])}this._residueIndices=t.Utils.integerSetToSortedTypedArray(e);for(var l=0,h=this._residueIndices;l<h.length;l++){var c=h[l];n.add(o[c])}this._chainIndices=t.Utils.integerSetToSortedTypedArray(n);for(var p=0,f=this._chainIndices;p<f.length;p++){var c=f[p];r.add(a[c])}this._entityIndices=t.Utils.integerSetToSortedTypedArray(r)}},Object.defineProperty(r.prototype,"residueIndices",{get:function(){return this.computeIndices(),this._residueIndices},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"chainIndices",{get:function(){return this.computeIndices(),this._chainIndices},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"entityIndices",{get:function(){return this.computeIndices(),this._entityIndices},enumerable:!0,configurable:!0}),r.areEqual=function(t,e){if(t.atomCount!==e.atomCount)return!1;for(var n=t.atomIndices,r=e.atomIndices,i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return t.tag===e.tag},r.ofSet=function(t,e){var n=new Int32Array(e.size);return e.forEach(function(t){this.array[this.index++]=t},{array:n,index:0}),Array.prototype.sort.call(n,function(t,e){return t-e}),new r(t,n[0],n)},r.ofArray=function(t,e,n){return new r(t,e,n)},r.ofIndex=function(t,e){var n=new Int32Array(1);return n[0]=e,new r(t,e,n)},r.ofIndexRange=function(t,e,n){for(var i=0,o=e;o<n;o++)t.hasAtom(o)&&i++;for(var a=new Int32Array(i),s=0,o=e;o<n;o++)t.hasAtom(o)&&(a[s++]=o);return new r(t,e,a)},r}();e.Fragment=r;var i=function(){function t(t,e){this.context=t,this.fragments=e}return t.empty=function(e){return new t(e,[])},Object.defineProperty(t.prototype,"length",{get:function(){return this.fragments.length},enumerable:!0,configurable:!0}),t.prototype.unionAtomIndices=function(){if(!this.length)return[];if(1===this.length)return this.fragments[0].atomIndices;for(var t=new Int8Array(this.context.structure.atoms.count),e=0,n=0,r=this.fragments;n<r.length;n++)for(var i=r[n],o=0,a=i.atomIndices;o<a.length;o++){var s=a[o];t[s]=1}for(var u=0,c=t;u<c.length;u++){var s=c[u];e+=s}for(var l=new Int32Array(e),h=0,s=0,p=t.length;s<p;s++)t[s]&&(l[h++]=s);return l},t.prototype.unionFragment=function(){if(!this.length)return new r(this.context,0,new Int32Array(0));if(1===this.length)return this.fragments[0];var t=this.unionAtomIndices();return new r(this.context,t[0],t)},t}();e.FragmentSeq=i;var o=function(){function t(t){this.ctx=t,this.fragments=[]}return t.prototype.add=function(t){this.fragments[this.fragments.length]=t},t.prototype.getSeq=function(){return new i(this.ctx,this.fragments)},t}();e.FragmentSeqBuilder=o;var a=function(){function t(t){this.ctx=t,this.fragments=[],this.byHash=new Map}return t.prototype.add=function(t){var e=t.hashCode;if(this.byHash.has(e)){for(var n=this.byHash.get(e),i=0,o=n;i<o.length;i++){var a=o[i];if(r.areEqual(t,a))return this}this.fragments[this.fragments.length]=t,n[n.length]=t}else this.fragments[this.fragments.length]=t,this.byHash.set(e,[t]);return this},t.prototype.getSeq=function(){return new i(this.ctx,this.fragments)},t}();e.HashFragmentSeqBuilder=a}(n=e.Query||(e.Query={}))}(e=t.Structure||(t.Structure={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N.build(function(){return D.compileAtoms(t,function(t){return t.atoms.elementSymbol})})}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N.build(function(){return D.compileAtoms(t,function(t){return t.atoms.name})})}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N.build(function(){return D.compileAtoms(t,function(t){return t.atoms.id})})}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N.build(function(){return D.compileAtomRanges(!1,t,function(t){return t.residues})})}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N.build(function(){return D.compileAtomRanges(!1,t,function(t){return t.chains})})}function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N.build(function(){return D.compileAtomRanges(!1,t,function(t){return t.entities})})}function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N.build(function(){return D.compileAtomRanges(!0,t,function(t){return t.entities})})}function l(){return N.build(function(){return D.compileEverything()})}function h(t){return N.build(function(){return D.compileFromIndices(!1,t,function(t){return t.entities})})}function p(t){return N.build(function(){return D.compileFromIndices(!1,t,function(t){return t.chains})})}function f(t){return N.build(function(){return D.compileFromIndices(!1,t,function(t){return t.residues})})}function d(t){return N.build(function(){return D.compileAtomIndices(t)})}function m(t,e,n,r){return N.build(function(){return D.compileSequence(t,e,n,r)})}function y(){return N.build(function(){return D.compileHetGroups()})}function v(){return N.build(function(){return D.compileNonHetPolymer()})}function g(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N.build(function(){return D.compilePolymerNames(t,!1)})}function b(){return C(N.build(function(){return D.compilePolymerNames(["CA","O","O5'","C3'","N3"],!1)}),y(),u({type:"water"}))}function _(){return N.build(function(){return D.compilePolymerNames(["N","CA","C","O","P","OP1","OP2","O3'","O5'","C3'","C5'","C4"],!1)})}function x(){return N.build(function(){return D.compilePolymerNames(["N","CA","C","O","P","OP1","OP2","O3'","O5'","C3'","C5'","C4"],!0)})}function w(t,e){return N.build(function(){return D.compileAtomsInBox(t,e)})}function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N.build(function(){return D.compileOr(t)})}function S(t){return N.build(function(){return D.compileComplement(t)})}function E(t,e){return N.build(function(){return D.compileAmbientResidues(t,e)})}function T(t){return N.build(function(){return D.compileWholeResidues(t)})}function M(t){return N.build(function(){return D.compileUnion(t)})}function A(t,e){return N.build(function(){return D.compileInside(t,e)})}function P(t,e){return N.build(function(){return D.compileIntersectWith(t,e)})}function k(t,e){return N.build(function(){return D.compileFlatten(t,e)})}function R(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.apply(void 0,t.map(function(t){return{name:t}}))}function O(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.apply(void 0,t.map(function(t){return{authSeqNumber:t}}))}function I(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.apply(void 0,t.map(function(t){return{authAsymId:t}}))}var N;!function(t){function e(e,n){t.BuilderPrototype[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.call.apply(n,[void 0,this].concat(t))}}function n(e){return Object.create(t.BuilderPrototype,{compile:{writable:!1,configurable:!1,value:e}})}function r(t){return!!t.compile}function i(t){if("undefined"==typeof window)throw"parse can only be called from a browser.";(0,eval)("with (LiteMol.Core.Structure.Query) { window.__LiteMol_query = "+t+"; }");var e=window.__LiteMol_query;return window.__LiteMol_query=void 0,e.compile()}function o(t){var e;return e=r(t)?t.compile():"string"==typeof t||t instanceof String?i(t):t}t.BuilderPrototype={},t.registerModifier=e,t.build=n,t.parse=i,t.toQuery=o}(N=n.Builder||(n.Builder={})),n.atomsByElement=r,n.atomsByName=i,n.atomsById=o,n.residues=a,n.chains=s,n.entities=u,n.notEntities=c,n.everything=l,n.entitiesFromIndices=h,n.chainsFromIndices=p,n.residuesFromIndices=f,n.atomsFromIndices=d,n.sequence=m,n.hetGroups=y,n.nonHetPolymer=v,n.polymerTrace=g,n.cartoons=b,n.backbone=_,n.sidechain=x,n.atomsInBox=w,n.or=C,N.registerModifier("complement",S),n.complement=S,N.registerModifier("ambientResidues",E),n.ambientResidues=E,N.registerModifier("wholeResidues",T),n.wholeResidues=T,N.registerModifier("union",M),n.union=M,N.registerModifier("inside",A),n.inside=A,N.registerModifier("intersectWith",P),n.intersectWith=P,N.registerModifier("flatten",k),n.flatten=k,n.residuesByName=R,n.residuesById=O,n.chainsById=I;var D;!function(r){function i(){return function(t){if(t.isComplete){var e=t.structure.atoms.indices;return new n.FragmentSeq(t,[new n.Fragment(t,e[0],e)])}for(var r=new Int32Array(t.atomCount),i=0,o=0,a=t.structure.atoms.indices;o<a.length;o++){var s=a[o];t.hasAtom(s)&&(r[i++]=s)}return new n.FragmentSeq(t,[n.Fragment.ofArray(t,r[0],r)])}}function o(t,e){return function(r){for(var i=new Set(t),o=e(r.structure),a=new n.FragmentSeqBuilder(r),s=0,u=o.length;s<u;s++)r.hasAtom(s)&&i.has(o[s])&&a.add(n.Fragment.ofIndex(r,s));return a.getSeq()}}function a(t){return function(e){for(var r=0,i=0,o=t;i<o.length;i++){var a=o[i];e.hasAtom(a)&&r++}if(!r)return n.FragmentSeq.empty(e);for(var s=0,u=new Int32Array(r),c=0,l=t;c<l.length;c++){var a=l[c];e.hasAtom(a)&&(u[s++]=a)}return new n.FragmentSeq(e,[n.Fragment.ofArray(e,u[0],u)])}}function s(t,e,r){return function(i){var o=r(i.structure),a=o.atomStartIndex,s=o.atomEndIndex,u=new n.FragmentSeqBuilder(i);if(t)for(var c=new Set(e),l=o.count,h=0;h<l;h++)c.has(h)||i.hasRange(a[h],s[h])&&u.add(n.Fragment.ofIndexRange(i,a[h],s[h]));else for(var p=0,f=e;p<f.length;p++){var h=f[p];i.hasRange(a[h],s[h])&&u.add(n.Fragment.ofIndexRange(i,a[h],s[h]))}return u.getSeq()}}function u(t,e,r){return function(i){for(var o=r(i.structure),a=o.atomStartIndex,s=o.atomEndIndex,u=new n.FragmentSeqBuilder(i),c=o.count,l=!1,h=e.map(function(t){return new S(t,o)}),p=0===h.length,f=0;f<c;f++)if(i.hasRange(a[f],s[f])){l=p;for(var d=0,m=h;d<m.length;d++){var y=m[d];if(y.isSatisfied(f)){l=!0;break}}t&&(l=!l),l&&u.add(n.Fragment.ofIndexRange(i,a[f],s[f]))}return u.getSeq()}}function c(t,e,r,i){return function(o){for(var a=o.structure.residues,s=o.structure.chains,u=a.seqNumber,c=a.atomStartIndex,l=a.atomEndIndex,h=s.entityId,p=s.count,f=s.residueStartIndex,d=s.residueEndIndex,m=new n.FragmentSeqBuilder(o),y=o.structure.parent,v=o.structure.chains.sourceChainIndex,g=y&&v,b="string"==typeof e?{asymId:e}:e,_=new S(b,g?y.chains:o.structure.chains),x=0;x<p;x++)if(h[x]===t&&_.isSatisfied(g?v[x]:x)){for(var w=f[x],C=d[x],E=-1,T=-1;w<C;w++)if(u[w]>=r.seqNumber){E=w;break}if(w!==C){
for(w=E;w<C&&!(u[w]>=i.seqNumber);w++);T=w,o.hasRange(c[E],l[T])&&m.add(n.Fragment.ofIndexRange(o,c[E],l[T]))}}return m.getSeq()}}function l(){return function(t){for(var r=t.structure.residues,i=r.atomStartIndex,o=r.atomEndIndex,a=r.isHet,s=r.entityIndex,u=r.count,c=t.structure.entities.entityType,l=e.EntityType.Water,h=new n.FragmentSeqBuilder(t),p=0;p<u;p++)t.hasRange(i[p],o[p])&&c[s[p]]!==l&&a[p]&&h.add(n.Fragment.ofIndexRange(t,i[p],o[p]));return h.getSeq()}}function h(){return function(t){for(var r=t.structure.residues,i=r.atomStartIndex,o=r.atomEndIndex,a=t.structure.entities,s=a.entityType,u=a.count,c=a.residueStartIndex,l=a.residueEndIndex,h=e.EntityType.Polymer,p=0,f=0;f<u;f++)if(s[f]===h)for(var d=c[f],m=l[f];d<m;d++)for(var y=i[d],v=o[d];y<v;y++)t.hasAtom(y)&&p++;if(!p)return n.FragmentSeq.empty(t);for(var g=new Int32Array(p),b=0,f=0;f<u;f++)if(s[f]===h)for(var d=c[f],m=l[f];d<m;d++)for(var y=i[d],v=o[d];y<v;y++)t.hasAtom(y)&&(g[b++]=y);return new n.FragmentSeq(t,[n.Fragment.ofArray(t,g[0],g)])}}function p(t,e){return function(r){for(var i=r.structure.atoms,o=i.x,a=i.y,s=i.z,u=i.count,c=[],l=0;l<u;l++)if(r.hasAtom(l)){var h=o[l],p=a[l],f=s[l];h>=t.x&&h<=e.x&&p>=t.y&&p<=e.y&&f>=t.z&&f<=e.z&&(c[c.length]=l)}return c.length?new n.FragmentSeq(r,[new n.Fragment(r,c[0],c)]):n.FragmentSeq.empty(r)}}function f(t,e){var r=N.toQuery(t),i=N.toQuery(e);return function(t){return new n.FragmentSeq(t,r(n.Context.ofFragments(i(t))).fragments)}}function d(t,e,r){for(var i=0,o=0,a=e.atomIndices;o<a.length;o++){var s=a[o];r.has(s)&&i++}if(i){for(var u=new Int32Array(i),c=0,l=0,h=e.atomIndices;l<h.length;l++){var s=h[l];r.has(s)&&(u[c++]=s)}return n.Fragment.ofArray(t,u[0],u)}}function m(t,e){var r=N.toQuery(t),i=N.toQuery(e);return function(t){for(var e=r(t),o=n.Context.Mask.ofFragments(i(t)),a=new n.FragmentSeqBuilder(t),s=0,u=e.fragments;s<u.length;s++){var c=u[s],l=d(t,c,o);l&&a.add(l)}return a.getSeq()}}function y(t,e){var r=N.toQuery(t);return function(t){for(var i,o=r(t).fragments,a=new n.FragmentSeqBuilder(t),s=0;s<o.length;s++)i=o[s],e(i)&&a.add(i);return a.getSeq()}}function v(t){var e=N.toQuery(t);return function(t){for(var r=n.Context.Mask.ofFragments(e(t)),i=0,o=0,a=0,s=t.structure.atoms.count;a<s;a++)t.hasAtom(a)&&!r.has(a)&&i++;if(!i)return n.FragmentSeq.empty(t);for(var u=new Int32Array(i),a=0,s=t.structure.atoms.count;a<s;a++)t.hasAtom(a)&&!r.has(a)&&(u[o++]=a);return new n.FragmentSeq(t,[n.Fragment.ofArray(t,u[0],u)])}}function g(t){var e=t.map(function(t){return N.toQuery(t)});return function(t){for(var r=new n.HashFragmentSeqBuilder(t),i=0,o=e;i<o.length;i++)for(var a=o[i],s=a(t),u=0,c=s.fragments;u<c.length;u++){var l=c[u];r.add(l)}return r.getSeq()}}function b(t){var e=N.toQuery(t);return function(t){for(var r,i=e(t).fragments,o=new Set,a=0,s=0;s<i.length;s++)for(r=i[s].atomIndices,a=0;a<r.length;a++)o.add(r[a]);return 0===o.size?n.FragmentSeq.empty(t):new n.FragmentSeq(t,[n.Fragment.ofSet(t,o)])}}function _(t,r){return function(i){var o=i.structure,a=o.atoms.name,s=[],u=0,c=new Set(t);if(r){for(var l=0;l<o.entities.count;l++)if(o.entities.entityType[l]===e.EntityType.Polymer)for(var h=o.entities.atomStartIndex[l],p=o.entities.atomEndIndex[l],f=h;f<p;f++)i.hasAtom(f)&&!c.has(a[f])&&(s[u++]=f)}else for(var l=0;l<o.entities.count;l++)if(o.entities.entityType[l]===e.EntityType.Polymer)for(var h=o.entities.atomStartIndex[l],p=o.entities.atomEndIndex[l],f=h;f<p;f++)i.hasAtom(f)&&c.has(a[f])&&(s[u++]=f);return s.length?new n.FragmentSeq(i,[n.Fragment.ofArray(i,s[0],new Int32Array(s))]):n.FragmentSeq.empty(i)}}function x(e,r){var i=N.toQuery(e);return function(e){for(var o=i(e),a=e.tree,s=t.Geometry.SubdivisionTree3D.createContextRadius(a,r,!1),u=s.buffer,c=new n.HashFragmentSeqBuilder(e),l=e.structure.atoms.x,h=e.structure.atoms.y,p=e.structure.atoms.z,f=e.structure.atoms.residueIndex,d=e.structure.residues.atomStartIndex,m=e.structure.residues.atomEndIndex,y=new Set,v=a.data,g=function(t){y.clear();for(var i=0,o=t.atomIndices;i<o.length;i++){var a=o[i];y.add(f[a]),s.nearest(l[a],h[a],p[a],r);for(var g=0,b=u.count;g<b;g++)y.add(f[v[u.indices[g]]])}var _={count:0,start:d,end:m};y.forEach(function(t){this.count+=this.end[t]-this.start[t]},_);var x=new Int32Array(_.count),w={indices:x,offset:0,start:d,end:m};y.forEach(function(t){for(var e=this.start[t],n=this.end[t];e<n;e++)this.indices[this.offset++]=e},w),Array.prototype.sort.call(x,function(t,e){return t-e}),c.add(n.Fragment.ofArray(e,x[0],x))},b=0,_=o.fragments;b<_.length;b++){var x=_[b];g(x)}return c.getSeq()}}function w(t){var e=N.toQuery(t);return function(t){for(var r=e(t),i=new n.HashFragmentSeqBuilder(t),o=t.structure.atoms.residueIndex,a=t.structure.residues.atomStartIndex,s=t.structure.residues.atomEndIndex,u=new Set,c=function(e){u.clear();for(var r=0,c=e.atomIndices;r<c.length;r++){var l=c[r];u.add(o[l])}var h={count:0,start:a,end:s};u.forEach(function(t){this.count+=this.end[t]-this.start[t]},h);var p=new Int32Array(h.count),f={indices:p,offset:0,start:a,end:s};u.forEach(function(t){for(var e=this.start[t],n=this.end[t];e<n;e++)this.indices[this.offset++]=e},f),Array.prototype.sort.call(p,function(t,e){return t-e}),i.add(n.Fragment.ofArray(t,p[0],p))},l=0,h=r.fragments;l<h.length;l++){var p=h[l];c(p)}return i.getSeq()}}function C(t,e){var r=N.toQuery(t);return function(t){for(var i=r(t),o=new n.HashFragmentSeqBuilder(t),a=0,s=i.fragments;a<s.length;a++)for(var u=s[a],c=e(u),l=0,h=c.fragments;l<h.length;l++){var p=h[l];o.add(p)}return o.getSeq()}}var S=function(){function t(t,e){this.columns=[];for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];void 0!==t[i]&&e[i]&&this.columns.push({value:t[i],array:e[i]})}}return t.prototype.isSatisfied=function(t){for(var e=0,n=this.columns;e<n.length;e++){var r=n[e];if(r.value!==r.array[t])return!1}return!0},t}();r.compileEverything=i,r.compileAtoms=o,r.compileAtomIndices=a,r.compileFromIndices=s,r.compileAtomRanges=u,r.compileSequence=c,r.compileHetGroups=l,r.compileNonHetPolymer=h,r.compileAtomsInBox=p,r.compileInside=f,r.compileIntersectWith=m,r.compileFilter=y,r.compileComplement=v,r.compileOr=g,r.compileUnion=b,r.compilePolymerNames=_,r.compileAmbientResidues=x,r.compileWholeResidues=w,r.compileFlatten=C}(D=n.Compiler||(n.Compiler={}))}(n=e.Query||(e.Query={}))}(e=t.Structure||(t.Structure={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){function n(t){return function(e){return function(n,r){return t(e(n,r))}}}function r(t){return function(e,n){return function(r,i){return t(e(r,i),n(r,i))}}}function i(t){return function(e,n){return function(r,i){return t(e(r,i),n(r,i))}}}function o(t,e,n){return function(r,i){var o=t(r,i);return o>=e&&o<=n}}function a(t){return function(){return t}}function s(t,e,n){return function(r,i){var o=r.structure;return n(e(o))[t(o.atoms)[i]]}}function u(e){return t.Builder.build(function(){return function(n){for(var r=[],i=0,o=n.structure.atoms.count;i<o;i++)n.hasAtom(i)&&e(n,i)&&(r[r.length]=i);return r.length?new t.FragmentSeq(n,[t.Fragment.ofArray(n,r[0],new Int32Array(r))]):t.FragmentSeq.empty(n)}})}e.not=n(function(t){return!t}),e.and=r(function(t,e){return t&&e}),e.or=r(function(t,e){return t||e});var c=new Set(["N","CA","C","O","P","OP1","OP2","O3'","O5'","C3'","C5'","C4"]);e.backbone=function(t,n){return"polymer"===e.entityType(t,n)&&c.has(e.atomName(t,n))},e.sidechain=function(t,n){return"polymer"===e.entityType(t,n)&&!c.has(e.atomName(t,n))},e.equal=i(function(t,e){return t===e}),e.notEqual=i(function(t,e){return t!==e}),e.greater=i(function(t,e){return t>e}),e.lesser=i(function(t,e){return t<e}),e.greaterEqual=i(function(t,e){return t>=e}),e.lesserEqual=i(function(t,e){return t<=e}),e.inRange=o,e.value=a,e.residueSeqNumber=s(function(t){return t.residueIndex},function(t){return t.residues},function(t){return t.seqNumber}),e.residueName=s(function(t){return t.residueIndex},function(t){return t.residues},function(t){return t.name}),e.elementSymbol=s(function(t){return t.indices},function(t){return t.atoms},function(t){return t.elementSymbol}),e.atomName=s(function(t){return t.indices},function(t){return t.atoms},function(t){return t.name}),e.entityType=s(function(t){return t.entityIndex},function(t){return t.entities},function(t){return t.type}),e.query=u}(e=t.Algebraic||(t.Algebraic={}))}(e=t.Query||(t.Query={}))}(e=t.Structure||(t.Structure={}))}(e=t.Core||(t.Core={}))}(m||(m={}));var m,b=function(){var t={REVISION:"71"};return void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),t.log=function(){console.log.apply(console,arguments)},t.warn=function(){console.warn.apply(console,arguments)},t.error=function(){console.error.apply(console,arguments)},t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.CullFaceNone=0,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=0,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.FrontSide=0,t.BackSide=1,t.DoubleSide=2,t.NoShading=0,t.FlatShading=1,t.SmoothShading=2,t.NoColors=0,t.FaceColors=1,t.VertexColors=2,t.NoBlending=0,t.NormalBlending=1,t.AdditiveBlending=2,t.SubtractiveBlending=3,t.MultiplyBlending=4,t.CustomBlending=5,t.AddEquation=100,t.SubtractEquation=101,t.ReverseSubtractEquation=102,t.MinEquation=103,t.MaxEquation=104,t.ZeroFactor=200,t.OneFactor=201,t.SrcColorFactor=202,t.OneMinusSrcColorFactor=203,t.SrcAlphaFactor=204,t.OneMinusSrcAlphaFactor=205,t.DstAlphaFactor=206,t.OneMinusDstAlphaFactor=207,t.DstColorFactor=208,t.OneMinusDstColorFactor=209,t.SrcAlphaSaturateFactor=210,t.MultiplyOperation=0,t.MixOperation=1,t.AddOperation=2,t.UVMapping=300,t.CubeReflectionMapping=301,t.CubeRefractionMapping=302,t.EquirectangularReflectionMapping=303,t.EquirectangularRefractionMapping=304,t.SphericalReflectionMapping=305,t.RepeatWrapping=1e3,t.ClampToEdgeWrapping=1001,t.MirroredRepeatWrapping=1002,t.NearestFilter=1003,t.NearestMipMapNearestFilter=1004,t.NearestMipMapLinearFilter=1005,t.LinearFilter=1006,t.LinearMipMapNearestFilter=1007,t.LinearMipMapLinearFilter=1008,t.UnsignedByteType=1009,t.ByteType=1010,t.ShortType=1011,t.UnsignedShortType=1012,t.IntType=1013,t.UnsignedIntType=1014,t.FloatType=1015,t.HalfFloatType=1025,t.UnsignedShort4444Type=1016,t.UnsignedShort5551Type=1017,t.UnsignedShort565Type=1018,t.AlphaFormat=1019,t.RGBFormat=1020,t.RGBAFormat=1021,t.LuminanceFormat=1022,t.LuminanceAlphaFormat=1023,t.RGBEFormat=t.RGBAFormat,t.RGB_S3TC_DXT1_Format=2001,t.RGBA_S3TC_DXT1_Format=2002,t.RGBA_S3TC_DXT3_Format=2003,t.RGBA_S3TC_DXT5_Format=2004,t.RGB_PVRTC_4BPPV1_Format=2100,t.RGB_PVRTC_2BPPV1_Format=2101,t.RGBA_PVRTC_4BPPV1_Format=2102,t.RGBA_PVRTC_2BPPV1_Format=2103,t.Projector=function(){t.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,n){t.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(n)},this.unprojectVector=function(e,n){t.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(n)},this.pickingRay=function(e,n){t.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},t.CanvasRenderer=function(){t.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},t.Color=function(t){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(t)},t.Color.prototype={constructor:t.Color,r:1,g:1,b:1,set:function(e){return e instanceof t.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(t,e,n){if(0===e)this.r=this.g=this.b=n;else{var r=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t},i=n<=.5?n*(1+e):n+e-n*e,o=2*n-i;this.r=r(o,i,t+1/3),this.g=r(o,i,t),this.b=r(o,i,t-1/3)}return this},setStyle:function(e){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(e)){var n=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(e);return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,this}if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(e)){var n=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(e);return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,this}if(/^\#([0-9a-f]{6})$/i.test(e)){var n=/^\#([0-9a-f]{6})$/i.exec(e);return this.setHex(parseInt(n[1],16)),this}if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(e)){var n=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e);return this.setHex(parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3],16)),this}if(/^(\w+)$/i.test(e))return this.setHex(t.ColorKeywords[e]),this},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(u+s)/2;if(u===s)e=0,n=0;else{var l=s-u;switch(n=c<=.5?l/(s+u):l/(2-s-u),s){case i:e=(o-a)/l+(o<a?6:0);break;case o:e=(a-i)/l+2;break;case a:e=(i-o)/l+4}e/=6}return r.h=e,r.s=n,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t){return this.r=t[0],this.g=t[1],this.b=t[2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},clone:function(){return(new t.Color).setRGB(this.r,this.g,this.b)}},t.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},t.Quaternion=function(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1},t.Quaternion.prototype={constructor:t.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(e,n){if(e instanceof t.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var r=Math.cos(e._x/2),i=Math.cos(e._y/2),o=Math.cos(e._z/2),a=Math.sin(e._x/2),s=Math.sin(e._y/2),u=Math.sin(e._z/2);return"XYZ"===e.order?(this._x=a*i*o+r*s*u,this._y=r*s*o-a*i*u,this._z=r*i*u+a*s*o,this._w=r*i*o-a*s*u):"YXZ"===e.order?(this._x=a*i*o+r*s*u,this._y=r*s*o-a*i*u,this._z=r*i*u-a*s*o,this._w=r*i*o+a*s*u):"ZXY"===e.order?(this._x=a*i*o-r*s*u,this._y=r*s*o+a*i*u,this._z=r*i*u+a*s*o,this._w=r*i*o-a*s*u):"ZYX"===e.order?(this._x=a*i*o-r*s*u,this._y=r*s*o+a*i*u,this._z=r*i*u-a*s*o,this._w=r*i*o+a*s*u):"YZX"===e.order?(this._x=a*i*o+r*s*u,this._y=r*s*o+a*i*u,this._z=r*i*u-a*s*o,this._w=r*i*o-a*s*u):"XZY"===e.order&&(this._x=a*i*o-r*s*u,this._y=r*s*o-a*i*u,this._z=r*i*u+a*s*o,this._w=r*i*o+a*s*u),n!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],p=r+s+h;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(l-u)*e,this._y=(o-c)*e,this._z=(a-i)*e):r>s&&r>h?(e=2*Math.sqrt(1+r-s-h),this._w=(l-u)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+c)/e):s>h?(e=2*Math.sqrt(1+s-r-h),this._w=(o-c)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(u+l)/e):(e=2*Math.sqrt(1+h-r-s),this._w=(a-i)/e,this._x=(o+c)/e,this._y=(u+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,n,r=1e-6;return function(i,o){return void 0===e&&(e=new t.Vector3),n=i.dot(o)+1,n<r?(n=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,o),this._x=e.x,this._y=e.y,this._z=e.z,this._w=n,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(e,n){return void 0!==n?(t.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,u=e._z,c=e._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},multiplyVector3:function(e){return t.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.acos(a),u=Math.sqrt(1-a*a);if(Math.abs(u)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var c=Math.sin((1-e)*s)/u,l=Math.sin(e*s)/u;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){},clone:function(){return new t.Quaternion(this._x,this._y,this._z,this._w)}},t.Quaternion.slerp=function(t,e,n,r){return n.copy(t).slerp(e,r)},t.Vector2=function(t,e){this.x=t||0,this.y=e||0},t.Vector2.prototype={constructor:t.Vector2,set:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(e,n){return void 0!==n?(t.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},sub:function(e,n){return void 0!==n?(t.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e}else this.x=0,this.y=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this},clampScalar:function(){var e,n;return function(r,i){return void 0===e&&(e=new t.Vector2,n=new t.Vector2),e.set(r,r),n.set(i,i),this.clamp(e,n)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t),this},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this},clone:function(){return new t.Vector2(this.x,this.y)}},t.Vector3=function(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0},t.Vector3.prototype={constructor:t.Vector3,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(e,n){return void 0!==n?(t.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},sub:function(e,n){return void 0!==n?(t.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(e,n){return void 0!==n?(t.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var e;return function(n){return n instanceof t.Euler==!1&&t.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===e&&(e=new t.Quaternion),this.applyQuaternion(e.setFromEuler(n)),this}}(),applyAxisAngle:function(){var e;return function(n,r){return void 0===e&&(e=new t.Quaternion),this.applyQuaternion(e.setFromAxisAngle(n,r)),this}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14],this},applyProjection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,u=s*e+o*r-a*n,c=s*n+a*e-i*r,l=s*r+i*n-o*e,h=-i*e-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var e;return function(n){return void 0===e&&(e=new t.Matrix4),e.multiplyMatrices(n.projectionMatrix,e.getInverse(n.matrixWorld)),this.applyProjection(e)}}(),unproject:function(){var e;return function(n){return void 0===e&&(e=new t.Matrix4),e.multiplyMatrices(n.matrixWorld,e.getInverse(n.projectionMatrix)),this.applyProjection(e)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize(),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e}else this.x=0,this.y=0,this.z=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this},clampScalar:function(){var e,n;return function(r,i){return void 0===e&&(e=new t.Vector3,n=new t.Vector3),e.set(r,r,r),n.set(i,i,i),this.clamp(e,n)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t),this},cross:function(e,n){if(void 0!==n)return t.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n);var r=this.x,i=this.y,o=this.z;return this.x=i*e.z-o*e.y,this.y=o*e.x-r*e.z,this.z=r*e.y-i*e.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(){var e,n;return function(r){return void 0===e&&(e=new t.Vector3),e.copy(r).normalize(),n=this.dot(e),this.copy(e).multiplyScalar(n);
}}(),projectOnPlane:function(){var e;return function(n){return void 0===e&&(e=new t.Vector3),e.copy(this).projectOnVector(n),this.sub(e)}}(),reflect:function(){var e;return function(n){return void 0===e&&(e=new t.Vector3),this.sub(e.copy(n).multiplyScalar(2*this.dot(n)))}}(),angleTo:function(e){var n=this.dot(e)/(this.length()*e.length());return Math.acos(t.Math.clamp(n,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},setEulerFromRotationMatrix:function(e,n){t.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(e,n){t.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return t.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return t.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,n){return t.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)},setFromMatrixPosition:function(t){return this.x=t.elements[12],this.y=t.elements[13],this.z=t.elements[14],this},setFromMatrixScale:function(t){var e=this.set(t.elements[0],t.elements[1],t.elements[2]).length(),n=this.set(t.elements[4],t.elements[5],t.elements[6]).length(),r=this.set(t.elements[8],t.elements[9],t.elements[10]).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){var n=4*t,r=e.elements;return this.x=r[n],this.y=r[n+1],this.z=r[n+2],this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this},clone:function(){return new t.Vector3(this.x,this.y,this.z)}},t.Vector4=function(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1},t.Vector4.prototype={constructor:t.Vector4,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(e,n){return void 0!==n?(t.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},sub:function(e,n){return void 0!==n?(t.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e,this.w*=e}else this.x=0,this.y=0,this.z=0,this.w=1;return this},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=.01,a=.1,s=t.elements,u=s[0],c=s[4],l=s[8],h=s[1],p=s[5],f=s[9],d=s[2],m=s[6],y=s[10];if(Math.abs(c-h)<o&&Math.abs(l-d)<o&&Math.abs(f-m)<o){if(Math.abs(c+h)<a&&Math.abs(l+d)<a&&Math.abs(f+m)<a&&Math.abs(u+p+y-3)<a)return this.set(1,0,0,0),this;e=Math.PI;var v=(u+1)/2,g=(p+1)/2,b=(y+1)/2,_=(c+h)/4,x=(l+d)/4,w=(f+m)/4;return v>g&&v>b?v<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(v),r=_/n,i=x/n):g>b?g<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(g),n=_/r,i=w/r):b<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(b),n=x/i,r=w/i),this.set(n,r,i,e),this}var C=Math.sqrt((m-f)*(m-f)+(l-d)*(l-d)+(h-c)*(h-c));return Math.abs(C)<.001&&(C=1),this.x=(m-f)/C,this.y=(l-d)/C,this.z=(h-c)/C,this.w=Math.acos((u+p+y-1)/2),this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this.w>t.w&&(this.w=t.w),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this.w<t.w&&(this.w=t.w),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this.w<t.w?this.w=t.w:this.w>e.w&&(this.w=e.w),this},clampScalar:function(){var e,n;return function(r,i){return void 0===e&&(e=new t.Vector4,n=new t.Vector4),e.set(r,r,r,r),n.set(i,i,i,i),this.clamp(e,n)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t),this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this.w=t.array[e+3],this},clone:function(){return new t.Vector4(this.x,this.y,this.z,this.w)}},t.Euler=function(e,n,r,i){this._x=e||0,this._y=n||0,this._z=r||0,this._order=i||t.Euler.DefaultOrder},t.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],t.Euler.DefaultOrder="XYZ",t.Euler.prototype={constructor:t.Euler,_x:0,_y:0,_z:0,_order:t.Euler.DefaultOrder,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,n,r){var i=t.Math.clamp,o=e.elements,a=o[0],s=o[4],u=o[8],c=o[1],l=o[5],h=o[9],p=o[2],f=o[6],d=o[10];return n=n||this._order,"XYZ"===n?(this._y=Math.asin(i(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(f,l),this._z=0)):"YXZ"===n?(this._x=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(u,d),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-p,a),this._z=0)):"ZXY"===n?(this._x=Math.asin(i(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-p,d),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(c,a))):"ZYX"===n?(this._y=Math.asin(-i(p,-1,1)),Math.abs(p)<.99999?(this._x=Math.atan2(f,d),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,l))):"YZX"===n?(this._z=Math.asin(i(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(u,d))):"XZY"===n?(this._z=Math.asin(-i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(f,l),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-h,d),this._y=0)):t.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+n),this._order=n,r!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(n,r,i){return void 0===e&&(e=new t.Matrix4),e.makeRotationFromQuaternion(n),this.setFromRotationMatrix(e,r,i),this}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var e=new t.Quaternion;return function(t){e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new t.Vector3(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){},clone:function(){return new t.Euler(this._x,this._y,this._z,this._order)}},t.Line3=function(e,n){this.start=void 0!==e?e:new t.Vector3,this.end=void 0!==n?n:new t.Vector3},t.Line3.prototype={constructor:t.Line3,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},center:function(e){var n=e||new t.Vector3;return n.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var n=e||new t.Vector3;return n.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,n){var r=n||new t.Vector3;return this.delta(r).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new t.Vector3,n=new t.Vector3;return function(r,i){e.subVectors(r,this.start),n.subVectors(this.end,this.start);var o=n.dot(n),a=n.dot(e),s=a/o;return i&&(s=t.Math.clamp(s,0,1)),s}}(),closestPointToPoint:function(e,n,r){var i=this.closestPointToPointParameter(e,n),o=r||new t.Vector3;return this.delta(o).multiplyScalar(i).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)},clone:function(){return(new t.Line3).copy(this)}},t.Box2=function(e,n){this.min=void 0!==e?e:new t.Vector2(1/0,1/0),this.max=void 0!==n?n:new t.Vector2(-(1/0),-(1/0))},t.Box2.prototype={constructor:t.Box2,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var e=new t.Vector2;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-(1/0),this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){var n=e||new t.Vector2;return n.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var n=e||new t.Vector2;return n.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(e,n){var r=n||new t.Vector2;return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(e,n){var r=n||new t.Vector2;return r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new t.Vector2;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},clone:function(){return(new t.Box2).copy(this)}},t.Box3=function(e,n){this.min=void 0!==e?e:new t.Vector3(1/0,1/0,1/0),this.max=void 0!==n?n:new t.Vector3(-(1/0),-(1/0),-(1/0))},t.Box3.prototype={constructor:t.Box3,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var e=new t.Vector3;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(){var e=new t.Vector3;return function(n){var r=this;return n.updateMatrixWorld(!0),this.makeEmpty(),n.traverse(function(n){var i=n.geometry;if(void 0!==i)if(i instanceof t.Geometry)for(var o=i.vertices,a=0,s=o.length;a<s;a++)e.copy(o[a]),e.applyMatrix4(n.matrixWorld),r.expandByPoint(e);else if(i instanceof t.BufferGeometry&&void 0!==i.attributes.position)for(var u=i.attributes.position.array,a=0,s=u.length;a<s;a+=3)e.set(u[a],u[a+1],u[a+2]),e.applyMatrix4(n.matrixWorld),r.expandByPoint(e)}),this}}(),copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-(1/0),this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){var n=e||new t.Vector3;return n.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var n=e||new t.Vector3;return n.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(e,n){var r=n||new t.Vector3;return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},clampPoint:function(e,n){var r=n||new t.Vector3;return r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new t.Vector3;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),getBoundingSphere:function(){var e=new t.Vector3;return function(n){var r=n||new t.Sphere;return r.center=this.center(),r.radius=.5*this.size(e).length(),r}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var e=[new t.Vector3,new t.Vector3,new t.Vector3,new t.Vector3,new t.Vector3,new t.Vector3,new t.Vector3,new t.Vector3];return function(t){return e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(e),this}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},clone:function(){return(new t.Box3).copy(this)}},t.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&t.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},t.Matrix3.prototype={constructor:t.Matrix3,set:function(t,e,n,r,i,o,a,s,u){var c=this.elements;return c[0]=t,c[3]=e,c[6]=n,c[1]=r,c[4]=i,c[7]=o,c[2]=a,c[5]=s,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},multiplyVector3:function(e){return t.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){return t.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e=new t.Vector3;return function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=0,o=n;i<r;i+=3,o+=3)e.x=t[o],e.y=t[o+1],e.z=t[o+2],e.applyMatrix3(this),t[o]=e.x,t[o+1]=e.y,t[o+2]=e.z;return t}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*o*c-e*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(e,n){var r=e.elements,i=this.elements;i[0]=r[10]*r[5]-r[6]*r[9],i[1]=-r[10]*r[1]+r[2]*r[9],i[2]=r[6]*r[1]-r[2]*r[5],i[3]=-r[10]*r[4]+r[6]*r[8],i[4]=r[10]*r[0]-r[2]*r[8],i[5]=-r[6]*r[0]+r[2]*r[4],i[6]=r[9]*r[4]-r[5]*r[8],i[7]=-r[9]*r[0]+r[1]*r[8],i[8]=r[5]*r[0]-r[1]*r[4];var o=r[0]*i[0]+r[1]*i[3]+r[2]*i[6];if(0===o){var a="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(n)throw new Error(a);return t.warn(a),this.identity(),this}return this.multiplyScalar(1/o),this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t},getNormalMatrix:function(t){return this.getInverse(t).transpose(),this},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},clone:function(){return(new t.Matrix3).fromArray(this.elements)}},t.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&t.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},t.Matrix4.prototype={constructor:t.Matrix4,set:function(t,e,n,r,i,o,a,s,u,c,l,h,p,f,d,m){var y=this.elements;return y[0]=t,y[4]=e,y[8]=n,y[12]=r,y[1]=i,y[5]=o,y[9]=a,y[13]=s,y[2]=u,y[6]=c,y[10]=l,y[14]=h,y[3]=p,y[7]=f,y[11]=d,y[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(t){return this.elements.set(t.elements),this},extractPosition:function(e){return t.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){var r=this.elements;return t.set(r[0],r[1],r[2]),e.set(r[4],r[5],r[6]),n.set(r[8],r[9],r[10]),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new t.Vector3;return function(t){var n=this.elements,r=t.elements,i=1/e.set(r[0],r[1],r[2]).length(),o=1/e.set(r[4],r[5],r[6]).length(),a=1/e.set(r[8],r[9],r[10]).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(e){e instanceof t.Euler==!1&&t.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),u=Math.cos(i),c=Math.sin(i),l=Math.cos(o),h=Math.sin(o);if("XYZ"===e.order){var p=a*l,f=a*h,d=s*l,m=s*h;n[0]=u*l,n[4]=-u*h,n[8]=c,n[1]=f+d*c,n[5]=p-m*c,n[9]=-s*u,n[2]=m-p*c,n[6]=d+f*c,n[10]=a*u}else if("YXZ"===e.order){var y=u*l,v=u*h,g=c*l,b=c*h;n[0]=y+b*s,n[4]=g*s-v,n[8]=a*c,n[1]=a*h,n[5]=a*l,n[9]=-s,n[2]=v*s-g,n[6]=b+y*s,n[10]=a*u}else if("ZXY"===e.order){var y=u*l,v=u*h,g=c*l,b=c*h;n[0]=y-b*s,n[4]=-a*h,n[8]=g+v*s,n[1]=v+g*s,n[5]=a*l,n[9]=b-y*s,n[2]=-a*c,n[6]=s,n[10]=a*u}else if("ZYX"===e.order){var p=a*l,f=a*h,d=s*l,m=s*h;n[0]=u*l,n[4]=d*c-f,n[8]=p*c+m,n[1]=u*h,n[5]=m*c+p,n[9]=f*c-d,n[2]=-c,n[6]=s*u,n[10]=a*u}else if("YZX"===e.order){var _=a*u,x=a*c,w=s*u,C=s*c;n[0]=u*l,n[4]=C-_*h,n[8]=w*h+x,n[1]=h,n[5]=a*l,n[9]=-s*l,n[2]=-c*l,n[6]=x*h+w,n[10]=_-C*h}else if("XZY"===e.order){var _=a*u,x=a*c,w=s*u,C=s*c;n[0]=u*l,n[4]=-h,n[8]=c*l,n[1]=_*h+C,n[5]=a*l,n[9]=x*h-w,n[2]=w*h-x,n[6]=s*l,n[10]=C*h+_}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},setRotationFromQuaternion:function(e){return t.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,o=t.w,a=n+n,s=r+r,u=i+i,c=n*a,l=n*s,h=n*u,p=r*s,f=r*u,d=i*u,m=o*a,y=o*s,v=o*u;return e[0]=1-(p+d),e[4]=l-v,e[8]=h+y,e[1]=l+v,e[5]=1-(c+d),e[9]=f-m,e[2]=h-y,e[6]=f+m,e[10]=1-(c+p),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var e=new t.Vector3,n=new t.Vector3,r=new t.Vector3;return function(t,i,o){var a=this.elements;return r.subVectors(t,i).normalize(),0===r.length()&&(r.z=1),e.crossVectors(o,r).normalize(),0===e.length()&&(r.x+=1e-4,e.crossVectors(o,r).normalize()),n.crossVectors(r,e),a[0]=e.x,a[4]=n.x,a[8]=r.x,a[1]=e.y,a[5]=n.y,a[9]=r.y,a[2]=e.z,a[6]=n.z,a[10]=r.z,this}}(),multiply:function(e,n){return void 0!==n?(t.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],p=n[13],f=n[2],d=n[6],m=n[10],y=n[14],v=n[3],g=n[7],b=n[11],_=n[15],x=r[0],w=r[4],C=r[8],S=r[12],E=r[1],T=r[5],M=r[9],A=r[13],P=r[2],k=r[6],R=r[10],O=r[14],I=r[3],N=r[7],D=r[11],L=r[15];return i[0]=o*x+a*E+s*P+u*I,i[4]=o*w+a*T+s*k+u*N,i[8]=o*C+a*M+s*R+u*D,i[12]=o*S+a*A+s*O+u*L,i[1]=c*x+l*E+h*P+p*I,i[5]=c*w+l*T+h*k+p*N,i[9]=c*C+l*M+h*R+p*D,i[13]=c*S+l*A+h*O+p*L,i[2]=f*x+d*E+m*P+y*I,i[6]=f*w+d*T+m*k+y*N,i[10]=f*C+d*M+m*R+y*D,i[14]=f*S+d*A+m*O+y*L,i[3]=v*x+g*E+b*P+_*I,i[7]=v*w+g*T+b*k+_*N,i[11]=v*C+g*M+b*R+_*D,i[15]=v*S+g*A+b*O+_*L,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},multiplyVector3:function(e){return t.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return t.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){return t.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e=new t.Vector3;return function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=0,o=n;i<r;i+=3,o+=3)e.x=t[o],e.y=t[o+1],e.z=t[o+2],e.applyMatrix4(this),t[o]=e.x,t[o+1]=e.y,t[o+2]=e.z;return t}}(),rotateAxis:function(e){t.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return t.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],u=t[13],c=t[2],l=t[6],h=t[10],p=t[14],f=t[3],d=t[7],m=t[11],y=t[15];return f*(+i*s*l-r*u*l-i*a*h+n*u*h+r*a*p-n*s*p)+d*(+e*s*p-e*u*h+i*o*h-r*o*p+r*u*c-i*s*c)+m*(+e*u*l-e*a*p-i*o*l+n*o*p+i*a*c-n*u*c)+y*(-r*a*c-e*s*l+e*a*h+r*o*l-n*o*h+n*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t},getPosition:function(){var e=new t.Vector3;return function(){t.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var n=this.elements;return e.set(n[12],n[13],n[14])}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(e,n){var r=this.elements,i=e.elements,o=i[0],a=i[4],s=i[8],u=i[12],c=i[1],l=i[5],h=i[9],p=i[13],f=i[2],d=i[6],m=i[10],y=i[14],v=i[3],g=i[7],b=i[11],_=i[15];r[0]=h*y*g-p*m*g+p*d*b-l*y*b-h*d*_+l*m*_,r[4]=u*m*g-s*y*g-u*d*b+a*y*b+s*d*_-a*m*_,r[8]=s*p*g-u*h*g+u*l*b-a*p*b-s*l*_+a*h*_,r[12]=u*h*d-s*p*d-u*l*m+a*p*m+s*l*y-a*h*y,r[1]=p*m*v-h*y*v-p*f*b+c*y*b+h*f*_-c*m*_,r[5]=s*y*v-u*m*v+u*f*b-o*y*b-s*f*_+o*m*_,r[9]=u*h*v-s*p*v-u*c*b+o*p*b+s*c*_-o*h*_,r[13]=s*p*f-u*h*f+u*c*m-o*p*m-s*c*y+o*h*y,r[2]=l*y*v-p*d*v+p*f*g-c*y*g-l*f*_+c*d*_,r[6]=u*d*v-a*y*v-u*f*g+o*y*g+a*f*_-o*d*_,r[10]=a*p*v-u*l*v+u*c*g-o*p*g-a*c*_+o*l*_,r[14]=u*l*f-a*p*f-u*c*d+o*p*d+a*c*y-o*l*y,r[3]=h*d*v-l*m*v-h*f*g+c*m*g+l*f*b-c*d*b,r[7]=a*m*v-s*d*v+s*f*g-o*m*g-a*f*b+o*d*b,r[11]=s*l*v-a*h*v-s*c*g+o*h*g+a*c*b-o*l*b,r[15]=a*h*f-s*l*f+s*c*d-o*h*d-a*c*m+o*l*m;var x=o*r[0]+c*r[4]+f*r[8]+v*r[12];if(0==x){var w="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(n)throw new Error(w);return t.warn(w),this.identity(),this}return this.multiplyScalar(1/x),this},translate:function(e){t.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(e){t.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(e){t.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(e){t.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(e,n){t.error("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,Math.max(n,r)))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var e=new t.Vector3,n=new t.Matrix4;return function(t,r,i){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),u=e.set(o[8],o[9],o[10]).length(),c=this.determinant();c<0&&(a=-a),t.x=o[12],t.y=o[13],t.z=o[14],n.elements.set(this.elements);var l=1/a,h=1/s,p=1/u;return n.elements[0]*=l,n.elements[1]*=l,n.elements[2]*=l,n.elements[4]*=h,n.elements[5]*=h,n.elements[6]*=h,n.elements[8]*=p,n.elements[9]*=p,n.elements[10]*=p,r.setFromRotationMatrix(n),i.x=a,i.y=s,i.z=u,this}}(),makeFrustum:function(t,e,n,r,i,o){var a=this.elements,s=2*i/(e-t),u=2*i/(r-n),c=(e+t)/(e-t),l=(r+n)/(r-n),h=-(o+i)/(o-i),p=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,n,r,i){var o=r*Math.tan(t.Math.degToRad(.5*e)),a=-o,s=a*n,u=o*n;return this.makeFrustum(s,u,a,o,r,i)},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=e-t,u=n-r,c=o-i,l=(e+t)/s,h=(n+r)/u,p=(o+i)/c;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2/u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2/c,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},clone:function(){return(new t.Matrix4).fromArray(this.elements)}},t.Ray=function(e,n){this.origin=void 0!==e?e:new t.Vector3,this.direction=void 0!==n?n:new t.Vector3},t.Ray.prototype={constructor:t.Ray,set:function(t,e){return this.origin.copy(t),
this.direction.copy(e),this},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(e,n){var r=n||new t.Vector3;return r.copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new t.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,n){var r=n||new t.Vector3;r.subVectors(e,this.origin);var i=r.dot(this.direction);return i<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(){var e=new t.Vector3;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceTo(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceTo(t))}}(),distanceSqToSegment:function(){var e=new t.Vector3,n=new t.Vector3,r=new t.Vector3;return function(t,i,o,a){e.copy(t).add(i).multiplyScalar(.5),n.copy(i).sub(t).normalize(),r.copy(this.origin).sub(e);var s,u,c,l,h=.5*t.distanceTo(i),p=-this.direction.dot(n),f=r.dot(this.direction),d=-r.dot(n),m=r.lengthSq(),y=Math.abs(1-p*p);if(y>0)if(s=p*d-f,u=p*f-d,l=h*y,s>=0)if(u>=-l)if(u<=l){var v=1/y;s*=v,u*=v,c=s*(s+p*u+2*f)+u*(p*s+u+2*d)+m}else u=h,s=Math.max(0,-(p*u+f)),c=-s*s+u*(u+2*d)+m;else u=-h,s=Math.max(0,-(p*u+f)),c=-s*s+u*(u+2*d)+m;else u<=-l?(s=Math.max(0,-(-p*h+f)),u=s>0?-h:Math.min(Math.max(-h,-d),h),c=-s*s+u*(u+2*d)+m):u<=l?(s=0,u=Math.min(Math.max(-h,-d),h),c=u*(u+2*d)+m):(s=Math.max(0,-(p*h+f)),u=s>0?h:Math.min(Math.max(-h,-d),h),c=-s*s+u*(u+2*d)+m);else u=p>0?-h:h,s=Math.max(0,-(p*u+f)),c=-s*s+u*(u+2*d)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(n).multiplyScalar(u).add(e),c}}(),isIntersectionSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},intersectSphere:function(){var e=new t.Vector3;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),isIntersectionPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var n=t.normal.dot(this.direction);return n*e<0},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0==e)return 0==t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},isIntersectionBox:function(){var e=new t.Vector3;return function(t){return null!==this.intersectBox(t,e)}}(),intersectBox:function(t,e){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(n=(t.min.x-h.x)*u,r=(t.max.x-h.x)*u):(n=(t.max.x-h.x)*u,r=(t.min.x-h.x)*u),c>=0?(i=(t.min.y-h.y)*c,o=(t.max.y-h.y)*c):(i=(t.max.y-h.y)*c,o=(t.min.y-h.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(t.min.z-h.z)*l,s=(t.max.z-h.z)*l):(a=(t.max.z-h.z)*l,s=(t.min.z-h.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectTriangle:function(){var e=new t.Vector3,n=new t.Vector3,r=new t.Vector3,i=new t.Vector3;return function(t,o,a,s,u){n.subVectors(o,t),r.subVectors(a,t),i.crossVectors(n,r);var c,l=this.direction.dot(i);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}e.subVectors(this.origin,t);var h=c*this.direction.dot(r.crossVectors(e,r));if(h<0)return null;var p=c*this.direction.dot(n.cross(e));if(p<0)return null;if(h+p>l)return null;var f=-c*e.dot(i);return f<0?null:this.at(f/l,u)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)},clone:function(){return(new t.Ray).copy(this)}},t.Sphere=function(e,n){this.center=void 0!==e?e:new t.Vector3,this.radius=void 0!==n?n:0},t.Sphere.prototype={constructor:t.Sphere,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var e=new t.Box3;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).center(r);for(var i=0,o=0,a=t.length;o<a;o++)i=Math.max(i,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}}(),copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},clampPoint:function(e,n){var r=this.center.distanceToSquared(e),i=n||new t.Vector3;return i.copy(e),r>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(e){var n=e||new t.Box3;return n.set(this.center,this.center),n.expandByScalar(this.radius),n},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius},clone:function(){return(new t.Sphere).copy(this)}},t.Frustum=function(e,n,r,i,o,a){this.planes=[void 0!==e?e:new t.Plane,void 0!==n?n:new t.Plane,void 0!==r?r:new t.Plane,void 0!==i?i:new t.Plane,void 0!==o?o:new t.Plane,void 0!==a?a:new t.Plane]},t.Frustum.prototype={constructor:t.Frustum,set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],p=n[9],f=n[10],d=n[11],m=n[12],y=n[13],v=n[14],g=n[15];return e[0].setComponents(a-r,l-s,d-h,g-m).normalize(),e[1].setComponents(a+r,l+s,d+h,g+m).normalize(),e[2].setComponents(a+i,l+u,d+p,g+y).normalize(),e[3].setComponents(a-i,l-u,d-p,g-y).normalize(),e[4].setComponents(a-o,l-c,d-f,g-v).normalize(),e[5].setComponents(a+o,l+c,d+f,g+v).normalize(),this},intersectsObject:function(){var e=new t.Sphere;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere),e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){var o=e[i].distanceToPoint(n);if(o<r)return!1}return!0},intersectsBox:function(){var e=new t.Vector3,n=new t.Vector3;return function(t){for(var r=this.planes,i=0;i<6;i++){var o=r[i];e.x=o.normal.x>0?t.min.x:t.max.x,n.x=o.normal.x>0?t.max.x:t.min.x,e.y=o.normal.y>0?t.min.y:t.max.y,n.y=o.normal.y>0?t.max.y:t.min.y,e.z=o.normal.z>0?t.min.z:t.max.z,n.z=o.normal.z>0?t.max.z:t.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(n);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0},clone:function(){return(new t.Frustum).copy(this)}},t.Plane=function(e,n){this.normal=void 0!==e?e:new t.Vector3(1,0,0),this.constant=void 0!==n?n:0},t.Plane.prototype={constructor:t.Plane,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new t.Vector3,n=new t.Vector3;return function(t,r,i){var o=e.subVectors(i,r).cross(n.subVectors(t,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,t),this}}(),copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(e,n){var r=this.distanceToPoint(e),i=n||new t.Vector3;return i.copy(this.normal).multiplyScalar(r)},isIntersectionLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectLine:function(){var e=new t.Vector3;return function(n,r){var i=r||new t.Vector3,o=n.delta(e),a=this.normal.dot(o);if(0!=a){var s=-(n.start.dot(this.normal)+this.constant)/a;if(!(s<0||s>1))return i.copy(o).multiplyScalar(s).add(n.start)}else if(0==this.distanceToPoint(n.start))return i.copy(n.start)}}(),coplanarPoint:function(e){var n=e||new t.Vector3;return n.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new t.Vector3,n=new t.Vector3,r=new t.Matrix3;return function(t,i){var o=i||r.getNormalMatrix(t),a=e.copy(this.normal).applyMatrix3(o),s=this.coplanarPoint(n);return s.applyMatrix4(t),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant==this.constant},clone:function(){return(new t.Plane).copy(this)}},t.Math={generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8==i||13==i||18==i||23==i?n[i]="-":14==i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19==i?3&t|8:t]);return n.join("")}}(),clamp:function(t,e,n){return t<e?e:t>n?n:t},clampBottom:function(t,e){return t<e?e:t},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(6*t-15)+10))},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(t,e){return Math.floor(this.randFloat(t,e))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(){var t=Math.PI/180;return function(e){return e*t}}(),radToDeg:function(){var t=180/Math.PI;return function(e){return e*t}}(),isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}},t.Spline=function(e){function n(t,e,n,r,i,o,a){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*i+e}this.points=e;var r,i,o,a,s,u,c,l,h,p=[],f={x:0,y:0,z:0};this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return r=(this.points.length-1)*t,i=Math.floor(r),o=r-i,p[0]=0===i?i:i-1,p[1]=i,p[2]=i>this.points.length-2?this.points.length-1:i+1,p[3]=i>this.points.length-3?this.points.length-1:i+2,u=this.points[p[0]],c=this.points[p[1]],l=this.points[p[2]],h=this.points[p[3]],a=o*o,s=o*a,f.x=n(u.x,c.x,l.x,h.x,o,a,s),f.y=n(u.y,c.y,l.y,h.y,o,a,s),f.z=n(u.z,c.z,l.z,h.z,o,a,s),f},this.getControlPointsArray=function(){var t,e,n=this.points.length,r=[];for(t=0;t<n;t++)e=this.points[t],r[t]=[e.x,e.y,e.z];return r},this.getLength=function(e){var n,r,i,o,a=0,s=0,u=0,c=new t.Vector3,l=new t.Vector3,h=[],p=0;for(h[0]=0,e||(e=100),i=this.points.length*e,c.copy(this.points[0]),n=1;n<i;n++)r=n/i,o=this.getPoint(r),l.copy(o),p+=l.distanceTo(c),c.copy(o),a=(this.points.length-1)*r,s=Math.floor(a),s!=u&&(h[s]=p,u=s);return h[h.length]=p,{chunks:h,total:p}},this.reparametrizeByArcLength=function(e){var n,r,i,o,a,s,u,c,l=[],h=new t.Vector3,p=this.getLength();for(l.push(h.copy(this.points[0]).clone()),n=1;n<this.points.length;n++){for(s=p.chunks[n]-p.chunks[n-1],u=Math.ceil(e*s/p.total),o=(n-1)/(this.points.length-1),a=n/(this.points.length-1),r=1;r<u-1;r++)i=o+r*(1/u)*(a-o),c=this.getPoint(i),l.push(h.copy(c).clone());l.push(h.copy(this.points[n]).clone())}this.points=l}},t.Triangle=function(e,n,r){this.a=void 0!==e?e:new t.Vector3,this.b=void 0!==n?n:new t.Vector3,this.c=void 0!==r?r:new t.Vector3},t.Triangle.normal=function(){var e=new t.Vector3;return function(n,r,i,o){var a=o||new t.Vector3;a.subVectors(i,r),e.subVectors(n,r),a.cross(e);var s=a.lengthSq();return s>0?a.multiplyScalar(1/Math.sqrt(s)):a.set(0,0,0)}}(),t.Triangle.barycoordFromPoint=function(){var e=new t.Vector3,n=new t.Vector3,r=new t.Vector3;return function(i,o,a,s,u){e.subVectors(s,o),n.subVectors(a,o),r.subVectors(i,o);var c=e.dot(e),l=e.dot(n),h=e.dot(r),p=n.dot(n),f=n.dot(r),d=c*p-l*l,m=u||new t.Vector3;if(0==d)return m.set(-2,-1,-1);var y=1/d,v=(p*h-l*f)*y,g=(c*f-l*h)*y;return m.set(1-v-g,g,v)}}(),t.Triangle.containsPoint=function(){var e=new t.Vector3;return function(n,r,i,o){var a=t.Triangle.barycoordFromPoint(n,r,i,o,e);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}(),t.Triangle.prototype={constructor:t.Triangle,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var e=new t.Vector3,n=new t.Vector3;return function(){return e.subVectors(this.c,this.b),n.subVectors(this.a,this.b),.5*e.cross(n).length()}}(),midpoint:function(e){var n=e||new t.Vector3;return n.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return t.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){var n=e||new t.Plane;return n.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,n){return t.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,n)},containsPoint:function(e){return t.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)},clone:function(){return(new t.Triangle).copy(this)}},t.Clock=function(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},t.Clock.prototype={constructor:t.Clock,start:function(){this.startTime=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now();t=.001*(e-this.oldTime),this.oldTime=e,this.elapsedTime+=t}return t}},t.EventDispatcher=function(){},t.EventDispatcher.prototype={constructor:t.EventDispatcher,apply:function(e){e.addEventListener=t.EventDispatcher.prototype.addEventListener,e.hasEventListener=t.EventDispatcher.prototype.hasEventListener,e.removeEventListener=t.EventDispatcher.prototype.removeEventListener,e.dispatchEvent=t.EventDispatcher.prototype.dispatchEvent},addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&n[t].indexOf(e)!==-1},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,r=n[t];if(void 0!==r){var i=r.indexOf(e);i!==-1&&r.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;for(var r=[],i=n.length,o=0;o<i;o++)r[o]=n[o];for(var o=0;o<i;o++)r[o].call(this,t)}}}},function(t){t.Raycaster=function(e,n,r,i){this.ray=new t.Ray(e,n),this.near=r||0,this.far=i||1/0,this.params={Sprite:{},Mesh:{},PointCloud:{threshold:1},LOD:{},Line:{}}};var e=function(t,e){return t.distance-e.distance},n=function(t,e,r,i){if(t.raycast(e,r),i===!0)for(var o=t.children,a=0,s=o.length;a<s;a++)n(o[a],e,r,!0)};t.Raycaster.prototype={constructor:t.Raycaster,precision:1e-4,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(e,n){n instanceof t.PerspectiveCamera?(this.ray.origin.copy(n.position),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(n.position).normalize()):n instanceof t.OrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld)):t.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,r){var i=[];return n(t,this,i,r),i.sort(e),i},intersectObjects:function(r,i){var o=[];if(r instanceof Array==!1)return t.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),o;for(var a=0,s=r.length;a<s;a++)n(r[a],this,o,i);return o.sort(e),o}}}(t),t.Object3D=function(){Object.defineProperty(this,"id",{value:t.Object3DIdCount++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=void 0,this.children=[],this.up=t.Object3D.DefaultUp.clone();var e=new t.Vector3,n=new t.Euler,r=new t.Quaternion,i=new t.Vector3(1,1,1),o=function(){r.setFromEuler(n,!1)},a=function(){n.setFromQuaternion(r,void 0,!1)};n.onChange(o),r.onChange(a),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:n},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:i}}),this.rotationAutoUpdate=!0,this.matrix=new t.Matrix4,this.matrixWorld=new t.Matrix4,this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},t.Object3D.DefaultUp=new t.Vector3(0,1,0),t.Object3D.prototype={constructor:t.Object3D,get eulerOrder(){return t.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order},set eulerOrder(e){t.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order=e},get useQuaternion(){t.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(e){t.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var e=new t.Quaternion;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new t.Vector3(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new t.Vector3(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new t.Vector3(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new t.Vector3;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translate:function(e,n){return t.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(n,e)},translateX:function(){var e=new t.Vector3(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new t.Vector3(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new t.Vector3(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new t.Matrix4;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new t.Matrix4;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(t.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e instanceof t.Object3D?(void 0!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):t.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);n!==-1&&(t.parent=void 0,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getChildByName:function(e){return t.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(e){var n=e||new t.Vector3;return this.updateMatrixWorld(!0),n.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new t.Vector3,n=new t.Vector3;return function(r){var i=r||new t.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,i,n),i}}(),getWorldRotation:function(){var e=new t.Quaternion;return function(n){var r=n||new t.Euler;return this.getWorldQuaternion(e),r.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new t.Vector3,n=new t.Quaternion;return function(r){var i=r||new t.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,i),i}}(),getWorldDirection:function(){var e=new t.Quaternion;return function(n){var r=n||new t.Vector3;return this.getWorldQuaternion(e),r.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=0,n=this.children.length;e<n;e++)this.children[e].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var e=0,n=this.children.length;e<n;e++)this.children[e].traverseVisible(t)}},traverseAncestors:function(t){this.parent&&(t(this.parent),this.parent.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&t!==!0||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=0,n=this.children.length;e<n;e++)this.children[e].updateMatrixWorld(t)},toJSON:function(){var e={metadata:{version:4.3,type:"Object",generator:"ObjectExporter"}},n={},r=function(t){if(void 0===e.geometries&&(e.geometries=[]),void 0===n[t.uuid]){var r=t.toJSON();delete r.metadata,n[t.uuid]=r,e.geometries.push(r)}return t.uuid},i={},o=function(t){if(void 0===e.materials&&(e.materials=[]),void 0===i[t.uuid]){var n=t.toJSON();delete n.metadata,i[t.uuid]=n,e.materials.push(n)}return t.uuid},a=function(e){var n={};if(n.uuid=e.uuid,n.type=e.type,""!==e.name&&(n.name=e.name),"{}"!==JSON.stringify(e.userData)&&(n.userData=e.userData),e.visible!==!0&&(n.visible=e.visible),e instanceof t.PerspectiveCamera?(n.fov=e.fov,n.aspect=e.aspect,n.near=e.near,n.far=e.far):e instanceof t.OrthographicCamera?(n.left=e.left,n.right=e.right,n.top=e.top,n.bottom=e.bottom,n.near=e.near,n.far=e.far):e instanceof t.AmbientLight?n.color=e.color.getHex():e instanceof t.DirectionalLight?(n.color=e.color.getHex(),n.intensity=e.intensity):e instanceof t.PointLight?(n.color=e.color.getHex(),n.intensity=e.intensity,n.distance=e.distance,n.decay=e.decay):e instanceof t.SpotLight?(n.color=e.color.getHex(),n.intensity=e.intensity,n.distance=e.distance,n.angle=e.angle,n.exponent=e.exponent,n.decay=e.decay):e instanceof t.HemisphereLight?(n.color=e.color.getHex(),n.groundColor=e.groundColor.getHex()):e instanceof t.Mesh||e instanceof t.Line||e instanceof t.PointCloud?(n.geometry=r(e.geometry),n.material=o(e.material),e instanceof t.Line&&(n.mode=e.mode)):e instanceof t.Sprite&&(n.material=o(e.material)),n.matrix=e.matrix.toArray(),e.children.length>0){n.children=[];for(var i=0;i<e.children.length;i++)n.children.push(a(e.children[i]))}return n};return e.object=a(this),e},clone:function(e,n){if(void 0===e&&(e=new t.Object3D),void 0===n&&(n=!0),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.quaternion.copy(this.quaternion),e.scale.copy(this.scale),e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.visible=this.visible,e.castShadow=this.castShadow,e.receiveShadow=this.receiveShadow,e.frustumCulled=this.frustumCulled,e.userData=JSON.parse(JSON.stringify(this.userData)),n===!0)for(var r=0;r<this.children.length;r++){var i=this.children[r];e.add(i.clone())}return e}},t.EventDispatcher.prototype.apply(t.Object3D.prototype),t.Object3DIdCount=0,t.Face3=function(e,n,r,i,o,a){this.a=e,this.b=n,this.c=r,this.normal=i instanceof t.Vector3?i:new t.Vector3,this.vertexNormals=i instanceof Array?i:[],this.color=o instanceof t.Color?o:new t.Color,this.vertexColors=o instanceof Array?o:[],this.vertexTangents=[],this.materialIndex=void 0!==a?a:0},t.Face3.prototype={constructor:t.Face3,clone:function(){var e=new t.Face3(this.a,this.b,this.c);e.normal.copy(this.normal),e.color.copy(this.color),e.materialIndex=this.materialIndex;for(var n=0,r=this.vertexNormals.length;n<r;n++)e.vertexNormals[n]=this.vertexNormals[n].clone();for(var n=0,r=this.vertexColors.length;n<r;n++)e.vertexColors[n]=this.vertexColors[n].clone();for(var n=0,r=this.vertexTangents.length;n<r;n++)e.vertexTangents[n]=this.vertexTangents[n].clone();return e}},t.Face4=function(e,n,r,i,o,a,s){return t.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new t.Face3(e,n,r,o,a,s)},t.BufferAttribute=function(t,e){this.array=t,this.itemSize=e,this.needsUpdate=!1},t.BufferAttribute.prototype={constructor:t.BufferAttribute,get length(){return this.array.length},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},setX:function(t,e){return this.array[t*this.itemSize]=e,this},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},clone:function(){return new t.BufferAttribute(new this.array.constructor(this.array),this.itemSize)}},t.Int8Attribute=function(e,n){return t.warn("THREE.Int8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new t.BufferAttribute(e,n)},t.Uint8Attribute=function(e,n){return t.warn("THREE.Uint8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new t.BufferAttribute(e,n)},t.Uint8ClampedAttribute=function(e,n){return t.warn("THREE.Uint8ClampedAttribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new t.BufferAttribute(e,n)},t.Int16Attribute=function(e,n){return t.warn("THREE.Int16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new t.BufferAttribute(e,n)},t.Uint16Attribute=function(e,n){return t.warn("THREE.Uint16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new t.BufferAttribute(e,n)},t.Int32Attribute=function(e,n){return t.warn("THREE.Int32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new t.BufferAttribute(e,n)},t.Uint32Attribute=function(e,n){return t.warn("THREE.Uint32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new t.BufferAttribute(e,n)},t.Float32Attribute=function(e,n){return t.warn("THREE.Float32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new t.BufferAttribute(e,n)},t.Float64Attribute=function(e,n){return t.warn("THREE.Float64Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new t.BufferAttribute(e,n)},t.DynamicBufferAttribute=function(e,n){t.BufferAttribute.call(this,e,n),this.updateRange={offset:0,count:-1}},t.DynamicBufferAttribute.prototype=Object.create(t.BufferAttribute.prototype),t.DynamicBufferAttribute.prototype.constructor=t.DynamicBufferAttribute,t.DynamicBufferAttribute.prototype.clone=function(){return new t.DynamicBufferAttribute(new this.array.constructor(this.array),this.itemSize)},t.BufferGeometry=function(){Object.defineProperty(this,"id",{value:t.GeometryIdCount++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.attributes={},this.attributesKeys=[],this.drawcalls=[],this.offsets=this.drawcalls,this.boundingBox=null,this.boundingSphere=null},t.BufferGeometry.prototype={constructor:t.BufferGeometry,addAttribute:function(e,n){return n instanceof t.BufferAttribute==!1?(t.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void(this.attributes[e]={array:arguments[1],itemSize:arguments[2]})):(this.attributes[e]=n,void(this.attributesKeys=Object.keys(this.attributes)))},getAttribute:function(t){return this.attributes[t]},addDrawCall:function(t,e,n){this.drawcalls.push({start:t,count:e,index:void 0!==n?n:0})},applyMatrix:function(e){var n=this.attributes.position;void 0!==n&&(e.applyToVector3Array(n.array),n.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var i=(new t.Matrix3).getNormalMatrix(e);i.applyToVector3Array(r.array),r.needsUpdate=!0}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere()},center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.applyMatrix((new t.Matrix4).setPosition(e)),e},fromGeometry:function(e,n){n=n||{vertexColors:t.NoColors};var r=e.vertices,i=e.faces,o=e.faceVertexUvs,a=n.vertexColors,s=o[0].length>0,u=3==i[0].vertexNormals.length,c=new Float32Array(3*i.length*3);this.addAttribute("position",new t.BufferAttribute(c,3));var l=new Float32Array(3*i.length*3);if(this.addAttribute("normal",new t.BufferAttribute(l,3)),a!==t.NoColors){var h=new Float32Array(3*i.length*3);this.addAttribute("color",new t.BufferAttribute(h,3))}if(s===!0){var p=new Float32Array(3*i.length*2);this.addAttribute("uv",new t.BufferAttribute(p,2))}for(var f=0,d=0,m=0;f<i.length;f++,d+=6,m+=9){var y=i[f],v=r[y.a],g=r[y.b],b=r[y.c];if(c[m]=v.x,c[m+1]=v.y,c[m+2]=v.z,c[m+3]=g.x,c[m+4]=g.y,c[m+5]=g.z,c[m+6]=b.x,c[m+7]=b.y,c[m+8]=b.z,u===!0){var _=y.vertexNormals[0],x=y.vertexNormals[1],w=y.vertexNormals[2];l[m]=_.x,l[m+1]=_.y,l[m+2]=_.z,l[m+3]=x.x,l[m+4]=x.y,l[m+5]=x.z,l[m+6]=w.x,l[m+7]=w.y,l[m+8]=w.z}else{var C=y.normal;l[m]=C.x,l[m+1]=C.y,l[m+2]=C.z,l[m+3]=C.x,l[m+4]=C.y,l[m+5]=C.z,l[m+6]=C.x,l[m+7]=C.y,l[m+8]=C.z}if(a===t.FaceColors){var S=y.color;h[m]=S.r,h[m+1]=S.g,h[m+2]=S.b,h[m+3]=S.r,h[m+4]=S.g,h[m+5]=S.b,h[m+6]=S.r,h[m+7]=S.g,h[m+8]=S.b}else if(a===t.VertexColors){var E=y.vertexColors[0],T=y.vertexColors[1],M=y.vertexColors[2];h[m]=E.r,h[m+1]=E.g,h[m+2]=E.b,h[m+3]=T.r,h[m+4]=T.g,h[m+5]=T.b,h[m+6]=M.r,h[m+7]=M.g,h[m+8]=M.b}if(s===!0){var A=o[0][f][0],P=o[0][f][1],k=o[0][f][2];
p[d]=A.x,p[d+1]=A.y,p[d+2]=P.x,p[d+3]=P.y,p[d+4]=k.x,p[d+5]=k.y}}return this.computeBoundingSphere(),this},computeBoundingBox:function(){var e=new t.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new t.Box3);var n=this.attributes.position.array;if(n){var r=this.boundingBox;r.makeEmpty();for(var i=0,o=n.length;i<o;i+=3)e.set(n[i],n[i+1],n[i+2]),r.expandByPoint(e)}void 0!==n&&0!==n.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&t.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.')}}(),computeBoundingSphere:function(){var e=new t.Box3,n=new t.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new t.Sphere);var r=this.attributes.position.array;if(r){e.makeEmpty();for(var i=this.boundingSphere.center,o=0,a=r.length;o<a;o+=3)n.set(r[o],r[o+1],r[o+2]),e.expandByPoint(n);e.center(i);for(var s=0,o=0,a=r.length;o<a;o+=3)n.set(r[o],r[o+1],r[o+2]),s=Math.max(s,i.distanceToSquared(n));this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&t.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.attributes;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new t.BufferAttribute(new Float32Array(n.length),3));else for(var r=e.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a,s,u,r=e.normal.array,c=new t.Vector3,l=new t.Vector3,h=new t.Vector3,p=new t.Vector3,f=new t.Vector3;if(e.index)for(var d=e.index.array,m=this.offsets.length>0?this.offsets:[{start:0,count:d.length,index:0}],y=0,v=m.length;y<v;++y)for(var g=m[y].start,b=m[y].count,_=m[y].index,i=g,o=g+b;i<o;i+=3)a=3*(_+d[i]),s=3*(_+d[i+1]),u=3*(_+d[i+2]),c.fromArray(n,a),l.fromArray(n,s),h.fromArray(n,u),p.subVectors(h,l),f.subVectors(c,l),p.cross(f),r[a]+=p.x,r[a+1]+=p.y,r[a+2]+=p.z,r[s]+=p.x,r[s+1]+=p.y,r[s+2]+=p.z,r[u]+=p.x,r[u+1]+=p.y,r[u+2]+=p.z;else for(var i=0,o=n.length;i<o;i+=9)c.fromArray(n,i),l.fromArray(n,i+3),h.fromArray(n,i+6),p.subVectors(h,l),f.subVectors(c,l),p.cross(f),r[i]=p.x,r[i+1]=p.y,r[i+2]=p.z,r[i+3]=p.x,r[i+4]=p.y,r[i+5]=p.z,r[i+6]=p.x,r[i+7]=p.y,r[i+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},computeTangents:function(){function e(t,e,n){k.fromArray(i,3*t),R.fromArray(i,3*e),O.fromArray(i,3*n),I.fromArray(a,2*t),N.fromArray(a,2*e),D.fromArray(a,2*n),p=R.x-k.x,f=O.x-k.x,d=R.y-k.y,m=O.y-k.y,y=R.z-k.z,v=O.z-k.z,g=N.x-I.x,b=D.x-I.x,_=N.y-I.y,x=D.y-I.y,w=1/(g*x-b*_),L.set((x*p-_*f)*w,(x*d-_*m)*w,(x*y-_*v)*w),V.set((g*f-b*p)*w,(g*m-b*d)*w,(g*v-b*y)*w),c[t].add(L),c[e].add(L),c[n].add(L),l[t].add(V),l[e].add(V),l[n].add(V)}function n(t){X.fromArray(o,3*t),Y.copy(X),H=c[t],q.copy(H),q.sub(X.multiplyScalar(X.dot(H))).normalize(),W.crossVectors(Y,H),G=W.dot(l[t]),z=G<0?-1:1,u[4*t]=q.x,u[4*t+1]=q.y,u[4*t+2]=q.z,u[4*t+3]=z}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||void 0===this.attributes.uv)return void t.warn("THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");var r=this.attributes.index.array,i=this.attributes.position.array,o=this.attributes.normal.array,a=this.attributes.uv.array,s=i.length/3;void 0===this.attributes.tangent&&this.addAttribute("tangent",new t.BufferAttribute(new Float32Array(4*s),4));for(var u=this.attributes.tangent.array,c=[],l=[],h=0;h<s;h++)c[h]=new t.Vector3,l[h]=new t.Vector3;var p,f,d,m,y,v,g,b,_,x,w,C,S,E,T,M,A,P,k=new t.Vector3,R=new t.Vector3,O=new t.Vector3,I=new t.Vector2,N=new t.Vector2,D=new t.Vector2,L=new t.Vector3,V=new t.Vector3;0===this.drawcalls.length&&this.addDrawCall(0,r.length,0);var F=this.drawcalls;for(E=0,T=F.length;E<T;++E){var j=F[E].start,B=F[E].count,U=F[E].index;for(C=j,S=j+B;C<S;C+=3)M=U+r[C],A=U+r[C+1],P=U+r[C+2],e(M,A,P)}var z,H,G,q=new t.Vector3,W=new t.Vector3,X=new t.Vector3,Y=new t.Vector3;for(E=0,T=F.length;E<T;++E){var j=F[E].start,B=F[E].count,U=F[E].index;for(C=j,S=j+B;C<S;C+=3)M=U+r[C],A=U+r[C+1],P=U+r[C+2],n(M),n(A),n(P)}},computeOffsets:function(t){void 0===t&&(t=65535);for(var e=this.attributes.index.array,n=this.attributes.position.array,r=e.length/3,i=new Uint16Array(e.length),o=0,a=0,s=[{start:0,count:0,index:0}],u=s[0],c=0,l=0,h=new Int32Array(6),p=new Int32Array(n.length),f=new Int32Array(n.length),d=0;d<n.length;d++)p[d]=-1,f[d]=-1;for(var m=0;m<r;m++){l=0;for(var y=0;y<3;y++){var v=e[3*m+y];p[v]==-1?(h[2*y]=v,h[2*y+1]=-1,l++):p[v]<u.index?(h[2*y]=v,h[2*y+1]=-1,c++):(h[2*y]=v,h[2*y+1]=p[v])}var g=a+l;if(g>u.index+t){var b={start:o,count:0,index:a};s.push(b),u=b;for(var _=0;_<6;_+=2){var x=h[_+1];x>-1&&x<u.index&&(h[_+1]=-1)}}for(var _=0;_<6;_+=2){var v=h[_],x=h[_+1];x===-1&&(x=a++),p[v]=x,f[x]=v,i[o++]=x-u.index,u.count++}}return this.reorderBuffers(i,f,a),this.offsets=s,this.drawcalls=s,s},merge:function(e,n){if(e instanceof t.BufferGeometry==!1)return void t.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===n&&(n=0);var r=this.attributes;for(var i in r)if(void 0!==e.attributes[i])for(var o=r[i],a=o.array,s=e.attributes[i],u=s.array,c=s.itemSize,l=0,h=c*n;l<u.length;l++,h++)a[h]=u[l];return this},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)t=i[o],e=i[o+1],n=i[o+2],r=1/Math.sqrt(t*t+e*e+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},reorderBuffers:function(t,e,n){var r={};for(var i in this.attributes)if("index"!=i){var o=this.attributes[i].array;r[i]=new o.constructor(this.attributes[i].itemSize*n)}for(var a=0;a<n;a++){var s=e[a];for(var i in this.attributes)if("index"!=i)for(var u=this.attributes[i].array,c=this.attributes[i].itemSize,l=r[i],h=0;h<c;h++)l[a*c+h]=u[s*c+h]}this.attributes.index.array=t;for(var i in this.attributes)"index"!=i&&(this.attributes[i].array=r[i],this.attributes[i].numItems=this.attributes[i].itemSize*n)},toJSON:function(){var t={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type,data:{attributes:{}}},e=this.attributes,n=this.offsets,r=this.boundingSphere;for(var i in e){var o=e[i],a=Array.prototype.slice.call(o.array);t.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:a}}return n.length>0&&(t.data.offsets=JSON.parse(JSON.stringify(n))),null!==r&&(t.data.boundingSphere={center:r.center.toArray(),radius:r.radius}),t},clone:function(){var e=new t.BufferGeometry;for(var n in this.attributes){var r=this.attributes[n];e.addAttribute(n,r.clone())}for(var i=0,o=this.offsets.length;i<o;i++){var a=this.offsets[i];e.offsets.push({start:a.start,index:a.index,count:a.count})}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},t.EventDispatcher.prototype.apply(t.BufferGeometry.prototype),t.Geometry=function(){Object.defineProperty(this,"id",{value:t.GeometryIdCount++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.tangentsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},t.Geometry.prototype={constructor:t.Geometry,applyMatrix:function(e){for(var n=(new t.Matrix3).getNormalMatrix(e),r=0,i=this.vertices.length;r<i;r++){var o=this.vertices[r];o.applyMatrix4(e)}for(var r=0,i=this.faces.length;r<i;r++){var a=this.faces[r];a.normal.applyMatrix3(n).normalize();for(var s=0,u=a.vertexNormals.length;s<u;s++)a.vertexNormals[s].applyMatrix3(n).normalize()}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0},fromBufferGeometry:function(e){for(var n=this,r=e.attributes,i=r.position.array,o=void 0!==r.index?r.index.array:void 0,a=void 0!==r.normal?r.normal.array:void 0,s=void 0!==r.color?r.color.array:void 0,u=void 0!==r.uv?r.uv.array:void 0,c=[],l=[],h=0,p=0;h<i.length;h+=3,p+=2)n.vertices.push(new t.Vector3(i[h],i[h+1],i[h+2])),void 0!==a&&c.push(new t.Vector3(a[h],a[h+1],a[h+2])),void 0!==s&&n.colors.push(new t.Color(s[h],s[h+1],s[h+2])),void 0!==u&&l.push(new t.Vector2(u[p],u[p+1]));var f=function(e,r,i){var o=void 0!==a?[c[e].clone(),c[r].clone(),c[i].clone()]:[],h=void 0!==s?[n.colors[e].clone(),n.colors[r].clone(),n.colors[i].clone()]:[];n.faces.push(new t.Face3(e,r,i,o,h)),void 0!==u&&n.faceVertexUvs[0].push([l[e].clone(),l[r].clone(),l[i].clone()])};if(void 0!==o){var d=e.drawcalls;if(d.length>0)for(var h=0;h<d.length;h++)for(var m=d[h],y=m.start,v=m.count,g=m.index,p=y,b=y+v;p<b;p+=3)f(g+o[p],g+o[p+1],g+o[p+2]);else for(var h=0;h<o.length;h+=3)f(o[h],o[h+1],o[h+2])}else for(var h=0;h<i.length/3;h+=3)f(h,h+1,h+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.applyMatrix((new t.Matrix4).setPosition(e)),e},computeFaceNormals:function(){for(var e=new t.Vector3,n=new t.Vector3,r=0,i=this.faces.length;r<i;r++){var o=this.faces[r],a=this.vertices[o.a],s=this.vertices[o.b],u=this.vertices[o.c];e.subVectors(u,s),n.subVectors(a,s),e.cross(n),e.normalize(),o.normal.copy(e)}},computeVertexNormals:function(e){var n,r,i,o,a,s;for(s=new Array(this.vertices.length),n=0,r=this.vertices.length;n<r;n++)s[n]=new t.Vector3;if(e){var u,c,l,h=new t.Vector3,p=new t.Vector3;for(i=0,o=this.faces.length;i<o;i++)a=this.faces[i],u=this.vertices[a.a],c=this.vertices[a.b],l=this.vertices[a.c],h.subVectors(l,c),p.subVectors(u,c),h.cross(p),s[a.a].add(h),s[a.b].add(h),s[a.c].add(h)}else for(i=0,o=this.faces.length;i<o;i++)a=this.faces[i],s[a.a].add(a.normal),s[a.b].add(a.normal),s[a.c].add(a.normal);for(n=0,r=this.vertices.length;n<r;n++)s[n].normalize();for(i=0,o=this.faces.length;i<o;i++)a=this.faces[i],a.vertexNormals[0]=s[a.a].clone(),a.vertexNormals[1]=s[a.b].clone(),a.vertexNormals[2]=s[a.c].clone()},computeMorphNormals:function(){var e,n,r,i,o;for(r=0,i=this.faces.length;r<i;r++)for(o=this.faces[r],o.__originalFaceNormal?o.__originalFaceNormal.copy(o.normal):o.__originalFaceNormal=o.normal.clone(),o.__originalVertexNormals||(o.__originalVertexNormals=[]),e=0,n=o.vertexNormals.length;e<n;e++)o.__originalVertexNormals[e]?o.__originalVertexNormals[e].copy(o.vertexNormals[e]):o.__originalVertexNormals[e]=o.vertexNormals[e].clone();var a=new t.Geometry;for(a.faces=this.faces,e=0,n=this.morphTargets.length;e<n;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var s,u,c=this.morphNormals[e].faceNormals,l=this.morphNormals[e].vertexNormals;for(r=0,i=this.faces.length;r<i;r++)s=new t.Vector3,u={a:new t.Vector3,b:new t.Vector3,c:new t.Vector3},c.push(s),l.push(u)}var h=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals();var s,u;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=h.faceNormals[r],u=h.vertexNormals[r],s.copy(o.normal),u.a.copy(o.vertexNormals[0]),u.b.copy(o.vertexNormals[1]),u.c.copy(o.vertexNormals[2])}for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],o.normal=o.__originalFaceNormal,o.vertexNormals=o.__originalVertexNormals},computeTangents:function(){function e(t,e,n,r,i,o,a){l=t.vertices[e],h=t.vertices[n],p=t.vertices[r],f=c[i],d=c[o],m=c[a],y=h.x-l.x,v=p.x-l.x,g=h.y-l.y,b=p.y-l.y,_=h.z-l.z,x=p.z-l.z,w=d.x-f.x,C=m.x-f.x,S=d.y-f.y,E=m.y-f.y,T=1/(w*E-C*S),O.set((E*y-S*v)*T,(E*g-S*b)*T,(E*_-S*x)*T),I.set((w*v-C*y)*T,(w*b-C*g)*T,(w*x-C*_)*T),k[e].add(O),k[n].add(O),k[r].add(O),R[e].add(I),R[n].add(I),R[r].add(I)}var n,r,i,o,a,s,u,c,l,h,p,f,d,m,y,v,g,b,_,x,w,C,S,E,T,M,A,P,k=[],R=[],O=new t.Vector3,I=new t.Vector3,N=new t.Vector3,D=new t.Vector3,L=new t.Vector3;for(i=0,o=this.vertices.length;i<o;i++)k[i]=new t.Vector3,R[i]=new t.Vector3;for(n=0,r=this.faces.length;n<r;n++)u=this.faces[n],c=this.faceVertexUvs[0][n],e(this,u.a,u.b,u.c,0,1,2);var V=["a","b","c","d"];for(n=0,r=this.faces.length;n<r;n++)for(u=this.faces[n],a=0;a<Math.min(u.vertexNormals.length,3);a++)L.copy(u.vertexNormals[a]),s=u[V[a]],M=k[s],N.copy(M),N.sub(L.multiplyScalar(L.dot(M))).normalize(),D.crossVectors(u.vertexNormals[a],M),A=D.dot(R[s]),P=A<0?-1:1,u.vertexTangents[a]=new t.Vector4(N.x,N.y,N.z,P);this.hasTangents=!0},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new t.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new t.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,n,r){if(e instanceof t.Geometry==!1)return void t.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var i,o=this.vertices.length,a=this.vertices,s=e.vertices,u=this.faces,c=e.faces,l=this.faceVertexUvs[0],h=e.faceVertexUvs[0];void 0===r&&(r=0),void 0!==n&&(i=(new t.Matrix3).getNormalMatrix(n));for(var p=0,f=s.length;p<f;p++){var d=s[p],m=d.clone();void 0!==n&&m.applyMatrix4(n),a.push(m)}for(p=0,f=c.length;p<f;p++){var y,v,g,b=c[p],_=b.vertexNormals,x=b.vertexColors;y=new t.Face3(b.a+o,b.b+o,b.c+o),y.normal.copy(b.normal),void 0!==i&&y.normal.applyMatrix3(i).normalize();for(var w=0,C=_.length;w<C;w++)v=_[w].clone(),void 0!==i&&v.applyMatrix3(i).normalize(),y.vertexNormals.push(v);y.color.copy(b.color);for(var w=0,C=x.length;w<C;w++)g=x[w],y.vertexColors.push(g.clone());y.materialIndex=b.materialIndex+r,u.push(y)}for(p=0,f=h.length;p<f;p++){var S=h[p],E=[];if(void 0!==S){for(var w=0,C=S.length;w<C;w++)E.push(S[w].clone());l.push(E)}}},mergeMesh:function(e){return e instanceof t.Mesh==!1?void t.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e):(e.matrixAutoUpdate&&e.updateMatrix(),void this.merge(e.geometry,e.matrix))},mergeVertices:function(){var t,e,n,r,i,o,a,s,u={},c=[],l=[],h=4,p=Math.pow(10,h);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],e=Math.round(t.x*p)+"_"+Math.round(t.y*p)+"_"+Math.round(t.z*p),void 0===u[e]?(u[e]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[e]];var f=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var d=-1,m=0;m<3;m++)if(o[m]==o[(m+1)%3]){d=m,f.push(n);break}}for(n=f.length-1;n>=0;n--){var y=f[n];for(this.faces.splice(y,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(y,1)}var v=this.vertices.length-c.length;return this.vertices=c,v},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==p[e]?p[e]:(p[e]=h.length/3,h.push(t.x,t.y,t.z),p[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==d[e]?d[e]:(d[e]=f.length,f.push(t.getHex()),d[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==y[e]?y[e]:(y[e]=m.length/2,m.push(t.x,t.y),y[e])}var i={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type};if(""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var c=this.vertices[u];s.push(c.x,c.y,c.z)}for(var l=[],h=[],p={},f=[],d={},m=[],y={},u=0;u<this.faces.length;u++){var v=this.faces[u],g=!1,b=!1,_=void 0!==this.faceVertexUvs[0][u],x=v.normal.length()>0,w=v.vertexNormals.length>0,C=1!==v.color.r||1!==v.color.g||1!==v.color.b,S=v.vertexColors.length>0,E=0;if(E=t(E,0,0),E=t(E,1,g),E=t(E,2,b),E=t(E,3,_),E=t(E,4,x),E=t(E,5,w),E=t(E,6,C),E=t(E,7,S),l.push(E),l.push(v.a,v.b,v.c),_){var T=this.faceVertexUvs[0][u];l.push(r(T[0]),r(T[1]),r(T[2]))}if(x&&l.push(e(v.normal)),w){var M=v.vertexNormals;l.push(e(M[0]),e(M[1]),e(M[2]))}if(C&&l.push(n(v.color)),S){var A=v.vertexColors;l.push(n(A[0]),n(A[1]),n(A[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,f.length>0&&(i.data.colors=f),m.length>0&&(i.data.uvs=[m]),i.data.faces=l,i},clone:function(){for(var e=new t.Geometry,n=this.vertices,r=0,i=n.length;r<i;r++)e.vertices.push(n[r].clone());for(var o=this.faces,r=0,i=o.length;r<i;r++)e.faces.push(o[r].clone());for(var r=0,i=this.faceVertexUvs.length;r<i;r++){var a=this.faceVertexUvs[r];void 0===e.faceVertexUvs[r]&&(e.faceVertexUvs[r]=[]);for(var s=0,u=a.length;s<u;s++){for(var c=a[s],l=[],h=0,p=c.length;h<p;h++){var f=c[h];l.push(f.clone())}e.faceVertexUvs[r].push(l)}}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},t.EventDispatcher.prototype.apply(t.Geometry.prototype),t.GeometryIdCount=0,t.Camera=function(){t.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new t.Matrix4,this.projectionMatrix=new t.Matrix4},t.Camera.prototype=Object.create(t.Object3D.prototype),t.Camera.prototype.constructor=t.Camera,t.Camera.prototype.getWorldDirection=function(){var e=new t.Quaternion;return function(n){var r=n||new t.Vector3;return this.getWorldQuaternion(e),r.set(0,0,-1).applyQuaternion(e)}}(),t.Camera.prototype.lookAt=function(){var e=new t.Matrix4;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),t.Camera.prototype.clone=function(e){return void 0===e&&(e=new t.Camera),t.Object3D.prototype.clone.call(this,e),e.matrixWorldInverse.copy(this.matrixWorldInverse),e.projectionMatrix.copy(this.projectionMatrix),e},t.CubeCamera=function(e,n,r){t.Object3D.call(this),this.type="CubeCamera";var i=90,o=1,a=new t.PerspectiveCamera(i,o,e,n);a.up.set(0,-1,0),a.lookAt(new t.Vector3(1,0,0)),this.add(a);var s=new t.PerspectiveCamera(i,o,e,n);s.up.set(0,-1,0),s.lookAt(new t.Vector3(-1,0,0)),this.add(s);var u=new t.PerspectiveCamera(i,o,e,n);u.up.set(0,0,1),u.lookAt(new t.Vector3(0,1,0)),this.add(u);var c=new t.PerspectiveCamera(i,o,e,n);c.up.set(0,0,-1),c.lookAt(new t.Vector3(0,-1,0)),this.add(c);var l=new t.PerspectiveCamera(i,o,e,n);l.up.set(0,-1,0),l.lookAt(new t.Vector3(0,0,1)),this.add(l);var h=new t.PerspectiveCamera(i,o,e,n);h.up.set(0,-1,0),h.lookAt(new t.Vector3(0,0,-1)),this.add(h),this.renderTarget=new t.WebGLRenderTargetCube(r,r,{format:t.RGBFormat,magFilter:t.LinearFilter,minFilter:t.LinearFilter}),this.updateCubeMap=function(t,e){var n=this.renderTarget,r=n.generateMipmaps;n.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,a,n),n.activeCubeFace=1,t.render(e,s,n),n.activeCubeFace=2,t.render(e,u,n),n.activeCubeFace=3,t.render(e,c,n),n.activeCubeFace=4,t.render(e,l,n),n.generateMipmaps=r,n.activeCubeFace=5,t.render(e,h,n)}},t.CubeCamera.prototype=Object.create(t.Object3D.prototype),t.CubeCamera.prototype.constructor=t.CubeCamera,t.OrthographicCamera=function(e,n,r,i,o,a){t.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=void 0!==o?o:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()},t.OrthographicCamera.prototype=Object.create(t.Camera.prototype),t.OrthographicCamera.prototype.constructor=t.OrthographicCamera,t.OrthographicCamera.prototype.updateProjectionMatrix=function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(n-t,n+t,r+e,r-e,this.near,this.far)},t.OrthographicCamera.prototype.clone=function(){var e=new t.OrthographicCamera;return t.Camera.prototype.clone.call(this,e),e.zoom=this.zoom,e.left=this.left,e.right=this.right,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e.projectionMatrix.copy(this.projectionMatrix),e},t.PerspectiveCamera=function(e,n,r,i){t.Camera.call(this),this.type="PerspectiveCamera",this.zoom=1,this.fov=void 0!==e?e:50,this.aspect=void 0!==n?n:1,this.near=void 0!==r?r:.1,this.far=void 0!==i?i:2e3,this.updateProjectionMatrix()},t.PerspectiveCamera.prototype=Object.create(t.Camera.prototype),t.PerspectiveCamera.prototype.constructor=t.PerspectiveCamera,t.PerspectiveCamera.prototype.setLens=function(e,n){void 0===n&&(n=24),this.fov=2*t.Math.radToDeg(Math.atan(n/(2*e))),this.updateProjectionMatrix()},t.PerspectiveCamera.prototype.setViewOffset=function(t,e,n,r,i,o){this.fullWidth=t,this.fullHeight=e,this.x=n,this.y=r,this.width=i,this.height=o,this.updateProjectionMatrix()},t.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var e=t.Math.radToDeg(2*Math.atan(Math.tan(.5*t.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var n=this.fullWidth/this.fullHeight,r=Math.tan(t.Math.degToRad(.5*e))*this.near,i=-r,o=n*i,a=n*r,s=Math.abs(a-o),u=Math.abs(r-i);this.projectionMatrix.makeFrustum(o+this.x*s/this.fullWidth,o+(this.x+this.width)*s/this.fullWidth,r-(this.y+this.height)*u/this.fullHeight,r-this.y*u/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(e,this.aspect,this.near,this.far)},t.PerspectiveCamera.prototype.clone=function(){var e=new t.PerspectiveCamera;return t.Camera.prototype.clone.call(this,e),e.zoom=this.zoom,e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e.projectionMatrix.copy(this.projectionMatrix),e},t.Light=function(e){t.Object3D.call(this),this.type="Light",this.color=new t.Color(e)},t.Light.prototype=Object.create(t.Object3D.prototype),t.Light.prototype.constructor=t.Light,t.Light.prototype.clone=function(e){return void 0===e&&(e=new t.Light),t.Object3D.prototype.clone.call(this,e),e.color.copy(this.color),e},t.AmbientLight=function(e){t.Light.call(this,e),this.type="AmbientLight"},t.AmbientLight.prototype=Object.create(t.Light.prototype),t.AmbientLight.prototype.constructor=t.AmbientLight,t.AmbientLight.prototype.clone=function(){var e=new t.AmbientLight;return t.Light.prototype.clone.call(this,e),e},t.AreaLight=function(e,n){t.Light.call(this,e),this.type="AreaLight",this.normal=new t.Vector3(0,-1,0),this.right=new t.Vector3(1,0,0),this.intensity=void 0!==n?n:1,this.width=1,this.height=1,this.constantAttenuation=1.5,this.linearAttenuation=.5,this.quadraticAttenuation=.1},t.AreaLight.prototype=Object.create(t.Light.prototype),t.AreaLight.prototype.constructor=t.AreaLight,t.DirectionalLight=function(e,n){t.Light.call(this,e),this.type="DirectionalLight",this.position.set(0,1,0),this.target=new t.Object3D,this.intensity=void 0!==n?n:1,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraRight=500,this.shadowCameraTop=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowCascade=!1,this.shadowCascadeOffset=new t.Vector3(0,0,-1e3),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,.99,.998],this.shadowCascadeFarZ=[.99,.998,1],this.shadowCascadeArray=[],this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},t.DirectionalLight.prototype=Object.create(t.Light.prototype),t.DirectionalLight.prototype.constructor=t.DirectionalLight,t.DirectionalLight.prototype.clone=function(){var e=new t.DirectionalLight;return t.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e.shadowCameraNear=this.shadowCameraNear,e.shadowCameraFar=this.shadowCameraFar,e.shadowCameraLeft=this.shadowCameraLeft,e.shadowCameraRight=this.shadowCameraRight,e.shadowCameraTop=this.shadowCameraTop,e.shadowCameraBottom=this.shadowCameraBottom,e.shadowCameraVisible=this.shadowCameraVisible,e.shadowBias=this.shadowBias,e.shadowDarkness=this.shadowDarkness,e.shadowMapWidth=this.shadowMapWidth,e.shadowMapHeight=this.shadowMapHeight,e.shadowCascade=this.shadowCascade,e.shadowCascadeOffset.copy(this.shadowCascadeOffset),e.shadowCascadeCount=this.shadowCascadeCount,e.shadowCascadeBias=this.shadowCascadeBias.slice(0),e.shadowCascadeWidth=this.shadowCascadeWidth.slice(0),e.shadowCascadeHeight=this.shadowCascadeHeight.slice(0),e.shadowCascadeNearZ=this.shadowCascadeNearZ.slice(0),e.shadowCascadeFarZ=this.shadowCascadeFarZ.slice(0),e},t.HemisphereLight=function(e,n,r){t.Light.call(this,e),this.type="HemisphereLight",this.position.set(0,100,0),this.groundColor=new t.Color(n),this.intensity=void 0!==r?r:1},t.HemisphereLight.prototype=Object.create(t.Light.prototype),t.HemisphereLight.prototype.constructor=t.HemisphereLight,t.HemisphereLight.prototype.clone=function(){var e=new t.HemisphereLight;return t.Light.prototype.clone.call(this,e),e.groundColor.copy(this.groundColor),e.intensity=this.intensity,e},t.PointLight=function(e,n,r,i){t.Light.call(this,e),this.type="PointLight",this.intensity=void 0!==n?n:1,this.distance=void 0!==r?r:0,this.decay=void 0!==i?i:1},t.PointLight.prototype=Object.create(t.Light.prototype),t.PointLight.prototype.constructor=t.PointLight,t.PointLight.prototype.clone=function(){var e=new t.PointLight;return t.Light.prototype.clone.call(this,e),e.intensity=this.intensity,e.distance=this.distance,e.decay=this.decay,e},t.SpotLight=function(e,n,r,i,o,a){t.Light.call(this,e),this.type="SpotLight",this.position.set(0,1,0),this.target=new t.Object3D,this.intensity=void 0!==n?n:1,this.distance=void 0!==r?r:0,this.angle=void 0!==i?i:Math.PI/3,this.exponent=void 0!==o?o:10,this.decay=void 0!==a?a:1,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},t.SpotLight.prototype=Object.create(t.Light.prototype),t.SpotLight.prototype.constructor=t.SpotLight,t.SpotLight.prototype.clone=function(){var e=new t.SpotLight;return t.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.distance=this.distance,e.angle=this.angle,e.exponent=this.exponent,e.decay=this.decay,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e.shadowCameraNear=this.shadowCameraNear,e.shadowCameraFar=this.shadowCameraFar,e.shadowCameraFov=this.shadowCameraFov,e.shadowCameraVisible=this.shadowCameraVisible,e.shadowBias=this.shadowBias,e.shadowDarkness=this.shadowDarkness,e.shadowMapWidth=this.shadowMapWidth,e.shadowMapHeight=this.shadowMapHeight,e},t.Cache={files:{},add:function(t,e){this.files[t]=e},get:function(t){return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},t.Loader=function(e){this.showStatus=e,this.statusDomElement=e?t.Loader.prototype.addStatusElement():null,this.imageLoader=new t.ImageLoader,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},t.Loader.prototype={constructor:t.Loader,crossOrigin:void 0,addStatusElement:function(){var t=document.createElement("div");return t.style.position="absolute",t.style.right="0px",t.style.top="0px",t.style.fontSize="0.8em",t.style.textAlign="left",t.style.background="rgba(0,0,0,0.25)",t.style.color="#fff",t.style.width="120px",t.style.padding="0.5em 0.5em 0.5em 0.5em",t.style.zIndex=1e3,t.innerHTML="Loading ...",t},updateProgress:function(t){var e="Loaded ";e+=t.total?(100*t.loaded/t.total).toFixed(0)+"%":(t.loaded/1024).toFixed(2)+" KB",this.statusDomElement.innerHTML=e},extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e){for(var n=[],r=0;r<t.length;++r)n[r]=this.createMaterial(t[r],e);return n},needsTangents:function(e){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i instanceof t.ShaderMaterial)return!0}return!1},createMaterial:function(e,n){function r(t){var e=Math.log(t)/Math.LN2;return Math.pow(2,Math.round(e))}function i(e,i,o,s,u,c,l){var h,p=n+o,f=t.Loader.Handlers.get(p);if(null!==f?h=f.load(p):(h=new t.Texture,f=a.imageLoader,f.crossOrigin=a.crossOrigin,f.load(p,function(e){if(t.Math.isPowerOfTwo(e.width)===!1||t.Math.isPowerOfTwo(e.height)===!1){var n=r(e.width),i=r(e.height),o=document.createElement("canvas");o.width=n,o.height=i;var a=o.getContext("2d");a.drawImage(e,0,0,n,i),h.image=o}else h.image=e;h.needsUpdate=!0})),h.sourceFile=o,s&&(h.repeat.set(s[0],s[1]),1!==s[0]&&(h.wrapS=t.RepeatWrapping),1!==s[1]&&(h.wrapT=t.RepeatWrapping)),u&&h.offset.set(u[0],u[1]),c){var d={repeat:t.RepeatWrapping,mirror:t.MirroredRepeatWrapping};void 0!==d[c[0]]&&(h.wrapS=d[c[0]]),void 0!==d[c[1]]&&(h.wrapT=d[c[1]])}l&&(h.anisotropy=l),e[i]=h}function o(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]}var a=this,s="MeshLambertMaterial",u={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(e.shading){var c=e.shading.toLowerCase();"phong"===c?s="MeshPhongMaterial":"basic"===c&&(s="MeshBasicMaterial")}void 0!==e.blending&&void 0!==t[e.blending]&&(u.blending=t[e.blending]),void 0!==e.transparent&&(u.transparent=e.transparent),void 0!==e.opacity&&e.opacity<1&&(u.transparent=!0),void 0!==e.depthTest&&(u.depthTest=e.depthTest),void 0!==e.depthWrite&&(u.depthWrite=e.depthWrite),void 0!==e.visible&&(u.visible=e.visible),void 0!==e.flipSided&&(u.side=t.BackSide),void 0!==e.doubleSided&&(u.side=t.DoubleSide),void 0!==e.wireframe&&(u.wireframe=e.wireframe),void 0!==e.vertexColors&&("face"===e.vertexColors?u.vertexColors=t.FaceColors:e.vertexColors&&(u.vertexColors=t.VertexColors)),e.colorDiffuse?u.color=o(e.colorDiffuse):e.DbgColor&&(u.color=e.DbgColor),e.colorSpecular&&(u.specular=o(e.colorSpecular)),e.colorEmissive&&(u.emissive=o(e.colorEmissive)),void 0!==e.transparency&&(console.warn("THREE.Loader: transparency has been renamed to opacity"),e.opacity=e.transparency),void 0!==e.opacity&&(u.opacity=e.opacity),e.specularCoef&&(u.shininess=e.specularCoef),e.mapDiffuse&&n&&i(u,"map",e.mapDiffuse,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy),e.mapLight&&n&&i(u,"lightMap",e.mapLight,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy),e.mapBump&&n&&i(u,"bumpMap",e.mapBump,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy),e.mapNormal&&n&&i(u,"normalMap",e.mapNormal,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy),e.mapSpecular&&n&&i(u,"specularMap",e.mapSpecular,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy),e.mapAlpha&&n&&i(u,"alphaMap",e.mapAlpha,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy),e.mapBumpScale&&(u.bumpScale=e.mapBumpScale),e.mapNormalFactor&&(u.normalScale=new t.Vector2(e.mapNormalFactor,e.mapNormalFactor));var l=new t[s](u);return void 0!==e.DbgName&&(l.name=e.DbgName),l}},t.Loader.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=0,n=this.handlers.length;e<n;e+=2){var r=this.handlers[e],i=this.handlers[e+1];if(r.test(t))return i}return null}},t.XHRLoader=function(e){this.manager=void 0!==e?e:t.DefaultLoadingManager},t.XHRLoader.prototype={constructor:t.XHRLoader,load:function(e,n,r,i){var o=this,a=t.Cache.get(e);if(void 0!==a)return void(n&&n(a));var s=new XMLHttpRequest;s.open("GET",e,!0),s.addEventListener("load",function(r){t.Cache.add(e,this.response),n&&n(this.response),o.manager.itemEnd(e)},!1),
void 0!==r&&s.addEventListener("progress",function(t){r(t)},!1),void 0!==i&&s.addEventListener("error",function(t){i(t)},!1),void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(s.responseType=this.responseType),s.send(null),o.manager.itemStart(e)},setResponseType:function(t){this.responseType=t},setCrossOrigin:function(t){this.crossOrigin=t}},t.ImageLoader=function(e){this.manager=void 0!==e?e:t.DefaultLoadingManager},t.ImageLoader.prototype={constructor:t.ImageLoader,load:function(e,n,r,i){var o=this,a=t.Cache.get(e);if(void 0!==a)return void n(a);var s=document.createElement("img");return s.addEventListener("load",function(r){t.Cache.add(e,this),n&&n(this),o.manager.itemEnd(e)},!1),void 0!==r&&s.addEventListener("progress",function(t){r(t)},!1),void 0!==i&&s.addEventListener("error",function(t){i(t)},!1),void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),s.src=e,o.manager.itemStart(e),s},setCrossOrigin:function(t){this.crossOrigin=t}},t.JSONLoader=function(e){t.Loader.call(this,e),this.withCredentials=!1},t.JSONLoader.prototype=Object.create(t.Loader.prototype),t.JSONLoader.prototype.constructor=t.JSONLoader,t.JSONLoader.prototype.load=function(t,e,n){n=n&&"string"==typeof n?n:this.extractUrlBase(t),this.onLoadStart(),this.loadAjaxJSON(this,t,e,n)},t.JSONLoader.prototype.loadAjaxJSON=function(e,n,r,i,o){var a=new XMLHttpRequest,s=0;a.onreadystatechange=function(){if(a.readyState===a.DONE)if(200===a.status||0===a.status){if(a.responseText){var u=JSON.parse(a.responseText),c=u.metadata;if(void 0!==c){if("object"===c.type)return void t.error("THREE.JSONLoader: "+n+" should be loaded with THREE.ObjectLoader instead.");if("scene"===c.type)return void t.error("THREE.JSONLoader: "+n+" seems to be a Scene. Use THREE.SceneLoader instead.")}var l=e.parse(u,i);r(l.geometry,l.materials)}else t.error("THREE.JSONLoader: "+n+" seems to be unreachable or the file is empty.");e.onLoadComplete()}else t.error("THREE.JSONLoader: Couldn't load "+n+" ("+a.status+")");else a.readyState===a.LOADING?o&&(0===s&&(s=a.getResponseHeader("Content-Length")),o({total:s,loaded:a.responseText.length})):a.readyState===a.HEADERS_RECEIVED&&void 0!==o&&(s=a.getResponseHeader("Content-Length"))},a.open("GET",n,!0),a.withCredentials=this.withCredentials,a.send(null)},t.JSONLoader.prototype.parse=function(e,n){function r(n){function r(t,e){return t&1<<e}var i,o,s,u,c,l,h,p,f,d,m,y,v,g,b,_,x,w,C,S,E,T,M,A,P,k,R,O=e.faces,I=e.vertices,N=e.normals,D=e.colors,L=0;if(void 0!==e.uvs){for(i=0;i<e.uvs.length;i++)e.uvs[i].length&&L++;for(i=0;i<L;i++)a.faceVertexUvs[i]=[]}for(u=0,c=I.length;u<c;)w=new t.Vector3,w.x=I[u++]*n,w.y=I[u++]*n,w.z=I[u++]*n,a.vertices.push(w);for(u=0,c=O.length;u<c;)if(d=O[u++],m=r(d,0),y=r(d,1),v=r(d,3),g=r(d,4),b=r(d,5),_=r(d,6),x=r(d,7),m){if(S=new t.Face3,S.a=O[u],S.b=O[u+1],S.c=O[u+3],E=new t.Face3,E.a=O[u+1],E.b=O[u+2],E.c=O[u+3],u+=4,y&&(f=O[u++],S.materialIndex=f,E.materialIndex=f),s=a.faces.length,v)for(i=0;i<L;i++)for(A=e.uvs[i],a.faceVertexUvs[i][s]=[],a.faceVertexUvs[i][s+1]=[],o=0;o<4;o++)p=O[u++],k=A[2*p],R=A[2*p+1],P=new t.Vector2(k,R),2!==o&&a.faceVertexUvs[i][s].push(P),0!==o&&a.faceVertexUvs[i][s+1].push(P);if(g&&(h=3*O[u++],S.normal.set(N[h++],N[h++],N[h]),E.normal.copy(S.normal)),b)for(i=0;i<4;i++)h=3*O[u++],M=new t.Vector3(N[h++],N[h++],N[h]),2!==i&&S.vertexNormals.push(M),0!==i&&E.vertexNormals.push(M);if(_&&(l=O[u++],T=D[l],S.color.setHex(T),E.color.setHex(T)),x)for(i=0;i<4;i++)l=O[u++],T=D[l],2!==i&&S.vertexColors.push(new t.Color(T)),0!==i&&E.vertexColors.push(new t.Color(T));a.faces.push(S),a.faces.push(E)}else{if(C=new t.Face3,C.a=O[u++],C.b=O[u++],C.c=O[u++],y&&(f=O[u++],C.materialIndex=f),s=a.faces.length,v)for(i=0;i<L;i++)for(A=e.uvs[i],a.faceVertexUvs[i][s]=[],o=0;o<3;o++)p=O[u++],k=A[2*p],R=A[2*p+1],P=new t.Vector2(k,R),a.faceVertexUvs[i][s].push(P);if(g&&(h=3*O[u++],C.normal.set(N[h++],N[h++],N[h])),b)for(i=0;i<3;i++)h=3*O[u++],M=new t.Vector3(N[h++],N[h++],N[h]),C.vertexNormals.push(M);if(_&&(l=O[u++],C.color.setHex(D[l])),x)for(i=0;i<3;i++)l=O[u++],C.vertexColors.push(new t.Color(D[l]));a.faces.push(C)}}function i(){var n=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var r=0,i=e.skinWeights.length;r<i;r+=n){var o=e.skinWeights[r],s=n>1?e.skinWeights[r+1]:0,u=n>2?e.skinWeights[r+2]:0,c=n>3?e.skinWeights[r+3]:0;a.skinWeights.push(new t.Vector4(o,s,u,c))}if(e.skinIndices)for(var r=0,i=e.skinIndices.length;r<i;r+=n){var l=e.skinIndices[r],h=n>1?e.skinIndices[r+1]:0,p=n>2?e.skinIndices[r+2]:0,f=n>3?e.skinIndices[r+3]:0;a.skinIndices.push(new t.Vector4(l,h,p,f))}a.bones=e.bones,a.bones&&a.bones.length>0&&(a.skinWeights.length!==a.skinIndices.length||a.skinIndices.length!==a.vertices.length)&&t.warn("THREE.JSONLoader: When skinning, number of vertices ("+a.vertices.length+"), skinIndices ("+a.skinIndices.length+"), and skinWeights ("+a.skinWeights.length+") should match."),a.animation=e.animation,a.animations=e.animations}function o(n){if(void 0!==e.morphTargets){var r,i,o,s,u,c;for(r=0,i=e.morphTargets.length;r<i;r++)for(a.morphTargets[r]={},a.morphTargets[r].name=e.morphTargets[r].name,a.morphTargets[r].vertices=[],u=a.morphTargets[r].vertices,c=e.morphTargets[r].vertices,o=0,s=c.length;o<s;o+=3){var l=new t.Vector3;l.x=c[o]*n,l.y=c[o+1]*n,l.z=c[o+2]*n,u.push(l)}}if(void 0!==e.morphColors){var r,i,h,p,f,d,m;for(r=0,i=e.morphColors.length;r<i;r++)for(a.morphColors[r]={},a.morphColors[r].name=e.morphColors[r].name,a.morphColors[r].colors=[],f=a.morphColors[r].colors,d=e.morphColors[r].colors,h=0,p=d.length;h<p;h+=3)m=new t.Color(16755200),m.setRGB(d[h],d[h+1],d[h+2]),f.push(m)}}var a=new t.Geometry,s=void 0!==e.scale?1/e.scale:1;if(r(s),i(),o(s),a.computeFaceNormals(),a.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:a};var u=this.initMaterials(e.materials,n);return this.needsTangents(u)&&a.computeTangents(),{geometry:a,materials:u}},t.LoadingManager=function(t,e,n){var r=this,i=0,o=0;this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++},this.itemEnd=function(t){i++,void 0!==r.onProgress&&r.onProgress(t,i,o),i===o&&void 0!==r.onLoad&&r.onLoad()}},t.DefaultLoadingManager=new t.LoadingManager,t.BufferGeometryLoader=function(e){this.manager=void 0!==e?e:t.DefaultLoadingManager},t.BufferGeometryLoader.prototype={constructor:t.BufferGeometryLoader,load:function(e,n,r,i){var o=this,a=new t.XHRLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(t){n(o.parse(JSON.parse(t)))},r,i)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(e){var n=new t.BufferGeometry,r=e.data.attributes;for(var i in r){var o=r[i],a=new self[o.type](o.array);n.addAttribute(i,new t.BufferAttribute(a,o.itemSize))}var s=e.data.offsets;void 0!==s&&(n.offsets=JSON.parse(JSON.stringify(s)));var u=e.data.boundingSphere;if(void 0!==u){var c=new t.Vector3;void 0!==u.center&&c.fromArray(u.center),n.boundingSphere=new t.Sphere(c,u.radius)}return n}},t.MaterialLoader=function(e){this.manager=void 0!==e?e:t.DefaultLoadingManager},t.MaterialLoader.prototype={constructor:t.MaterialLoader,load:function(e,n,r,i){var o=this,a=new t.XHRLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(t){n(o.parse(JSON.parse(t)))},r,i)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(e){var n=new t[e.type];if(void 0!==e.color&&n.color.setHex(e.color),void 0!==e.emissive&&n.emissive.setHex(e.emissive),void 0!==e.specular&&n.specular.setHex(e.specular),void 0!==e.shininess&&(n.shininess=e.shininess),void 0!==e.uniforms&&(n.uniforms=e.uniforms),void 0!==e.vertexShader&&(n.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(n.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(n.vertexColors=e.vertexColors),void 0!==e.shading&&(n.shading=e.shading),void 0!==e.blending&&(n.blending=e.blending),void 0!==e.side&&(n.side=e.side),void 0!==e.opacity&&(n.opacity=e.opacity),void 0!==e.transparent&&(n.transparent=e.transparent),void 0!==e.wireframe&&(n.wireframe=e.wireframe),void 0!==e.size&&(n.size=e.size),void 0!==e.sizeAttenuation&&(n.sizeAttenuation=e.sizeAttenuation),void 0!==e.materials)for(var r=0,i=e.materials.length;r<i;r++)n.materials.push(this.parse(e.materials[r]));return n}},t.ObjectLoader=function(e){this.manager=void 0!==e?e:t.DefaultLoadingManager,this.texturePath=""},t.ObjectLoader.prototype={constructor:t.ObjectLoader,load:function(e,n,r,i){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var o=this,a=new t.XHRLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(t){o.parse(JSON.parse(t),n)},r,i)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(e){var n={};if(void 0!==e)for(var r=new t.JSONLoader,i=new t.BufferGeometryLoader,o=0,a=e.length;o<a;o++){var s,u=e[o];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new t[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"CubeGeometry":s=new t.BoxGeometry(u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleGeometry":s=new t.CircleGeometry(u.radius,u.segments);break;case"CylinderGeometry":s=new t.CylinderGeometry(u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded);break;case"SphereGeometry":s=new t.SphereGeometry(u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"IcosahedronGeometry":s=new t.IcosahedronGeometry(u.radius,u.detail);break;case"TorusGeometry":s=new t.TorusGeometry(u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":s=new t.TorusKnotGeometry(u.radius,u.tube,u.radialSegments,u.tubularSegments,u.p,u.q,u.heightScale);break;case"BufferGeometry":s=i.parse(u);break;case"Geometry":s=r.parse(u.data).geometry}s.uuid=u.uuid,void 0!==u.name&&(s.name=u.name),n[u.uuid]=s}return n},parseMaterials:function(e,n){var r={};if(void 0!==e)for(var i=function(e){return void 0===n[e]&&t.warn("THREE.ObjectLoader: Undefined texture",e),n[e]},o=new t.MaterialLoader,a=0,s=e.length;a<s;a++){var u=e[a],c=o.parse(u);c.uuid=u.uuid,void 0!==u.name&&(c.name=u.name),void 0!==u.map&&(c.map=i(u.map)),void 0!==u.bumpMap&&(c.bumpMap=i(u.bumpMap),u.bumpScale&&(c.bumpScale=new t.Vector2(u.bumpScale,u.bumpScale))),void 0!==u.alphaMap&&(c.alphaMap=i(u.alphaMap)),void 0!==u.envMap&&(c.envMap=i(u.envMap)),void 0!==u.normalMap&&(c.normalMap=i(u.normalMap),u.normalScale&&(c.normalScale=new t.Vector2(u.normalScale,u.normalScale))),void 0!==u.lightMap&&(c.lightMap=i(u.lightMap)),void 0!==u.specularMap&&(c.specularMap=i(u.specularMap)),r[u.uuid]=c}return r},parseImages:function(e,n){var r=this,i={};if(void 0!==e&&e.length>0){var o=new t.LoadingManager(n),a=new t.ImageLoader(o);a.setCrossOrigin(this.crossOrigin);for(var s=function(t){return r.manager.itemStart(t),a.load(t,function(){r.manager.itemEnd(t)})},u=0,c=e.length;u<c;u++){var l=e[u],h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:r.texturePath+l.url;i[l.uuid]=s(h)}}return i},parseTextures:function(e,n){var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=e[i];void 0===a.image&&t.warn('THREE.ObjectLoader: No "image" speficied for',a.uuid),void 0===n[a.image]&&t.warn("THREE.ObjectLoader: Undefined image",a.image);var s=new t.Texture(n[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.repeat&&(s.repeat=new t.Vector2(a.repeat[0],a.repeat[1])),void 0!==a.minFilter&&(s.minFilter=t[a.minFilter]),void 0!==a.magFilter&&(s.magFilter=t[a.magFilter]),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),a.wrap instanceof Array&&(s.wrapS=t[a.wrap[0]],s.wrapT=t[a.wrap[1]]),r[a.uuid]=s}return r},parseObject:function(){var e=new t.Matrix4;return function(n,r,i){var o,a=function(e){return void 0===r[e]&&t.warn("THREE.ObjectLoader: Undefined geometry",e),r[e]},s=function(e){return void 0===i[e]&&t.warn("THREE.ObjectLoader: Undefined material",e),i[e]};switch(n.type){case"Scene":o=new t.Scene;break;case"PerspectiveCamera":o=new t.PerspectiveCamera(n.fov,n.aspect,n.near,n.far);break;case"OrthographicCamera":o=new t.OrthographicCamera(n.left,n.right,n.top,n.bottom,n.near,n.far);break;case"AmbientLight":o=new t.AmbientLight(n.color);break;case"DirectionalLight":o=new t.DirectionalLight(n.color,n.intensity);break;case"PointLight":o=new t.PointLight(n.color,n.intensity,n.distance,n.decay);break;case"SpotLight":o=new t.SpotLight(n.color,n.intensity,n.distance,n.angle,n.exponent,n.decay);break;case"HemisphereLight":o=new t.HemisphereLight(n.color,n.groundColor,n.intensity);break;case"Mesh":o=new t.Mesh(a(n.geometry),s(n.material));break;case"Line":o=new t.Line(a(n.geometry),s(n.material),n.mode);break;case"PointCloud":o=new t.PointCloud(a(n.geometry),s(n.material));break;case"Sprite":o=new t.Sprite(s(n.material));break;case"Group":o=new t.Group;break;default:o=new t.Object3D}if(o.uuid=n.uuid,void 0!==n.name&&(o.name=n.name),void 0!==n.matrix?(e.fromArray(n.matrix),e.decompose(o.position,o.quaternion,o.scale)):(void 0!==n.position&&o.position.fromArray(n.position),void 0!==n.rotation&&o.rotation.fromArray(n.rotation),void 0!==n.scale&&o.scale.fromArray(n.scale)),void 0!==n.visible&&(o.visible=n.visible),void 0!==n.userData&&(o.userData=n.userData),void 0!==n.children)for(var u in n.children)o.add(this.parseObject(n.children[u],r,i));return o}}()},t.TextureLoader=function(e){this.manager=void 0!==e?e:t.DefaultLoadingManager},t.TextureLoader.prototype={constructor:t.TextureLoader,load:function(e,n,r,i){var o=this,a=new t.ImageLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){var r=new t.Texture(e);r.needsUpdate=!0,void 0!==n&&n(r)},r,i)},setCrossOrigin:function(t){this.crossOrigin=t}},t.DataTextureLoader=t.BinaryTextureLoader=function(){this._parser=null},t.BinaryTextureLoader.prototype={constructor:t.BinaryTextureLoader,load:function(e,n,r,i){var o=this,a=new t.DataTexture,s=new t.XHRLoader;return s.setResponseType("arraybuffer"),s.load(e,function(e){var r=o._parser(e);r&&(void 0!==r.image?a.image=r.image:void 0!==r.data&&(a.image.width=r.width,a.image.height=r.height,a.image.data=r.data),a.wrapS=void 0!==r.wrapS?r.wrapS:t.ClampToEdgeWrapping,a.wrapT=void 0!==r.wrapT?r.wrapT:t.ClampToEdgeWrapping,a.magFilter=void 0!==r.magFilter?r.magFilter:t.LinearFilter,a.minFilter=void 0!==r.minFilter?r.minFilter:t.LinearMipMapLinearFilter,a.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(a.format=r.format),void 0!==r.type&&(a.type=r.type),void 0!==r.mipmaps&&(a.mipmaps=r.mipmaps),1===r.mipmapCount&&(a.minFilter=t.LinearFilter),a.needsUpdate=!0,n&&n(a,r))},r,i),a}},t.CompressedTextureLoader=function(){this._parser=null},t.CompressedTextureLoader.prototype={constructor:t.CompressedTextureLoader,load:function(e,n,r){var i=this,o=[],a=new t.CompressedTexture;a.image=o;var s=new t.XHRLoader;if(s.setResponseType("arraybuffer"),e instanceof Array)for(var u=0,c=function(r){s.load(e[r],function(e){var s=i._parser(e,!0);o[r]={width:s.width,height:s.height,format:s.format,mipmaps:s.mipmaps},u+=1,6===u&&(1==s.mipmapCount&&(a.minFilter=t.LinearFilter),a.format=s.format,a.needsUpdate=!0,n&&n(a))})},l=0,h=e.length;l<h;++l)c(l);else s.load(e,function(e){var r=i._parser(e,!0);if(r.isCubemap)for(var s=r.mipmaps.length/r.mipmapCount,u=0;u<s;u++){o[u]={mipmaps:[]};for(var c=0;c<r.mipmapCount;c++)o[u].mipmaps.push(r.mipmaps[u*r.mipmapCount+c]),o[u].format=r.format,o[u].width=r.width,o[u].height=r.height}else a.image.width=r.width,a.image.height=r.height,a.mipmaps=r.mipmaps;1===r.mipmapCount&&(a.minFilter=t.LinearFilter),a.format=r.format,a.needsUpdate=!0,n&&n(a)});return a}},t.Material=function(){Object.defineProperty(this,"id",{value:t.MaterialIdCount++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="Material",this.side=t.FrontSide,this.opacity=1,this.transparent=!1,this.blending=t.NormalBlending,this.blendSrc=t.SrcAlphaFactor,this.blendDst=t.OneMinusSrcAlphaFactor,this.blendEquation=t.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthTest=!0,this.depthWrite=!0,this.colorWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},t.Material.prototype={constructor:t.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){t===!0&&this.update(),this._needsUpdate=t},setValues:function(e){if(void 0!==e)for(var n in e){var r=e[n];if(void 0!==r){if(n in this){var i=this[n];i instanceof t.Color?i.set(r):i instanceof t.Vector3&&r instanceof t.Vector3?i.copy(r):"overdraw"==n?this[n]=Number(r):this[n]=r}}else t.warn("THREE.Material: '"+n+"' parameter is undefined.")}},toJSON:function(){var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type};return""!==this.name&&(e.name=this.name),this instanceof t.MeshBasicMaterial?(e.color=this.color.getHex(),this.vertexColors!==t.NoColors&&(e.vertexColors=this.vertexColors),this.blending!==t.NormalBlending&&(e.blending=this.blending),this.side!==t.FrontSide&&(e.side=this.side)):this instanceof t.MeshLambertMaterial?(e.color=this.color.getHex(),e.emissive=this.emissive.getHex(),this.vertexColors!==t.NoColors&&(e.vertexColors=this.vertexColors),this.shading!==t.SmoothShading&&(e.shading=this.shading),this.blending!==t.NormalBlending&&(e.blending=this.blending),this.side!==t.FrontSide&&(e.side=this.side)):this instanceof t.MeshPhongMaterial?(e.color=this.color.getHex(),e.emissive=this.emissive.getHex(),e.specular=this.specular.getHex(),e.shininess=this.shininess,this.vertexColors!==t.NoColors&&(e.vertexColors=this.vertexColors),this.shading!==t.SmoothShading&&(e.shading=this.shading),this.blending!==t.NormalBlending&&(e.blending=this.blending),this.side!==t.FrontSide&&(e.side=this.side)):this instanceof t.MeshNormalMaterial?(this.blending!==t.NormalBlending&&(e.blending=this.blending),this.side!==t.FrontSide&&(e.side=this.side)):this instanceof t.MeshDepthMaterial?(this.blending!==t.NormalBlending&&(e.blending=this.blending),this.side!==t.FrontSide&&(e.side=this.side)):this instanceof t.PointCloudMaterial?(e.size=this.size,e.sizeAttenuation=this.sizeAttenuation,e.color=this.color.getHex(),this.vertexColors!==t.NoColors&&(e.vertexColors=this.vertexColors),this.blending!==t.NormalBlending&&(e.blending=this.blending)):this instanceof t.ShaderMaterial?(e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader):this instanceof t.SpriteMaterial&&(e.color=this.color.getHex()),this.opacity<1&&(e.opacity=this.opacity),this.transparent!==!1&&(e.transparent=this.transparent),this.wireframe!==!1&&(e.wireframe=this.wireframe),e},clone:function(e){return void 0===e&&(e=new t.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.blending=this.blending,e.blendSrc=this.blendSrc,e.blendDst=this.blendDst,e.blendEquation=this.blendEquation,e.blendSrcAlpha=this.blendSrcAlpha,e.blendDstAlpha=this.blendDstAlpha,e.blendEquationAlpha=this.blendEquationAlpha,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},t.EventDispatcher.prototype.apply(t.Material.prototype),t.MaterialIdCount=0,t.LineBasicMaterial=function(e){t.Material.call(this),this.type="LineBasicMaterial",this.color=new t.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=t.NoColors,this.fog=!0,this.setValues(e)},t.LineBasicMaterial.prototype=Object.create(t.Material.prototype),t.LineBasicMaterial.prototype.constructor=t.LineBasicMaterial,t.LineBasicMaterial.prototype.clone=function(){var e=new t.LineBasicMaterial;return t.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.linecap=this.linecap,e.linejoin=this.linejoin,e.vertexColors=this.vertexColors,e.fog=this.fog,e},t.LineDashedMaterial=function(e){t.Material.call(this),this.type="LineDashedMaterial",this.color=new t.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(e)},t.LineDashedMaterial.prototype=Object.create(t.Material.prototype),t.LineDashedMaterial.prototype.constructor=t.LineDashedMaterial,t.LineDashedMaterial.prototype.clone=function(){var e=new t.LineDashedMaterial;return t.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.scale=this.scale,e.dashSize=this.dashSize,e.gapSize=this.gapSize,e.vertexColors=this.vertexColors,e.fog=this.fog,e},t.MeshBasicMaterial=function(e){t.Material.call(this),this.type="MeshBasicMaterial",this.color=new t.Color(16777215),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=t.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=t.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=t.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(e)},t.MeshBasicMaterial.prototype=Object.create(t.Material.prototype),t.MeshBasicMaterial.prototype.constructor=t.MeshBasicMaterial,t.MeshBasicMaterial.prototype.clone=function(){var e=new t.MeshBasicMaterial;return t.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.alphaMap=this.alphaMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e},t.MeshLambertMaterial=function(e){t.Material.call(this),this.type="MeshLambertMaterial",this.color=new t.Color(16777215),this.emissive=new t.Color(0),this.wrapAround=!1,this.wrapRGB=new t.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=t.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=t.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=t.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},t.MeshLambertMaterial.prototype=Object.create(t.Material.prototype),t.MeshLambertMaterial.prototype.constructor=t.MeshLambertMaterial,t.MeshLambertMaterial.prototype.clone=function(){var e=new t.MeshLambertMaterial;return t.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.alphaMap=this.alphaMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},t.MeshPhongMaterial=function(e){t.Material.call(this),this.type="MeshPhongMaterial",this.color=new t.Color(16777215),this.emissive=new t.Color(0),this.specular=new t.Color(1118481),this.shininess=30,this.metal=!1,this.wrapAround=!1,this.wrapRGB=new t.Vector3(1,1,1),this.map=null,this.lightMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new t.Vector2(1,1),this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=t.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=t.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=t.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},t.MeshPhongMaterial.prototype=Object.create(t.Material.prototype),t.MeshPhongMaterial.prototype.constructor=t.MeshPhongMaterial,t.MeshPhongMaterial.prototype.clone=function(){var e=new t.MeshPhongMaterial;return t.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.emissive.copy(this.emissive),e.specular.copy(this.specular),e.shininess=this.shininess,e.metal=this.metal,e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.bumpMap=this.bumpMap,e.bumpScale=this.bumpScale,e.normalMap=this.normalMap,e.normalScale.copy(this.normalScale),e.specularMap=this.specularMap,e.alphaMap=this.alphaMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},t.MeshDepthMaterial=function(e){t.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},t.MeshDepthMaterial.prototype=Object.create(t.Material.prototype),t.MeshDepthMaterial.prototype.constructor=t.MeshDepthMaterial,t.MeshDepthMaterial.prototype.clone=function(){var e=new t.MeshDepthMaterial;return t.Material.prototype.clone.call(this,e),e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},t.MeshNormalMaterial=function(e){t.Material.call(this,e),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},t.MeshNormalMaterial.prototype=Object.create(t.Material.prototype),t.MeshNormalMaterial.prototype.constructor=t.MeshNormalMaterial,t.MeshNormalMaterial.prototype.clone=function(){var e=new t.MeshNormalMaterial;return t.Material.prototype.clone.call(this,e),e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},t.MeshFaceMaterial=function(e){this.uuid=t.Math.generateUUID(),this.type="MeshFaceMaterial",this.materials=e instanceof Array?e:[]},t.MeshFaceMaterial.prototype={constructor:t.MeshFaceMaterial,toJSON:function(){for(var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},e=0,n=this.materials.length;e<n;e++)t.materials.push(this.materials[e].toJSON());return t},clone:function(){for(var e=new t.MeshFaceMaterial,n=0;n<this.materials.length;n++)e.materials.push(this.materials[n].clone());return e}},t.PointCloudMaterial=function(e){t.Material.call(this),this.type="PointCloudMaterial",this.color=new t.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=t.NoColors,this.fog=!0,this.setValues(e)},t.PointCloudMaterial.prototype=Object.create(t.Material.prototype),t.PointCloudMaterial.prototype.constructor=t.PointCloudMaterial,t.PointCloudMaterial.prototype.clone=function(){var e=new t.PointCloudMaterial;return t.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.size=this.size,e.sizeAttenuation=this.sizeAttenuation,e.vertexColors=this.vertexColors,e.fog=this.fog,e},t.ParticleBasicMaterial=function(e){return t.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointCloudMaterial."),new t.PointCloudMaterial(e)},t.ParticleSystemMaterial=function(e){return t.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointCloudMaterial."),new t.PointCloudMaterial(e)},t.ShaderMaterial=function(e){t.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.attributes=null,this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=t.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=t.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.setValues(e)},t.ShaderMaterial.prototype=Object.create(t.Material.prototype),t.ShaderMaterial.prototype.constructor=t.ShaderMaterial,t.ShaderMaterial.prototype.clone=function(){var e=new t.ShaderMaterial;return t.Material.prototype.clone.call(this,e),e.fragmentShader=this.fragmentShader,e.vertexShader=this.vertexShader,e.uniforms=t.UniformsUtils.clone(this.uniforms),e.attributes=this.attributes,e.defines=this.defines,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.fog=this.fog,e.lights=this.lights,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},t.RawShaderMaterial=function(e){t.ShaderMaterial.call(this,e),this.type="RawShaderMaterial"},t.RawShaderMaterial.prototype=Object.create(t.ShaderMaterial.prototype),t.RawShaderMaterial.prototype.constructor=t.RawShaderMaterial,t.RawShaderMaterial.prototype.clone=function(){var e=new t.RawShaderMaterial;return t.ShaderMaterial.prototype.clone.call(this,e),e},t.SpriteMaterial=function(e){t.Material.call(this),this.type="SpriteMaterial",this.color=new t.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(e)},t.SpriteMaterial.prototype=Object.create(t.Material.prototype),t.SpriteMaterial.prototype.constructor=t.SpriteMaterial,t.SpriteMaterial.prototype.clone=function(){var e=new t.SpriteMaterial;return t.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.rotation=this.rotation,e.fog=this.fog,e},t.Texture=function(e,n,r,i,o,a,s,u,c){Object.defineProperty(this,"id",{value:t.TextureIdCount++}),this.uuid=t.Math.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==e?e:t.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==n?n:t.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:t.ClampToEdgeWrapping,this.wrapT=void 0!==i?i:t.ClampToEdgeWrapping,this.magFilter=void 0!==o?o:t.LinearFilter,this.minFilter=void 0!==a?a:t.LinearMipMapLinearFilter,this.anisotropy=void 0!==c?c:1,this.format=void 0!==s?s:t.RGBAFormat,this.type=void 0!==u?u:t.UnsignedByteType,this.offset=new t.Vector2(0,0),this.repeat=new t.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this._needsUpdate=!1,this.onUpdate=null},t.Texture.DEFAULT_IMAGE=void 0,t.Texture.DEFAULT_MAPPING=t.UVMapping,t.Texture.prototype={constructor:t.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){t===!0&&this.update(),this._needsUpdate=t},clone:function(e){return void 0===e&&(e=new t.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,
e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},t.EventDispatcher.prototype.apply(t.Texture.prototype),t.TextureIdCount=0,t.CubeTexture=function(e,n,r,i,o,a,s,u,c){n=void 0!==n?n:t.CubeReflectionMapping,t.Texture.call(this,e,n,r,i,o,a,s,u,c),this.images=e},t.CubeTexture.prototype=Object.create(t.Texture.prototype),t.CubeTexture.prototype.constructor=t.CubeTexture,t.CubeTexture.clone=function(e){return void 0===e&&(e=new t.CubeTexture),t.Texture.prototype.clone.call(this,e),e.images=this.images,e},t.CompressedTexture=function(e,n,r,i,o,a,s,u,c,l,h){t.Texture.call(this,null,a,s,u,c,l,i,o,h),this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1},t.CompressedTexture.prototype=Object.create(t.Texture.prototype),t.CompressedTexture.prototype.constructor=t.CompressedTexture,t.CompressedTexture.prototype.clone=function(){var e=new t.CompressedTexture;return t.Texture.prototype.clone.call(this,e),e},t.DataTexture=function(e,n,r,i,o,a,s,u,c,l,h){t.Texture.call(this,null,a,s,u,c,l,i,o,h),this.image={data:e,width:n,height:r}},t.DataTexture.prototype=Object.create(t.Texture.prototype),t.DataTexture.prototype.constructor=t.DataTexture,t.DataTexture.prototype.clone=function(){var e=new t.DataTexture;return t.Texture.prototype.clone.call(this,e),e},t.VideoTexture=function(e,n,r,i,o,a,s,u,c){t.Texture.call(this,e,n,r,i,o,a,s,u,c),this.generateMipmaps=!1;var l=this,h=function(){requestAnimationFrame(h),e.readyState===e.HAVE_ENOUGH_DATA&&(l.needsUpdate=!0)};h()},t.VideoTexture.prototype=Object.create(t.Texture.prototype),t.VideoTexture.prototype.constructor=t.VideoTexture,t.Group=function(){t.Object3D.call(this),this.type="Group"},t.Group.prototype=Object.create(t.Object3D.prototype),t.Group.prototype.constructor=t.Group,t.PointCloud=function(e,n){t.Object3D.call(this),this.type="PointCloud",this.geometry=void 0!==e?e:new t.Geometry,this.material=void 0!==n?n:new t.PointCloudMaterial({color:16777215*Math.random()})},t.PointCloud.prototype=Object.create(t.Object3D.prototype),t.PointCloud.prototype.constructor=t.PointCloud,t.PointCloud.prototype.raycast=function(){var e=new t.Matrix4,n=new t.Ray;return function(r,i){var o=this,a=o.geometry,s=r.params.PointCloud.threshold;if(e.getInverse(this.matrixWorld),n.copy(r.ray).applyMatrix4(e),null===a.boundingBox||n.isIntersectionBox(a.boundingBox)!==!1){var u=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=new t.Vector3,l=function(t,e){var a=n.distanceToPoint(t);if(a<u){var s=n.closestPointToPoint(t);s.applyMatrix4(o.matrixWorld);var c=r.ray.origin.distanceTo(s);i.push({distance:c,distanceToRay:a,point:s.clone(),index:e,face:null,object:o})}};if(a instanceof t.BufferGeometry){var h=a.attributes,p=h.position.array;if(void 0!==h.index){var f=h.index.array,d=a.offsets;if(0===d.length){var m={start:0,count:f.length,index:0};d=[m]}for(var y=0,v=d.length;y<v;++y)for(var g=d[y].start,b=d[y].count,_=d[y].index,x=g,w=g+b;x<w;x++){var C=_+f[x];c.fromArray(p,3*C),l(c,C)}}else for(var S=p.length/3,x=0;x<S;x++)c.set(p[3*x],p[3*x+1],p[3*x+2]),l(c,x)}else for(var E=this.geometry.vertices,x=0;x<E.length;x++)l(E[x],x)}}}(),t.PointCloud.prototype.clone=function(e){return void 0===e&&(e=new t.PointCloud(this.geometry,this.material)),t.Object3D.prototype.clone.call(this,e),e},t.ParticleSystem=function(e,n){return t.warn("THREE.ParticleSystem has been renamed to THREE.PointCloud."),new t.PointCloud(e,n)},t.Line=function(e,n,r){t.Object3D.call(this),this.type="Line",this.geometry=void 0!==e?e:new t.Geometry,this.material=void 0!==n?n:new t.LineBasicMaterial({color:16777215*Math.random()}),this.mode=void 0!==r?r:t.LineStrip},t.LineStrip=0,t.LinePieces=1,t.Line.prototype=Object.create(t.Object3D.prototype),t.Line.prototype.constructor=t.Line,t.Line.prototype.raycast=function(){var e=new t.Matrix4,n=new t.Ray,r=new t.Sphere;return function(i,o){var a=i.linePrecision,s=a*a,u=this.geometry;if(null===u.boundingSphere&&u.computeBoundingSphere(),r.copy(u.boundingSphere),r.applyMatrix4(this.matrixWorld),i.ray.isIntersectionSphere(r)!==!1){e.getInverse(this.matrixWorld),n.copy(i.ray).applyMatrix4(e);var c=new t.Vector3,l=new t.Vector3,h=new t.Vector3,p=new t.Vector3,f=this.mode===t.LineStrip?1:2;if(u instanceof t.BufferGeometry){var d=u.attributes;if(void 0!==d.index){var m=d.index.array,y=d.position.array,v=u.offsets;0===v.length&&(v=[{start:0,count:m.length,index:0}]);for(var g=0;g<v.length;g++)for(var b=v[g].start,_=v[g].count,x=v[g].index,w=b;w<b+_-1;w+=f){var C=x+m[w],S=x+m[w+1];c.fromArray(y,3*C),l.fromArray(y,3*S);var E=n.distanceSqToSegment(c,l,p,h);if(!(E>s)){var T=n.origin.distanceTo(p);T<i.near||T>i.far||o.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:w,offsetIndex:g,face:null,faceIndex:null,object:this})}}}else for(var y=d.position.array,w=0;w<y.length/3-1;w+=f){c.fromArray(y,3*w),l.fromArray(y,3*w+3);var E=n.distanceSqToSegment(c,l,p,h);if(!(E>s)){var T=n.origin.distanceTo(p);T<i.near||T>i.far||o.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}else if(u instanceof t.Geometry)for(var M=u.vertices,A=M.length,w=0;w<A-1;w+=f){var E=n.distanceSqToSegment(M[w],M[w+1],p,h);if(!(E>s)){var T=n.origin.distanceTo(p);T<i.near||T>i.far||o.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}}}(),t.Line.prototype.clone=function(e){return void 0===e&&(e=new t.Line(this.geometry,this.material,this.mode)),t.Object3D.prototype.clone.call(this,e),e},t.Mesh=function(e,n){t.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new t.Geometry,this.material=void 0!==n?n:new t.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},t.Mesh.prototype=Object.create(t.Object3D.prototype),t.Mesh.prototype.constructor=t.Mesh,t.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var t=0,e=this.geometry.morphTargets.length;t<e;t++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[t].name]=t}},t.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:(t.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},t.Mesh.prototype.raycast=function(){var e=new t.Matrix4,n=new t.Ray,r=new t.Sphere,i=new t.Vector3,o=new t.Vector3,a=new t.Vector3;return function(s,u){var c=this.geometry;if(null===c.boundingSphere&&c.computeBoundingSphere(),r.copy(c.boundingSphere),r.applyMatrix4(this.matrixWorld),s.ray.isIntersectionSphere(r)!==!1&&(e.getInverse(this.matrixWorld),n.copy(s.ray).applyMatrix4(e),null===c.boundingBox||n.isIntersectionBox(c.boundingBox)!==!1))if(c instanceof t.BufferGeometry){var l=this.material;if(void 0===l)return;var h,p,f,d=c.attributes,m=s.precision;if(void 0!==d.index){var y=d.index.array,v=d.position.array,g=c.offsets;0===g.length&&(g=[{start:0,count:y.length,index:0}]);for(var b=0,_=g.length;b<_;++b)for(var x=g[b].start,w=g[b].count,C=g[b].index,S=x,E=x+w;S<E;S+=3){if(h=C+y[S],p=C+y[S+1],f=C+y[S+2],i.fromArray(v,3*h),o.fromArray(v,3*p),a.fromArray(v,3*f),l.side===t.BackSide)var T=n.intersectTriangle(a,o,i,!0);else var T=n.intersectTriangle(i,o,a,l.side!==t.DoubleSide);if(null!==T){T.applyMatrix4(this.matrixWorld);var M=s.ray.origin.distanceTo(T);M<m||M<s.near||M>s.far||u.push({distance:M,point:T,face:new t.Face3(h,p,f,t.Triangle.normal(i,o,a)),faceIndex:null,object:this})}}}else for(var v=d.position.array,S=0,A=0,E=v.length;S<E;S+=3,A+=9){if(h=S,p=S+1,f=S+2,i.fromArray(v,A),o.fromArray(v,A+3),a.fromArray(v,A+6),l.side===t.BackSide)var T=n.intersectTriangle(a,o,i,!0);else var T=n.intersectTriangle(i,o,a,l.side!==t.DoubleSide);if(null!==T){T.applyMatrix4(this.matrixWorld);var M=s.ray.origin.distanceTo(T);M<m||M<s.near||M>s.far||u.push({distance:M,point:T,face:new t.Face3(h,p,f,t.Triangle.normal(i,o,a)),faceIndex:null,object:this})}}}else if(c instanceof t.Geometry)for(var h,p,f,P=this.material instanceof t.MeshFaceMaterial,k=P===!0?this.material.materials:null,m=s.precision,R=c.vertices,O=0,I=c.faces.length;O<I;O++){var N=c.faces[O],l=P===!0?k[N.materialIndex]:this.material;if(void 0!==l){if(h=R[N.a],p=R[N.b],f=R[N.c],l.morphTargets===!0){var D=c.morphTargets,L=this.morphTargetInfluences;i.set(0,0,0),o.set(0,0,0),a.set(0,0,0);for(var V=0,F=D.length;V<F;V++){var j=L[V];if(0!==j){var B=D[V].vertices;i.x+=(B[N.a].x-h.x)*j,i.y+=(B[N.a].y-h.y)*j,i.z+=(B[N.a].z-h.z)*j,o.x+=(B[N.b].x-p.x)*j,o.y+=(B[N.b].y-p.y)*j,o.z+=(B[N.b].z-p.z)*j,a.x+=(B[N.c].x-f.x)*j,a.y+=(B[N.c].y-f.y)*j,a.z+=(B[N.c].z-f.z)*j}}i.add(h),o.add(p),a.add(f),h=i,p=o,f=a}if(l.side===t.BackSide)var T=n.intersectTriangle(f,p,h,!0);else var T=n.intersectTriangle(h,p,f,l.side!==t.DoubleSide);if(null!==T){T.applyMatrix4(this.matrixWorld);var M=s.ray.origin.distanceTo(T);M<m||M<s.near||M>s.far||u.push({distance:M,point:T,face:N,faceIndex:O,object:this})}}}}}(),t.Mesh.prototype.clone=function(e,n){return void 0===e&&(e=new t.Mesh(this.geometry,this.material)),t.Object3D.prototype.clone.call(this,e,n),e},t.Bone=function(e){t.Object3D.call(this),this.type="Bone",this.skin=e},t.Bone.prototype=Object.create(t.Object3D.prototype),t.Bone.prototype.constructor=t.Bone,t.Skeleton=function(e,n,r){if(this.useVertexTexture=void 0===r||r,this.identityMatrix=new t.Matrix4,e=e||[],this.bones=e.slice(0),this.useVertexTexture){var i;i=this.bones.length>256?64:this.bones.length>64?32:this.bones.length>16?16:8,this.boneTextureWidth=i,this.boneTextureHeight=i,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new t.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,t.RGBAFormat,t.FloatType),this.boneTexture.minFilter=t.NearestFilter,this.boneTexture.magFilter=t.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===n)this.calculateInverses();else if(this.bones.length===n.length)this.boneInverses=n.slice(0);else{t.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var o=0,a=this.bones.length;o<a;o++)this.boneInverses.push(new t.Matrix4)}},t.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var e=0,n=this.bones.length;e<n;e++){var r=new t.Matrix4;this.bones[e]&&r.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(r)}},t.Skeleton.prototype.pose=function(){for(var t,e=0,n=this.bones.length;e<n;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,n=this.bones.length;e<n;e++)t=this.bones[e],t&&(t.parent?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},t.Skeleton.prototype.update=function(){var e=new t.Matrix4;return function(){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;e.multiplyMatrices(r,this.boneInverses[t]),e.flattenToArrayOffset(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),t.SkinnedMesh=function(e,n,r){t.Mesh.call(this,e,n),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new t.Matrix4,this.bindMatrixInverse=new t.Matrix4;var i=[];if(this.geometry&&void 0!==this.geometry.bones){for(var o,a,s,u,c,l=0,h=this.geometry.bones.length;l<h;++l)a=this.geometry.bones[l],s=a.pos,u=a.rotq,c=a.scl,o=new t.Bone(this),i.push(o),o.name=a.name,o.position.set(s[0],s[1],s[2]),o.quaternion.set(u[0],u[1],u[2],u[3]),void 0!==c?o.scale.set(c[0],c[1],c[2]):o.scale.set(1,1,1);for(var l=0,h=this.geometry.bones.length;l<h;++l)a=this.geometry.bones[l],a.parent!==-1?i[a.parent].add(i[l]):this.add(i[l])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new t.Skeleton(i,void 0,r))},t.SkinnedMesh.prototype=Object.create(t.Mesh.prototype),t.SkinnedMesh.prototype.constructor=t.SkinnedMesh,t.SkinnedMesh.prototype.bind=function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},t.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},t.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof t.Geometry)for(var e=0;e<this.geometry.skinIndices.length;e++){var n=this.geometry.skinWeights[e],r=1/n.lengthManhattan();r!==1/0?n.multiplyScalar(r):n.set(1)}},t.SkinnedMesh.prototype.updateMatrixWorld=function(e){t.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):t.warn("THREE.SkinnedMesh unreckognized bindMode: "+this.bindMode)},t.SkinnedMesh.prototype.clone=function(e){return void 0===e&&(e=new t.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),t.Mesh.prototype.clone.call(this,e),e},t.MorphAnimMesh=function(e,n){t.Mesh.call(this,e,n),this.type="MorphAnimMesh",this.duration=1e3,this.mirroredLoop=!1,this.time=0,this.lastKeyframe=0,this.currentKeyframe=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},t.MorphAnimMesh.prototype=Object.create(t.Mesh.prototype),t.MorphAnimMesh.prototype.constructor=t.MorphAnimMesh,t.MorphAnimMesh.prototype.setFrameRange=function(t,e){this.startKeyframe=t,this.endKeyframe=e,this.length=this.endKeyframe-this.startKeyframe+1},t.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},t.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},t.MorphAnimMesh.prototype.parseAnimations=function(){var t=this.geometry;t.animations||(t.animations={});for(var e,n=t.animations,r=/([a-z]+)_?(\d+)/,i=0,o=t.morphTargets.length;i<o;i++){var a=t.morphTargets[i],s=a.name.match(r);if(s&&s.length>1){var u=s[1];n[u]||(n[u]={start:1/0,end:-(1/0)});var c=n[u];i<c.start&&(c.start=i),i>c.end&&(c.end=i),e||(e=u)}}t.firstAnimation=e},t.MorphAnimMesh.prototype.setAnimationLabel=function(t,e,n){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[t]={start:e,end:n}},t.MorphAnimMesh.prototype.playAnimation=function(e,n){var r=this.geometry.animations[e];r?(this.setFrameRange(r.start,r.end),this.duration=1e3*((r.end-r.start)/n),this.time=0):t.warn("THREE.MorphAnimMesh: animation["+e+"] undefined in .playAnimation()")},t.MorphAnimMesh.prototype.updateAnimation=function(e){var n=this.duration/this.length;this.time+=this.direction*e,this.mirroredLoop?(this.time>this.duration||this.time<0)&&(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),this.time<0&&(this.time=0,this.directionBackwards=!1)):(this.time=this.time%this.duration,this.time<0&&(this.time+=this.duration));var r=this.startKeyframe+t.Math.clamp(Math.floor(this.time/n),0,this.length-1);r!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[r]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=r);var i=this.time%n/n;this.directionBackwards&&(i=1-i),this.morphTargetInfluences[this.currentKeyframe]=i,this.morphTargetInfluences[this.lastKeyframe]=1-i},t.MorphAnimMesh.prototype.interpolateTargets=function(t,e,n){for(var r=this.morphTargetInfluences,i=0,o=r.length;i<o;i++)r[i]=0;t>-1&&(r[t]=1-n),e>-1&&(r[e]=n)},t.MorphAnimMesh.prototype.clone=function(e){return void 0===e&&(e=new t.MorphAnimMesh(this.geometry,this.material)),e.duration=this.duration,e.mirroredLoop=this.mirroredLoop,e.time=this.time,e.lastKeyframe=this.lastKeyframe,e.currentKeyframe=this.currentKeyframe,e.direction=this.direction,e.directionBackwards=this.directionBackwards,t.Mesh.prototype.clone.call(this,e),e},t.LOD=function(){t.Object3D.call(this),this.objects=[]},t.LOD.prototype=Object.create(t.Object3D.prototype),t.LOD.prototype.constructor=t.LOD,t.LOD.prototype.addLevel=function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=0;n<this.objects.length&&!(e<this.objects[n].distance);n++);this.objects.splice(n,0,{distance:e,object:t}),this.add(t)},t.LOD.prototype.getObjectForDistance=function(t){for(var e=1,n=this.objects.length;e<n&&!(t<this.objects[e].distance);e++);return this.objects[e-1].object},t.LOD.prototype.raycast=function(){var e=new t.Vector3;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),t.LOD.prototype.update=function(){var e=new t.Vector3,n=new t.Vector3;return function(t){if(this.objects.length>1){e.setFromMatrixPosition(t.matrixWorld),n.setFromMatrixPosition(this.matrixWorld);var r=e.distanceTo(n);this.objects[0].object.visible=!0;for(var i=1,o=this.objects.length;i<o&&r>=this.objects[i].distance;i++)this.objects[i-1].object.visible=!1,this.objects[i].object.visible=!0;for(;i<o;i++)this.objects[i].object.visible=!1}}}(),t.LOD.prototype.clone=function(e){void 0===e&&(e=new t.LOD),t.Object3D.prototype.clone.call(this,e);for(var n=0,r=this.objects.length;n<r;n++){var i=this.objects[n].object.clone();i.visible=0===n,e.addLevel(i,this.objects[n].distance)}return e},t.Sprite=function(){var e=new Uint16Array([0,1,2,0,2,3]),n=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),r=new Float32Array([0,0,1,0,1,1,0,1]),i=new t.BufferGeometry;return i.addAttribute("index",new t.BufferAttribute(e,1)),i.addAttribute("position",new t.BufferAttribute(n,3)),i.addAttribute("uv",new t.BufferAttribute(r,2)),function(e){t.Object3D.call(this),this.type="Sprite",this.geometry=i,this.material=void 0!==e?e:new t.SpriteMaterial}}(),t.Sprite.prototype=Object.create(t.Object3D.prototype),t.Sprite.prototype.constructor=t.Sprite,t.Sprite.prototype.raycast=function(){var e=new t.Vector3;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.distanceToPoint(e);r>this.scale.x||n.push({distance:r,point:this.position,face:null,object:this})}}(),t.Sprite.prototype.clone=function(e){return void 0===e&&(e=new t.Sprite(this.material)),t.Object3D.prototype.clone.call(this,e),e},t.Particle=t.Sprite,t.LensFlare=function(e,n,r,i,o){t.Object3D.call(this),this.lensFlares=[],this.positionScreen=new t.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,n,r,i,o)},t.LensFlare.prototype=Object.create(t.Object3D.prototype),t.LensFlare.prototype.constructor=t.LensFlare,t.LensFlare.prototype.add=function(e,n,r,i,o,a){void 0===n&&(n=-1),void 0===r&&(r=0),void 0===a&&(a=1),void 0===o&&(o=new t.Color(16777215)),void 0===i&&(i=t.NormalBlending),r=Math.min(r,Math.max(0,r)),this.lensFlares.push({texture:e,size:n,distance:r,x:0,y:0,z:0,scale:1,rotation:1,opacity:a,color:o,blending:i})},t.LensFlare.prototype.updateLensFlares=function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)},t.Scene=function(){t.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},t.Scene.prototype=Object.create(t.Object3D.prototype),t.Scene.prototype.constructor=t.Scene,t.Scene.prototype.clone=function(e){return void 0===e&&(e=new t.Scene),t.Object3D.prototype.clone.call(this,e),null!==this.fog&&(e.fog=this.fog.clone()),null!==this.overrideMaterial&&(e.overrideMaterial=this.overrideMaterial.clone()),e.autoUpdate=this.autoUpdate,e.matrixAutoUpdate=this.matrixAutoUpdate,e},t.Fog=function(e,n,r){this.name="",this.color=new t.Color(e),this.near=void 0!==n?n:1,this.far=void 0!==r?r:1e3},t.Fog.prototype.clone=function(){return new t.Fog(this.color.getHex(),this.near,this.far)},t.FogExp2=function(e,n){this.name="",this.color=new t.Color(e),this.density=void 0!==n?n:25e-5},t.FogExp2.prototype.clone=function(){return new t.FogExp2(this.color.getHex(),this.density)},t.ShaderChunk={},t.ShaderChunk.common="#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\nfloat square( in float a ) { return a*a; }\nvec2  square( in vec2 a )  { return vec2( a.x*a.x, a.y*a.y ); }\nvec3  square( in vec3 a )  { return vec3( a.x*a.x, a.y*a.y, a.z*a.z ); }\nvec4  square( in vec4 a )  { return vec4( a.x*a.x, a.y*a.y, a.z*a.z, a.w*a.w ); }\nfloat saturate( in float a ) { return clamp( a, 0.0, 1.0 ); }\nvec2  saturate( in vec2 a )  { return clamp( a, 0.0, 1.0 ); }\nvec3  saturate( in vec3 a )  { return clamp( a, 0.0, 1.0 ); }\nvec4  saturate( in vec4 a )  { return clamp( a, 0.0, 1.0 ); }\nfloat average( in float a ) { return a; }\nfloat average( in vec2 a )  { return ( a.x + a.y) * 0.5; }\nfloat average( in vec3 a )  { return ( a.x + a.y + a.z) / 3.0; }\nfloat average( in vec4 a )  { return ( a.x + a.y + a.z + a.w) * 0.25; }\nfloat whiteCompliment( in float a ) { return saturate( 1.0 - a ); }\nvec2  whiteCompliment( in vec2 a )  { return saturate( vec2(1.0) - a ); }\nvec3  whiteCompliment( in vec3 a )  { return saturate( vec3(1.0) - a ); }\nvec4  whiteCompliment( in vec4 a )  { return saturate( vec4(1.0) - a ); }\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( normal, 0.0 ) ).xyz );\n}\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\n\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal) {\n\tfloat distance = dot( planeNormal, point-pointOnPlane );\n\treturn point - distance * planeNormal;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn pointOnLine + lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) );\n}\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\n\tif ( decayExponent > 0.0 ) {\n\t  return pow( saturate( 1.0 - lightDistance / cutoffDistance ), decayExponent );\n\t}\n\treturn 1.0;\n}\n\nvec3 inputToLinear( in vec3 a ) {\n#ifdef GAMMA_INPUT\n\treturn pow( a, vec3( float( GAMMA_FACTOR ) ) );\n#else\n\treturn a;\n#endif\n}\nvec3 linearToOutput( in vec3 a ) {\n#ifdef GAMMA_OUTPUT\n\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\n#else\n\treturn a;\n#endif\n}\n",t.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n",t.ShaderChunk.lights_lambert_vertex="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack = vec3( 0.0 );\n\n#endif\n\ntransformedNormal = normalize( transformedNormal );\n\n#if MAX_DIR_LIGHTS > 0\n\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\tvec3 dirVector = transformDirection( directionalLightDirection[ i ], viewMatrix );\n\n\tfloat dotProduct = dot( transformedNormal, dirVector );\n\tvec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tvec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tvec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t#endif\n\n\t#endif\n\n\t#ifdef WRAP_AROUND\n\n\t\tvec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\tdirectionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tdirectionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n\n\t\t#endif\n\n\t#endif\n\n\tvLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tvLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n\n\t#endif\n\n}\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\t\tlVector = normalize( lVector );\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\n\t\tvec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tvec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tvec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\tpointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tpointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t\tvLightFront += pointLightColor[ i ] * pointLightWeighting * attenuation;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += pointLightColor[ i ] * pointLightWeightingBack * attenuation;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n\t\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\t\tlVector = normalize( lVector );\n\n\t\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\t\t\tvec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\t\tvec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tvec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\t\tspotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n\n\t\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\t\tspotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvLightFront += spotLightColor[ i ] * spotLightWeighting * attenuation * spotEffect;\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvLightBack += spotLightColor[ i ] * spotLightWeightingBack * attenuation * spotEffect;\n\n\t\t\t#endif\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec3 lVector = transformDirection( hemisphereLightDirection[ i ], viewMatrix );\n\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\t\tfloat hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n\n\t\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n\t\t#endif\n\n\t}\n\n#endif\n\nvLightFront += ambientLightColor;\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack += ambientLightColor;\n\n#endif\n",t.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n\n#endif\n",t.ShaderChunk.default_vertex="#ifdef USE_SKINNING\n\n\tvec4 mvPosition = modelViewMatrix * skinned;\n\n#elif defined( USE_MORPHTARGETS )\n\n\tvec4 mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n\n#else\n\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;\n",t.ShaderChunk.map_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvarying vec2 vUv;\n\n#endif\n\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif",t.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\t#ifdef USE_MORPHNORMALS\n\n\tvec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n\n\t#else\n\n\tvec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n\n\t#endif\n\n#endif\n",t.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n\tuniform float logDepthBufFC;\n\n#endif",t.ShaderChunk.lightmap_pars_vertex="#ifdef USE_LIGHTMAP\n\n\tvarying vec2 vUv2;\n\n#endif",t.ShaderChunk.lights_phong_fragment="#ifndef FLAT_SHADED\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n\t#endif\n\n#else\n\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#endif\n\nvec3 viewPosition = normalize( vViewPosition );\n\n#ifdef USE_NORMALMAP\n\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\nvec3 totalDiffuseLight = vec3( 0.0 );\nvec3 totalSpecularLight = vec3( 0.0 );\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\t\tlVector = normalize( lVector );\n\n\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, lVector );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n\n\t\t#else\n\n\t\t\tfloat pointDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t#endif\n\n\t\ttotalDiffuseLight += pointLightColor[ i ] * pointDiffuseWeight * attenuation;\n\n\t\t\t\t// specular\n\n\t\tvec3 pointHalfVector = normalize( lVector + viewPosition );\n\t\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n\t\tfloat pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n\t\ttotalSpecularLight += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * attenuation * specularNormalization;\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\tlVector = normalize( lVector );\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n\t\t\t// diffuse\n\n\t\t\tfloat dotProduct = dot( normal, lVector );\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tfloat spotDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\t\tfloat spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\t\tvec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n\n\t\t\t#else\n\n\t\t\t\tfloat spotDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t\t#endif\n\n\t\t\ttotalDiffuseLight += spotLightColor[ i ] * spotDiffuseWeight * attenuation * spotEffect;\n\n\t\t\t// specular\n\n\t\t\tvec3 spotHalfVector = normalize( lVector + viewPosition );\n\t\t\tfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n\t\t\tfloat spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n\n\t\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n\t\t\ttotalSpecularLight += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * attenuation * specularNormalization * spotEffect;\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\t\tvec3 dirVector = transformDirection( directionalLightDirection[ i ], viewMatrix );\n\n\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, dirVector );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\tvec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n\n\t\t#else\n\n\t\t\tfloat dirDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t#endif\n\n\t\ttotalDiffuseLight += directionalLightColor[ i ] * dirDiffuseWeight;\n\n\t\t// specular\n\n\t\tvec3 dirHalfVector = normalize( dirVector + viewPosition );\n\t\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n\t\tfloat dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n\n\t\t/*\n\t\t// fresnel term from skin shader\n\t\tconst float F0 = 0.128;\n\n\t\tfloat base = 1.0 - dot( viewPosition, dirHalfVector );\n\t\tfloat exponential = pow( base, 5.0 );\n\n\t\tfloat fresnel = exponential + F0 * ( 1.0 - exponential );\n\t\t*/\n\n\t\t/*\n\t\t// fresnel term from fresnel shader\n\t\tconst float mFresnelBias = 0.08;\n\t\tconst float mFresnelScale = 0.3;\n\t\tconst float mFresnelPower = 5.0;\n\n\t\tfloat fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );\n\t\t*/\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\t// \t\tdirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\n\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n\t\ttotalSpecularLight += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec3 lVector = transformDirection( hemisphereLightDirection[ i ], viewMatrix );\n\n\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, lVector );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n\t\tvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\ttotalDiffuseLight += hemiColor;\n\n\t\t// specular (sky light)\n\n\t\tvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n\t\tfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n\t\tfloat hemiSpecularWeightSky = specularStrength * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );\n\n\t\t// specular (ground light)\n\n\t\tvec3 lVectorGround = -lVector;\n\n\t\tvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n\t\tfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n\t\tfloat hemiSpecularWeightGround = specularStrength * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );\n\n\t\tfloat dotProductGround = dot( normal, lVectorGround );\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\tvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n\t\tvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n\t\ttotalSpecularLight += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\n\t}\n\n#endif\n\n#ifdef METAL\n\n\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + ambientLightColor ) * specular + totalSpecularLight + emissive;\n\n#else\n\n\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + ambientLightColor ) + totalSpecularLight + emissive;\n\n#endif\n",
t.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n\n#endif",t.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\n\tvec3 morphedNormal = vec3( 0.0 );\n\n\tmorphedNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tmorphedNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tmorphedNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tmorphedNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n\tmorphedNormal += normal;\n\n#endif",t.ShaderChunk.envmap_pars_fragment="#ifdef USE_ENVMAP\n\n\tuniform float reflectivity;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tuniform float refractionRatio;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\n\t#endif\n\n#endif\n",t.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif",t.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n\t// Per-Pixel Tangent Space Normal Mapping\n\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\n\t}\n\n#endif\n",t.ShaderChunk.lights_phong_pars_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n",t.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\n\tvarying vec2 vUv2;\n\tuniform sampler2D lightMap;\n\n#endif",t.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n\t}\n\n#endif",t.ShaderChunk.lights_phong_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvWorldPosition = worldPosition.xyz;\n\n#endif",t.ShaderChunk.map_fragment="#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor.xyz = inputToLinear( texelColor.xyz );\n\n\tdiffuseColor *= texelColor;\n\n#endif",t.ShaderChunk.lightmap_vertex="#ifdef USE_LIGHTMAP\n\n\tvUv2 = uv2;\n\n#endif",t.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\n\tdiffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\n#endif\n",t.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",t.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\n\tvColor.xyz = inputToLinear( color.xyz );\n\n#endif",t.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\n\t#ifdef USE_MORPHTARGETS\n\n\tvec4 skinVertex = bindMatrix * vec4( morphed, 1.0 );\n\n\t#else\n\n\tvec4 skinVertex = bindMatrix * vec4( position, 1.0 );\n\n\t#endif\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n\n#endif\n",t.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvarying vec3 vReflect;\n\n\tuniform float refractionRatio;\n\n#endif\n",t.ShaderChunk.linear_to_gamma_fragment="\n\toutgoingLight = linearToOutput( outgoingLight );\n",t.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif",t.ShaderChunk.lights_lambert_pars_vertex="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#ifdef WRAP_AROUND\n\n\tuniform vec3 wrapRGB;\n\n#endif\n",t.ShaderChunk.map_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n\n#endif\n",t.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n\t\t// Transforming Normal Vectors with the Inverse Transformation\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\n\tenvColor.xyz = inputToLinear( envColor.xyz );\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n",t.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif",t.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n\t#endif\n\n#endif",t.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\n\t#ifndef USE_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif",t.ShaderChunk.specularmap_fragment="float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif",t.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n\t#else\n\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\n\t#endif\n\n\t#ifdef FOG_EXP2\n\n\t\tfloat fogFactor = exp2( - square( fogDensity ) * square( depth ) * LOG2 );\n\t\tfogFactor = whiteCompliment( fogFactor );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\n\t#endif\n\t\n\toutgoingLight = mix( outgoingLight, fogColor, fogFactor );\n\n#endif",t.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\t// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\n\t// http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\n\n\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif\n",t.ShaderChunk.defaultnormal_vertex="#ifdef USE_SKINNING\n\n\tvec3 objectNormal = skinnedNormal.xyz;\n\n#elif defined( USE_MORPHNORMALS )\n\n\tvec3 objectNormal = morphedNormal;\n\n#else\n\n\tvec3 objectNormal = normal;\n\n#endif\n\n#ifdef FLIP_SIDED\n\n\tobjectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;\n",t.ShaderChunk.lights_phong_pars_fragment="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n\n#ifdef WRAP_AROUND\n\n\tuniform vec3 wrapRGB;\n\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n",t.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif",t.ShaderChunk.map_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif",t.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\n\toutgoingLight *= diffuseColor.xyz * texture2D( lightMap, vUv2 ).xyz;\n\n#endif",t.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\tuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n\n#endif",t.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\n\tdiffuseColor.rgb *= vColor;\n\n#endif",t.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\n\tvec3 morphed = vec3( 0.0 );\n\tmorphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\tmorphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\tmorphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\tmorphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\tmorphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\tmorphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\tmorphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\tmorphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n\tmorphed += position;\n\n#endif",t.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvec3 worldNormal = transformDirection( objectNormal, modelMatrix );\n\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t#else\n\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t#endif\n\n#endif\n",t.ShaderChunk.shadowmap_fragment="#ifdef USE_SHADOWMAP\n\n\t#ifdef SHADOWMAP_DEBUG\n\n\t\tvec3 frustumColors[3];\n\t\tfrustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n\t\tfrustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n\t\tfrustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n\n\t#endif\n\n\t#ifdef SHADOWMAP_CASCADE\n\n\t\tint inFrustumCount = 0;\n\n\t#endif\n\n\tfloat fDepth;\n\tvec3 shadowColor = vec3( 1.0 );\n\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n\t\t\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\t\t\t// don't shadow pixels outside of light frustum\n\t\t\t\t// use just first frustum (for cascades)\n\t\t\t\t// don't shadow pixels behind far plane of light frustum\n\n\t\t#ifdef SHADOWMAP_CASCADE\n\n\t\t\tinFrustumCount += int( inFrustum );\n\t\t\tbvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n\n\t\t#else\n\n\t\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\t#endif\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\tfloat shadow = 0.0;\n\n\t\t/*\n\t\t\t\t\t\t// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL\n\t\t\t\t\t\t// must enroll loop manually\n\n\t\t\t\tfor ( float y = -1.25; y <= 1.25; y += 1.25 )\n\t\t\t\t\tfor ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\n\t\t\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n\n\t\t\t\t\t\t\t\t// doesn't seem to produce any noticeable visual difference compared to simple texture2D lookup\n\t\t\t\t\t\t\t\t//vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );\n\n\t\t\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\t\t\tshadow += 1.0;\n\n\t\t\t\t}\n\n\t\t\t\tshadow /= 9.0;\n\n\t\t*/\n\n\t\t\t\tconst float shadowDelta = 1.0 / 9.0;\n\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n\t\t\t\tfloat dx0 = -1.25 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.25 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.25 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.25 * yPixelOffset;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n\t\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\tfloat shadow = 0.0;\n\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n\t\t\t\tfloat dx0 = -1.0 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.0 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.0 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.0 * yPixelOffset;\n\n\t\t\t\tmat3 shadowKernel;\n\t\t\t\tmat3 depthKernel;\n\n\t\t\t\tdepthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tdepthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tdepthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tdepthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tdepthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tdepthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tdepthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tdepthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tdepthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n\t\t\t\tvec3 shadowZ = vec3( shadowCoord.z );\n\t\t\t\tshadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n\t\t\t\tshadowKernel[0] *= vec3(0.25);\n\n\t\t\t\tshadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n\t\t\t\tshadowKernel[1] *= vec3(0.25);\n\n\t\t\t\tshadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n\t\t\t\tshadowKernel[2] *= vec3(0.25);\n\n\t\t\t\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\n\n\t\t\t\tshadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n\t\t\t\tshadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n\n\t\t\t\tvec4 shadowValues;\n\t\t\t\tshadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n\t\t\t\tshadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n\t\t\t\tshadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n\t\t\t\tshadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n\n\t\t\t\tshadow = dot( shadowValues, vec4( 1.0 ) );\n\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n\t\t\t#else\n\n\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\tif ( fDepth < shadowCoord.z )\n\n\t\t// spot with multiple shadows is darker\n\n\t\t\t\t\tshadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n\n\t\t// spot with multiple shadows has the same color as single shadow spot\n\n\t\t// \t\t\t\t\tshadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );\n\n\t\t\t#endif\n\n\t\t}\n\n\n\t\t#ifdef SHADOWMAP_DEBUG\n\n\t\t\t#ifdef SHADOWMAP_CASCADE\n\n\t\t\t\tif ( inFrustum && inFrustumCount == 1 ) outgoingLight *= frustumColors[ i ];\n\n\t\t\t#else\n\n\t\t\t\tif ( inFrustum ) outgoingLight *= frustumColors[ i ];\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t}\n\n\t// NOTE: I am unsure if this is correct in linear space.  -bhouston, Dec 29, 2014\n\tshadowColor = inputToLinear( shadowColor );\n\n\toutgoingLight = outgoingLight * shadowColor;\n\n#endif\n",t.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n\t#ifdef USE_SKINNING\n\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\n\t#elif defined( USE_MORPHTARGETS )\n\n\t\tvec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n\n\t#else\n\n\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\n\t#endif\n\n#endif\n",t.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\n\tuniform sampler2D shadowMap[ MAX_SHADOWS ];\n\tuniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\n\tuniform float shadowBias[ MAX_SHADOWS ];\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\n\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\tfloat depth = dot( rgba_depth, bit_shift );\n\t\treturn depth;\n\n\t}\n\n#endif",t.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",t.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\n\tuniform float logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\t#extension GL_EXT_frag_depth : enable\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n#endif",t.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",t.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",t.UniformsUtils={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(e){var n={};for(var r in e){n[r]={};for(var i in e[r]){var o=e[r][i];o instanceof t.Color||o instanceof t.Vector2||o instanceof t.Vector3||o instanceof t.Vector4||o instanceof t.Matrix4||o instanceof t.Texture?n[r][i]=o.clone():o instanceof Array?n[r][i]=o.slice():n[r][i]=o}}return n}},t.UniformsLib={common:{diffuse:{type:"c",value:new t.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new t.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new t.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new t.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},pointLightDecay:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]},spotLightDecay:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new t.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new t.Vector4(0,0,1,1)},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new t.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},t.ShaderLib={basic:{uniforms:t.UniformsUtils.merge([t.UniformsLib.common,t.UniformsLib.fog,t.UniformsLib.shadowmap]),vertexShader:[t.ShaderChunk.common,t.ShaderChunk.map_pars_vertex,t.ShaderChunk.lightmap_pars_vertex,t.ShaderChunk.envmap_pars_vertex,t.ShaderChunk.color_pars_vertex,t.ShaderChunk.morphtarget_pars_vertex,t.ShaderChunk.skinning_pars_vertex,t.ShaderChunk.shadowmap_pars_vertex,t.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",t.ShaderChunk.map_vertex,t.ShaderChunk.lightmap_vertex,t.ShaderChunk.color_vertex,t.ShaderChunk.skinbase_vertex,"\t#ifdef USE_ENVMAP",t.ShaderChunk.morphnormal_vertex,t.ShaderChunk.skinnormal_vertex,t.ShaderChunk.defaultnormal_vertex,"\t#endif",t.ShaderChunk.morphtarget_vertex,t.ShaderChunk.skinning_vertex,t.ShaderChunk.default_vertex,t.ShaderChunk.logdepthbuf_vertex,t.ShaderChunk.worldpos_vertex,t.ShaderChunk.envmap_vertex,t.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",t.ShaderChunk.common,t.ShaderChunk.color_pars_fragment,t.ShaderChunk.map_pars_fragment,t.ShaderChunk.alphamap_pars_fragment,t.ShaderChunk.lightmap_pars_fragment,t.ShaderChunk.envmap_pars_fragment,t.ShaderChunk.fog_pars_fragment,t.ShaderChunk.shadowmap_pars_fragment,t.ShaderChunk.specularmap_pars_fragment,t.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );",t.ShaderChunk.logdepthbuf_fragment,t.ShaderChunk.map_fragment,t.ShaderChunk.color_fragment,t.ShaderChunk.alphamap_fragment,t.ShaderChunk.alphatest_fragment,t.ShaderChunk.specularmap_fragment,"\toutgoingLight = diffuseColor.rgb;",t.ShaderChunk.lightmap_fragment,t.ShaderChunk.envmap_fragment,t.ShaderChunk.shadowmap_fragment,t.ShaderChunk.linear_to_gamma_fragment,t.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},lambert:{uniforms:t.UniformsUtils.merge([t.UniformsLib.common,t.UniformsLib.fog,t.UniformsLib.lights,t.UniformsLib.shadowmap,{emissive:{type:"c",value:new t.Color(0)},wrapRGB:{type:"v3",value:new t.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",t.ShaderChunk.common,t.ShaderChunk.map_pars_vertex,t.ShaderChunk.lightmap_pars_vertex,t.ShaderChunk.envmap_pars_vertex,t.ShaderChunk.lights_lambert_pars_vertex,t.ShaderChunk.color_pars_vertex,t.ShaderChunk.morphtarget_pars_vertex,t.ShaderChunk.skinning_pars_vertex,t.ShaderChunk.shadowmap_pars_vertex,t.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",t.ShaderChunk.map_vertex,t.ShaderChunk.lightmap_vertex,t.ShaderChunk.color_vertex,t.ShaderChunk.morphnormal_vertex,t.ShaderChunk.skinbase_vertex,t.ShaderChunk.skinnormal_vertex,t.ShaderChunk.defaultnormal_vertex,t.ShaderChunk.morphtarget_vertex,t.ShaderChunk.skinning_vertex,t.ShaderChunk.default_vertex,t.ShaderChunk.logdepthbuf_vertex,t.ShaderChunk.worldpos_vertex,t.ShaderChunk.envmap_vertex,t.ShaderChunk.lights_lambert_vertex,t.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform vec3 emissive;","uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",t.ShaderChunk.common,t.ShaderChunk.color_pars_fragment,t.ShaderChunk.map_pars_fragment,t.ShaderChunk.alphamap_pars_fragment,t.ShaderChunk.lightmap_pars_fragment,t.ShaderChunk.envmap_pars_fragment,t.ShaderChunk.fog_pars_fragment,t.ShaderChunk.shadowmap_pars_fragment,t.ShaderChunk.specularmap_pars_fragment,t.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );",t.ShaderChunk.logdepthbuf_fragment,t.ShaderChunk.map_fragment,t.ShaderChunk.color_fragment,t.ShaderChunk.alphamap_fragment,t.ShaderChunk.alphatest_fragment,t.ShaderChunk.specularmap_fragment,"\t#ifdef DOUBLE_SIDED","\t\tif ( gl_FrontFacing )","\t\t\toutgoingLight += diffuseColor.rgb * vLightFront + emissive;","\t\telse","\t\t\toutgoingLight += diffuseColor.rgb * vLightBack + emissive;","\t#else","\t\toutgoingLight += diffuseColor.rgb * vLightFront + emissive;","\t#endif",t.ShaderChunk.lightmap_fragment,t.ShaderChunk.envmap_fragment,t.ShaderChunk.shadowmap_fragment,t.ShaderChunk.linear_to_gamma_fragment,t.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},phong:{uniforms:t.UniformsUtils.merge([t.UniformsLib.common,t.UniformsLib.bump,t.UniformsLib.normalmap,t.UniformsLib.fog,t.UniformsLib.lights,t.UniformsLib.shadowmap,{emissive:{type:"c",value:new t.Color(0)},specular:{type:"c",value:new t.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new t.Vector3(1,1,1)}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","\tvarying vec3 vNormal;","#endif",t.ShaderChunk.common,t.ShaderChunk.map_pars_vertex,t.ShaderChunk.lightmap_pars_vertex,t.ShaderChunk.envmap_pars_vertex,t.ShaderChunk.lights_phong_pars_vertex,t.ShaderChunk.color_pars_vertex,t.ShaderChunk.morphtarget_pars_vertex,t.ShaderChunk.skinning_pars_vertex,t.ShaderChunk.shadowmap_pars_vertex,t.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",t.ShaderChunk.map_vertex,t.ShaderChunk.lightmap_vertex,t.ShaderChunk.color_vertex,t.ShaderChunk.morphnormal_vertex,t.ShaderChunk.skinbase_vertex,t.ShaderChunk.skinnormal_vertex,t.ShaderChunk.defaultnormal_vertex,"#ifndef FLAT_SHADED","\tvNormal = normalize( transformedNormal );","#endif",t.ShaderChunk.morphtarget_vertex,t.ShaderChunk.skinning_vertex,t.ShaderChunk.default_vertex,t.ShaderChunk.logdepthbuf_vertex,"\tvViewPosition = -mvPosition.xyz;",t.ShaderChunk.worldpos_vertex,t.ShaderChunk.envmap_vertex,t.ShaderChunk.lights_phong_vertex,t.ShaderChunk.shadowmap_vertex,"}"].join("\n"),
fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;",t.ShaderChunk.common,t.ShaderChunk.color_pars_fragment,t.ShaderChunk.map_pars_fragment,t.ShaderChunk.alphamap_pars_fragment,t.ShaderChunk.lightmap_pars_fragment,t.ShaderChunk.envmap_pars_fragment,t.ShaderChunk.fog_pars_fragment,t.ShaderChunk.lights_phong_pars_fragment,t.ShaderChunk.shadowmap_pars_fragment,t.ShaderChunk.bumpmap_pars_fragment,t.ShaderChunk.normalmap_pars_fragment,t.ShaderChunk.specularmap_pars_fragment,t.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );",t.ShaderChunk.logdepthbuf_fragment,t.ShaderChunk.map_fragment,t.ShaderChunk.color_fragment,t.ShaderChunk.alphamap_fragment,t.ShaderChunk.alphatest_fragment,t.ShaderChunk.specularmap_fragment,t.ShaderChunk.lights_phong_fragment,t.ShaderChunk.lightmap_fragment,t.ShaderChunk.envmap_fragment,t.ShaderChunk.shadowmap_fragment,t.ShaderChunk.linear_to_gamma_fragment,t.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},particle_basic:{uniforms:t.UniformsUtils.merge([t.UniformsLib.particle,t.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",t.ShaderChunk.common,t.ShaderChunk.color_pars_vertex,t.ShaderChunk.shadowmap_pars_vertex,t.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",t.ShaderChunk.color_vertex,"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\t#ifdef USE_SIZEATTENUATION","\t\tgl_PointSize = size * ( scale / length( mvPosition.xyz ) );","\t#else","\t\tgl_PointSize = size;","\t#endif","\tgl_Position = projectionMatrix * mvPosition;",t.ShaderChunk.logdepthbuf_vertex,t.ShaderChunk.worldpos_vertex,t.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",t.ShaderChunk.common,t.ShaderChunk.color_pars_fragment,t.ShaderChunk.map_particle_pars_fragment,t.ShaderChunk.fog_pars_fragment,t.ShaderChunk.shadowmap_pars_fragment,t.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( psColor, opacity );",t.ShaderChunk.logdepthbuf_fragment,t.ShaderChunk.map_particle_fragment,t.ShaderChunk.color_fragment,t.ShaderChunk.alphatest_fragment,"\toutgoingLight = diffuseColor.rgb;",t.ShaderChunk.shadowmap_fragment,t.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},dashed:{uniforms:t.UniformsUtils.merge([t.UniformsLib.common,t.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",t.ShaderChunk.common,t.ShaderChunk.color_pars_vertex,t.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",t.ShaderChunk.color_vertex,"\tvLineDistance = scale * lineDistance;","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",t.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",t.ShaderChunk.common,t.ShaderChunk.color_pars_fragment,t.ShaderChunk.fog_pars_fragment,t.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tif ( mod( vLineDistance, totalSize ) > dashSize ) {","\t\tdiscard;","\t}","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );",t.ShaderChunk.logdepthbuf_fragment,t.ShaderChunk.color_fragment,"\toutgoingLight = diffuseColor.rgb;",t.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[t.ShaderChunk.common,t.ShaderChunk.morphtarget_pars_vertex,t.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",t.ShaderChunk.morphtarget_vertex,t.ShaderChunk.default_vertex,t.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",t.ShaderChunk.common,t.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",t.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;","\t#else","\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;","\t#endif","\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );","\tgl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",t.ShaderChunk.common,t.ShaderChunk.morphtarget_pars_vertex,t.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvNormal = normalize( normalMatrix * normal );",t.ShaderChunk.morphtarget_vertex,t.ShaderChunk.default_vertex,t.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",t.ShaderChunk.common,t.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",t.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",t.ShaderChunk.common,t.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvWorldPosition = transformDirection( position, modelMatrix );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",t.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",t.ShaderChunk.common,t.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",t.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",t.ShaderChunk.common,t.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvWorldPosition = transformDirection( position, modelMatrix );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",t.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","uniform float tFlip;","varying vec3 vWorldPosition;",t.ShaderChunk.common,t.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","vec3 direction = normalize( vWorldPosition );","vec2 sampleUV;","sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );","sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","gl_FragColor = texture2D( tEquirect, sampleUV );",t.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[t.ShaderChunk.common,t.ShaderChunk.morphtarget_pars_vertex,t.ShaderChunk.skinning_pars_vertex,t.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",t.ShaderChunk.skinbase_vertex,t.ShaderChunk.morphtarget_vertex,t.ShaderChunk.skinning_vertex,t.ShaderChunk.default_vertex,t.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[t.ShaderChunk.common,t.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","\tres -= res.xxyz * bit_mask;","\treturn res;","}","void main() {",t.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","\t#else","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","\t#endif","}"].join("\n")}},t.WebGLRenderer=function(e){function n(t){t.__webglVertexBuffer=Rt.createBuffer(),t.__webglColorBuffer=Rt.createBuffer(),Ot.info.memory.geometries++}function r(t){t.__webglVertexBuffer=Rt.createBuffer(),t.__webglColorBuffer=Rt.createBuffer(),t.__webglLineDistanceBuffer=Rt.createBuffer(),Ot.info.memory.geometries++}function i(t){t.__webglVertexBuffer=Rt.createBuffer(),t.__webglNormalBuffer=Rt.createBuffer(),t.__webglTangentBuffer=Rt.createBuffer(),t.__webglColorBuffer=Rt.createBuffer(),t.__webglUVBuffer=Rt.createBuffer(),t.__webglUV2Buffer=Rt.createBuffer(),t.__webglSkinIndicesBuffer=Rt.createBuffer(),t.__webglSkinWeightsBuffer=Rt.createBuffer(),t.__webglFaceBuffer=Rt.createBuffer(),t.__webglLineBuffer=Rt.createBuffer();var e=t.numMorphTargets;if(e){t.__webglMorphTargetsBuffers=[];for(var n=0,r=e;n<r;n++)t.__webglMorphTargetsBuffers.push(Rt.createBuffer())}var i=t.numMorphNormals;if(i){t.__webglMorphNormalsBuffers=[];for(var n=0,r=i;n<r;n++)t.__webglMorphNormalsBuffers.push(Rt.createBuffer())}Ot.info.memory.geometries++}function o(t){var e=t.geometry,n=t.material,r=e.vertices.length;if(n.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var i in n.attributes){var o=n.attributes[i];if(!o.__webglInitialized||o.createUniqueBuffers){o.__webglInitialized=!0;var a=1;"v2"===o.type?a=2:"v3"===o.type?a=3:"v4"===o.type?a=4:"c"===o.type&&(a=3),o.size=a,o.array=new Float32Array(r*a),o.buffer=Rt.createBuffer(),o.buffer.belongsToAttribute=i,o.needsUpdate=!0}e.__webglCustomAttributesList.push(o)}}}function a(t,e){var n=t.vertices.length;t.__vertexArray=new Float32Array(3*n),t.__colorArray=new Float32Array(3*n),t.__webglParticleCount=n,o(e)}function s(t,e){var n=t.vertices.length;t.__vertexArray=new Float32Array(3*n),t.__colorArray=new Float32Array(3*n),t.__lineDistanceArray=new Float32Array(1*n),t.__webglLineCount=n,o(e)}function u(t,e){var n=e.geometry,r=t.faces3,i=3*r.length,o=1*r.length,a=3*r.length,s=c(e,t);t.__vertexArray=new Float32Array(3*i),t.__normalArray=new Float32Array(3*i),t.__colorArray=new Float32Array(3*i),t.__uvArray=new Float32Array(2*i),n.faceVertexUvs.length>1&&(t.__uv2Array=new Float32Array(2*i)),n.hasTangents&&(t.__tangentArray=new Float32Array(4*i)),e.geometry.skinWeights.length&&e.geometry.skinIndices.length&&(t.__skinIndexArray=new Float32Array(4*i),t.__skinWeightArray=new Float32Array(4*i));var u=null!==ee.get("OES_element_index_uint")&&o>21845?Uint32Array:Uint16Array;t.__typeArray=u,t.__faceArray=new u(3*o),t.__lineArray=new u(2*a);var l=t.numMorphTargets;if(l){t.__morphTargetsArrays=[];for(var h=0,p=l;h<p;h++)t.__morphTargetsArrays.push(new Float32Array(3*i))}var f=t.numMorphNormals;if(f){t.__morphNormalsArrays=[];for(var h=0,p=f;h<p;h++)t.__morphNormalsArrays.push(new Float32Array(3*i))}if(t.__webglFaceCount=3*o,t.__webglLineCount=2*a,s.attributes){void 0===t.__webglCustomAttributesList&&(t.__webglCustomAttributesList=[]);for(var d in s.attributes){var m=s.attributes[d],y={};for(var v in m)y[v]=m[v];if(!y.__webglInitialized||y.createUniqueBuffers){y.__webglInitialized=!0;var g=1;"v2"===y.type?g=2:"v3"===y.type?g=3:"v4"===y.type?g=4:"c"===y.type&&(g=3),y.size=g,y.array=new Float32Array(i*g),y.buffer=Rt.createBuffer(),y.buffer.belongsToAttribute=d,m.needsUpdate=!0,y.__original=m}t.__webglCustomAttributesList.push(y)}}t.__inittedArrays=!0}function c(e,n){return e.material instanceof t.MeshFaceMaterial?e.material.materials[n.materialIndex]:e.material}function l(e){return e instanceof t.MeshPhongMaterial==!1&&e.shading===t.FlatShading}function h(t,e,n){var r,i,o,a,s,u,c,l,h,p,f,d=t.vertices,m=d.length,y=t.colors,v=y.length,g=t.__vertexArray,b=t.__colorArray,_=t.verticesNeedUpdate,x=t.colorsNeedUpdate,w=t.__webglCustomAttributesList;if(_){for(r=0;r<m;r++)o=d[r],a=3*r,g[a]=o.x,g[a+1]=o.y,g[a+2]=o.z;Rt.bindBuffer(Rt.ARRAY_BUFFER,t.__webglVertexBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,g,e)}if(x){for(i=0;i<v;i++)s=y[i],a=3*i,b[a]=s.r,b[a+1]=s.g,b[a+2]=s.b;Rt.bindBuffer(Rt.ARRAY_BUFFER,t.__webglColorBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,b,e)}if(w)for(u=0,c=w.length;u<c;u++){if(f=w[u],f.needsUpdate&&(void 0===f.boundTo||"vertices"===f.boundTo))if(h=f.value.length,a=0,1===f.size)for(l=0;l<h;l++)f.array[l]=f.value[l];else if(2===f.size)for(l=0;l<h;l++)p=f.value[l],f.array[a]=p.x,f.array[a+1]=p.y,a+=2;else if(3===f.size)if("c"===f.type)for(l=0;l<h;l++)p=f.value[l],f.array[a]=p.r,f.array[a+1]=p.g,f.array[a+2]=p.b,a+=3;else for(l=0;l<h;l++)p=f.value[l],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,a+=3;else if(4===f.size)for(l=0;l<h;l++)p=f.value[l],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,f.array[a+3]=p.w,a+=4;Rt.bindBuffer(Rt.ARRAY_BUFFER,f.buffer),Rt.bufferData(Rt.ARRAY_BUFFER,f.array,e),f.needsUpdate=!1}}function p(t,e){var n,r,i,o,a,s,u,c,l,h,p,f,d=t.vertices,m=t.colors,y=t.lineDistances,v=d.length,g=m.length,b=y.length,_=t.__vertexArray,x=t.__colorArray,w=t.__lineDistanceArray,C=t.verticesNeedUpdate,S=t.colorsNeedUpdate,E=t.lineDistancesNeedUpdate,T=t.__webglCustomAttributesList;if(C){for(n=0;n<v;n++)o=d[n],a=3*n,_[a]=o.x,_[a+1]=o.y,_[a+2]=o.z;Rt.bindBuffer(Rt.ARRAY_BUFFER,t.__webglVertexBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,_,e)}if(S){for(r=0;r<g;r++)s=m[r],a=3*r,x[a]=s.r,x[a+1]=s.g,x[a+2]=s.b;Rt.bindBuffer(Rt.ARRAY_BUFFER,t.__webglColorBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,x,e)}if(E){for(i=0;i<b;i++)w[i]=y[i];Rt.bindBuffer(Rt.ARRAY_BUFFER,t.__webglLineDistanceBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,w,e)}if(T)for(u=0,c=T.length;u<c;u++)if(f=T[u],f.needsUpdate&&(void 0===f.boundTo||"vertices"===f.boundTo)){if(a=0,h=f.value.length,1===f.size)for(l=0;l<h;l++)f.array[l]=f.value[l];else if(2===f.size)for(l=0;l<h;l++)p=f.value[l],f.array[a]=p.x,f.array[a+1]=p.y,a+=2;else if(3===f.size)if("c"===f.type)for(l=0;l<h;l++)p=f.value[l],f.array[a]=p.r,f.array[a+1]=p.g,f.array[a+2]=p.b,a+=3;else for(l=0;l<h;l++)p=f.value[l],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,a+=3;else if(4===f.size)for(l=0;l<h;l++)p=f.value[l],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,f.array[a+3]=p.w,a+=4;Rt.bindBuffer(Rt.ARRAY_BUFFER,f.buffer),Rt.bufferData(Rt.ARRAY_BUFFER,f.array,e),f.needsUpdate=!1}}function f(e,n,r,i,o){if(e.__inittedArrays){var a,s,u,c,h,p,f,d,m,y,v,g,b,_,x,w,C,S,E,T,M,A,P,k,R,O,I,N,D,L,V,F,j,B,U,z,H,G,q,W,X,Y,K=l(o),Z=0,Q=0,$=0,J=0,tt=0,et=0,nt=0,rt=0,it=0,ot=0,at=0,st=0,ut=e.__vertexArray,ct=e.__uvArray,lt=e.__uv2Array,ht=e.__normalArray,pt=e.__tangentArray,ft=e.__colorArray,dt=e.__skinIndexArray,mt=e.__skinWeightArray,yt=e.__morphTargetsArrays,vt=e.__morphNormalsArrays,gt=e.__webglCustomAttributesList,bt=e.__faceArray,_t=e.__lineArray,xt=n.geometry,wt=xt.verticesNeedUpdate,Ct=xt.elementsNeedUpdate,St=xt.uvsNeedUpdate,Et=xt.normalsNeedUpdate,Tt=xt.tangentsNeedUpdate,Mt=xt.colorsNeedUpdate,At=xt.morphTargetsNeedUpdate,Pt=xt.vertices,kt=e.faces3,Ot=xt.faces,It=xt.faceVertexUvs[0],Nt=xt.faceVertexUvs[1],Dt=xt.skinIndices,Lt=xt.skinWeights,Vt=xt.morphTargets,Ft=xt.morphNormals;if(wt){for(a=0,s=kt.length;a<s;a++)c=Ot[kt[a]],g=Pt[c.a],b=Pt[c.b],_=Pt[c.c],ut[Q]=g.x,ut[Q+1]=g.y,ut[Q+2]=g.z,ut[Q+3]=b.x,ut[Q+4]=b.y,ut[Q+5]=b.z,ut[Q+6]=_.x,ut[Q+7]=_.y,ut[Q+8]=_.z,Q+=9;Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglVertexBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,ut,r)}if(At)for(U=0,z=Vt.length;U<z;U++){for(at=0,a=0,s=kt.length;a<s;a++)q=kt[a],c=Ot[q],g=Vt[U].vertices[c.a],b=Vt[U].vertices[c.b],_=Vt[U].vertices[c.c],H=yt[U],H[at]=g.x,H[at+1]=g.y,H[at+2]=g.z,H[at+3]=b.x,H[at+4]=b.y,H[at+5]=b.z,H[at+6]=_.x,H[at+7]=_.y,H[at+8]=_.z,o.morphNormals&&(K?(S=Ft[U].faceNormals[q],E=S,T=S):(W=Ft[U].vertexNormals[q],S=W.a,E=W.b,T=W.c),G=vt[U],G[at]=S.x,G[at+1]=S.y,G[at+2]=S.z,G[at+3]=E.x,G[at+4]=E.y,G[at+5]=E.z,G[at+6]=T.x,G[at+7]=T.y,G[at+8]=T.z),at+=9;Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[U]),Rt.bufferData(Rt.ARRAY_BUFFER,yt[U],r),o.morphNormals&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[U]),Rt.bufferData(Rt.ARRAY_BUFFER,vt[U],r))}if(Lt.length){for(a=0,s=kt.length;a<s;a++)c=Ot[kt[a]],k=Lt[c.a],R=Lt[c.b],O=Lt[c.c],mt[ot]=k.x,mt[ot+1]=k.y,mt[ot+2]=k.z,mt[ot+3]=k.w,mt[ot+4]=R.x,mt[ot+5]=R.y,mt[ot+6]=R.z,mt[ot+7]=R.w,mt[ot+8]=O.x,mt[ot+9]=O.y,mt[ot+10]=O.z,mt[ot+11]=O.w,I=Dt[c.a],N=Dt[c.b],D=Dt[c.c],dt[ot]=I.x,dt[ot+1]=I.y,dt[ot+2]=I.z,dt[ot+3]=I.w,dt[ot+4]=N.x,dt[ot+5]=N.y,dt[ot+6]=N.z,dt[ot+7]=N.w,dt[ot+8]=D.x,dt[ot+9]=D.y,dt[ot+10]=D.z,dt[ot+11]=D.w,ot+=12;ot>0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglSkinIndicesBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,dt,r),Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglSkinWeightsBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,mt,r))}if(Mt){for(a=0,s=kt.length;a<s;a++)c=Ot[kt[a]],f=c.vertexColors,d=c.color,3===f.length&&o.vertexColors===t.VertexColors?(M=f[0],A=f[1],P=f[2]):(M=d,A=d,P=d),ft[it]=M.r,ft[it+1]=M.g,ft[it+2]=M.b,ft[it+3]=A.r,ft[it+4]=A.g,ft[it+5]=A.b,ft[it+6]=P.r,ft[it+7]=P.g,ft[it+8]=P.b,it+=9;it>0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglColorBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,ft,r))}if(Tt&&xt.hasTangents){for(a=0,s=kt.length;a<s;a++)c=Ot[kt[a]],m=c.vertexTangents,x=m[0],w=m[1],C=m[2],pt[nt]=x.x,pt[nt+1]=x.y,pt[nt+2]=x.z,pt[nt+3]=x.w,pt[nt+4]=w.x,pt[nt+5]=w.y,pt[nt+6]=w.z,pt[nt+7]=w.w,pt[nt+8]=C.x,pt[nt+9]=C.y,pt[nt+10]=C.z,pt[nt+11]=C.w,nt+=12;Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglTangentBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,pt,r)}if(Et){for(a=0,s=kt.length;a<s;a++)if(c=Ot[kt[a]],h=c.vertexNormals,p=c.normal,3===h.length&&K===!1)for(L=0;L<3;L++)F=h[L],ht[et]=F.x,ht[et+1]=F.y,ht[et+2]=F.z,et+=3;else for(L=0;L<3;L++)ht[et]=p.x,ht[et+1]=p.y,ht[et+2]=p.z,et+=3;Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglNormalBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,ht,r)}if(St&&It){for(a=0,s=kt.length;a<s;a++)if(u=kt[a],y=It[u],void 0!==y)for(L=0;L<3;L++)j=y[L],ct[$]=j.x,ct[$+1]=j.y,$+=2;$>0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglUVBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,ct,r))}if(St&&Nt){for(a=0,s=kt.length;a<s;a++)if(u=kt[a],v=Nt[u],void 0!==v)for(L=0;L<3;L++)B=v[L],lt[J]=B.x,lt[J+1]=B.y,J+=2;J>0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglUV2Buffer),Rt.bufferData(Rt.ARRAY_BUFFER,lt,r))}if(Ct){for(a=0,s=kt.length;a<s;a++)bt[tt]=Z,bt[tt+1]=Z+1,bt[tt+2]=Z+2,tt+=3,_t[rt]=Z,_t[rt+1]=Z+1,_t[rt+2]=Z,_t[rt+3]=Z+2,_t[rt+4]=Z+1,_t[rt+5]=Z+2,rt+=6,Z+=3;Rt.bindBuffer(Rt.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),Rt.bufferData(Rt.ELEMENT_ARRAY_BUFFER,bt,r),Rt.bindBuffer(Rt.ELEMENT_ARRAY_BUFFER,e.__webglLineBuffer),Rt.bufferData(Rt.ELEMENT_ARRAY_BUFFER,_t,r)}if(gt)for(L=0,V=gt.length;L<V;L++)if(Y=gt[L],Y.__original.needsUpdate){if(st=0,1===Y.size){if(void 0===Y.boundTo||"vertices"===Y.boundTo)for(a=0,s=kt.length;a<s;a++)c=Ot[kt[a]],Y.array[st]=Y.value[c.a],Y.array[st+1]=Y.value[c.b],Y.array[st+2]=Y.value[c.c],st+=3;else if("faces"===Y.boundTo)for(a=0,s=kt.length;a<s;a++)X=Y.value[kt[a]],Y.array[st]=X,Y.array[st+1]=X,Y.array[st+2]=X,st+=3}else if(2===Y.size){if(void 0===Y.boundTo||"vertices"===Y.boundTo)for(a=0,s=kt.length;a<s;a++)c=Ot[kt[a]],g=Y.value[c.a],b=Y.value[c.b],_=Y.value[c.c],Y.array[st]=g.x,Y.array[st+1]=g.y,Y.array[st+2]=b.x,Y.array[st+3]=b.y,Y.array[st+4]=_.x,Y.array[st+5]=_.y,st+=6;else if("faces"===Y.boundTo)for(a=0,s=kt.length;a<s;a++)X=Y.value[kt[a]],g=X,b=X,_=X,Y.array[st]=g.x,Y.array[st+1]=g.y,Y.array[st+2]=b.x,Y.array[st+3]=b.y,Y.array[st+4]=_.x,Y.array[st+5]=_.y,st+=6}else if(3===Y.size){var jt;if(jt="c"===Y.type?["r","g","b"]:["x","y","z"],void 0===Y.boundTo||"vertices"===Y.boundTo)for(a=0,s=kt.length;a<s;a++)c=Ot[kt[a]],g=Y.value[c.a],b=Y.value[c.b],_=Y.value[c.c],Y.array[st]=g[jt[0]],Y.array[st+1]=g[jt[1]],Y.array[st+2]=g[jt[2]],Y.array[st+3]=b[jt[0]],Y.array[st+4]=b[jt[1]],Y.array[st+5]=b[jt[2]],Y.array[st+6]=_[jt[0]],Y.array[st+7]=_[jt[1]],Y.array[st+8]=_[jt[2]],st+=9;else if("faces"===Y.boundTo)for(a=0,s=kt.length;a<s;a++)X=Y.value[kt[a]],g=X,b=X,_=X,Y.array[st]=g[jt[0]],Y.array[st+1]=g[jt[1]],Y.array[st+2]=g[jt[2]],Y.array[st+3]=b[jt[0]],Y.array[st+4]=b[jt[1]],Y.array[st+5]=b[jt[2]],Y.array[st+6]=_[jt[0]],Y.array[st+7]=_[jt[1]],Y.array[st+8]=_[jt[2]],st+=9;else if("faceVertices"===Y.boundTo)for(a=0,s=kt.length;a<s;a++)X=Y.value[kt[a]],g=X[0],b=X[1],_=X[2],Y.array[st]=g[jt[0]],Y.array[st+1]=g[jt[1]],Y.array[st+2]=g[jt[2]],Y.array[st+3]=b[jt[0]],Y.array[st+4]=b[jt[1]],Y.array[st+5]=b[jt[2]],Y.array[st+6]=_[jt[0]],Y.array[st+7]=_[jt[1]],Y.array[st+8]=_[jt[2]],st+=9}else if(4===Y.size)if(void 0===Y.boundTo||"vertices"===Y.boundTo)for(a=0,s=kt.length;a<s;a++)c=Ot[kt[a]],g=Y.value[c.a],b=Y.value[c.b],_=Y.value[c.c],Y.array[st]=g.x,Y.array[st+1]=g.y,Y.array[st+2]=g.z,Y.array[st+3]=g.w,Y.array[st+4]=b.x,Y.array[st+5]=b.y,Y.array[st+6]=b.z,Y.array[st+7]=b.w,Y.array[st+8]=_.x,Y.array[st+9]=_.y,Y.array[st+10]=_.z,Y.array[st+11]=_.w,st+=12;else if("faces"===Y.boundTo)for(a=0,s=kt.length;a<s;a++)X=Y.value[kt[a]],g=X,b=X,_=X,Y.array[st]=g.x,Y.array[st+1]=g.y,Y.array[st+2]=g.z,Y.array[st+3]=g.w,Y.array[st+4]=b.x,Y.array[st+5]=b.y,Y.array[st+6]=b.z,Y.array[st+7]=b.w,Y.array[st+8]=_.x,Y.array[st+9]=_.y,Y.array[st+10]=_.z,Y.array[st+11]=_.w,st+=12;else if("faceVertices"===Y.boundTo)for(a=0,s=kt.length;a<s;a++)X=Y.value[kt[a]],g=X[0],b=X[1],_=X[2],Y.array[st]=g.x,Y.array[st+1]=g.y,Y.array[st+2]=g.z,Y.array[st+3]=g.w,Y.array[st+4]=b.x,Y.array[st+5]=b.y,Y.array[st+6]=b.z,Y.array[st+7]=b.w,Y.array[st+8]=_.x,Y.array[st+9]=_.y,Y.array[st+10]=_.z,Y.array[st+11]=_.w,st+=12;Rt.bindBuffer(Rt.ARRAY_BUFFER,Y.buffer),Rt.bufferData(Rt.ARRAY_BUFFER,Y.array,r)}i&&(delete e.__inittedArrays,delete e.__colorArray,delete e.__normalArray,delete e.__tangentArray,delete e.__uvArray,delete e.__uv2Array,delete e.__faceArray,delete e.__vertexArray,delete e.__lineArray,delete e.__skinIndexArray,delete e.__skinWeightArray)}}function d(t,e,n,r){for(var i=n.attributes,o=e.attributes,a=e.attributesKeys,s=0,u=a.length;s<u;s++){var c=a[s],l=o[c];if(l>=0){var h=i[c];if(void 0!==h){var p=h.itemSize;Rt.bindBuffer(Rt.ARRAY_BUFFER,h.buffer),te.enableAttribute(l),Rt.vertexAttribPointer(l,p,Rt.FLOAT,!1,0,r*p*4)}else void 0!==t.defaultAttributeValues&&(2===t.defaultAttributeValues[c].length?Rt.vertexAttrib2fv(l,t.defaultAttributeValues[c]):3===t.defaultAttributeValues[c].length&&Rt.vertexAttrib3fv(l,t.defaultAttributeValues[c]))}}te.disableUnusedAttributes()}function m(t,e,n){var r=t.program.attributes;if(n.morphTargetBase!==-1&&r.position>=0?(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[n.morphTargetBase]),te.enableAttribute(r.position),Rt.vertexAttribPointer(r.position,3,Rt.FLOAT,!1,0,0)):r.position>=0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglVertexBuffer),te.enableAttribute(r.position),Rt.vertexAttribPointer(r.position,3,Rt.FLOAT,!1,0,0)),n.morphTargetForcedOrder.length)for(var i,o=0,a=n.morphTargetForcedOrder,s=n.morphTargetInfluences;o<t.numSupportedMorphTargets&&o<a.length;)i=r["morphTarget"+o],i>=0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[a[o]]),te.enableAttribute(i),Rt.vertexAttribPointer(i,3,Rt.FLOAT,!1,0,0)),i=r["morphNormal"+o],i>=0&&t.morphNormals&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[a[o]]),te.enableAttribute(i),Rt.vertexAttribPointer(i,3,Rt.FLOAT,!1,0,0)),n.__webglMorphTargetInfluences[o]=s[a[o]],o++;else{var u=[],s=n.morphTargetInfluences,c=n.geometry.morphTargets;s.length>c.length&&(console.warn("THREE.WebGLRenderer: Influences array is bigger than morphTargets array."),s.length=c.length);for(var l=0,h=s.length;l<h;l++){var p=s[l];u.push([p,l])}u.length>t.numSupportedMorphTargets?(u.sort(g),u.length=t.numSupportedMorphTargets):u.length>t.numSupportedMorphNormals?u.sort(g):0===u.length&&u.push([0,0]);for(var i,o=0,f=t.numSupportedMorphTargets;o<f;o++)if(u[o]){var d=u[o][1];i=r["morphTarget"+o],i>=0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[d]),te.enableAttribute(i),Rt.vertexAttribPointer(i,3,Rt.FLOAT,!1,0,0)),i=r["morphNormal"+o],i>=0&&t.morphNormals&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[d]),te.enableAttribute(i),Rt.vertexAttribPointer(i,3,Rt.FLOAT,!1,0,0)),n.__webglMorphTargetInfluences[o]=s[d]}else n.__webglMorphTargetInfluences[o]=0}null!==t.program.uniforms.morphTargetInfluences&&Rt.uniform1fv(t.program.uniforms.morphTargetInfluences,n.__webglMorphTargetInfluences)}function y(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function v(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function g(t,e){return e[0]-t[0]}function b(e){if(e.visible!==!1){if(e instanceof t.Scene||e instanceof t.Group);else if(S(e),e instanceof t.Light)St.push(e);else if(e instanceof t.Sprite)Pt.push(e);else if(e instanceof t.LensFlare)kt.push(e);else{var n=Et[e.id];if(n&&(e.frustumCulled===!1||Wt.intersectsObject(e)===!0))for(var r=0,i=n.length;r<i;r++){var o=n[r];C(o),o.render=!0,Ot.sortObjects===!0&&(Yt.setFromMatrixPosition(e.matrixWorld),Yt.applyProjection(Xt),o.z=Yt.z)}}for(var r=0,i=e.children.length;r<i;r++)b(e.children[r])}}function _(e,n,r,i,o){for(var a,s=0,u=e.length;s<u;s++){var c=e[s],l=c.object,h=c.buffer;if(Z(l,n),o)a=o;else{if(a=c.material,!a)continue;D(a)}Ot.setMaterialFaces(a),h instanceof t.BufferGeometry?Ot.renderBufferDirect(n,r,i,a,h,l):Ot.renderBuffer(n,r,i,a,h,l)}}function x(t,e,n,r,i,o){for(var a,s=0,u=t.length;s<u;s++){var c=t[s],l=c.object;if(l.visible){if(o)a=o;else{if(a=c[e],!a)continue;D(a)}Ot.renderImmediateObject(n,r,i,a,l)}}}function w(t){var e=t.object,n=e.material;n.transparent?(t.transparent=n,t.opaque=null):(t.opaque=n,t.transparent=null)}function C(e){var n=e.object,r=e.buffer,i=n.geometry,o=n.material;if(o instanceof t.MeshFaceMaterial){var a=i instanceof t.BufferGeometry?0:r.materialIndex;o=o.materials[a],e.material=o,o.transparent?At.push(e):Mt.push(e)}else o&&(e.material=o,o.transparent?At.push(e):Mt.push(e))}function S(e){void 0===e.__webglInit&&(e.__webglInit=!0,e._modelViewMatrix=new t.Matrix4,e._normalMatrix=new t.Matrix3,e.addEventListener("removed",xe));var i=e.geometry;if(void 0===i||void 0===i.__webglInit&&(i.__webglInit=!0,i.addEventListener("dispose",we),i instanceof t.BufferGeometry?Ot.info.memory.geometries++:e instanceof t.Mesh?T(e,i):e instanceof t.Line?void 0===i.__webglVertexBuffer&&(r(i),s(i,e),i.verticesNeedUpdate=!0,i.colorsNeedUpdate=!0,i.lineDistancesNeedUpdate=!0):e instanceof t.PointCloud&&void 0===i.__webglVertexBuffer&&(n(i),a(i,e),i.verticesNeedUpdate=!0,i.colorsNeedUpdate=!0)),void 0===e.__webglActive)if(e.__webglActive=!0,e instanceof t.Mesh){if(i instanceof t.BufferGeometry)M(Et,i,e);else if(i instanceof t.Geometry)for(var o=Re[i.id],u=0,c=o.length;u<c;u++)M(Et,o[u],e)}else e instanceof t.Line||e instanceof t.PointCloud?M(Et,i,e):(e instanceof t.ImmediateRenderObject||e.immediateRenderCallback)&&A(Tt,e)}function E(t,e){for(var n,r,i=ee.get("OES_element_index_uint")?4294967296:65535,o={},a=t.morphTargets.length,s=t.morphNormals.length,u={},c=[],l=0,h=t.faces.length;l<h;l++){var p=t.faces[l],f=e?p.materialIndex:0;f in o||(o[f]={hash:f,counter:0}),n=o[f].hash+"_"+o[f].counter,n in u||(r={id:Oe++,faces3:[],materialIndex:f,vertices:0,numMorphTargets:a,numMorphNormals:s},u[n]=r,c.push(r)),u[n].vertices+3>i&&(o[f].counter+=1,n=o[f].hash+"_"+o[f].counter,n in u||(r={id:Oe++,faces3:[],materialIndex:f,vertices:0,numMorphTargets:a,numMorphNormals:s},u[n]=r,c.push(r))),u[n].faces3.push(l),u[n].vertices+=3}return c}function T(e,n){var r=e.material,o=!1;void 0!==Re[n.id]&&n.groupsNeedUpdate!==!0||(delete Et[e.id],Re[n.id]=E(n,r instanceof t.MeshFaceMaterial),n.groupsNeedUpdate=!1);for(var a=Re[n.id],s=0,c=a.length;s<c;s++){var l=a[s];void 0===l.__webglVertexBuffer?(i(l),u(l,e),n.verticesNeedUpdate=!0,n.morphTargetsNeedUpdate=!0,n.elementsNeedUpdate=!0,n.uvsNeedUpdate=!0,n.normalsNeedUpdate=!0,n.tangentsNeedUpdate=!0,n.colorsNeedUpdate=!0,o=!0):o=!1,(o||void 0===e.__webglActive)&&M(Et,l,e)}e.__webglActive=!0}function M(t,e,n){var r=n.id;t[r]=t[r]||[],t[r].push({id:r,buffer:e,object:n,material:null,z:0})}function A(t,e){t.push({id:null,object:e,opaque:null,transparent:null,z:0})}function P(e){var n=e.geometry;if(n instanceof t.BufferGeometry)for(var r=n.attributes,i=n.attributesKeys,o=0,a=i.length;o<a;o++){var s=i[o],u=r[s],l="index"===s?Rt.ELEMENT_ARRAY_BUFFER:Rt.ARRAY_BUFFER;void 0===u.buffer?(u.buffer=Rt.createBuffer(),Rt.bindBuffer(l,u.buffer),Rt.bufferData(l,u.array,u instanceof t.DynamicBufferAttribute?Rt.DYNAMIC_DRAW:Rt.STATIC_DRAW),u.needsUpdate=!1):u.needsUpdate===!0&&(Rt.bindBuffer(l,u.buffer),void 0===u.updateRange||u.updateRange.count===-1?Rt.bufferSubData(l,0,u.array):0===u.updateRange.count?console.error("THREE.WebGLRenderer.updateObject: using updateRange for THREE.DynamicBufferAttribute and marked as needsUpdate but count is 0, ensure you are using set methods or updating manually."):(Rt.bufferSubData(l,u.updateRange.offset*u.array.BYTES_PER_ELEMENT,u.array.subarray(u.updateRange.offset,u.updateRange.offset+u.updateRange.count)),u.updateRange.count=0),u.needsUpdate=!1)}else if(e instanceof t.Mesh){n.groupsNeedUpdate===!0&&T(e,n);for(var d=Re[n.id],o=0,m=d.length;o<m;o++){var y=d[o],v=c(e,y),g=v.attributes&&k(v);(n.verticesNeedUpdate||n.morphTargetsNeedUpdate||n.elementsNeedUpdate||n.uvsNeedUpdate||n.normalsNeedUpdate||n.colorsNeedUpdate||n.tangentsNeedUpdate||g)&&f(y,e,Rt.DYNAMIC_DRAW,!n.dynamic,v)}n.verticesNeedUpdate=!1,n.morphTargetsNeedUpdate=!1,n.elementsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.tangentsNeedUpdate=!1,v.attributes&&R(v)}else if(e instanceof t.Line){var v=c(e,n),g=v.attributes&&k(v);(n.verticesNeedUpdate||n.colorsNeedUpdate||n.lineDistancesNeedUpdate||g)&&p(n,Rt.DYNAMIC_DRAW),n.verticesNeedUpdate=!1,n.colorsNeedUpdate=!1,n.lineDistancesNeedUpdate=!1,v.attributes&&R(v)}else if(e instanceof t.PointCloud){var v=c(e,n),g=v.attributes&&k(v);(n.verticesNeedUpdate||n.colorsNeedUpdate||g)&&h(n,Rt.DYNAMIC_DRAW,e),n.verticesNeedUpdate=!1,n.colorsNeedUpdate=!1,v.attributes&&R(v)}}function k(t){for(var e in t.attributes)if(t.attributes[e].needsUpdate)return!0;return!1}function R(t){for(var e in t.attributes)t.attributes[e].needsUpdate=!1}function O(e){e instanceof t.Mesh||e instanceof t.PointCloud||e instanceof t.Line?delete Et[e.id]:(e instanceof t.ImmediateRenderObject||e.immediateRenderCallback)&&I(Tt,e),delete e.__webglInit,delete e._modelViewMatrix,delete e._normalMatrix,delete e.__webglActive}function I(t,e){for(var n=t.length-1;n>=0;n--)t[n].object===e&&t.splice(n,1)}function N(e,n,r,i){e.addEventListener("dispose",Ee);var o=Ie[e.type];if(o){var a=t.ShaderLib[o];e.__webglShader={uniforms:t.UniformsUtils.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}}else e.__webglShader={uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};var s=ct(n),u=lt(n),c=ut(i),l={precision:dt,supportsVertexTextures:ce,map:!!e.map,envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,lightMap:!!e.lightMap,bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,combine:e.combine,vertexColors:e.vertexColors,fog:r,useFog:e.fog,fogExp:r instanceof t.FogExp2,flatShading:e.shading===t.FlatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:xt,skinning:e.skinning,maxBones:c,useVertexTexture:le&&i&&i.skeleton&&i.skeleton.useVertexTexture,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:Ot.maxMorphTargets,maxMorphNormals:Ot.maxMorphNormals,maxDirLights:s.directional,maxPointLights:s.point,maxSpotLights:s.spot,maxHemiLights:s.hemi,maxShadows:u,shadowMapEnabled:Ot.shadowMapEnabled&&i.receiveShadow&&u>0,shadowMapType:Ot.shadowMapType,shadowMapDebug:Ot.shadowMapDebug,shadowMapCascade:Ot.shadowMapCascade,alphaTest:e.alphaTest,metal:e.metal,wrapAround:e.wrapAround,doubleSided:e.side===t.DoubleSide,flipSided:e.side===t.BackSide},h=[];if(o?h.push(o):(h.push(e.fragmentShader),h.push(e.vertexShader)),void 0!==e.defines)for(var p in e.defines)h.push(p),h.push(e.defines[p]);for(var p in l)h.push(p),h.push(l[p]);for(var f,d=h.join(),m=0,y=It.length;m<y;m++){var v=It[m];if(v.code===d){f=v,f.usedTimes++;break}}void 0===f&&(f=new t.WebGLProgram(Ot,d,e,l),It.push(f),Ot.info.memory.programs=It.length),
e.program=f;var g=f.attributes;if(e.morphTargets){e.numSupportedMorphTargets=0;for(var b,_="morphTarget",x=0;x<Ot.maxMorphTargets;x++)b=_+x,g[b]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;var b,_="morphNormal";for(x=0;x<Ot.maxMorphNormals;x++)b=_+x,g[b]>=0&&e.numSupportedMorphNormals++}e.uniformsList=[];for(var w in e.__webglShader.uniforms){var C=e.program.uniforms[w];C&&e.uniformsList.push([e.__webglShader.uniforms[w],C])}}function D(e){e.transparent===!0?te.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha):te.setBlending(t.NoBlending),te.setDepthTest(e.depthTest),te.setDepthWrite(e.depthWrite),te.setColorWrite(e.colorWrite),te.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function L(e,n,r,i,o){jt=0,i.needsUpdate&&(i.program&&ke(i),N(i,n,r,o),i.needsUpdate=!1),i.morphTargets&&(o.__webglMorphTargetInfluences||(o.__webglMorphTargetInfluences=new Float32Array(Ot.maxMorphTargets)));var a=!1,s=!1,u=!1,c=i.program,l=c.uniforms,h=i.__webglShader.uniforms;if(c.id!==Nt&&(Rt.useProgram(c.program),Nt=c.id,a=!0,s=!0,u=!0),i.id!==Lt&&(Lt===-1&&(u=!0),Lt=i.id,s=!0),(a||e!==Ft)&&(Rt.uniformMatrix4fv(l.projectionMatrix,!1,e.projectionMatrix.elements),xt&&Rt.uniform1f(l.logDepthBufFC,2/(Math.log(e.far+1)/Math.LN2)),e!==Ft&&(Ft=e),(i instanceof t.ShaderMaterial||i instanceof t.MeshPhongMaterial||i.envMap)&&null!==l.cameraPosition&&(Yt.setFromMatrixPosition(e.matrixWorld),Rt.uniform3f(l.cameraPosition,Yt.x,Yt.y,Yt.z)),(i instanceof t.MeshPhongMaterial||i instanceof t.MeshLambertMaterial||i instanceof t.MeshBasicMaterial||i instanceof t.ShaderMaterial||i.skinning)&&null!==l.viewMatrix&&Rt.uniformMatrix4fv(l.viewMatrix,!1,e.matrixWorldInverse.elements)),i.skinning)if(o.bindMatrix&&null!==l.bindMatrix&&Rt.uniformMatrix4fv(l.bindMatrix,!1,o.bindMatrix.elements),o.bindMatrixInverse&&null!==l.bindMatrixInverse&&Rt.uniformMatrix4fv(l.bindMatrixInverse,!1,o.bindMatrixInverse.elements),le&&o.skeleton&&o.skeleton.useVertexTexture){if(null!==l.boneTexture){var p=Y();Rt.uniform1i(l.boneTexture,p),Ot.setTexture(o.skeleton.boneTexture,p)}null!==l.boneTextureWidth&&Rt.uniform1i(l.boneTextureWidth,o.skeleton.boneTextureWidth),null!==l.boneTextureHeight&&Rt.uniform1i(l.boneTextureHeight,o.skeleton.boneTextureHeight)}else o.skeleton&&o.skeleton.boneMatrices&&null!==l.boneGlobalMatrices&&Rt.uniformMatrix4fv(l.boneGlobalMatrices,!1,o.skeleton.boneMatrices);return s&&(r&&i.fog&&U(h,r),(i instanceof t.MeshPhongMaterial||i instanceof t.MeshLambertMaterial||i.lights)&&(Zt&&(u=!0,$(n),Zt=!1),u?(G(h,Qt),q(h,!0)):q(h,!1)),(i instanceof t.MeshBasicMaterial||i instanceof t.MeshLambertMaterial||i instanceof t.MeshPhongMaterial)&&V(h,i),i instanceof t.LineBasicMaterial?F(h,i):i instanceof t.LineDashedMaterial?(F(h,i),j(h,i)):i instanceof t.PointCloudMaterial?B(h,i):i instanceof t.MeshPhongMaterial?z(h,i):i instanceof t.MeshLambertMaterial?H(h,i):i instanceof t.MeshDepthMaterial?(h.mNear.value=e.near,h.mFar.value=e.far,h.opacity.value=i.opacity):i instanceof t.MeshNormalMaterial&&(h.opacity.value=i.opacity),o.receiveShadow&&!i._shadowPass&&W(h,n),K(i.uniformsList)),X(l,o),null!==l.modelMatrix&&Rt.uniformMatrix4fv(l.modelMatrix,!1,o.matrixWorld.elements),c}function V(e,n){e.opacity.value=n.opacity,e.diffuse.value=n.color,e.map.value=n.map,e.lightMap.value=n.lightMap,e.specularMap.value=n.specularMap,e.alphaMap.value=n.alphaMap,n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale));var r;if(n.map?r=n.map:n.specularMap?r=n.specularMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.alphaMap&&(r=n.alphaMap),void 0!==r){var i=r.offset,o=r.repeat;e.offsetRepeat.value.set(i.x,i.y,o.x,o.y)}e.envMap.value=n.envMap,e.flipEnvMap.value=n.envMap instanceof t.WebGLRenderTargetCube?1:-1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio}function F(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function j(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function B(t,e){if(t.psColor.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size,t.scale.value=ht.height/2,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function U(e,n){e.fogColor.value=n.color,n instanceof t.Fog?(e.fogNear.value=n.near,e.fogFar.value=n.far):n instanceof t.FogExp2&&(e.fogDensity.value=n.density)}function z(t,e){t.shininess.value=e.shininess,t.emissive.value=e.emissive,t.specular.value=e.specular,e.wrapAround&&t.wrapRGB.value.copy(e.wrapRGB)}function H(t,e){t.emissive.value=e.emissive,e.wrapAround&&t.wrapRGB.value.copy(e.wrapRGB)}function G(t,e){t.ambientLightColor.value=e.ambient,t.directionalLightColor.value=e.directional.colors,t.directionalLightDirection.value=e.directional.positions,t.pointLightColor.value=e.point.colors,t.pointLightPosition.value=e.point.positions,t.pointLightDistance.value=e.point.distances,t.pointLightDecay.value=e.point.decays,t.spotLightColor.value=e.spot.colors,t.spotLightPosition.value=e.spot.positions,t.spotLightDistance.value=e.spot.distances,t.spotLightDirection.value=e.spot.directions,t.spotLightAngleCos.value=e.spot.anglesCos,t.spotLightExponent.value=e.spot.exponents,t.spotLightDecay.value=e.spot.decays,t.hemisphereLightSkyColor.value=e.hemi.skyColors,t.hemisphereLightGroundColor.value=e.hemi.groundColors,t.hemisphereLightDirection.value=e.hemi.positions}function q(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLightColor.needsUpdate=e,t.directionalLightDirection.needsUpdate=e,t.pointLightColor.needsUpdate=e,t.pointLightPosition.needsUpdate=e,t.pointLightDistance.needsUpdate=e,t.pointLightDecay.needsUpdate=e,t.spotLightColor.needsUpdate=e,t.spotLightPosition.needsUpdate=e,t.spotLightDistance.needsUpdate=e,t.spotLightDirection.needsUpdate=e,t.spotLightAngleCos.needsUpdate=e,t.spotLightExponent.needsUpdate=e,t.spotLightDecay.needsUpdate=e,t.hemisphereLightSkyColor.needsUpdate=e,t.hemisphereLightGroundColor.needsUpdate=e,t.hemisphereLightDirection.needsUpdate=e}function W(e,n){if(e.shadowMatrix)for(var r=0,i=0,o=n.length;i<o;i++){var a=n[i];a.castShadow&&(a instanceof t.SpotLight||a instanceof t.DirectionalLight&&!a.shadowCascade)&&(e.shadowMap.value[r]=a.shadowMap,e.shadowMapSize.value[r]=a.shadowMapSize,e.shadowMatrix.value[r]=a.shadowMatrix,e.shadowDarkness.value[r]=a.shadowDarkness,e.shadowBias.value[r]=a.shadowBias,r++)}}function X(t,e){Rt.uniformMatrix4fv(t.modelViewMatrix,!1,e._modelViewMatrix.elements),t.normalMatrix&&Rt.uniformMatrix3fv(t.normalMatrix,!1,e._normalMatrix.elements)}function Y(){var e=jt;return e>=oe&&t.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+oe),jt+=1,e}function K(e){for(var n,r,i,o=0,a=e.length;o<a;o++){var s=e[o][0];if(s.needsUpdate!==!1){var u=s.type,c=s.value,l=e[o][1];switch(u){case"1i":Rt.uniform1i(l,c);break;case"1f":Rt.uniform1f(l,c);break;case"2f":Rt.uniform2f(l,c[0],c[1]);break;case"3f":Rt.uniform3f(l,c[0],c[1],c[2]);break;case"4f":Rt.uniform4f(l,c[0],c[1],c[2],c[3]);break;case"1iv":Rt.uniform1iv(l,c);break;case"3iv":Rt.uniform3iv(l,c);break;case"1fv":Rt.uniform1fv(l,c);break;case"2fv":Rt.uniform2fv(l,c);break;case"3fv":Rt.uniform3fv(l,c);break;case"4fv":Rt.uniform4fv(l,c);break;case"Matrix3fv":Rt.uniformMatrix3fv(l,!1,c);break;case"Matrix4fv":Rt.uniformMatrix4fv(l,!1,c);break;case"i":Rt.uniform1i(l,c);break;case"f":Rt.uniform1f(l,c);break;case"v2":Rt.uniform2f(l,c.x,c.y);break;case"v3":Rt.uniform3f(l,c.x,c.y,c.z);break;case"v4":Rt.uniform4f(l,c.x,c.y,c.z,c.w);break;case"c":Rt.uniform3f(l,c.r,c.g,c.b);break;case"iv1":Rt.uniform1iv(l,c);break;case"iv":Rt.uniform3iv(l,c);break;case"fv1":Rt.uniform1fv(l,c);break;case"fv":Rt.uniform3fv(l,c);break;case"v2v":void 0===s._array&&(s._array=new Float32Array(2*c.length));for(var h=0,p=c.length;h<p;h++)i=2*h,s._array[i]=c[h].x,s._array[i+1]=c[h].y;Rt.uniform2fv(l,s._array);break;case"v3v":void 0===s._array&&(s._array=new Float32Array(3*c.length));for(var h=0,p=c.length;h<p;h++)i=3*h,s._array[i]=c[h].x,s._array[i+1]=c[h].y,s._array[i+2]=c[h].z;Rt.uniform3fv(l,s._array);break;case"v4v":void 0===s._array&&(s._array=new Float32Array(4*c.length));for(var h=0,p=c.length;h<p;h++)i=4*h,s._array[i]=c[h].x,s._array[i+1]=c[h].y,s._array[i+2]=c[h].z,s._array[i+3]=c[h].w;Rt.uniform4fv(l,s._array);break;case"m3":Rt.uniformMatrix3fv(l,!1,c.elements);break;case"m3v":void 0===s._array&&(s._array=new Float32Array(9*c.length));for(var h=0,p=c.length;h<p;h++)c[h].flattenToArrayOffset(s._array,9*h);Rt.uniformMatrix3fv(l,!1,s._array);break;case"m4":Rt.uniformMatrix4fv(l,!1,c.elements);break;case"m4v":void 0===s._array&&(s._array=new Float32Array(16*c.length));for(var h=0,p=c.length;h<p;h++)c[h].flattenToArrayOffset(s._array,16*h);Rt.uniformMatrix4fv(l,!1,s._array);break;case"t":if(n=c,r=Y(),Rt.uniform1i(l,r),!n)continue;n instanceof t.CubeTexture||n.image instanceof Array&&6===n.image.length?et(n,r):n instanceof t.WebGLRenderTargetCube?nt(n,r):Ot.setTexture(n,r);break;case"tv":void 0===s._array&&(s._array=[]);for(var h=0,p=s.value.length;h<p;h++)s._array[h]=Y();Rt.uniform1iv(l,s._array);for(var h=0,p=s.value.length;h<p;h++)n=s.value[h],r=s._array[h],n&&Ot.setTexture(n,r);break;default:t.warn("THREE.WebGLRenderer: Unknown uniform type: "+u)}}}}function Z(t,e){t._modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,t.matrixWorld),t._normalMatrix.getNormalMatrix(t._modelViewMatrix)}function Q(t,e,n,r){t[e]=n.r*r,t[e+1]=n.g*r,t[e+2]=n.b*r}function $(e){var n,r,i,o,a,s,u,c,l=0,h=0,p=0,f=Qt,d=f.directional.colors,m=f.directional.positions,y=f.point.colors,v=f.point.positions,g=f.point.distances,b=f.point.decays,_=f.spot.colors,x=f.spot.positions,w=f.spot.distances,C=f.spot.directions,S=f.spot.anglesCos,E=f.spot.exponents,T=f.spot.decays,M=f.hemi.skyColors,A=f.hemi.groundColors,P=f.hemi.positions,k=0,R=0,O=0,I=0,N=0,D=0,L=0,V=0,F=0,j=0,B=0,U=0;for(n=0,r=e.length;n<r;n++)if(i=e[n],!i.onlyShadow)if(o=i.color,u=i.intensity,c=i.distance,i instanceof t.AmbientLight){if(!i.visible)continue;l+=o.r,h+=o.g,p+=o.b}else if(i instanceof t.DirectionalLight){if(N+=1,!i.visible)continue;Kt.setFromMatrixPosition(i.matrixWorld),Yt.setFromMatrixPosition(i.target.matrixWorld),Kt.sub(Yt),Kt.normalize(),F=3*k,m[F]=Kt.x,m[F+1]=Kt.y,m[F+2]=Kt.z,Q(d,F,o,u),k+=1}else if(i instanceof t.PointLight){if(D+=1,!i.visible)continue;j=3*R,Q(y,j,o,u),Yt.setFromMatrixPosition(i.matrixWorld),v[j]=Yt.x,v[j+1]=Yt.y,v[j+2]=Yt.z,g[R]=c,b[R]=0===i.distance?0:i.decay,R+=1}else if(i instanceof t.SpotLight){if(L+=1,!i.visible)continue;B=3*O,Q(_,B,o,u),Kt.setFromMatrixPosition(i.matrixWorld),x[B]=Kt.x,x[B+1]=Kt.y,x[B+2]=Kt.z,w[O]=c,Yt.setFromMatrixPosition(i.target.matrixWorld),Kt.sub(Yt),Kt.normalize(),C[B]=Kt.x,C[B+1]=Kt.y,C[B+2]=Kt.z,S[O]=Math.cos(i.angle),E[O]=i.exponent,T[O]=0===i.distance?0:i.decay,O+=1}else if(i instanceof t.HemisphereLight){if(V+=1,!i.visible)continue;Kt.setFromMatrixPosition(i.matrixWorld),Kt.normalize(),U=3*I,P[U]=Kt.x,P[U+1]=Kt.y,P[U+2]=Kt.z,a=i.color,s=i.groundColor,Q(M,U,a,u),Q(A,U,s,u),I+=1}for(n=3*k,r=Math.max(d.length,3*N);n<r;n++)d[n]=0;for(n=3*R,r=Math.max(y.length,3*D);n<r;n++)y[n]=0;for(n=3*O,r=Math.max(_.length,3*L);n<r;n++)_[n]=0;for(n=3*I,r=Math.max(M.length,3*V);n<r;n++)M[n]=0;for(n=3*I,r=Math.max(A.length,3*V);n<r;n++)A[n]=0;f.directional.length=k,f.point.length=R,f.spot.length=O,f.hemi.length=I,f.ambient[0]=l,f.ambient[1]=h,f.ambient[2]=p}function J(e,n,r){var i;r?(Rt.texParameteri(e,Rt.TEXTURE_WRAP_S,st(n.wrapS)),Rt.texParameteri(e,Rt.TEXTURE_WRAP_T,st(n.wrapT)),Rt.texParameteri(e,Rt.TEXTURE_MAG_FILTER,st(n.magFilter)),Rt.texParameteri(e,Rt.TEXTURE_MIN_FILTER,st(n.minFilter))):(Rt.texParameteri(e,Rt.TEXTURE_WRAP_S,Rt.CLAMP_TO_EDGE),Rt.texParameteri(e,Rt.TEXTURE_WRAP_T,Rt.CLAMP_TO_EDGE),n.wrapS===t.ClampToEdgeWrapping&&n.wrapT===t.ClampToEdgeWrapping||t.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping. ( "+n.sourceFile+" )"),Rt.texParameteri(e,Rt.TEXTURE_MAG_FILTER,at(n.magFilter)),Rt.texParameteri(e,Rt.TEXTURE_MIN_FILTER,at(n.minFilter)),n.minFilter!==t.NearestFilter&&n.minFilter!==t.LinearFilter&&t.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter. ( "+n.sourceFile+" )")),i=ee.get("EXT_texture_filter_anisotropic"),i&&n.type!==t.FloatType&&n.type!==t.HalfFloatType&&(n.anisotropy>1||n.__currentAnisotropy)&&(Rt.texParameterf(e,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(n.anisotropy,Ot.getMaxAnisotropy())),n.__currentAnisotropy=n.anisotropy)}function tt(e,n){if(e.width>n||e.height>n){var r=n/Math.max(e.width,e.height),i=document.createElement("canvas");i.width=Math.floor(e.width*r),i.height=Math.floor(e.height*r);var o=i.getContext("2d");return o.drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height),t.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+i.width+"x"+i.height,e),i}return e}function et(e,n){if(6===e.image.length)if(e.needsUpdate){e.image.__webglTextureCube||(e.addEventListener("dispose",Ce),e.image.__webglTextureCube=Rt.createTexture(),Ot.info.memory.textures++),Rt.activeTexture(Rt.TEXTURE0+n),Rt.bindTexture(Rt.TEXTURE_CUBE_MAP,e.image.__webglTextureCube),Rt.pixelStorei(Rt.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var r=e instanceof t.CompressedTexture,i=e.image[0]instanceof t.DataTexture,o=[],a=0;a<6;a++)!Ot.autoScaleCubemaps||r||i?o[a]=i?e.image[a].image:e.image[a]:o[a]=tt(e.image[a],ue);var s=o[0],u=t.Math.isPowerOfTwo(s.width)&&t.Math.isPowerOfTwo(s.height),c=st(e.format),l=st(e.type);J(Rt.TEXTURE_CUBE_MAP,e,u);for(var a=0;a<6;a++)if(r)for(var h,p=o[a].mipmaps,f=0,d=p.length;f<d;f++)h=p[f],e.format!==t.RGBAFormat&&e.format!==t.RGBFormat?me().indexOf(c)>-1?Rt.compressedTexImage2D(Rt.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,c,h.width,h.height,0,h.data):t.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"):Rt.texImage2D(Rt.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,c,h.width,h.height,0,c,l,h.data);else i?Rt.texImage2D(Rt.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,c,o[a].width,o[a].height,0,c,l,o[a].data):Rt.texImage2D(Rt.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,c,c,l,o[a]);e.generateMipmaps&&u&&Rt.generateMipmap(Rt.TEXTURE_CUBE_MAP),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else Rt.activeTexture(Rt.TEXTURE0+n),Rt.bindTexture(Rt.TEXTURE_CUBE_MAP,e.image.__webglTextureCube)}function nt(t,e){Rt.activeTexture(Rt.TEXTURE0+e),Rt.bindTexture(Rt.TEXTURE_CUBE_MAP,t.__webglTexture)}function rt(t,e,n){Rt.bindFramebuffer(Rt.FRAMEBUFFER,t),Rt.framebufferTexture2D(Rt.FRAMEBUFFER,Rt.COLOR_ATTACHMENT0,n,e.__webglTexture,0)}function it(t,e){Rt.bindRenderbuffer(Rt.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(Rt.renderbufferStorage(Rt.RENDERBUFFER,Rt.DEPTH_COMPONENT16,e.width,e.height),Rt.framebufferRenderbuffer(Rt.FRAMEBUFFER,Rt.DEPTH_ATTACHMENT,Rt.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(Rt.renderbufferStorage(Rt.RENDERBUFFER,Rt.DEPTH_STENCIL,e.width,e.height),Rt.framebufferRenderbuffer(Rt.FRAMEBUFFER,Rt.DEPTH_STENCIL_ATTACHMENT,Rt.RENDERBUFFER,t)):Rt.renderbufferStorage(Rt.RENDERBUFFER,Rt.RGBA4,e.width,e.height)}function ot(e){e instanceof t.WebGLRenderTargetCube?(Rt.bindTexture(Rt.TEXTURE_CUBE_MAP,e.__webglTexture),Rt.generateMipmap(Rt.TEXTURE_CUBE_MAP),Rt.bindTexture(Rt.TEXTURE_CUBE_MAP,null)):(Rt.bindTexture(Rt.TEXTURE_2D,e.__webglTexture),Rt.generateMipmap(Rt.TEXTURE_2D),Rt.bindTexture(Rt.TEXTURE_2D,null))}function at(e){return e===t.NearestFilter||e===t.NearestMipMapNearestFilter||e===t.NearestMipMapLinearFilter?Rt.NEAREST:Rt.LINEAR}function st(e){var n;if(e===t.RepeatWrapping)return Rt.REPEAT;if(e===t.ClampToEdgeWrapping)return Rt.CLAMP_TO_EDGE;if(e===t.MirroredRepeatWrapping)return Rt.MIRRORED_REPEAT;if(e===t.NearestFilter)return Rt.NEAREST;if(e===t.NearestMipMapNearestFilter)return Rt.NEAREST_MIPMAP_NEAREST;if(e===t.NearestMipMapLinearFilter)return Rt.NEAREST_MIPMAP_LINEAR;if(e===t.LinearFilter)return Rt.LINEAR;if(e===t.LinearMipMapNearestFilter)return Rt.LINEAR_MIPMAP_NEAREST;if(e===t.LinearMipMapLinearFilter)return Rt.LINEAR_MIPMAP_LINEAR;if(e===t.UnsignedByteType)return Rt.UNSIGNED_BYTE;if(e===t.UnsignedShort4444Type)return Rt.UNSIGNED_SHORT_4_4_4_4;if(e===t.UnsignedShort5551Type)return Rt.UNSIGNED_SHORT_5_5_5_1;if(e===t.UnsignedShort565Type)return Rt.UNSIGNED_SHORT_5_6_5;if(e===t.ByteType)return Rt.BYTE;if(e===t.ShortType)return Rt.SHORT;if(e===t.UnsignedShortType)return Rt.UNSIGNED_SHORT;if(e===t.IntType)return Rt.INT;if(e===t.UnsignedIntType)return Rt.UNSIGNED_INT;if(e===t.FloatType)return Rt.FLOAT;if(n=ee.get("OES_texture_half_float"),null!==n&&e===t.HalfFloatType)return n.HALF_FLOAT_OES;if(e===t.AlphaFormat)return Rt.ALPHA;if(e===t.RGBFormat)return Rt.RGB;if(e===t.RGBAFormat)return Rt.RGBA;if(e===t.LuminanceFormat)return Rt.LUMINANCE;if(e===t.LuminanceAlphaFormat)return Rt.LUMINANCE_ALPHA;if(e===t.AddEquation)return Rt.FUNC_ADD;if(e===t.SubtractEquation)return Rt.FUNC_SUBTRACT;if(e===t.ReverseSubtractEquation)return Rt.FUNC_REVERSE_SUBTRACT;if(e===t.ZeroFactor)return Rt.ZERO;if(e===t.OneFactor)return Rt.ONE;if(e===t.SrcColorFactor)return Rt.SRC_COLOR;if(e===t.OneMinusSrcColorFactor)return Rt.ONE_MINUS_SRC_COLOR;if(e===t.SrcAlphaFactor)return Rt.SRC_ALPHA;if(e===t.OneMinusSrcAlphaFactor)return Rt.ONE_MINUS_SRC_ALPHA;if(e===t.DstAlphaFactor)return Rt.DST_ALPHA;if(e===t.OneMinusDstAlphaFactor)return Rt.ONE_MINUS_DST_ALPHA;if(e===t.DstColorFactor)return Rt.DST_COLOR;if(e===t.OneMinusDstColorFactor)return Rt.ONE_MINUS_DST_COLOR;if(e===t.SrcAlphaSaturateFactor)return Rt.SRC_ALPHA_SATURATE;if(n=ee.get("WEBGL_compressed_texture_s3tc"),null!==n){if(e===t.RGB_S3TC_DXT1_Format)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===t.RGBA_S3TC_DXT1_Format)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===t.RGBA_S3TC_DXT3_Format)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===t.RGBA_S3TC_DXT5_Format)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n=ee.get("WEBGL_compressed_texture_pvrtc"),null!==n){if(e===t.RGB_PVRTC_4BPPV1_Format)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===t.RGB_PVRTC_2BPPV1_Format)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===t.RGBA_PVRTC_4BPPV1_Format)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===t.RGBA_PVRTC_2BPPV1_Format)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n=ee.get("EXT_blend_minmax"),null!==n){if(e===t.MinEquation)return n.MIN_EXT;if(e===t.MaxEquation)return n.MAX_EXT}return 0}function ut(e){if(le&&e&&e.skeleton&&e.skeleton.useVertexTexture)return 1024;var n=Rt.getParameter(Rt.MAX_VERTEX_UNIFORM_VECTORS),r=Math.floor((n-20)/4),i=r;return void 0!==e&&e instanceof t.SkinnedMesh&&(i=Math.min(e.skeleton.bones.length,i),i<e.skeleton.bones.length&&t.warn("WebGLRenderer: too many bones - "+e.skeleton.bones.length+", this GPU supports just "+i+" (try OpenGL instead of ANGLE)")),i}function ct(e){for(var n=0,r=0,i=0,o=0,a=0,s=e.length;a<s;a++){var u=e[a];u.onlyShadow||u.visible===!1||(u instanceof t.DirectionalLight&&n++,u instanceof t.PointLight&&r++,u instanceof t.SpotLight&&i++,u instanceof t.HemisphereLight&&o++)}return{directional:n,point:r,spot:i,hemi:o}}function lt(e){for(var n=0,r=0,i=e.length;r<i;r++){var o=e[r];o.castShadow&&(o instanceof t.SpotLight&&n++,o instanceof t.DirectionalLight&&!o.shadowCascade&&n++)}return n}e=e||{};var ht=void 0!==e.canvas?e.canvas:document.createElement("canvas"),pt=void 0!==e.context?e.context:null,ft=1,dt=void 0!==e.precision?e.precision:"highp",mt=void 0!==e.alpha&&e.alpha,yt=void 0===e.depth||e.depth,vt=void 0===e.stencil||e.stencil,gt=void 0!==e.antialias&&e.antialias,bt=void 0===e.premultipliedAlpha||e.premultipliedAlpha,_t=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,xt=void 0!==e.logarithmicDepthBuffer&&e.logarithmicDepthBuffer,wt=new t.Color(0),Ct=0,St=[],Et={},Tt=[],Mt=[],At=[],Pt=[],kt=[];this.domElement=ht,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.shadowMapEnabled=!1,this.shadowMapType=t.PCFShadowMap,this.shadowMapCullFace=t.CullFaceFront,this.shadowMapDebug=!1,this.shadowMapCascade=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var Rt,Ot=this,It=[],Nt=null,Dt=null,Lt=-1,Vt="",Ft=null,jt=0,Bt=0,Ut=0,zt=ht.width,Ht=ht.height,Gt=0,qt=0,Wt=new t.Frustum,Xt=new t.Matrix4,Yt=new t.Vector3,Kt=new t.Vector3,Zt=!0,Qt={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[],decays:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[],decays:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},$t=function(t){t.preventDefault(),ie(),re(),Et={}};try{var Jt={alpha:mt,depth:yt,stencil:vt,antialias:gt,premultipliedAlpha:bt,preserveDrawingBuffer:_t};if(Rt=pt||ht.getContext("webgl",Jt)||ht.getContext("experimental-webgl",Jt),null===Rt)throw null!==ht.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";ht.addEventListener("webglcontextlost",$t,!1)}catch(e){t.error("THREE.WebGLRenderer: "+e)}this.dispose=function(){ht.removeEventListener("webglcontextlost",$t,!1)};var te=new t.WebGLState(Rt,st);void 0===Rt.getShaderPrecisionFormat&&(Rt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});var ee=new t.WebGLExtensions(Rt);ee.get("OES_texture_float"),ee.get("OES_texture_float_linear"),ee.get("OES_texture_half_float"),ee.get("OES_texture_half_float_linear"),ee.get("OES_standard_derivatives"),xt&&ee.get("EXT_frag_depth");var ne=function(t,e,n,r){bt===!0&&(t*=r,e*=r,n*=r),Rt.clearColor(t,e,n,r)},re=function(){Rt.clearColor(0,0,0,1),Rt.clearDepth(1),Rt.clearStencil(0),Rt.enable(Rt.DEPTH_TEST),Rt.depthFunc(Rt.LEQUAL),Rt.frontFace(Rt.CCW),Rt.cullFace(Rt.BACK),Rt.enable(Rt.CULL_FACE),Rt.enable(Rt.BLEND),Rt.blendEquation(Rt.FUNC_ADD),Rt.blendFunc(Rt.SRC_ALPHA,Rt.ONE_MINUS_SRC_ALPHA),Rt.viewport(Bt,Ut,zt,Ht),ne(wt.r,wt.g,wt.b,Ct)},ie=function(){Nt=null,Ft=null,Vt="",Lt=-1,Zt=!0,te.reset()};re(),this.context=Rt,this.state=te;var oe=Rt.getParameter(Rt.MAX_TEXTURE_IMAGE_UNITS),ae=Rt.getParameter(Rt.MAX_VERTEX_TEXTURE_IMAGE_UNITS),se=Rt.getParameter(Rt.MAX_TEXTURE_SIZE),ue=Rt.getParameter(Rt.MAX_CUBE_MAP_TEXTURE_SIZE),ce=ae>0,le=ce&&ee.get("OES_texture_float"),he=Rt.getShaderPrecisionFormat(Rt.VERTEX_SHADER,Rt.HIGH_FLOAT),pe=Rt.getShaderPrecisionFormat(Rt.VERTEX_SHADER,Rt.MEDIUM_FLOAT),fe=Rt.getShaderPrecisionFormat(Rt.FRAGMENT_SHADER,Rt.HIGH_FLOAT),de=Rt.getShaderPrecisionFormat(Rt.FRAGMENT_SHADER,Rt.MEDIUM_FLOAT),me=function(){var t;return function(){if(void 0!==t)return t;if(t=[],ee.get("WEBGL_compressed_texture_pvrtc")||ee.get("WEBGL_compressed_texture_s3tc"))for(var e=Rt.getParameter(Rt.COMPRESSED_TEXTURE_FORMATS),n=0;n<e.length;n++)t.push(e[n]);return t}}(),ye=he.precision>0&&fe.precision>0,ve=pe.precision>0&&de.precision>0;"highp"!==dt||ye||(ve?(dt="mediump",t.warn("THREE.WebGLRenderer: highp not supported, using mediump.")):(dt="lowp",t.warn("THREE.WebGLRenderer: highp and mediump not supported, using lowp."))),"mediump"!==dt||ve||(dt="lowp",t.warn("THREE.WebGLRenderer: mediump not supported, using lowp."));var ge=new t.ShadowMapPlugin(this,St,Et,Tt),be=new t.SpritePlugin(this,Pt),_e=new t.LensFlarePlugin(this,kt);this.getContext=function(){return Rt},this.forceContextLoss=function(){ee.get("WEBGL_lose_context").loseContext()},this.supportsVertexTextures=function(){return ce},this.supportsFloatTextures=function(){return ee.get("OES_texture_float")},this.supportsHalfFloatTextures=function(){return ee.get("OES_texture_half_float")},this.supportsStandardDerivatives=function(){return ee.get("OES_standard_derivatives")},this.supportsCompressedTextureS3TC=function(){return ee.get("WEBGL_compressed_texture_s3tc")},this.supportsCompressedTexturePVRTC=function(){return ee.get("WEBGL_compressed_texture_pvrtc")},this.supportsBlendMinMax=function(){return ee.get("EXT_blend_minmax")},this.getMaxAnisotropy=function(){var t;return function(){if(void 0!==t)return t;var e=ee.get("EXT_texture_filter_anisotropic");return t=null!==e?Rt.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}(),this.getPrecision=function(){return dt},this.getPixelRatio=function(){return ft},this.setPixelRatio=function(t){ft=t},this.setSize=function(t,e,n){ht.width=t*ft,ht.height=e*ft,n!==!1&&(ht.style.width=t+"px",ht.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){Bt=t*ft,Ut=e*ft,zt=n*ft,Ht=r*ft,Rt.viewport(Bt,Ut,zt,Ht)},this.setScissor=function(t,e,n,r){Rt.scissor(t*ft,e*ft,n*ft,r*ft)},this.enableScissorTest=function(t){t?Rt.enable(Rt.SCISSOR_TEST):Rt.disable(Rt.SCISSOR_TEST)},this.getClearColor=function(){return wt},this.setClearColor=function(t,e){wt.set(t),Ct=void 0!==e?e:1,ne(wt.r,wt.g,wt.b,Ct)},this.getClearAlpha=function(){return Ct},this.setClearAlpha=function(t){Ct=t,ne(wt.r,wt.g,wt.b,Ct)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=Rt.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=Rt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Rt.STENCIL_BUFFER_BIT),Rt.clear(r)},this.clearColor=function(){Rt.clear(Rt.COLOR_BUFFER_BIT)},this.clearDepth=function(){Rt.clear(Rt.DEPTH_BUFFER_BIT)},this.clearStencil=function(){Rt.clear(Rt.STENCIL_BUFFER_BIT)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=ie;var xe=function(t){var e=t.target;e.traverse(function(t){t.removeEventListener("remove",xe),O(t)})},we=function(t){var e=t.target;e.removeEventListener("dispose",we),Me(e)},Ce=function(t){var e=t.target;e.removeEventListener("dispose",Ce),Ae(e),Ot.info.memory.textures--},Se=function(t){var e=t.target;e.removeEventListener("dispose",Se),Pe(e),Ot.info.memory.textures--},Ee=function(t){var e=t.target;e.removeEventListener("dispose",Ee),ke(e)},Te=function(t){for(var e=["__webglVertexBuffer","__webglNormalBuffer","__webglTangentBuffer","__webglColorBuffer","__webglUVBuffer","__webglUV2Buffer","__webglSkinIndicesBuffer","__webglSkinWeightsBuffer","__webglFaceBuffer","__webglLineBuffer","__webglLineDistanceBuffer"],n=0,r=e.length;n<r;n++){var i=e[n];void 0!==t[i]&&(Rt.deleteBuffer(t[i]),delete t[i])}if(void 0!==t.__webglCustomAttributesList){for(var i in t.__webglCustomAttributesList)Rt.deleteBuffer(t.__webglCustomAttributesList[i].buffer);delete t.__webglCustomAttributesList}Ot.info.memory.geometries--},Me=function(e){if(delete e.__webglInit,e instanceof t.BufferGeometry){for(var n in e.attributes){var r=e.attributes[n];void 0!==r.buffer&&(Rt.deleteBuffer(r.buffer),delete r.buffer)}Ot.info.memory.geometries--}else{var i=Re[e.id];if(void 0!==i){for(var o=0,a=i.length;o<a;o++){var s=i[o];if(void 0!==s.numMorphTargets){for(var u=0,c=s.numMorphTargets;u<c;u++)Rt.deleteBuffer(s.__webglMorphTargetsBuffers[u]);delete s.__webglMorphTargetsBuffers}if(void 0!==s.numMorphNormals){for(var u=0,c=s.numMorphNormals;u<c;u++)Rt.deleteBuffer(s.__webglMorphNormalsBuffers[u]);delete s.__webglMorphNormalsBuffers}Te(s)}delete Re[e.id]}else Te(e)}Vt=""},Ae=function(t){if(t.image&&t.image.__webglTextureCube)Rt.deleteTexture(t.image.__webglTextureCube),delete t.image.__webglTextureCube;else{if(void 0===t.__webglInit)return;Rt.deleteTexture(t.__webglTexture),delete t.__webglTexture,delete t.__webglInit}},Pe=function(e){if(e&&void 0!==e.__webglTexture){if(Rt.deleteTexture(e.__webglTexture),delete e.__webglTexture,e instanceof t.WebGLRenderTargetCube)for(var n=0;n<6;n++)Rt.deleteFramebuffer(e.__webglFramebuffer[n]),Rt.deleteRenderbuffer(e.__webglRenderbuffer[n]);else Rt.deleteFramebuffer(e.__webglFramebuffer),Rt.deleteRenderbuffer(e.__webglRenderbuffer);delete e.__webglFramebuffer,delete e.__webglRenderbuffer}},ke=function(t){var e=t.program.program;if(void 0!==e){t.program=void 0;var n,r,i,o=!1;for(n=0,r=It.length;n<r;n++)if(i=It[n],i.program===e){i.usedTimes--,0===i.usedTimes&&(o=!0);break}if(o===!0){var a=[];for(n=0,r=It.length;n<r;n++)i=It[n],i.program!==e&&a.push(i);It=a,Rt.deleteProgram(e),Ot.info.memory.programs--}}};this.renderBufferImmediate=function(e,n,r){if(te.initAttributes(),e.hasPositions&&!e.__webglVertexBuffer&&(e.__webglVertexBuffer=Rt.createBuffer()),e.hasNormals&&!e.__webglNormalBuffer&&(e.__webglNormalBuffer=Rt.createBuffer()),e.hasUvs&&!e.__webglUvBuffer&&(e.__webglUvBuffer=Rt.createBuffer()),e.hasColors&&!e.__webglColorBuffer&&(e.__webglColorBuffer=Rt.createBuffer()),e.hasPositions&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglVertexBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,e.positionArray,Rt.DYNAMIC_DRAW),te.enableAttribute(n.attributes.position),Rt.vertexAttribPointer(n.attributes.position,3,Rt.FLOAT,!1,0,0)),e.hasNormals){if(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglNormalBuffer),r instanceof t.MeshPhongMaterial==!1&&r.shading===t.FlatShading){var i,o,a,s,u,c,l,h,p,f,d,m,y,v,g=3*e.count;for(v=0;v<g;v+=9)y=e.normalArray,s=y[v],l=y[v+1],f=y[v+2],u=y[v+3],h=y[v+4],d=y[v+5],c=y[v+6],p=y[v+7],m=y[v+8],i=(s+u+c)/3,o=(l+h+p)/3,a=(f+d+m)/3,y[v]=i,y[v+1]=o,y[v+2]=a,y[v+3]=i,y[v+4]=o,y[v+5]=a,y[v+6]=i,y[v+7]=o,y[v+8]=a}Rt.bufferData(Rt.ARRAY_BUFFER,e.normalArray,Rt.DYNAMIC_DRAW),te.enableAttribute(n.attributes.normal),Rt.vertexAttribPointer(n.attributes.normal,3,Rt.FLOAT,!1,0,0)}e.hasUvs&&r.map&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglUvBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,e.uvArray,Rt.DYNAMIC_DRAW),te.enableAttribute(n.attributes.uv),Rt.vertexAttribPointer(n.attributes.uv,2,Rt.FLOAT,!1,0,0)),e.hasColors&&r.vertexColors!==t.NoColors&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,e.__webglColorBuffer),Rt.bufferData(Rt.ARRAY_BUFFER,e.colorArray,Rt.DYNAMIC_DRAW),te.enableAttribute(n.attributes.color),Rt.vertexAttribPointer(n.attributes.color,3,Rt.FLOAT,!1,0,0)),te.disableUnusedAttributes(),Rt.drawArrays(Rt.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,r,i,o,a){if(i.visible!==!1){P(a);var s=L(e,n,r,i,a),u=!1,c=i.wireframe?1:0,l="direct_"+o.id+"_"+s.id+"_"+c;if(l!==Vt&&(Vt=l,u=!0),u&&te.initAttributes(),a instanceof t.Mesh){var h=i.wireframe===!0?Rt.LINES:Rt.TRIANGLES,p=o.attributes.index;if(p){var f,m;p.array instanceof Uint32Array&&ee.get("OES_element_index_uint")?(f=Rt.UNSIGNED_INT,m=4):(f=Rt.UNSIGNED_SHORT,m=2);var y=o.offsets;if(0===y.length)u&&(d(i,s,o,0),Rt.bindBuffer(Rt.ELEMENT_ARRAY_BUFFER,p.buffer)),Rt.drawElements(h,p.array.length,f,0),Ot.info.render.calls++,Ot.info.render.vertices+=p.array.length,Ot.info.render.faces+=p.array.length/3;else{u=!0;for(var v=0,g=y.length;v<g;v++){var b=y[v].index;u&&(d(i,s,o,b),Rt.bindBuffer(Rt.ELEMENT_ARRAY_BUFFER,p.buffer)),Rt.drawElements(h,y[v].count,f,y[v].start*m),Ot.info.render.calls++,Ot.info.render.vertices+=y[v].count,Ot.info.render.faces+=y[v].count/3}}}else{u&&d(i,s,o,0);var _=o.attributes.position;Rt.drawArrays(h,0,_.array.length/_.itemSize),Ot.info.render.calls++,Ot.info.render.vertices+=_.array.length/_.itemSize,Ot.info.render.faces+=_.array.length/(3*_.itemSize)}}else if(a instanceof t.PointCloud){var h=Rt.POINTS,p=o.attributes.index;if(p){var f,m;p.array instanceof Uint32Array&&ee.get("OES_element_index_uint")?(f=Rt.UNSIGNED_INT,m=4):(f=Rt.UNSIGNED_SHORT,m=2);var y=o.offsets;if(0===y.length)u&&(d(i,s,o,0),Rt.bindBuffer(Rt.ELEMENT_ARRAY_BUFFER,p.buffer)),Rt.drawElements(h,p.array.length,f,0),Ot.info.render.calls++,Ot.info.render.points+=p.array.length;else{y.length>1&&(u=!0);for(var v=0,g=y.length;v<g;v++){var b=y[v].index;u&&(d(i,s,o,b),Rt.bindBuffer(Rt.ELEMENT_ARRAY_BUFFER,p.buffer)),Rt.drawElements(h,y[v].count,f,y[v].start*m),Ot.info.render.calls++,Ot.info.render.points+=y[v].count}}}else{u&&d(i,s,o,0);var _=o.attributes.position,y=o.offsets;if(0===y.length)Rt.drawArrays(h,0,_.array.length/3),Ot.info.render.calls++,Ot.info.render.points+=_.array.length/3;else for(var v=0,g=y.length;v<g;v++)Rt.drawArrays(h,y[v].index,y[v].count),
Ot.info.render.calls++,Ot.info.render.points+=y[v].count}}else if(a instanceof t.Line){var h=a.mode===t.LineStrip?Rt.LINE_STRIP:Rt.LINES;te.setLineWidth(i.linewidth*ft);var p=o.attributes.index;if(p){var f,m;p.array instanceof Uint32Array?(f=Rt.UNSIGNED_INT,m=4):(f=Rt.UNSIGNED_SHORT,m=2);var y=o.offsets;if(0===y.length)u&&(d(i,s,o,0),Rt.bindBuffer(Rt.ELEMENT_ARRAY_BUFFER,p.buffer)),Rt.drawElements(h,p.array.length,f,0),Ot.info.render.calls++,Ot.info.render.vertices+=p.array.length;else{y.length>1&&(u=!0);for(var v=0,g=y.length;v<g;v++){var b=y[v].index;u&&(d(i,s,o,b),Rt.bindBuffer(Rt.ELEMENT_ARRAY_BUFFER,p.buffer)),Rt.drawElements(h,y[v].count,f,y[v].start*m),Ot.info.render.calls++,Ot.info.render.vertices+=y[v].count}}}else{u&&d(i,s,o,0);var _=o.attributes.position,y=o.offsets;if(0===y.length)Rt.drawArrays(h,0,_.array.length/3),Ot.info.render.calls++,Ot.info.render.vertices+=_.array.length/3;else for(var v=0,g=y.length;v<g;v++)Rt.drawArrays(h,y[v].index,y[v].count),Ot.info.render.calls++,Ot.info.render.vertices+=y[v].count}}}},this.renderBuffer=function(e,n,r,i,o,a){if(i.visible!==!1){P(a);var s=L(e,n,r,i,a),u=s.attributes,c=!1,l=i.wireframe?1:0,h=o.id+"_"+s.id+"_"+l;if(h!==Vt&&(Vt=h,c=!0),c&&te.initAttributes(),!i.morphTargets&&u.position>=0?c&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,o.__webglVertexBuffer),te.enableAttribute(u.position),Rt.vertexAttribPointer(u.position,3,Rt.FLOAT,!1,0,0)):a.morphTargetBase&&m(i,o,a),c){if(o.__webglCustomAttributesList)for(var p=0,f=o.__webglCustomAttributesList.length;p<f;p++){var d=o.__webglCustomAttributesList[p];u[d.buffer.belongsToAttribute]>=0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,d.buffer),te.enableAttribute(u[d.buffer.belongsToAttribute]),Rt.vertexAttribPointer(u[d.buffer.belongsToAttribute],d.size,Rt.FLOAT,!1,0,0))}u.color>=0&&(a.geometry.colors.length>0||a.geometry.faces.length>0?(Rt.bindBuffer(Rt.ARRAY_BUFFER,o.__webglColorBuffer),te.enableAttribute(u.color),Rt.vertexAttribPointer(u.color,3,Rt.FLOAT,!1,0,0)):void 0!==i.defaultAttributeValues&&Rt.vertexAttrib3fv(u.color,i.defaultAttributeValues.color)),u.normal>=0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,o.__webglNormalBuffer),te.enableAttribute(u.normal),Rt.vertexAttribPointer(u.normal,3,Rt.FLOAT,!1,0,0)),u.tangent>=0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,o.__webglTangentBuffer),te.enableAttribute(u.tangent),Rt.vertexAttribPointer(u.tangent,4,Rt.FLOAT,!1,0,0)),u.uv>=0&&(a.geometry.faceVertexUvs[0]?(Rt.bindBuffer(Rt.ARRAY_BUFFER,o.__webglUVBuffer),te.enableAttribute(u.uv),Rt.vertexAttribPointer(u.uv,2,Rt.FLOAT,!1,0,0)):void 0!==i.defaultAttributeValues&&Rt.vertexAttrib2fv(u.uv,i.defaultAttributeValues.uv)),u.uv2>=0&&(a.geometry.faceVertexUvs[1]?(Rt.bindBuffer(Rt.ARRAY_BUFFER,o.__webglUV2Buffer),te.enableAttribute(u.uv2),Rt.vertexAttribPointer(u.uv2,2,Rt.FLOAT,!1,0,0)):void 0!==i.defaultAttributeValues&&Rt.vertexAttrib2fv(u.uv2,i.defaultAttributeValues.uv2)),i.skinning&&u.skinIndex>=0&&u.skinWeight>=0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,o.__webglSkinIndicesBuffer),te.enableAttribute(u.skinIndex),Rt.vertexAttribPointer(u.skinIndex,4,Rt.FLOAT,!1,0,0),Rt.bindBuffer(Rt.ARRAY_BUFFER,o.__webglSkinWeightsBuffer),te.enableAttribute(u.skinWeight),Rt.vertexAttribPointer(u.skinWeight,4,Rt.FLOAT,!1,0,0)),u.lineDistance>=0&&(Rt.bindBuffer(Rt.ARRAY_BUFFER,o.__webglLineDistanceBuffer),te.enableAttribute(u.lineDistance),Rt.vertexAttribPointer(u.lineDistance,1,Rt.FLOAT,!1,0,0))}if(te.disableUnusedAttributes(),a instanceof t.Mesh){var y=o.__typeArray===Uint32Array?Rt.UNSIGNED_INT:Rt.UNSIGNED_SHORT;i.wireframe?(te.setLineWidth(i.wireframeLinewidth*ft),c&&Rt.bindBuffer(Rt.ELEMENT_ARRAY_BUFFER,o.__webglLineBuffer),Rt.drawElements(Rt.LINES,o.__webglLineCount,y,0)):(c&&Rt.bindBuffer(Rt.ELEMENT_ARRAY_BUFFER,o.__webglFaceBuffer),Rt.drawElements(Rt.TRIANGLES,o.__webglFaceCount,y,0)),Ot.info.render.calls++,Ot.info.render.vertices+=o.__webglFaceCount,Ot.info.render.faces+=o.__webglFaceCount/3}else if(a instanceof t.Line){var v=a.mode===t.LineStrip?Rt.LINE_STRIP:Rt.LINES;te.setLineWidth(i.linewidth*ft),Rt.drawArrays(v,0,o.__webglLineCount),Ot.info.render.calls++}else a instanceof t.PointCloud&&(Rt.drawArrays(Rt.POINTS,0,o.__webglParticleCount),Ot.info.render.calls++,Ot.info.render.points+=o.__webglParticleCount)}},this.render=function(e,n,r,i){if(n instanceof t.Camera==!1)return void t.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");var o=e.fog;Vt="",Lt=-1,Ft=null,Zt=!0,e.autoUpdate===!0&&e.updateMatrixWorld(),void 0===n.parent&&n.updateMatrixWorld(),e.traverse(function(e){e instanceof t.SkinnedMesh&&e.skeleton.update()}),n.matrixWorldInverse.getInverse(n.matrixWorld),Xt.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),Wt.setFromMatrix(Xt),St.length=0,Mt.length=0,At.length=0,Pt.length=0,kt.length=0,b(e),Ot.sortObjects===!0&&(Mt.sort(y),At.sort(v)),ge.render(e,n),Ot.info.render.calls=0,Ot.info.render.vertices=0,Ot.info.render.faces=0,Ot.info.render.points=0,this.setRenderTarget(r),(this.autoClear||i)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);for(var a=0,s=Tt.length;a<s;a++){var u=Tt[a],c=u.object;c.visible&&(Z(c,n),w(u))}if(e.overrideMaterial){var l=e.overrideMaterial;D(l),_(Mt,n,St,o,l),_(At,n,St,o,l),x(Tt,"",n,St,o,l)}else te.setBlending(t.NoBlending),_(Mt,n,St,o,null),x(Tt,"opaque",n,St,o,null),_(At,n,St,o,null),x(Tt,"transparent",n,St,o,null);be.render(e,n),_e.render(e,n,Gt,qt),r&&r.generateMipmaps&&r.minFilter!==t.NearestFilter&&r.minFilter!==t.LinearFilter&&ot(r),te.setDepthTest(!0),te.setDepthWrite(!0),te.setColorWrite(!0)},this.renderImmediateObject=function(t,e,n,r,i){var o=L(t,e,n,r,i);Vt="",Ot.setMaterialFaces(r),i.immediateRenderCallback?i.immediateRenderCallback(o,Rt,Wt):i.render(function(t){Ot.renderBufferImmediate(t,o,r)})};var Re={},Oe=0,Ie={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointCloudMaterial:"particle_basic"};this.setFaceCulling=function(e,n){e===t.CullFaceNone?Rt.disable(Rt.CULL_FACE):(n===t.FrontFaceDirectionCW?Rt.frontFace(Rt.CW):Rt.frontFace(Rt.CCW),e===t.CullFaceBack?Rt.cullFace(Rt.BACK):e===t.CullFaceFront?Rt.cullFace(Rt.FRONT):Rt.cullFace(Rt.FRONT_AND_BACK),Rt.enable(Rt.CULL_FACE))},this.setMaterialFaces=function(e){te.setDoubleSided(e.side===t.DoubleSide),te.setFlipSided(e.side===t.BackSide)},this.uploadTexture=function(e){void 0===e.__webglInit&&(e.__webglInit=!0,e.addEventListener("dispose",Ce),e.__webglTexture=Rt.createTexture(),Ot.info.memory.textures++),Rt.bindTexture(Rt.TEXTURE_2D,e.__webglTexture),Rt.pixelStorei(Rt.UNPACK_FLIP_Y_WEBGL,e.flipY),Rt.pixelStorei(Rt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),Rt.pixelStorei(Rt.UNPACK_ALIGNMENT,e.unpackAlignment),e.image=tt(e.image,se);var n=e.image,r=t.Math.isPowerOfTwo(n.width)&&t.Math.isPowerOfTwo(n.height),i=st(e.format),o=st(e.type);J(Rt.TEXTURE_2D,e,r);var a,s=e.mipmaps;if(e instanceof t.DataTexture)if(s.length>0&&r){for(var u=0,c=s.length;u<c;u++)a=s[u],Rt.texImage2D(Rt.TEXTURE_2D,u,i,a.width,a.height,0,i,o,a.data);e.generateMipmaps=!1}else Rt.texImage2D(Rt.TEXTURE_2D,0,i,n.width,n.height,0,i,o,n.data);else if(e instanceof t.CompressedTexture)for(var u=0,c=s.length;u<c;u++)a=s[u],e.format!==t.RGBAFormat&&e.format!==t.RGBFormat?me().indexOf(i)>-1?Rt.compressedTexImage2D(Rt.TEXTURE_2D,u,i,a.width,a.height,0,a.data):t.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Rt.texImage2D(Rt.TEXTURE_2D,u,i,a.width,a.height,0,i,o,a.data);else if(s.length>0&&r){for(var u=0,c=s.length;u<c;u++)a=s[u],Rt.texImage2D(Rt.TEXTURE_2D,u,i,i,o,a);e.generateMipmaps=!1}else Rt.texImage2D(Rt.TEXTURE_2D,0,i,i,o,e.image);e.generateMipmaps&&r&&Rt.generateMipmap(Rt.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()},this.setTexture=function(t,e){Rt.activeTexture(Rt.TEXTURE0+e),t.needsUpdate?Ot.uploadTexture(t):Rt.bindTexture(Rt.TEXTURE_2D,t.__webglTexture)},this.setRenderTarget=function(e){var n=e instanceof t.WebGLRenderTargetCube;if(e&&void 0===e.__webglFramebuffer){void 0===e.depthBuffer&&(e.depthBuffer=!0),void 0===e.stencilBuffer&&(e.stencilBuffer=!0),e.addEventListener("dispose",Se),e.__webglTexture=Rt.createTexture(),Ot.info.memory.textures++;var r=t.Math.isPowerOfTwo(e.width)&&t.Math.isPowerOfTwo(e.height),i=st(e.format),o=st(e.type);if(n){e.__webglFramebuffer=[],e.__webglRenderbuffer=[],Rt.bindTexture(Rt.TEXTURE_CUBE_MAP,e.__webglTexture),J(Rt.TEXTURE_CUBE_MAP,e,r);for(var a=0;a<6;a++)e.__webglFramebuffer[a]=Rt.createFramebuffer(),e.__webglRenderbuffer[a]=Rt.createRenderbuffer(),Rt.texImage2D(Rt.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,i,e.width,e.height,0,i,o,null),rt(e.__webglFramebuffer[a],e,Rt.TEXTURE_CUBE_MAP_POSITIVE_X+a),it(e.__webglRenderbuffer[a],e);r&&Rt.generateMipmap(Rt.TEXTURE_CUBE_MAP)}else e.__webglFramebuffer=Rt.createFramebuffer(),e.shareDepthFrom?e.__webglRenderbuffer=e.shareDepthFrom.__webglRenderbuffer:e.__webglRenderbuffer=Rt.createRenderbuffer(),Rt.bindTexture(Rt.TEXTURE_2D,e.__webglTexture),J(Rt.TEXTURE_2D,e,r),Rt.texImage2D(Rt.TEXTURE_2D,0,i,e.width,e.height,0,i,o,null),rt(e.__webglFramebuffer,e,Rt.TEXTURE_2D),e.shareDepthFrom?e.depthBuffer&&!e.stencilBuffer?Rt.framebufferRenderbuffer(Rt.FRAMEBUFFER,Rt.DEPTH_ATTACHMENT,Rt.RENDERBUFFER,e.__webglRenderbuffer):e.depthBuffer&&e.stencilBuffer&&Rt.framebufferRenderbuffer(Rt.FRAMEBUFFER,Rt.DEPTH_STENCIL_ATTACHMENT,Rt.RENDERBUFFER,e.__webglRenderbuffer):it(e.__webglRenderbuffer,e),r&&Rt.generateMipmap(Rt.TEXTURE_2D);n?Rt.bindTexture(Rt.TEXTURE_CUBE_MAP,null):Rt.bindTexture(Rt.TEXTURE_2D,null),Rt.bindRenderbuffer(Rt.RENDERBUFFER,null),Rt.bindFramebuffer(Rt.FRAMEBUFFER,null)}var s,u,c,l,h;e?(s=n?e.__webglFramebuffer[e.activeCubeFace]:e.__webglFramebuffer,u=e.width,c=e.height,l=0,h=0):(s=null,u=zt,c=Ht,l=Bt,h=Ut),s!==Dt&&(Rt.bindFramebuffer(Rt.FRAMEBUFFER,s),Rt.viewport(l,h,u,c),Dt=s),Gt=u,qt=c},this.readRenderTargetPixels=function(e,n,r,i,o,a){if(!(e instanceof t.WebGLRenderTarget))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");if(e.__webglFramebuffer){if(e.format!==t.RGBAFormat)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA format. readPixels can read only RGBA format.");var s=!1;e.__webglFramebuffer!==Dt&&(Rt.bindFramebuffer(Rt.FRAMEBUFFER,e.__webglFramebuffer),s=!0),Rt.checkFramebufferStatus(Rt.FRAMEBUFFER)===Rt.FRAMEBUFFER_COMPLETE?Rt.readPixels(n,r,i,o,Rt.RGBA,Rt.UNSIGNED_BYTE,a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."),s&&Rt.bindFramebuffer(Rt.FRAMEBUFFER,Dt)}},this.initMaterial=function(){t.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},this.addPrePlugin=function(){t.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},this.addPostPlugin=function(){t.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},this.updateShadowMap=function(){t.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}},t.WebGLRenderTarget=function(e,n,r){this.width=e,this.height=n,r=r||{},this.wrapS=void 0!==r.wrapS?r.wrapS:t.ClampToEdgeWrapping,this.wrapT=void 0!==r.wrapT?r.wrapT:t.ClampToEdgeWrapping,this.magFilter=void 0!==r.magFilter?r.magFilter:t.LinearFilter,this.minFilter=void 0!==r.minFilter?r.minFilter:t.LinearMipMapLinearFilter,this.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,this.offset=new t.Vector2(0,0),this.repeat=new t.Vector2(1,1),this.format=void 0!==r.format?r.format:t.RGBAFormat,this.type=void 0!==r.type?r.type:t.UnsignedByteType,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.generateMipmaps=!0,this.shareDepthFrom=void 0!==r.shareDepthFrom?r.shareDepthFrom:null},t.WebGLRenderTarget.prototype={constructor:t.WebGLRenderTarget,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose())},clone:function(){var e=new t.WebGLRenderTarget(this.width,this.height);return e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.format=this.format,e.type=this.type,e.depthBuffer=this.depthBuffer,e.stencilBuffer=this.stencilBuffer,e.generateMipmaps=this.generateMipmaps,e.shareDepthFrom=this.shareDepthFrom,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},t.EventDispatcher.prototype.apply(t.WebGLRenderTarget.prototype),t.WebGLRenderTargetCube=function(e,n,r){t.WebGLRenderTarget.call(this,e,n,r),this.activeCubeFace=0},t.WebGLRenderTargetCube.prototype=Object.create(t.WebGLRenderTarget.prototype),t.WebGLRenderTargetCube.prototype.constructor=t.WebGLRenderTargetCube,t.WebGLExtensions=function(e){var n={};this.get=function(r){if(void 0!==n[r])return n[r];var i;switch(r){case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(r)}return null===i&&t.warn("THREE.WebGLRenderer: "+r+" extension not supported."),n[r]=i,i}},t.WebGLProgram=function(){var e=0,n=function(t){var e,n,r=[];for(var i in t)e=t[i],e!==!1&&(n="#define "+i+" "+e,r.push(n));return r.join("\n")},r=function(t,e,n){for(var r={},i=0,o=n.length;i<o;i++){var a=n[i];r[a]=t.getUniformLocation(e,a)}return r},i=function(t,e,n){for(var r={},i=0,o=n.length;i<o;i++){var a=n[i];r[a]=t.getAttribLocation(e,a)}return r};return function(o,a,s,u){var c=o,l=c.context,h=s.defines,p=s.__webglShader.uniforms,f=s.attributes,d=s.__webglShader.vertexShader,m=s.__webglShader.fragmentShader,y=s.index0AttributeName;void 0===y&&u.morphTargets===!0&&(y="position");var v="SHADOWMAP_TYPE_BASIC";u.shadowMapType===t.PCFShadowMap?v="SHADOWMAP_TYPE_PCF":u.shadowMapType===t.PCFSoftShadowMap&&(v="SHADOWMAP_TYPE_PCF_SOFT");var g="ENVMAP_TYPE_CUBE",b="ENVMAP_MODE_REFLECTION",_="ENVMAP_BLENDING_MULTIPLY";if(u.envMap){switch(s.envMap.mapping){case t.CubeReflectionMapping:case t.CubeRefractionMapping:g="ENVMAP_TYPE_CUBE";break;case t.EquirectangularReflectionMapping:case t.EquirectangularRefractionMapping:g="ENVMAP_TYPE_EQUIREC";break;case t.SphericalReflectionMapping:g="ENVMAP_TYPE_SPHERE"}switch(s.envMap.mapping){case t.CubeRefractionMapping:case t.EquirectangularRefractionMapping:b="ENVMAP_MODE_REFRACTION"}switch(s.combine){case t.MultiplyOperation:_="ENVMAP_BLENDING_MULTIPLY";break;case t.MixOperation:_="ENVMAP_BLENDING_MIX";break;case t.AddOperation:_="ENVMAP_BLENDING_ADD"}}var x,w,C=o.gammaFactor>0?o.gammaFactor:1,S=n(h),E=l.createProgram();s instanceof t.RawShaderMaterial?(x="",w=""):(x=["precision "+u.precision+" float;","precision "+u.precision+" int;",S,u.supportsVertexTextures?"#define VERTEX_TEXTURES":"",c.gammaInput?"#define GAMMA_INPUT":"",c.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+C,"#define MAX_DIR_LIGHTS "+u.maxDirLights,"#define MAX_POINT_LIGHTS "+u.maxPointLights,"#define MAX_SPOT_LIGHTS "+u.maxSpotLights,"#define MAX_HEMI_LIGHTS "+u.maxHemiLights,"#define MAX_SHADOWS "+u.maxShadows,"#define MAX_BONES "+u.maxBones,u.map?"#define USE_MAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+b:"",u.lightMap?"#define USE_LIGHTMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.vertexColors?"#define USE_COLOR":"",u.flatShading?"#define FLAT_SHADED":"",u.skinning?"#define USE_SKINNING":"",u.useVertexTexture?"#define BONE_TEXTURE":"",u.morphTargets?"#define USE_MORPHTARGETS":"",u.morphNormals?"#define USE_MORPHNORMALS":"",u.wrapAround?"#define WRAP_AROUND":"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"",u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+v:"",u.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",u.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",u.sizeAttenuation?"#define USE_SIZEATTENUATION":"",u.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","attribute vec2 uv2;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif",""].join("\n"),w=["precision "+u.precision+" float;","precision "+u.precision+" int;",u.bumpMap||u.normalMap||u.flatShading?"#extension GL_OES_standard_derivatives : enable":"",S,"#define MAX_DIR_LIGHTS "+u.maxDirLights,"#define MAX_POINT_LIGHTS "+u.maxPointLights,"#define MAX_SPOT_LIGHTS "+u.maxSpotLights,"#define MAX_HEMI_LIGHTS "+u.maxHemiLights,"#define MAX_SHADOWS "+u.maxShadows,u.alphaTest?"#define ALPHATEST "+u.alphaTest:"",c.gammaInput?"#define GAMMA_INPUT":"",c.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+C,u.useFog&&u.fog?"#define USE_FOG":"",u.useFog&&u.fogExp?"#define FOG_EXP2":"",u.map?"#define USE_MAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+g:"",u.envMap?"#define "+b:"",u.envMap?"#define "+_:"",u.lightMap?"#define USE_LIGHTMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.vertexColors?"#define USE_COLOR":"",u.flatShading?"#define FLAT_SHADED":"",u.metal?"#define METAL":"",u.wrapAround?"#define WRAP_AROUND":"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"",u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+v:"",u.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",u.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",u.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",""].join("\n"));var T=new t.WebGLShader(l,l.VERTEX_SHADER,x+d),M=new t.WebGLShader(l,l.FRAGMENT_SHADER,w+m);l.attachShader(E,T),l.attachShader(E,M),void 0!==y&&l.bindAttribLocation(E,0,y),l.linkProgram(E);var A=l.getProgramInfoLog(E);l.getProgramParameter(E,l.LINK_STATUS)===!1&&t.error("THREE.WebGLProgram: shader error: "+l.getError(),"gl.VALIDATE_STATUS",l.getProgramParameter(E,l.VALIDATE_STATUS),"gl.getPRogramInfoLog",A),l.deleteShader(T),l.deleteShader(M);var P=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","modelMatrix","cameraPosition","morphTargetInfluences","bindMatrix","bindMatrixInverse"];u.useVertexTexture?(P.push("boneTexture"),P.push("boneTextureWidth"),P.push("boneTextureHeight")):P.push("boneGlobalMatrices"),u.logarithmicDepthBuffer&&P.push("logDepthBufFC");for(var k in p)P.push(k);this.uniforms=r(l,E,P),P=["position","normal","uv","uv2","tangent","color","skinIndex","skinWeight","lineDistance"];for(var R=0;R<u.maxMorphTargets;R++)P.push("morphTarget"+R);for(var R=0;R<u.maxMorphNormals;R++)P.push("morphNormal"+R);for(var O in f)P.push(O);return this.attributes=i(l,E,P),this.attributesKeys=Object.keys(this.attributes),this.id=e++,this.code=a,this.usedTimes=1,this.program=E,this.vertexShader=T,this.fragmentShader=M,this}}(),t.WebGLShader=function(){return function(e,n,r){var i=e.createShader(n);return e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)===!1&&t.error("THREE.WebGLShader: Shader couldn't compile."),i}}(),t.WebGLState=function(e,n){var r=new Uint8Array(16),i=new Uint8Array(16),o=null,a=null,s=null,u=null,c=null,l=null,h=null,p=null,f=null,d=null,m=null,y=null,v=null,g=null,b=null,_=null;this.initAttributes=function(){for(var t=0,e=r.length;t<e;t++)r[t]=0},this.enableAttribute=function(t){r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1)},this.disableUnusedAttributes=function(){for(var t=0,n=i.length;t<n;t++)i[t]!==r[t]&&(e.disableVertexAttribArray(t),i[t]=0)},this.setBlending=function(r,i,p,f,d,m,y){r!==o&&(r===t.NoBlending?e.disable(e.BLEND):r===t.AdditiveBlending?(e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)):r===t.SubtractiveBlending?(e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):r===t.MultiplyBlending?(e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):r===t.CustomBlending?e.enable(e.BLEND):(e.enable(e.BLEND),e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)),o=r),r===t.CustomBlending?(d=d||i,m=m||p,y=y||f,i===a&&d===c||(e.blendEquationSeparate(n(i),n(d)),a=i,c=d),p===s&&f===u&&m===l&&y===h||(e.blendFuncSeparate(n(p),n(f),n(m),n(y)),s=p,u=f,l=m,h=y)):(a=null,s=null,u=null,c=null,l=null,h=null)},this.setDepthTest=function(t){p!==t&&(t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),p=t)},this.setDepthWrite=function(t){f!==t&&(e.depthMask(t),f=t)},this.setColorWrite=function(t){d!==t&&(e.colorMask(t,t,t,t),d=t)},this.setDoubleSided=function(t){m!==t&&(t?e.disable(e.CULL_FACE):e.enable(e.CULL_FACE),m=t)},this.setFlipSided=function(t){y!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),y=t)},this.setLineWidth=function(t){t!==v&&(e.lineWidth(t),v=t)},this.setPolygonOffset=function(t,n,r){g!==t&&(t?e.enable(e.POLYGON_OFFSET_FILL):e.disable(e.POLYGON_OFFSET_FILL),g=t),!t||b===n&&_===r||(e.polygonOffset(n,r),b=n,_=r)},this.reset=function(){for(var t=0;t<i.length;t++)i[t]=0;o=null,p=null,f=null,d=null,m=null,y=null}},t.LensFlarePlugin=function(e,n){function r(t){var n=p.createProgram(),r=p.createShader(p.FRAGMENT_SHADER),i=p.createShader(p.VERTEX_SHADER),o="precision "+e.getPrecision()+" float;\n";return p.shaderSource(r,o+t.fragmentShader),p.shaderSource(i,o+t.vertexShader),p.compileShader(r),p.compileShader(i),p.attachShader(n,r),p.attachShader(n,i),p.linkProgram(n),n}var i,o,a,s,u,c,l,h,p=e.context,f=function(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);i=p.createBuffer(),o=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,i),p.bufferData(p.ARRAY_BUFFER,t,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,o),p.bufferData(p.ELEMENT_ARRAY_BUFFER,e,p.STATIC_DRAW),l=p.createTexture(),h=p.createTexture(),p.bindTexture(p.TEXTURE_2D,l),p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),p.bindTexture(p.TEXTURE_2D,h),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),c=p.getParameter(p.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;var n;n=c?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},a=r(n),s={vertex:p.getAttribLocation(a,"position"),uv:p.getAttribLocation(a,"uv")},u={renderType:p.getUniformLocation(a,"renderType"),map:p.getUniformLocation(a,"map"),occlusionMap:p.getUniformLocation(a,"occlusionMap"),opacity:p.getUniformLocation(a,"opacity"),color:p.getUniformLocation(a,"color"),scale:p.getUniformLocation(a,"scale"),rotation:p.getUniformLocation(a,"rotation"),screenPosition:p.getUniformLocation(a,"screenPosition")}};this.render=function(r,d,m,y){if(0!==n.length){var v=new t.Vector3,g=y/m,b=.5*m,_=.5*y,x=16/y,w=new t.Vector2(x*g,x),C=new t.Vector3(1,1,0),S=new t.Vector2(1,1);void 0===a&&f(),p.useProgram(a),p.enableVertexAttribArray(s.vertex),p.enableVertexAttribArray(s.uv),p.uniform1i(u.occlusionMap,0),p.uniform1i(u.map,1),p.bindBuffer(p.ARRAY_BUFFER,i),p.vertexAttribPointer(s.vertex,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(s.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,o),p.disable(p.CULL_FACE),p.depthMask(!1);for(var E=0,T=n.length;E<T;E++){x=16/y,w.set(x*g,x);var M=n[E];if(v.set(M.matrixWorld.elements[12],M.matrixWorld.elements[13],M.matrixWorld.elements[14]),v.applyMatrix4(d.matrixWorldInverse),v.applyProjection(d.projectionMatrix),C.copy(v),S.x=C.x*b+b,S.y=C.y*_+_,c||S.x>0&&S.x<m&&S.y>0&&S.y<y){p.activeTexture(p.TEXTURE1),p.bindTexture(p.TEXTURE_2D,l),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,S.x-8,S.y-8,16,16,0),p.uniform1i(u.renderType,0),p.uniform2f(u.scale,w.x,w.y),p.uniform3f(u.screenPosition,C.x,C.y,C.z),p.disable(p.BLEND),p.enable(p.DEPTH_TEST),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,h),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,S.x-8,S.y-8,16,16,0),p.uniform1i(u.renderType,1),p.disable(p.DEPTH_TEST),p.activeTexture(p.TEXTURE1),p.bindTexture(p.TEXTURE_2D,l),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),M.positionScreen.copy(C),M.customUpdateCallback?M.customUpdateCallback(M):M.updateLensFlares(),p.uniform1i(u.renderType,2),p.enable(p.BLEND);for(var A=0,P=M.lensFlares.length;A<P;A++){var k=M.lensFlares[A];k.opacity>.001&&k.scale>.001&&(C.x=k.x,C.y=k.y,C.z=k.z,x=k.size*k.scale/y,w.x=x*g,w.y=x,p.uniform3f(u.screenPosition,C.x,C.y,C.z),p.uniform2f(u.scale,w.x,w.y),p.uniform1f(u.rotation,k.rotation),p.uniform1f(u.opacity,k.opacity),p.uniform3f(u.color,k.color.r,k.color.g,k.color.b),e.state.setBlending(k.blending,k.blendEquation,k.blendSrc,k.blendDst),e.setTexture(k.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}}p.enable(p.CULL_FACE),p.enable(p.DEPTH_TEST),p.depthMask(!0),e.resetGLState()}}},t.ShadowMapPlugin=function(e,n,r,i){function o(t,e,n){if(e.visible){var i=r[e.id];if(i&&e.castShadow&&(e.frustumCulled===!1||m.intersectsObject(e)===!0))for(var a=0,s=i.length;a<s;a++){var u=i[a];e._modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),_.push(u)}for(var a=0,s=e.children.length;a<s;a++)o(t,e.children[a],n)}}function a(e,n){var r=new t.DirectionalLight;r.isVirtual=!0,r.onlyShadow=!0,r.castShadow=!0,r.shadowCameraNear=e.shadowCameraNear,r.shadowCameraFar=e.shadowCameraFar,r.shadowCameraLeft=e.shadowCameraLeft,r.shadowCameraRight=e.shadowCameraRight,r.shadowCameraBottom=e.shadowCameraBottom,r.shadowCameraTop=e.shadowCameraTop,r.shadowCameraVisible=e.shadowCameraVisible,r.shadowDarkness=e.shadowDarkness,r.shadowBias=e.shadowCascadeBias[n],r.shadowMapWidth=e.shadowCascadeWidth[n],r.shadowMapHeight=e.shadowCascadeHeight[n],r.pointsWorld=[],r.pointsFrustum=[];for(var i=r.pointsWorld,o=r.pointsFrustum,a=0;a<8;a++)i[a]=new t.Vector3,o[a]=new t.Vector3;var s=e.shadowCascadeNearZ[n],u=e.shadowCascadeFarZ[n];return o[0].set(-1,-1,s),o[1].set(1,-1,s),o[2].set(-1,1,s),o[3].set(1,1,s),o[4].set(-1,-1,u),o[5].set(1,-1,u),o[6].set(-1,1,u),o[7].set(1,1,u),r}function s(t,e){var n=t.shadowCascadeArray[e];n.position.copy(t.position),n.target.position.copy(t.target.position),n.lookAt(n.target),n.shadowCameraVisible=t.shadowCameraVisible,n.shadowDarkness=t.shadowDarkness,n.shadowBias=t.shadowCascadeBias[e];var r=t.shadowCascadeNearZ[e],i=t.shadowCascadeFarZ[e],o=n.pointsFrustum;o[0].z=r,o[1].z=r,o[2].z=r,o[3].z=r,o[4].z=i,o[5].z=i,o[6].z=i,o[7].z=i}function u(t,e){var n=e.shadowCamera,r=e.pointsFrustum,i=e.pointsWorld;v.set(1/0,1/0,1/0),g.set(-(1/0),-(1/0),-(1/0));for(var o=0;o<8;o++){var a=i[o];a.copy(r[o]),a.unproject(t),a.applyMatrix4(n.matrixWorldInverse),a.x<v.x&&(v.x=a.x),a.x>g.x&&(g.x=a.x),a.y<v.y&&(v.y=a.y),a.y>g.y&&(g.y=a.y),a.z<v.z&&(v.z=a.z),a.z>g.z&&(g.z=a.z)}n.left=v.x,n.right=g.x,n.top=g.y,n.bottom=v.y,n.updateProjectionMatrix()}function c(e){return e.material instanceof t.MeshFaceMaterial?e.material.materials[0]:e.material}var l,h,p,f,d=e.context,m=new t.Frustum,y=new t.Matrix4,v=new t.Vector3,g=new t.Vector3,b=new t.Vector3,_=[],x=t.ShaderLib.depthRGBA,w=t.UniformsUtils.clone(x.uniforms);l=new t.ShaderMaterial({uniforms:w,vertexShader:x.vertexShader,fragmentShader:x.fragmentShader}),h=new t.ShaderMaterial({uniforms:w,
vertexShader:x.vertexShader,fragmentShader:x.fragmentShader,morphTargets:!0}),p=new t.ShaderMaterial({uniforms:w,vertexShader:x.vertexShader,fragmentShader:x.fragmentShader,skinning:!0}),f=new t.ShaderMaterial({uniforms:w,vertexShader:x.vertexShader,fragmentShader:x.fragmentShader,morphTargets:!0,skinning:!0}),l._shadowPass=!0,h._shadowPass=!0,p._shadowPass=!0,f._shadowPass=!0,this.render=function(r,v){if(e.shadowMapEnabled!==!1){var g,x,w,C,S,E,T,M,A,P,k,R,O,I=[],N=0,D=null;for(d.clearColor(1,1,1,1),d.disable(d.BLEND),d.enable(d.CULL_FACE),d.frontFace(d.CCW),e.shadowMapCullFace===t.CullFaceFront?d.cullFace(d.FRONT):d.cullFace(d.BACK),e.state.setDepthTest(!0),g=0,x=n.length;g<x;g++)if(O=n[g],O.castShadow)if(O instanceof t.DirectionalLight&&O.shadowCascade)for(S=0;S<O.shadowCascadeCount;S++){var L;if(O.shadowCascadeArray[S])L=O.shadowCascadeArray[S];else{L=a(O,S),L.originalCamera=v;var V=new t.Gyroscope;V.position.copy(O.shadowCascadeOffset),V.add(L),V.add(L.target),v.add(V),O.shadowCascadeArray[S]=L}s(O,S),I[N]=L,N++}else I[N]=O,N++;for(g=0,x=I.length;g<x;g++){if(O=I[g],!O.shadowMap){var F=t.LinearFilter;e.shadowMapType===t.PCFSoftShadowMap&&(F=t.NearestFilter);var j={minFilter:F,magFilter:F,format:t.RGBAFormat};O.shadowMap=new t.WebGLRenderTarget(O.shadowMapWidth,O.shadowMapHeight,j),O.shadowMapSize=new t.Vector2(O.shadowMapWidth,O.shadowMapHeight),O.shadowMatrix=new t.Matrix4}if(!O.shadowCamera){if(O instanceof t.SpotLight)O.shadowCamera=new t.PerspectiveCamera(O.shadowCameraFov,O.shadowMapWidth/O.shadowMapHeight,O.shadowCameraNear,O.shadowCameraFar);else{if(!(O instanceof t.DirectionalLight)){t.error("THREE.ShadowMapPlugin: Unsupported light type for shadow",O);continue}O.shadowCamera=new t.OrthographicCamera(O.shadowCameraLeft,O.shadowCameraRight,O.shadowCameraTop,O.shadowCameraBottom,O.shadowCameraNear,O.shadowCameraFar)}r.add(O.shadowCamera),r.autoUpdate===!0&&r.updateMatrixWorld()}O.shadowCameraVisible&&!O.cameraHelper&&(O.cameraHelper=new t.CameraHelper(O.shadowCamera),r.add(O.cameraHelper)),O.isVirtual&&L.originalCamera==v&&u(v,O),E=O.shadowMap,T=O.shadowMatrix,M=O.shadowCamera,M.position.setFromMatrixPosition(O.matrixWorld),b.setFromMatrixPosition(O.target.matrixWorld),M.lookAt(b),M.updateMatrixWorld(),M.matrixWorldInverse.getInverse(M.matrixWorld),O.cameraHelper&&(O.cameraHelper.visible=O.shadowCameraVisible),O.shadowCameraVisible&&O.cameraHelper.update(),T.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),T.multiply(M.projectionMatrix),T.multiply(M.matrixWorldInverse),y.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),m.setFromMatrix(y),e.setRenderTarget(E),e.clear(),_.length=0,o(r,r,M);var B,U,z;for(w=0,C=_.length;w<C;w++)k=_[w],R=k.object,A=k.buffer,B=c(R),U=void 0!==R.geometry.morphTargets&&R.geometry.morphTargets.length>0&&B.morphTargets,z=R instanceof t.SkinnedMesh&&B.skinning,P=R.customDepthMaterial?R.customDepthMaterial:z?U?f:p:U?h:l,e.setMaterialFaces(B),A instanceof t.BufferGeometry?e.renderBufferDirect(M,n,D,P,A,R):e.renderBuffer(M,n,D,P,A,R);for(w=0,C=i.length;w<C;w++)k=i[w],R=k.object,R.visible&&R.castShadow&&(R._modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,R.matrixWorld),e.renderImmediateObject(M,n,D,l,R))}var H=e.getClearColor(),G=e.getClearAlpha();d.clearColor(H.r,H.g,H.b,G),d.enable(d.BLEND),e.shadowMapCullFace===t.CullFaceFront&&d.cullFace(d.BACK),e.resetGLState()}}},t.SpritePlugin=function(e,n){function r(){var t=h.createProgram(),n=h.createShader(h.VERTEX_SHADER),r=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(n,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),h.shaderSource(r,["precision "+e.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),h.compileShader(n),h.compileShader(r),h.attachShader(t,n),h.attachShader(t,r),h.linkProgram(t),t}function i(t,e){return t.z!==e.z?e.z-t.z:e.id-t.id}var o,a,s,u,c,l,h=e.context,p=new t.Vector3,f=new t.Quaternion,d=new t.Vector3,m=function(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]);o=h.createBuffer(),a=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,o),h.bufferData(h.ARRAY_BUFFER,e,h.STATIC_DRAW),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,a),h.bufferData(h.ELEMENT_ARRAY_BUFFER,n,h.STATIC_DRAW),s=r(),u={position:h.getAttribLocation(s,"position"),uv:h.getAttribLocation(s,"uv")},c={uvOffset:h.getUniformLocation(s,"uvOffset"),uvScale:h.getUniformLocation(s,"uvScale"),rotation:h.getUniformLocation(s,"rotation"),scale:h.getUniformLocation(s,"scale"),color:h.getUniformLocation(s,"color"),map:h.getUniformLocation(s,"map"),opacity:h.getUniformLocation(s,"opacity"),modelViewMatrix:h.getUniformLocation(s,"modelViewMatrix"),projectionMatrix:h.getUniformLocation(s,"projectionMatrix"),fogType:h.getUniformLocation(s,"fogType"),fogDensity:h.getUniformLocation(s,"fogDensity"),fogNear:h.getUniformLocation(s,"fogNear"),fogFar:h.getUniformLocation(s,"fogFar"),fogColor:h.getUniformLocation(s,"fogColor"),alphaTest:h.getUniformLocation(s,"alphaTest")};var i=document.createElement("canvas");i.width=8,i.height=8;var p=i.getContext("2d");p.fillStyle="white",p.fillRect(0,0,8,8),l=new t.Texture(i),l.needsUpdate=!0};this.render=function(r,y){if(0!==n.length){void 0===s&&m(),h.useProgram(s),h.enableVertexAttribArray(u.position),h.enableVertexAttribArray(u.uv),h.disable(h.CULL_FACE),h.enable(h.BLEND),h.bindBuffer(h.ARRAY_BUFFER,o),h.vertexAttribPointer(u.position,2,h.FLOAT,!1,16,0),h.vertexAttribPointer(u.uv,2,h.FLOAT,!1,16,8),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,a),h.uniformMatrix4fv(c.projectionMatrix,!1,y.projectionMatrix.elements),h.activeTexture(h.TEXTURE0),h.uniform1i(c.map,0);var v=0,g=0,b=r.fog;b?(h.uniform3f(c.fogColor,b.color.r,b.color.g,b.color.b),b instanceof t.Fog?(h.uniform1f(c.fogNear,b.near),h.uniform1f(c.fogFar,b.far),h.uniform1i(c.fogType,1),v=1,g=1):b instanceof t.FogExp2&&(h.uniform1f(c.fogDensity,b.density),h.uniform1i(c.fogType,2),v=2,g=2)):(h.uniform1i(c.fogType,0),v=0,g=0);for(var _=0,x=n.length;_<x;_++){var w=n[_];w._modelViewMatrix.multiplyMatrices(y.matrixWorldInverse,w.matrixWorld),w.z=-w._modelViewMatrix.elements[14]}n.sort(i);for(var C=[],_=0,x=n.length;_<x;_++){var w=n[_],S=w.material;h.uniform1f(c.alphaTest,S.alphaTest),h.uniformMatrix4fv(c.modelViewMatrix,!1,w._modelViewMatrix.elements),w.matrixWorld.decompose(p,f,d),C[0]=d.x,C[1]=d.y;var E=0;r.fog&&S.fog&&(E=g),v!==E&&(h.uniform1i(c.fogType,E),v=E),null!==S.map?(h.uniform2f(c.uvOffset,S.map.offset.x,S.map.offset.y),h.uniform2f(c.uvScale,S.map.repeat.x,S.map.repeat.y)):(h.uniform2f(c.uvOffset,0,0),h.uniform2f(c.uvScale,1,1)),h.uniform1f(c.opacity,S.opacity),h.uniform3f(c.color,S.color.r,S.color.g,S.color.b),h.uniform1f(c.rotation,S.rotation),h.uniform2fv(c.scale,C),e.state.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst),e.state.setDepthTest(S.depthTest),e.state.setDepthWrite(S.depthWrite),S.map&&S.map.image&&S.map.image.width?e.setTexture(S.map,0):e.setTexture(l,0),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0)}h.enable(h.CULL_FACE),e.resetGLState()}}},t.GeometryUtils={merge:function(e,n,r){t.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var i;n instanceof t.Mesh&&(n.matrixAutoUpdate&&n.updateMatrix(),i=n.matrix,n=n.geometry),e.merge(n,i,r)},center:function(e){return t.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},t.ImageUtils={crossOrigin:void 0,loadTexture:function(e,n,r,i){var o=new t.ImageLoader;o.crossOrigin=this.crossOrigin;var a=new t.Texture(void 0,n);return o.load(e,function(t){a.image=t,a.needsUpdate=!0,r&&r(a)},void 0,function(t){i&&i(t)}),a.sourceFile=e,a},loadTextureCube:function(e,n,r,i){var o=[],a=new t.ImageLoader;a.crossOrigin=this.crossOrigin;var s=new t.CubeTexture(o,n);s.flipY=!1;for(var u=0,c=function(t){a.load(e[t],function(e){s.images[t]=e,u+=1,6===u&&(s.needsUpdate=!0,r&&r(s))},void 0,i)},l=0,h=e.length;l<h;++l)c(l);return s},loadCompressedTexture:function(){t.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){t.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},getNormalMap:function(t,e){var n=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},r=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},i=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[t[0]/e,t[1]/e,t[2]/e]};e|=1;var o=t.width,a=t.height,s=document.createElement("canvas");s.width=o,s.height=a;var u=s.getContext("2d");u.drawImage(t,0,0);for(var c=u.getImageData(0,0,o,a).data,l=u.createImageData(o,a),h=l.data,p=0;p<o;p++)for(var f=0;f<a;f++){var d=f-1<0?0:f-1,m=f+1>a-1?a-1:f+1,y=p-1<0?0:p-1,v=p+1>o-1?o-1:p+1,g=[],b=[0,0,c[4*(f*o+p)]/255*e];g.push([-1,0,c[4*(f*o+y)]/255*e]),g.push([-1,-1,c[4*(d*o+y)]/255*e]),g.push([0,-1,c[4*(d*o+p)]/255*e]),g.push([1,-1,c[4*(d*o+v)]/255*e]),g.push([1,0,c[4*(f*o+v)]/255*e]),g.push([1,1,c[4*(m*o+v)]/255*e]),g.push([0,1,c[4*(m*o+p)]/255*e]),g.push([-1,1,c[4*(m*o+y)]/255*e]);for(var _=[],x=g.length,w=0;w<x;w++){var C=g[w],S=g[(w+1)%x];C=r(C,b),S=r(S,b),_.push(i(n(C,S)))}for(var E=[0,0,0],w=0;w<_.length;w++)E[0]+=_[w][0],E[1]+=_[w][1],E[2]+=_[w][2];E[0]/=_.length,E[1]/=_.length,E[2]/=_.length;var T=4*(f*o+p);h[T]=(E[0]+1)/2*255|0,h[T+1]=(E[1]+1)/2*255|0,h[T+2]=255*E[2]|0,h[T+3]=255}return u.putImageData(l,0,0),s},generateDataTexture:function(e,n,r){for(var i=e*n,o=new Uint8Array(3*i),a=Math.floor(255*r.r),s=Math.floor(255*r.g),u=Math.floor(255*r.b),c=0;c<i;c++)o[3*c]=a,o[3*c+1]=s,o[3*c+2]=u;var l=new t.DataTexture(o,e,n,t.RGBFormat);return l.needsUpdate=!0,l}},t.SceneUtils={createMultiMaterialObject:function(e,n){for(var r=new t.Object3D,i=0,o=n.length;i<o;i++)r.add(new t.Mesh(e,n[i]));return r},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(e,n,r){var i=new t.Matrix4;i.getInverse(r.matrixWorld),e.applyMatrix(i),n.remove(e),r.add(e)}},t.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(t){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing."}},loadFace:function(t){var e=t.familyName.toLowerCase(),n=this;return n.faces[e]=n.faces[e]||{},n.faces[e][t.cssFontWeight]=n.faces[e][t.cssFontWeight]||{},n.faces[e][t.cssFontWeight][t.cssFontStyle]=t,n.faces[e][t.cssFontWeight][t.cssFontStyle]=t,t},drawText:function(e){var n,r=this.getFace(),i=this.size/r.resolution,o=0,a=String(e).split(""),s=a.length,u=[];for(n=0;n<s;n++){var c=new t.Path,l=this.extractGlyphPoints(a[n],r,i,o,c);o+=l.offset,u.push(l.path)}var h=o/2;return{paths:u,offset:h}},extractGlyphPoints:function(e,n,r,i,o){var a,s,u,c,l,h,p,f,d,m,y,v,g,b,_,x,w,C,S,E=[],T=n.glyphs[e]||n.glyphs["?"];if(T){if(T.o)for(c=T._cachedOutline||(T._cachedOutline=T.o.split(" ")),h=c.length,p=r,f=r,a=0;a<h;)switch(l=c[a++]){case"m":d=c[a++]*p+i,m=c[a++]*f,o.moveTo(d,m);break;case"l":d=c[a++]*p+i,m=c[a++]*f,o.lineTo(d,m);break;case"q":if(y=c[a++]*p+i,v=c[a++]*f,_=c[a++]*p+i,x=c[a++]*f,o.quadraticCurveTo(_,x,y,v),S=E[E.length-1])for(g=S.x,b=S.y,s=1,u=this.divisions;s<=u;s++){var M=s/u;t.Shape.Utils.b2(M,g,_,y),t.Shape.Utils.b2(M,b,x,v)}break;case"b":if(y=c[a++]*p+i,v=c[a++]*f,_=c[a++]*p+i,x=c[a++]*f,w=c[a++]*p+i,C=c[a++]*f,o.bezierCurveTo(_,x,w,C,y,v),S=E[E.length-1])for(g=S.x,b=S.y,s=1,u=this.divisions;s<=u;s++){var M=s/u;t.Shape.Utils.b3(M,g,_,w,y),t.Shape.Utils.b3(M,b,x,C,v)}}return{offset:T.ha*r,path:o}}}},t.FontUtils.generateShapes=function(e,n){n=n||{};var r=void 0!==n.size?n.size:100,i=void 0!==n.curveSegments?n.curveSegments:4,o=void 0!==n.font?n.font:"helvetiker",a=void 0!==n.weight?n.weight:"normal",s=void 0!==n.style?n.style:"normal";t.FontUtils.size=r,t.FontUtils.divisions=i,t.FontUtils.face=o,t.FontUtils.weight=a,t.FontUtils.style=s;for(var u=t.FontUtils.drawText(e),c=u.paths,l=[],h=0,p=c.length;h<p;h++)Array.prototype.push.apply(l,c[h].toShapes());return l},function(e){var n=1e-10,r=function(e,n){var r=e.length;if(r<3)return null;var a,s,u,c=[],l=[],h=[];if(i(e)>0)for(s=0;s<r;s++)l[s]=s;else for(s=0;s<r;s++)l[s]=r-1-s;var p=r,f=2*p;for(s=p-1;p>2;){if(f--<=0)return t.warn("THREE.FontUtils: Warning, unable to triangulate polygon! in Triangulate.process()"),n?h:c;if(a=s,p<=a&&(a=0),s=a+1,p<=s&&(s=0),u=s+1,p<=u&&(u=0),o(e,a,s,u,p,l)){var d,m,y,v,g;for(d=l[a],m=l[s],y=l[u],c.push([e[d],e[m],e[y]]),h.push([l[a],l[s],l[u]]),v=s,g=s+1;g<p;v++,g++)l[v]=l[g];p--,f=2*p}}return n?h:c},i=function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},o=function(t,e,r,i,o,a){var s,u,c,l,h,p,f,d,m;if(u=t[a[e]].x,c=t[a[e]].y,l=t[a[r]].x,h=t[a[r]].y,p=t[a[i]].x,f=t[a[i]].y,n>(l-u)*(f-c)-(h-c)*(p-u))return!1;var y,v,g,b,_,x,w,C,S,E,T,M,A,P,k;for(y=p-l,v=f-h,g=u-p,b=c-f,_=l-u,x=h-c,s=0;s<o;s++)if(d=t[a[s]].x,m=t[a[s]].y,!(d===u&&m===c||d===l&&m===h||d===p&&m===f)&&(w=d-u,C=m-c,S=d-l,E=m-h,T=d-p,M=m-f,k=y*E-v*S,A=_*C-x*w,P=g*M-b*T,k>=-n&&P>=-n&&A>=-n))return!1;return!0};return e.Triangulate=r,e.Triangulate.area=i,e}(t.FontUtils),self._typeface_js={faces:t.FontUtils.faces,loadFace:t.FontUtils.loadFace},t.typeface_js=self._typeface_js,t.Audio=function(e){t.Object3D.call(this),this.type="Audio",this.context=e.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.panner=this.context.createPanner(),this.panner.connect(this.gain),this.autoplay=!1,this.startTime=0,this.isPlaying=!1},t.Audio.prototype=Object.create(t.Object3D.prototype),t.Audio.prototype.constructor=t.Audio,t.Audio.prototype.load=function(t){var e=this,n=new XMLHttpRequest;return n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(t){e.context.decodeAudioData(this.response,function(t){e.source.buffer=t,e.autoplay&&e.play()})},n.send(),this},t.Audio.prototype.play=function(){if(this.isPlaying===!0)return void t.warn("THREE.Audio: Audio is already playing.");var e=this.context.createBufferSource();e.buffer=this.source.buffer,e.loop=this.source.loop,e.onended=this.source.onended,e.connect(this.panner),e.start(0,this.startTime),this.isPlaying=!0,this.source=e},t.Audio.prototype.pause=function(){this.source.stop(),this.startTime=this.context.currentTime},t.Audio.prototype.stop=function(){this.source.stop(),this.startTime=0},t.Audio.prototype.onEnded=function(){this.isPlaying=!1},t.Audio.prototype.setLoop=function(t){this.source.loop=t},t.Audio.prototype.setRefDistance=function(t){this.panner.refDistance=t},t.Audio.prototype.setRolloffFactor=function(t){this.panner.rolloffFactor=t},t.Audio.prototype.setVolume=function(t){this.gain.gain.value=t},t.Audio.prototype.updateMatrixWorld=function(){var e=new t.Vector3;return function(n){t.Object3D.prototype.updateMatrixWorld.call(this,n),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}(),t.AudioListener=function(){t.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext)},t.AudioListener.prototype=Object.create(t.Object3D.prototype),t.AudioListener.prototype.constructor=t.AudioListener,t.AudioListener.prototype.updateMatrixWorld=function(){var e=new t.Vector3,n=new t.Quaternion,r=new t.Vector3,i=new t.Vector3,o=new t.Vector3,a=new t.Vector3;return function(s){t.Object3D.prototype.updateMatrixWorld.call(this,s);var u=this.context.listener,c=this.up;this.matrixWorld.decompose(e,n,r),i.set(0,0,-1).applyQuaternion(n),o.subVectors(e,a),u.setPosition(e.x,e.y,e.z),u.setOrientation(i.x,i.y,i.z,c.x,c.y,c.z),u.setVelocity(o.x,o.y,o.z),a.copy(e)}}(),t.Curve=function(){},t.Curve.prototype.getPoint=function(e){return t.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},t.Curve.prototype.getPointAt=function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},t.Curve.prototype.getPoints=function(t){t||(t=5);var e,n=[];for(e=0;e<=t;e++)n.push(this.getPoint(e/t));return n},t.Curve.prototype.getSpacedPoints=function(t){t||(t=5);var e,n=[];for(e=0;e<=t;e++)n.push(this.getPointAt(e/t));return n},t.Curve.prototype.getLength=function(){var t=this.getLengths();return t[t.length-1]},t.Curve.prototype.getLengths=function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)e=this.getPoint(n/t),o+=e.distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r,r},t.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},t.Curve.prototype.getUtoTmapping=function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e?e:t*r[o-1];for(var a,s=0,u=o-1;s<=u;)if(i=Math.floor(s+(u-s)/2),a=r[i]-n,a<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,r[i]==n){var c=i/(o-1);return c}var l=r[i],h=r[i+1],p=h-l,f=(n-l)/p,c=(i+f)/(o-1);return c},t.Curve.prototype.getTangent=function(t){var e=1e-4,n=t-e,r=t+e;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n),o=this.getPoint(r),a=o.clone().sub(i);return a.normalize()},t.Curve.prototype.getTangentAt=function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},t.Curve.Utils={tangentQuadraticBezier:function(t,e,n,r){return 2*(1-t)*(n-e)+2*t*(r-n)},tangentCubicBezier:function(t,e,n,r,i){return-3*e*(1-t)*(1-t)+3*n*(1-t)*(1-t)-6*t*n*(1-t)+6*t*r*(1-t)-3*t*t*r+3*t*t*i},tangentSpline:function(t,e,n,r,i){var o=6*t*t-6*t,a=3*t*t-4*t+1,s=-6*t*t+6*t,u=3*t*t-2*t;return o+a+s+u},interpolate:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i,u=i*s;return(2*e-2*n+o+a)*u+(-3*e+3*n-2*o-a)*s+o*i+e}},t.Curve.create=function(e,n){return e.prototype=Object.create(t.Curve.prototype),e.prototype.constructor=e,e.prototype.getPoint=n,e},t.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},t.CurvePath.prototype=Object.create(t.Curve.prototype),t.CurvePath.prototype.constructor=t.CurvePath,t.CurvePath.prototype.add=function(t){this.curves.push(t)},t.CurvePath.prototype.checkConnection=function(){},t.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new t.LineCurve(n,e))},t.CurvePath.prototype.getPoint=function(t){for(var e,n,r=t*this.getLength(),i=this.getCurveLengths(),o=0;o<i.length;){if(i[o]>=r){e=i[o]-r,n=this.curves[o];var a=1-e/n.getLength();return n.getPointAt(a)}o++}return null},t.CurvePath.prototype.getLength=function(){var t=this.getCurveLengths();return t[t.length-1]},t.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var t,e=[],n=0,r=this.curves.length;for(t=0;t<r;t++)n+=this.curves[t].getLength(),e.push(n);return this.cacheLengths=e,e},t.CurvePath.prototype.getBoundingBox=function(){var e,n,r,i,o,a,s=this.getPoints();e=n=Number.NEGATIVE_INFINITY,i=o=Number.POSITIVE_INFINITY;var u,c,l,h,p=s[0]instanceof t.Vector3;for(h=p?new t.Vector3:new t.Vector2,c=0,l=s.length;c<l;c++)u=s[c],u.x>e?e=u.x:u.x<i&&(i=u.x),u.y>n?n=u.y:u.y<o&&(o=u.y),p&&(u.z>r?r=u.z:u.z<a&&(a=u.z)),h.add(u);var f={minX:i,minY:o,maxX:e,maxY:n};return p&&(f.maxZ=r,f.minZ=a),f},t.CurvePath.prototype.createPointsGeometry=function(t){var e=this.getPoints(t,!0);return this.createGeometry(e)},t.CurvePath.prototype.createSpacedPointsGeometry=function(t){var e=this.getSpacedPoints(t,!0);return this.createGeometry(e)},t.CurvePath.prototype.createGeometry=function(e){for(var n=new t.Geometry,r=0;r<e.length;r++)n.vertices.push(new t.Vector3(e[r].x,e[r].y,e[r].z||0));return n},t.CurvePath.prototype.addWrapPath=function(t){this.bends.push(t)},t.CurvePath.prototype.getTransformedPoints=function(t,e){var n,r,i=this.getPoints(t);for(e||(e=this.bends),n=0,r=e.length;n<r;n++)i=this.getWrapPoints(i,e[n]);return i},t.CurvePath.prototype.getTransformedSpacedPoints=function(t,e){var n,r,i=this.getSpacedPoints(t);for(e||(e=this.bends),n=0,r=e.length;n<r;n++)i=this.getWrapPoints(i,e[n]);return i},t.CurvePath.prototype.getWrapPoints=function(t,e){var n,r,i,o,a,s,u=this.getBoundingBox();for(n=0,r=t.length;n<r;n++){i=t[n],o=i.x,a=i.y,s=o/u.maxX,s=e.getUtoTmapping(s,o);var c=e.getPoint(s),l=e.getTangent(s);l.set(-l.y,l.x).multiplyScalar(a),i.x=c.x+l.x,i.y=c.y+l.y}return t},t.Gyroscope=function(){t.Object3D.call(this)},t.Gyroscope.prototype=Object.create(t.Object3D.prototype),t.Gyroscope.prototype.constructor=t.Gyroscope,t.Gyroscope.prototype.updateMatrixWorld=function(){var e=new t.Vector3,n=new t.Quaternion,r=new t.Vector3,i=new t.Vector3,o=new t.Quaternion,a=new t.Vector3;return function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(i,o,a),this.matrix.decompose(e,n,r),this.matrixWorld.compose(i,n,a)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var s=0,u=this.children.length;s<u;s++)this.children[s].updateMatrixWorld(t)}}(),t.Path=function(e){t.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},t.Path.prototype=Object.create(t.CurvePath.prototype),t.Path.prototype.constructor=t.Path,t.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"},t.Path.prototype.fromPoints=function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},t.Path.prototype.moveTo=function(e,n){var r=Array.prototype.slice.call(arguments);this.actions.push({action:t.PathActions.MOVE_TO,args:r})},t.Path.prototype.lineTo=function(e,n){var r=Array.prototype.slice.call(arguments),i=this.actions[this.actions.length-1].args,o=i[i.length-2],a=i[i.length-1],s=new t.LineCurve(new t.Vector2(o,a),new t.Vector2(e,n));this.curves.push(s),this.actions.push({action:t.PathActions.LINE_TO,args:r})},t.Path.prototype.quadraticCurveTo=function(e,n,r,i){var o=Array.prototype.slice.call(arguments),a=this.actions[this.actions.length-1].args,s=a[a.length-2],u=a[a.length-1],c=new t.QuadraticBezierCurve(new t.Vector2(s,u),new t.Vector2(e,n),new t.Vector2(r,i));this.curves.push(c),this.actions.push({action:t.PathActions.QUADRATIC_CURVE_TO,args:o})},t.Path.prototype.bezierCurveTo=function(e,n,r,i,o,a){var s=Array.prototype.slice.call(arguments),u=this.actions[this.actions.length-1].args,c=u[u.length-2],l=u[u.length-1],h=new t.CubicBezierCurve(new t.Vector2(c,l),new t.Vector2(e,n),new t.Vector2(r,i),new t.Vector2(o,a));this.curves.push(h),this.actions.push({action:t.PathActions.BEZIER_CURVE_TO,args:s})},t.Path.prototype.splineThru=function(e){var n=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,i=r[r.length-2],o=r[r.length-1],a=[new t.Vector2(i,o)];Array.prototype.push.apply(a,e);var s=new t.SplineCurve(a);this.curves.push(s),this.actions.push({action:t.PathActions.CSPLINE_THRU,args:n})},t.Path.prototype.arc=function(t,e,n,r,i,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],u=a[a.length-1];this.absarc(t+s,e+u,n,r,i,o)},t.Path.prototype.absarc=function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},t.Path.prototype.ellipse=function(t,e,n,r,i,o,a){var s=this.actions[this.actions.length-1].args,u=s[s.length-2],c=s[s.length-1];this.absellipse(t+u,e+c,n,r,i,o,a)},t.Path.prototype.absellipse=function(e,n,r,i,o,a,s){var u=Array.prototype.slice.call(arguments),c=new t.EllipseCurve(e,n,r,i,o,a,s);this.curves.push(c);var l=c.getPoint(1);u.push(l.x),u.push(l.y),this.actions.push({action:t.PathActions.ELLIPSE,args:u})},t.Path.prototype.getSpacedPoints=function(t,e){t||(t=40);for(var n=[],r=0;r<t;r++)n.push(this.getPoint(r/t));return n},t.Path.prototype.getPoints=function(e,n){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(e,n);e=e||12;var r,i,o,a,s,u,c,l,h,p,f,d,m,y,v,g,b,_,x=[];for(r=0,i=this.actions.length;r<i;r++)switch(o=this.actions[r],a=o.action,s=o.args,a){case t.PathActions.MOVE_TO:x.push(new t.Vector2(s[0],s[1]));break;case t.PathActions.LINE_TO:x.push(new t.Vector2(s[0],s[1]));break;case t.PathActions.QUADRATIC_CURVE_TO:for(u=s[2],c=s[3],p=s[0],f=s[1],x.length>0?(y=x[x.length-1],d=y.x,m=y.y):(y=this.actions[r-1].args,d=y[y.length-2],m=y[y.length-1]),v=1;v<=e;v++)g=v/e,b=t.Shape.Utils.b2(g,d,p,u),_=t.Shape.Utils.b2(g,m,f,c),x.push(new t.Vector2(b,_));break;case t.PathActions.BEZIER_CURVE_TO:for(u=s[4],c=s[5],p=s[0],f=s[1],l=s[2],h=s[3],x.length>0?(y=x[x.length-1],d=y.x,m=y.y):(y=this.actions[r-1].args,d=y[y.length-2],m=y[y.length-1]),v=1;v<=e;v++)g=v/e,b=t.Shape.Utils.b3(g,d,p,l,u),_=t.Shape.Utils.b3(g,m,f,h,c),x.push(new t.Vector2(b,_));break;case t.PathActions.CSPLINE_THRU:y=this.actions[r-1].args;var w=new t.Vector2(y[y.length-2],y[y.length-1]),C=[w],S=e*s[0].length;C=C.concat(s[0]);var E=new t.SplineCurve(C);for(v=1;v<=S;v++)x.push(E.getPointAt(v/S));break;case t.PathActions.ARC:var T,M=s[0],A=s[1],P=s[2],k=s[3],R=s[4],O=!!s[5],I=R-k,N=2*e;for(v=1;v<=N;v++)g=v/N,O||(g=1-g),T=k+g*I,b=M+P*Math.cos(T),_=A+P*Math.sin(T),x.push(new t.Vector2(b,_));break;case t.PathActions.ELLIPSE:var T,M=s[0],A=s[1],D=s[2],L=s[3],k=s[4],R=s[5],O=!!s[6],I=R-k,N=2*e;for(v=1;v<=N;v++)g=v/N,O||(g=1-g),T=k+g*I,b=M+D*Math.cos(T),_=A+L*Math.sin(T),x.push(new t.Vector2(b,_))}var V=x[x.length-1],F=1e-10;return Math.abs(V.x-x[0].x)<F&&Math.abs(V.y-x[0].y)<F&&x.splice(x.length-1,1),n&&x.push(x[0]),x},t.Path.prototype.toShapes=function(e,n){function r(e){var n,r,i,o,a,s=[],u=new t.Path;for(n=0,r=e.length;n<r;n++)i=e[n],a=i.args,o=i.action,o==t.PathActions.MOVE_TO&&0!=u.actions.length&&(s.push(u),u=new t.Path),u[o].apply(u,a);return 0!=u.actions.length&&s.push(u),s}function i(e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=new t.Shape;a.actions=o.actions,a.curves=o.curves,n.push(a)}return n}function o(t,e){for(var n=1e-10,r=e.length,i=!1,o=r-1,a=0;a<r;o=a++){var s=e[o],u=e[a],c=u.x-s.x,l=u.y-s.y;if(Math.abs(l)>n){if(l<0&&(s=e[a],c=-c,u=e[o],l=-l),t.y<s.y||t.y>u.y)continue;if(t.y==s.y){if(t.x==s.x)return!0}else{var h=l*(t.x-s.x)-c*(t.y-s.y);if(0==h)return!0;if(h<0)continue;i=!i}}else{if(t.y!=s.y)continue;if(u.x<=t.x&&t.x<=s.x||s.x<=t.x&&t.x<=u.x)return!0}}return i}var a=r(this.actions);if(0==a.length)return[];if(n===!0)return i(a);var s,u,c,l=[];if(1==a.length)return u=a[0],c=new t.Shape,c.actions=u.actions,c.curves=u.curves,l.push(c),l;var h=!t.Shape.Utils.isClockWise(a[0].getPoints());h=e?!h:h;var p,f=[],d=[],m=[],y=0;d[y]=void 0,m[y]=[];var v,g;for(v=0,g=a.length;v<g;v++)u=a[v],p=u.getPoints(),s=t.Shape.Utils.isClockWise(p),s=e?!s:s,s?(!h&&d[y]&&y++,d[y]={s:new t.Shape,p:p},d[y].s.actions=u.actions,d[y].s.curves=u.curves,h&&y++,m[y]=[]):m[y].push({h:u,p:p[0]});if(!d[0])return i(a);if(d.length>1){for(var b=!1,_=[],x=0,w=d.length;x<w;x++)f[x]=[];for(var x=0,w=d.length;x<w;x++)for(var C=m[x],S=0;S<C.length;S++){for(var E=C[S],T=!0,M=0;M<d.length;M++)o(E.p,d[M].p)&&(x!=M&&_.push({froms:x,tos:M,hole:S}),T?(T=!1,f[M].push(E)):b=!0);T&&f[x].push(E)}_.length>0&&(b||(m=f))}var A,P,k;for(v=0,g=d.length;v<g;v++)for(c=d[v].s,l.push(c),A=m[v],P=0,k=A.length;P<k;P++)c.holes.push(A[P].h);return l},t.Shape=function(){t.Path.apply(this,arguments),this.holes=[]},t.Shape.prototype=Object.create(t.Path.prototype),t.Shape.prototype.constructor=t.Shape,t.Shape.prototype.extrude=function(e){var n=new t.ExtrudeGeometry(this,e);return n},t.Shape.prototype.makeGeometry=function(e){var n=new t.ShapeGeometry(this,e);return n},t.Shape.prototype.getPointsHoles=function(t){var e,n=this.holes.length,r=[];for(e=0;e<n;e++)r[e]=this.holes[e].getTransformedPoints(t,this.bends);return r},t.Shape.prototype.getSpacedPointsHoles=function(t){var e,n=this.holes.length,r=[];for(e=0;e<n;e++)r[e]=this.holes[e].getTransformedSpacedPoints(t,this.bends);return r},t.Shape.prototype.extractAllPoints=function(t){return{shape:this.getTransformedPoints(t),holes:this.getPointsHoles(t)}},t.Shape.prototype.extractPoints=function(t){return this.useSpacedPoints?this.extractAllSpacedPoints(t):this.extractAllPoints(t)},t.Shape.prototype.extractAllSpacedPoints=function(t){return{shape:this.getTransformedSpacedPoints(t),holes:this.getSpacedPointsHoles(t)}},t.Shape.Utils={triangulateShape:function(e,n){function r(t,e,n){return t.x!=e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,o){var a=1e-10,s=e.x-t.x,u=e.y-t.y,c=i.x-n.x,l=i.y-n.y,h=t.x-n.x,p=t.y-n.y,f=u*c-s*l,d=u*h-s*p;if(Math.abs(f)>a){var m;if(f>0){if(d<0||d>f)return[];if(m=l*h-c*p,m<0||m>f)return[]}else{if(d>0||d<f)return[];if(m=l*h-c*p,m>0||m<f)return[]}if(0==m)return!o||0!=d&&d!=f?[t]:[];if(m==f)return!o||0!=d&&d!=f?[e]:[];if(0==d)return[n];if(d==f)return[i];var y=m/f;return[{x:t.x+y*s,y:t.y+y*u}]}if(0!=d||l*h!=c*p)return[];var v=0==s&&0==u,g=0==c&&0==l;if(v&&g)return t.x!=n.x||t.y!=n.y?[]:[t];if(v)return r(n,i,t)?[t]:[];if(g)return r(t,e,n)?[n]:[];var b,_,x,w,C,S,E,T;return 0!=s?(t.x<e.x?(b=t,x=t.x,_=e,w=e.x):(b=e,x=e.x,_=t,w=t.x),n.x<i.x?(C=n,E=n.x,S=i,T=i.x):(C=i,E=i.x,S=n,T=n.x)):(t.y<e.y?(b=t,x=t.y,_=e,w=e.y):(b=e,x=e.y,_=t,w=t.y),n.y<i.y?(C=n,E=n.y,S=i,T=i.y):(C=i,E=i.y,S=n,T=n.y)),x<=E?w<E?[]:w==E?o?[]:[C]:w<=T?[C,_]:[C,S]:x>T?[]:x==T?o?[]:[b]:w<=T?[b,_]:[b,S]}function o(t,e,n,r){var i=1e-10,o=e.x-t.x,a=e.y-t.y,s=n.x-t.x,u=n.y-t.y,c=r.x-t.x,l=r.y-t.y,h=o*u-a*s,p=o*l-a*c;if(Math.abs(h)>i){var f=c*u-l*s;return h>0?p>=0&&f>=0:p>=0||f>=0}return p>0}function a(t,e){function n(t,e){var n=g.length-1,r=t-1;r<0&&(r=n);var i=t+1;i>n&&(i=0);var a=o(g[t],g[r],g[i],s[e]);if(!a)return!1;var u=s.length-1,c=e-1;c<0&&(c=u);var l=e+1;return l>u&&(l=0),a=o(s[e],s[c],s[l],g[t]),!!a}function r(t,e){var n,r,o;for(n=0;n<g.length;n++)if(r=n+1,r%=g.length,o=i(t,e,g[n],g[r],!0),o.length>0)return!0;return!1}function a(t,n){var r,o,a,s,u;for(r=0;r<b.length;r++)for(o=e[b[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=i(t,n,o[a],o[s],!0),u.length>0)return!0;return!1}for(var s,u,c,l,h,p,f,d,m,y,v,g=t.concat(),b=[],_=[],x=0,w=e.length;x<w;x++)b.push(x);for(var C=0,S=2*b.length;b.length>0;){if(S--,S<0){console.log("Infinite Loop! Holes left:"+b.length+", Probably Hole outside Shape!");break}for(c=C;c<g.length;c++){l=g[c],u=-1;for(var x=0;x<b.length;x++)if(p=b[x],f=l.x+":"+l.y+":"+p,
void 0===_[f]){s=e[p];for(var E=0;E<s.length;E++)if(h=s[E],n(c,E)&&!r(l,h)&&!a(l,h)){u=E,b.splice(x,1),d=g.slice(0,c+1),m=g.slice(c),y=s.slice(u),v=s.slice(0,u+1),g=d.concat(y).concat(v).concat(m),C=c;break}if(u>=0)break;_[f]=!0}if(u>=0)break}}return g}for(var s,u,c,l,h,p,f={},d=e.concat(),m=0,y=n.length;m<y;m++)Array.prototype.push.apply(d,n[m]);for(s=0,u=d.length;s<u;s++)h=d[s].x+":"+d[s].y,void 0!==f[h]&&t.warn("THREE.Shape: Duplicate point",h),f[h]=s;var v=a(e,n),g=t.FontUtils.Triangulate(v,!1);for(s=0,u=g.length;s<u;s++)for(l=g[s],c=0;c<3;c++)h=l[c].x+":"+l[c].y,p=f[h],void 0!==p&&(l[c]=p);return g.concat()},isClockWise:function(e){return t.FontUtils.Triangulate.area(e)<0},b2p0:function(t,e){var n=1-t;return n*n*e},b2p1:function(t,e){return 2*(1-t)*t*e},b2p2:function(t,e){return t*t*e},b2:function(t,e,n,r){return this.b2p0(t,e)+this.b2p1(t,n)+this.b2p2(t,r)},b3p0:function(t,e){var n=1-t;return n*n*n*e},b3p1:function(t,e){var n=1-t;return 3*n*n*t*e},b3p2:function(t,e){var n=1-t;return 3*n*t*t*e},b3p3:function(t,e){return t*t*t*e},b3:function(t,e,n,r,i){return this.b3p0(t,e)+this.b3p1(t,n)+this.b3p2(t,r)+this.b3p3(t,i)}},t.LineCurve=function(t,e){this.v1=t,this.v2=e},t.LineCurve.prototype=Object.create(t.Curve.prototype),t.LineCurve.prototype.constructor=t.LineCurve,t.LineCurve.prototype.getPoint=function(t){var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},t.LineCurve.prototype.getPointAt=function(t){return this.getPoint(t)},t.LineCurve.prototype.getTangent=function(t){var e=this.v2.clone().sub(this.v1);return e.normalize()},t.QuadraticBezierCurve=function(t,e,n){this.v0=t,this.v1=e,this.v2=n},t.QuadraticBezierCurve.prototype=Object.create(t.Curve.prototype),t.QuadraticBezierCurve.prototype.constructor=t.QuadraticBezierCurve,t.QuadraticBezierCurve.prototype.getPoint=function(e){var n=new t.Vector2;return n.x=t.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),n.y=t.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),n},t.QuadraticBezierCurve.prototype.getTangent=function(e){var n=new t.Vector2;return n.x=t.Curve.Utils.tangentQuadraticBezier(e,this.v0.x,this.v1.x,this.v2.x),n.y=t.Curve.Utils.tangentQuadraticBezier(e,this.v0.y,this.v1.y,this.v2.y),n.normalize()},t.CubicBezierCurve=function(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r},t.CubicBezierCurve.prototype=Object.create(t.Curve.prototype),t.CubicBezierCurve.prototype.constructor=t.CubicBezierCurve,t.CubicBezierCurve.prototype.getPoint=function(e){var n,r;return n=t.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=t.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new t.Vector2(n,r)},t.CubicBezierCurve.prototype.getTangent=function(e){var n,r;n=t.Curve.Utils.tangentCubicBezier(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=t.Curve.Utils.tangentCubicBezier(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y);var i=new t.Vector2(n,r);return i.normalize(),i},t.SplineCurve=function(t){this.points=void 0==t?[]:t},t.SplineCurve.prototype=Object.create(t.Curve.prototype),t.SplineCurve.prototype.constructor=t.SplineCurve,t.SplineCurve.prototype.getPoint=function(e){var n=this.points,r=(n.length-1)*e,i=Math.floor(r),o=r-i,a=n[0==i?i:i-1],s=n[i],u=n[i>n.length-2?n.length-1:i+1],c=n[i>n.length-3?n.length-1:i+2],l=new t.Vector2;return l.x=t.Curve.Utils.interpolate(a.x,s.x,u.x,c.x,o),l.y=t.Curve.Utils.interpolate(a.y,s.y,u.y,c.y,o),l},t.EllipseCurve=function(t,e,n,r,i,o,a){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a},t.EllipseCurve.prototype=Object.create(t.Curve.prototype),t.EllipseCurve.prototype.constructor=t.EllipseCurve,t.EllipseCurve.prototype.getPoint=function(e){var n=this.aEndAngle-this.aStartAngle;n<0&&(n+=2*Math.PI),n>2*Math.PI&&(n-=2*Math.PI);var r;r=this.aClockwise===!0?this.aEndAngle+(1-e)*(2*Math.PI-n):this.aStartAngle+e*n;var i=new t.Vector2;return i.x=this.aX+this.xRadius*Math.cos(r),i.y=this.aY+this.yRadius*Math.sin(r),i},t.ArcCurve=function(e,n,r,i,o,a){t.EllipseCurve.call(this,e,n,r,r,i,o,a)},t.ArcCurve.prototype=Object.create(t.EllipseCurve.prototype),t.ArcCurve.prototype.constructor=t.ArcCurve,t.LineCurve3=t.Curve.create(function(t,e){this.v1=t,this.v2=e},function(e){var n=new t.Vector3;return n.subVectors(this.v2,this.v1),n.multiplyScalar(e),n.add(this.v1),n}),t.QuadraticBezierCurve3=t.Curve.create(function(t,e,n){this.v0=t,this.v1=e,this.v2=n},function(e){var n=new t.Vector3;return n.x=t.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),n.y=t.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),n.z=t.Shape.Utils.b2(e,this.v0.z,this.v1.z,this.v2.z),n}),t.CubicBezierCurve3=t.Curve.create(function(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r},function(e){var n=new t.Vector3;return n.x=t.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),n.y=t.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),n.z=t.Shape.Utils.b3(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z),n}),t.SplineCurve3=t.Curve.create(function(t){this.points=void 0==t?[]:t},function(e){var n=this.points,r=(n.length-1)*e,i=Math.floor(r),o=r-i,a=n[0==i?i:i-1],s=n[i],u=n[i>n.length-2?n.length-1:i+1],c=n[i>n.length-3?n.length-1:i+2],l=new t.Vector3;return l.x=t.Curve.Utils.interpolate(a.x,s.x,u.x,c.x,o),l.y=t.Curve.Utils.interpolate(a.y,s.y,u.y,c.y,o),l.z=t.Curve.Utils.interpolate(a.z,s.z,u.z,c.z,o),l}),t.ClosedSplineCurve3=t.Curve.create(function(t){this.points=void 0==t?[]:t},function(e){var n=this.points,r=(n.length-0)*e,i=Math.floor(r),o=r-i;i+=i>0?0:(Math.floor(Math.abs(i)/n.length)+1)*n.length;var a=n[(i-1)%n.length],s=n[i%n.length],u=n[(i+1)%n.length],c=n[(i+2)%n.length],l=new t.Vector3;return l.x=t.Curve.Utils.interpolate(a.x,s.x,u.x,c.x,o),l.y=t.Curve.Utils.interpolate(a.y,s.y,u.y,c.y,o),l.z=t.Curve.Utils.interpolate(a.z,s.z,u.z,c.z,o),l}),t.AnimationHandler={LINEAR:0,CATMULLROM:1,CATMULLROM_FORWARD:2,add:function(){t.warn("THREE.AnimationHandler.add() has been deprecated.")},get:function(){t.warn("THREE.AnimationHandler.get() has been deprecated.")},remove:function(){t.warn("THREE.AnimationHandler.remove() has been deprecated.")},animations:[],init:function(e){if(e.initialized===!0)return e;for(var n=0;n<e.hierarchy.length;n++){for(var r=0;r<e.hierarchy[n].keys.length;r++)if(e.hierarchy[n].keys[r].time<0&&(e.hierarchy[n].keys[r].time=0),void 0!==e.hierarchy[n].keys[r].rot&&!(e.hierarchy[n].keys[r].rot instanceof t.Quaternion)){var i=e.hierarchy[n].keys[r].rot;e.hierarchy[n].keys[r].rot=(new t.Quaternion).fromArray(i)}if(e.hierarchy[n].keys.length&&void 0!==e.hierarchy[n].keys[0].morphTargets){for(var o={},r=0;r<e.hierarchy[n].keys.length;r++)for(var a=0;a<e.hierarchy[n].keys[r].morphTargets.length;a++){var s=e.hierarchy[n].keys[r].morphTargets[a];o[s]=-1}e.hierarchy[n].usedMorphTargets=o;for(var r=0;r<e.hierarchy[n].keys.length;r++){var u={};for(var s in o){for(var a=0;a<e.hierarchy[n].keys[r].morphTargets.length;a++)if(e.hierarchy[n].keys[r].morphTargets[a]===s){u[s]=e.hierarchy[n].keys[r].morphTargetsInfluences[a];break}a===e.hierarchy[n].keys[r].morphTargets.length&&(u[s]=0)}e.hierarchy[n].keys[r].morphTargetsInfluences=u}}for(var r=1;r<e.hierarchy[n].keys.length;r++)e.hierarchy[n].keys[r].time===e.hierarchy[n].keys[r-1].time&&(e.hierarchy[n].keys.splice(r,1),r--);for(var r=0;r<e.hierarchy[n].keys.length;r++)e.hierarchy[n].keys[r].index=r}return e.initialized=!0,e},parse:function(e){var n=function(t,e){e.push(t);for(var r=0;r<t.children.length;r++)n(t.children[r],e)},r=[];if(e instanceof t.SkinnedMesh)for(var i=0;i<e.skeleton.bones.length;i++)r.push(e.skeleton.bones[i]);else n(e,r);return r},play:function(t){this.animations.indexOf(t)===-1&&this.animations.push(t)},stop:function(t){var e=this.animations.indexOf(t);e!==-1&&this.animations.splice(e,1)},update:function(t){for(var e=0;e<this.animations.length;e++)this.animations[e].resetBlendWeights();for(var e=0;e<this.animations.length;e++)this.animations[e].update(t)}},t.Animation=function(e,n){this.root=e,this.data=t.AnimationHandler.init(n),this.hierarchy=t.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.loop=!0,this.weight=0,this.interpolationType=t.AnimationHandler.LINEAR},t.Animation.prototype={constructor:t.Animation,keyTypes:["pos","rot","scl"],play:function(e,n){this.currentTime=void 0!==e?e:0,this.weight=void 0!==n?n:1,this.isPlaying=!0,this.reset(),t.AnimationHandler.play(this)},stop:function(){this.isPlaying=!1,t.AnimationHandler.stop(this)},reset:function(){for(var t=0,e=this.hierarchy.length;t<e;t++){var n=this.hierarchy[t];void 0===n.animationCache&&(n.animationCache={animations:{},blending:{positionWeight:0,quaternionWeight:0,scaleWeight:0}});var r=this.data.name,i=n.animationCache.animations,o=i[r];void 0===o&&(o={prevKey:{pos:0,rot:0,scl:0},nextKey:{pos:0,rot:0,scl:0},originalMatrix:n.matrix},i[r]=o);for(var a=0;a<3;a++){for(var s=this.keyTypes[a],u=this.data.hierarchy[t].keys[0],c=this.getNextKeyWith(s,t,1);c.time<this.currentTime&&c.index>u.index;)u=c,c=this.getNextKeyWith(s,t,c.index+1);o.prevKey[s]=u,o.nextKey[s]=c}}},resetBlendWeights:function(){for(var t=0,e=this.hierarchy.length;t<e;t++){var n=this.hierarchy[t],r=n.animationCache;if(void 0!==r){var i=r.blending;i.positionWeight=0,i.quaternionWeight=0,i.scaleWeight=0}}},update:function(){var e=[],n=new t.Vector3,r=new t.Vector3,i=new t.Quaternion,o=function(t,e){var n,r,i,o,s,u,c,l,h,p=[],f=[];return n=(t.length-1)*e,r=Math.floor(n),i=n-r,p[0]=0===r?r:r-1,p[1]=r,p[2]=r>t.length-2?r:r+1,p[3]=r>t.length-3?r:r+2,u=t[p[0]],c=t[p[1]],l=t[p[2]],h=t[p[3]],o=i*i,s=i*o,f[0]=a(u[0],c[0],l[0],h[0],i,o,s),f[1]=a(u[1],c[1],l[1],h[1],i,o,s),f[2]=a(u[2],c[2],l[2],h[2],i,o,s),f},a=function(t,e,n,r,i,o,a){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*i+e};return function(a){if(this.isPlaying!==!1&&(this.currentTime+=a*this.timeScale,0!==this.weight)){var s=this.data.length;(this.currentTime>s||this.currentTime<0)&&(this.loop?(this.currentTime%=s,this.currentTime<0&&(this.currentTime+=s),this.reset()):this.stop());for(var u=0,c=this.hierarchy.length;u<c;u++)for(var l=this.hierarchy[u],h=l.animationCache.animations[this.data.name],p=l.animationCache.blending,f=0;f<3;f++){var d=this.keyTypes[f],m=h.prevKey[d],y=h.nextKey[d];if(this.timeScale>0&&y.time<=this.currentTime||this.timeScale<0&&m.time>=this.currentTime){for(m=this.data.hierarchy[u].keys[0],y=this.getNextKeyWith(d,u,1);y.time<this.currentTime&&y.index>m.index;)m=y,y=this.getNextKeyWith(d,u,y.index+1);h.prevKey[d]=m,h.nextKey[d]=y}var v=(this.currentTime-m.time)/(y.time-m.time),g=m[d],b=y[d];if(v<0&&(v=0),v>1&&(v=1),"pos"===d){if(this.interpolationType===t.AnimationHandler.LINEAR){r.x=g[0]+(b[0]-g[0])*v,r.y=g[1]+(b[1]-g[1])*v,r.z=g[2]+(b[2]-g[2])*v;var _=this.weight/(this.weight+p.positionWeight);l.position.lerp(r,_),p.positionWeight+=this.weight}else if(this.interpolationType===t.AnimationHandler.CATMULLROM||this.interpolationType===t.AnimationHandler.CATMULLROM_FORWARD){e[0]=this.getPrevKeyWith("pos",u,m.index-1).pos,e[1]=g,e[2]=b,e[3]=this.getNextKeyWith("pos",u,y.index+1).pos,v=.33*v+.33;var x=o(e,v),_=this.weight/(this.weight+p.positionWeight);p.positionWeight+=this.weight;var w=l.position;if(w.x=w.x+(x[0]-w.x)*_,w.y=w.y+(x[1]-w.y)*_,w.z=w.z+(x[2]-w.z)*_,this.interpolationType===t.AnimationHandler.CATMULLROM_FORWARD){var C=o(e,1.01*v);n.set(C[0],C[1],C[2]),n.sub(w),n.y=0,n.normalize();var S=Math.atan2(n.x,n.z);l.rotation.set(0,S,0)}}}else if("rot"===d)if(t.Quaternion.slerp(g,b,i,v),0===p.quaternionWeight)l.quaternion.copy(i),p.quaternionWeight=this.weight;else{var _=this.weight/(this.weight+p.quaternionWeight);t.Quaternion.slerp(l.quaternion,i,l.quaternion,_),p.quaternionWeight+=this.weight}else if("scl"===d){r.x=g[0]+(b[0]-g[0])*v,r.y=g[1]+(b[1]-g[1])*v,r.z=g[2]+(b[2]-g[2])*v;var _=this.weight/(this.weight+p.scaleWeight);l.scale.lerp(r,_),p.scaleWeight+=this.weight}}return!0}}}(),getNextKeyWith:function(e,n,r){var i=this.data.hierarchy[n].keys;for(this.interpolationType===t.AnimationHandler.CATMULLROM||this.interpolationType===t.AnimationHandler.CATMULLROM_FORWARD?r=r<i.length-1?r:i.length-1:r%=i.length;r<i.length;r++)if(void 0!==i[r][e])return i[r];return this.data.hierarchy[n].keys[0]},getPrevKeyWith:function(e,n,r){var i=this.data.hierarchy[n].keys;for(r=this.interpolationType===t.AnimationHandler.CATMULLROM||this.interpolationType===t.AnimationHandler.CATMULLROM_FORWARD?r>0?r:0:r>=0?r:r+i.length;r>=0;r--)if(void 0!==i[r][e])return i[r];return this.data.hierarchy[n].keys[i.length-1]}},t.KeyFrameAnimation=function(e){this.root=e.node,this.data=t.AnimationHandler.init(e),this.hierarchy=t.AnimationHandler.parse(this.root),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.isPaused=!0,this.loop=!0;for(var n=0,r=this.hierarchy.length;n<r;n++){var i=this.data.hierarchy[n].keys,o=this.data.hierarchy[n].sids,a=this.hierarchy[n];if(i.length&&o){for(var s=0;s<o.length;s++){var u=o[s],c=this.getNextKeyWith(u,n,0);c&&c.apply(u)}a.matrixAutoUpdate=!1,this.data.hierarchy[n].node.updateMatrix(),a.matrixWorldNeedsUpdate=!0}}},t.KeyFrameAnimation.prototype={constructor:t.KeyFrameAnimation,play:function(e){if(this.currentTime=void 0!==e?e:0,this.isPlaying===!1){this.isPlaying=!0;var n,r,i,o=this.hierarchy.length;for(n=0;n<o;n++){r=this.hierarchy[n],i=this.data.hierarchy[n],void 0===i.animationCache&&(i.animationCache={},i.animationCache.prevKey=null,i.animationCache.nextKey=null,i.animationCache.originalMatrix=r.matrix);var a=this.data.hierarchy[n].keys;a.length&&(i.animationCache.prevKey=a[0],i.animationCache.nextKey=a[1],this.startTime=Math.min(a[0].time,this.startTime),this.endTime=Math.max(a[a.length-1].time,this.endTime))}this.update(0)}this.isPaused=!1,t.AnimationHandler.play(this)},stop:function(){this.isPlaying=!1,this.isPaused=!1,t.AnimationHandler.stop(this);for(var e=0;e<this.data.hierarchy.length;e++){var n=this.hierarchy[e],r=this.data.hierarchy[e];if(void 0!==r.animationCache){var i=r.animationCache.originalMatrix;i.copy(n.matrix),n.matrix=i,delete r.animationCache}}},update:function(t){if(this.isPlaying!==!1){this.currentTime+=t*this.timeScale;var e=this.data.length;this.loop===!0&&this.currentTime>e&&(this.currentTime%=e),this.currentTime=Math.min(this.currentTime,e);for(var n=0,r=this.hierarchy.length;n<r;n++){var i=this.hierarchy[n],o=this.data.hierarchy[n],a=o.keys,s=o.animationCache;if(a.length){var u=s.prevKey,c=s.nextKey;if(c.time<=this.currentTime){for(;c.time<this.currentTime&&c.index>u.index;)u=c,c=a[u.index+1];s.prevKey=u,s.nextKey=c}c.time>=this.currentTime?u.interpolate(c,this.currentTime):u.interpolate(c,c.time),this.data.hierarchy[n].node.updateMatrix(),i.matrixWorldNeedsUpdate=!0}}}},getNextKeyWith:function(t,e,n){var r=this.data.hierarchy[e].keys;for(n%=r.length;n<r.length;n++)if(r[n].hasTarget(t))return r[n];return r[0]},getPrevKeyWith:function(t,e,n){var r=this.data.hierarchy[e].keys;for(n=n>=0?n:n+r.length;n>=0;n--)if(r[n].hasTarget(t))return r[n];return r[r.length-1]}},t.MorphAnimation=function(t){this.mesh=t,this.frames=t.morphTargetInfluences.length,this.currentTime=0,this.duration=1e3,this.loop=!0,this.lastFrame=0,this.currentFrame=0,this.isPlaying=!1},t.MorphAnimation.prototype={constructor:t.MorphAnimation,play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(t){if(this.isPlaying!==!1){this.currentTime+=t,this.loop===!0&&this.currentTime>this.duration&&(this.currentTime%=this.duration),this.currentTime=Math.min(this.currentTime,this.duration);var e=this.duration/this.frames,n=Math.floor(this.currentTime/e),r=this.mesh.morphTargetInfluences;n!=this.currentFrame&&(r[this.lastFrame]=0,r[this.currentFrame]=1,r[n]=0,this.lastFrame=this.currentFrame,this.currentFrame=n),r[n]=this.currentTime%e/e,r[this.lastFrame]=1-r[n]}}},t.BoxGeometry=function(e,n,r,i,o,a){function s(e,n,r,i,o,a,s,c){var l,h,p,f=u.widthSegments,d=u.heightSegments,m=o/2,y=a/2,v=u.vertices.length;"x"===e&&"y"===n||"y"===e&&"x"===n?l="z":"x"===e&&"z"===n||"z"===e&&"x"===n?(l="y",d=u.depthSegments):("z"===e&&"y"===n||"y"===e&&"z"===n)&&(l="x",f=u.depthSegments);var g=f+1,b=d+1,_=o/f,x=a/d,w=new t.Vector3;for(w[l]=s>0?1:-1,p=0;p<b;p++)for(h=0;h<g;h++){var C=new t.Vector3;C[e]=(h*_-m)*r,C[n]=(p*x-y)*i,C[l]=s,u.vertices.push(C)}for(p=0;p<d;p++)for(h=0;h<f;h++){var S=h+g*p,E=h+g*(p+1),T=h+1+g*(p+1),M=h+1+g*p,A=new t.Vector2(h/f,1-p/d),P=new t.Vector2(h/f,1-(p+1)/d),k=new t.Vector2((h+1)/f,1-(p+1)/d),R=new t.Vector2((h+1)/f,1-p/d),O=new t.Face3(S+v,E+v,M+v);O.normal.copy(w),O.vertexNormals.push(w.clone(),w.clone(),w.clone()),O.materialIndex=c,u.faces.push(O),u.faceVertexUvs[0].push([A,P,R]),O=new t.Face3(E+v,T+v,M+v),O.normal.copy(w),O.vertexNormals.push(w.clone(),w.clone(),w.clone()),O.materialIndex=c,u.faces.push(O),u.faceVertexUvs[0].push([P.clone(),k,R.clone()])}}t.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a},this.widthSegments=i||1,this.heightSegments=o||1,this.depthSegments=a||1;var u=this,c=e/2,l=n/2,h=r/2;s("z","y",-1,-1,r,n,c,0),s("z","y",1,-1,r,n,-c,1),s("x","z",1,1,e,r,l,2),s("x","z",1,-1,e,r,-l,3),s("x","y",1,-1,e,n,h,4),s("x","y",-1,-1,e,n,-h,5),this.mergeVertices()},t.BoxGeometry.prototype=Object.create(t.Geometry.prototype),t.BoxGeometry.prototype.constructor=t.BoxGeometry,t.CircleGeometry=function(e,n,r,i){t.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},e=e||50,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var o,a=[],s=new t.Vector3,u=new t.Vector2(.5,.5);for(this.vertices.push(s),a.push(u),o=0;o<=n;o++){var c=new t.Vector3,l=r+o/n*i;c.x=e*Math.cos(l),c.y=e*Math.sin(l),this.vertices.push(c),a.push(new t.Vector2((c.x/e+1)/2,(c.y/e+1)/2))}var h=new t.Vector3(0,0,1);for(o=1;o<=n;o++)this.faces.push(new t.Face3(o,o+1,0,[h.clone(),h.clone(),h.clone()])),this.faceVertexUvs[0].push([a[o].clone(),a[o+1].clone(),u.clone()]);this.computeFaceNormals(),this.boundingSphere=new t.Sphere(new t.Vector3,e)},t.CircleGeometry.prototype=Object.create(t.Geometry.prototype),t.CircleGeometry.prototype.constructor=t.CircleGeometry,t.CubeGeometry=function(e,n,r,i,o,a){return t.warn("THREE.CubeGeometry has been renamed to THREE.BoxGeometry."),new t.BoxGeometry(e,n,r,i,o,a)},t.CylinderGeometry=function(e,n,r,i,o,a,s,u){t.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:u},e=void 0!==e?e:20,n=void 0!==n?n:20,r=void 0!==r?r:100,i=i||8,o=o||1,a=void 0!==a&&a,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var c,l,h=r/2,p=[],f=[];for(l=0;l<=o;l++){var d=[],m=[],y=l/o,v=y*(n-e)+e;for(c=0;c<=i;c++){var g=c/i,b=new t.Vector3;b.x=v*Math.sin(g*u+s),b.y=-y*r+h,b.z=v*Math.cos(g*u+s),this.vertices.push(b),d.push(this.vertices.length-1),m.push(new t.Vector2(g,1-y))}p.push(d),f.push(m)}var _,x,w=(n-e)/r;for(c=0;c<i;c++)for(0!==e?(_=this.vertices[p[0][c]].clone(),x=this.vertices[p[0][c+1]].clone()):(_=this.vertices[p[1][c]].clone(),x=this.vertices[p[1][c+1]].clone()),_.setY(Math.sqrt(_.x*_.x+_.z*_.z)*w).normalize(),x.setY(Math.sqrt(x.x*x.x+x.z*x.z)*w).normalize(),l=0;l<o;l++){var C=p[l][c],S=p[l+1][c],E=p[l+1][c+1],T=p[l][c+1],M=_.clone(),A=_.clone(),P=x.clone(),k=x.clone(),R=f[l][c].clone(),O=f[l+1][c].clone(),I=f[l+1][c+1].clone(),N=f[l][c+1].clone();this.faces.push(new t.Face3(C,S,T,[M,A,k])),this.faceVertexUvs[0].push([R,O,N]),this.faces.push(new t.Face3(S,E,T,[A.clone(),P,k.clone()])),this.faceVertexUvs[0].push([O.clone(),I,N.clone()])}if(a===!1&&e>0)for(this.vertices.push(new t.Vector3(0,h,0)),c=0;c<i;c++){var C=p[0][c],S=p[0][c+1],E=this.vertices.length-1,M=new t.Vector3(0,1,0),A=new t.Vector3(0,1,0),P=new t.Vector3(0,1,0),R=f[0][c].clone(),O=f[0][c+1].clone(),I=new t.Vector2(O.x,0);this.faces.push(new t.Face3(C,S,E,[M,A,P])),this.faceVertexUvs[0].push([R,O,I])}if(a===!1&&n>0)for(this.vertices.push(new t.Vector3(0,-h,0)),c=0;c<i;c++){var C=p[o][c+1],S=p[o][c],E=this.vertices.length-1,M=new t.Vector3(0,-1,0),A=new t.Vector3(0,-1,0),P=new t.Vector3(0,-1,0),R=f[o][c+1].clone(),O=f[o][c].clone(),I=new t.Vector2(O.x,1);this.faces.push(new t.Face3(C,S,E,[M,A,P])),this.faceVertexUvs[0].push([R,O,I])}this.computeFaceNormals()},t.CylinderGeometry.prototype=Object.create(t.Geometry.prototype),t.CylinderGeometry.prototype.constructor=t.CylinderGeometry,t.ExtrudeGeometry=function(e,n){return"undefined"==typeof e?void(e=[]):(t.Geometry.call(this),this.type="ExtrudeGeometry",e=e instanceof Array?e:[e],this.addShapeList(e,n),void this.computeFaceNormals())},t.ExtrudeGeometry.prototype=Object.create(t.Geometry.prototype),t.ExtrudeGeometry.prototype.constructor=t.ExtrudeGeometry,t.ExtrudeGeometry.prototype.addShapeList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];this.addShape(i,e)}},t.ExtrudeGeometry.prototype.addShape=function(e,n){function r(e,n,r){return n||t.error("THREE.ExtrudeGeometry: vec does not exist"),n.clone().multiplyScalar(r).add(e)}function i(e,n,r){var i,o,a=1e-10,s=1,u=e.x-n.x,c=e.y-n.y,l=r.x-e.x,h=r.y-e.y,p=u*u+c*c,f=u*h-c*l;if(Math.abs(f)>a){var d=Math.sqrt(p),m=Math.sqrt(l*l+h*h),y=n.x-c/d,v=n.y+u/d,g=r.x-h/m,b=r.y+l/m,_=((g-y)*h-(b-v)*l)/(u*h-c*l);i=y+u*_-e.x,o=v+c*_-e.y;var x=i*i+o*o;if(x<=2)return new t.Vector2(i,o);s=Math.sqrt(x/2)}else{var w=!1;u>a?l>a&&(w=!0):u<-a?l<-a&&(w=!0):Math.sign(c)==Math.sign(h)&&(w=!0),w?(i=-c,o=u,s=Math.sqrt(p)):(i=u,o=c,s=Math.sqrt(p/2))}return new t.Vector2(i/s,o/s)}function o(){if(_){var t=0,e=q*t;for(Y=0;Y<W;Y++)G=V[Y],c(G[2]+e,G[1]+e,G[0]+e);for(t=w+2*b,e=q*t,Y=0;Y<W;Y++)G=V[Y],c(G[0]+e,G[1]+e,G[2]+e)}else{for(Y=0;Y<W;Y++)G=V[Y],c(G[2],G[1],G[0]);for(Y=0;Y<W;Y++)G=V[Y],c(G[0]+q*w,G[1]+q*w,G[2]+q*w)}}function a(){var t=0;for(s(F,t),t+=F.length,P=0,k=D.length;P<k;P++)A=D[P],s(A,t),t+=A.length}function s(t,e){var n,r;for(Y=t.length;--Y>=0;){n=Y,r=Y-1,r<0&&(r=t.length-1);var i=0,o=w+2*b;for(i=0;i<o;i++){var a=q*i,s=q*(i+1),u=e+n+a,c=e+r+a,h=e+r+s,p=e+n+s;l(u,c,h,p,t,i,o,n,r)}}}function u(e,n,r){R.vertices.push(new t.Vector3(e,n,r))}function c(e,n,r){e+=O,n+=O,r+=O,R.faces.push(new t.Face3(e,n,r,null,null,E));var i=M.generateTopUV(R,e,n,r);R.faceVertexUvs[0].push(i)}function l(e,n,r,i,o,a,s,u,c){e+=O,n+=O,r+=O,i+=O,R.faces.push(new t.Face3(e,n,i,null,null,T)),R.faces.push(new t.Face3(n,r,i,null,null,T));var l=M.generateSideWallUV(R,e,n,r,i);R.faceVertexUvs[0].push([l[0],l[1],l[3]]),R.faceVertexUvs[0].push([l[1],l[2],l[3]])}var h,p,f,d,m,y=void 0!==n.amount?n.amount:100,v=void 0!==n.bevelThickness?n.bevelThickness:6,g=void 0!==n.bevelSize?n.bevelSize:v-2,b=void 0!==n.bevelSegments?n.bevelSegments:3,_=void 0===n.bevelEnabled||n.bevelEnabled,x=void 0!==n.curveSegments?n.curveSegments:12,w=void 0!==n.steps?n.steps:1,C=n.extrudePath,S=!1,E=n.material,T=n.extrudeMaterial,M=void 0!==n.UVGenerator?n.UVGenerator:t.ExtrudeGeometry.WorldUVGenerator;C&&(h=C.getSpacedPoints(w),S=!0,_=!1,p=void 0!==n.frames?n.frames:new t.TubeGeometry.FrenetFrames(C,w,!1),f=new t.Vector3,d=new t.Vector3,m=new t.Vector3),_||(b=0,v=0,g=0);var A,P,k,R=this,O=this.vertices.length,I=e.extractPoints(x),N=I.shape,D=I.holes,L=!t.Shape.Utils.isClockWise(N);if(L){for(N=N.reverse(),P=0,k=D.length;P<k;P++)A=D[P],t.Shape.Utils.isClockWise(A)&&(D[P]=A.reverse());L=!1}var V=t.Shape.Utils.triangulateShape(N,D),F=N;for(P=0,k=D.length;P<k;P++)A=D[P],N=N.concat(A);for(var j,B,U,z,H,G,q=N.length,W=V.length,X=[],Y=0,K=F.length,Z=K-1,Q=Y+1;Y<K;Y++,Z++,Q++)Z===K&&(Z=0),Q===K&&(Q=0),X[Y]=i(F[Y],F[Z],F[Q]);var $,J=[],tt=X.concat();for(P=0,k=D.length;P<k;P++){for(A=D[P],$=[],Y=0,K=A.length,Z=K-1,Q=Y+1;Y<K;Y++,Z++,Q++)Z===K&&(Z=0),Q===K&&(Q=0),$[Y]=i(A[Y],A[Z],A[Q]);J.push($),tt=tt.concat($)}for(j=0;j<b;j++){for(U=j/b,z=v*(1-U),B=g*Math.sin(U*Math.PI/2),Y=0,K=F.length;Y<K;Y++)H=r(F[Y],X[Y],B),u(H.x,H.y,-z);for(P=0,k=D.length;P<k;P++)for(A=D[P],$=J[P],Y=0,K=A.length;Y<K;Y++)H=r(A[Y],$[Y],B),u(H.x,H.y,-z)}for(B=g,Y=0;Y<q;Y++)H=_?r(N[Y],tt[Y],B):N[Y],S?(d.copy(p.normals[0]).multiplyScalar(H.x),f.copy(p.binormals[0]).multiplyScalar(H.y),m.copy(h[0]).add(d).add(f),u(m.x,m.y,m.z)):u(H.x,H.y,0);var et;for(et=1;et<=w;et++)for(Y=0;Y<q;Y++)H=_?r(N[Y],tt[Y],B):N[Y],S?(d.copy(p.normals[et]).multiplyScalar(H.x),f.copy(p.binormals[et]).multiplyScalar(H.y),m.copy(h[et]).add(d).add(f),u(m.x,m.y,m.z)):u(H.x,H.y,y/w*et);for(j=b-1;j>=0;j--){for(U=j/b,z=v*(1-U),B=g*Math.sin(U*Math.PI/2),Y=0,K=F.length;Y<K;Y++)H=r(F[Y],X[Y],B),u(H.x,H.y,y+z);for(P=0,k=D.length;P<k;P++)for(A=D[P],$=J[P],Y=0,K=A.length;Y<K;Y++)H=r(A[Y],$[Y],B),S?u(H.x,H.y+h[w-1].y,h[w-1].x+z):u(H.x,H.y,y+z)}o(),a()},t.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,n,r,i){var o=e.vertices,a=o[n],s=o[r],u=o[i];return[new t.Vector2(a.x,a.y),new t.Vector2(s.x,s.y),new t.Vector2(u.x,u.y)]},generateSideWallUV:function(e,n,r,i,o){var a=e.vertices,s=a[n],u=a[r],c=a[i],l=a[o];return Math.abs(s.y-u.y)<.01?[new t.Vector2(s.x,1-s.z),new t.Vector2(u.x,1-u.z),new t.Vector2(c.x,1-c.z),new t.Vector2(l.x,1-l.z)]:[new t.Vector2(s.y,1-s.z),new t.Vector2(u.y,1-u.z),new t.Vector2(c.y,1-c.z),new t.Vector2(l.y,1-l.z)]}},t.ShapeGeometry=function(e,n){t.Geometry.call(this),this.type="ShapeGeometry",e instanceof Array==!1&&(e=[e]),this.addShapeList(e,n),this.computeFaceNormals()},t.ShapeGeometry.prototype=Object.create(t.Geometry.prototype),t.ShapeGeometry.prototype.constructor=t.ShapeGeometry,t.ShapeGeometry.prototype.addShapeList=function(t,e){for(var n=0,r=t.length;n<r;n++)this.addShape(t[n],e);return this},t.ShapeGeometry.prototype.addShape=function(e,n){void 0===n&&(n={});var r,i,o,a=void 0!==n.curveSegments?n.curveSegments:12,s=n.material,u=void 0===n.UVGenerator?t.ExtrudeGeometry.WorldUVGenerator:n.UVGenerator,c=this.vertices.length,l=e.extractPoints(a),h=l.shape,p=l.holes,f=!t.Shape.Utils.isClockWise(h);if(f){for(h=h.reverse(),r=0,i=p.length;r<i;r++)o=p[r],t.Shape.Utils.isClockWise(o)&&(p[r]=o.reverse());f=!1}var d=t.Shape.Utils.triangulateShape(h,p);for(r=0,i=p.length;r<i;r++)o=p[r],h=h.concat(o);var m,y,v=h.length,g=d.length;for(r=0;r<v;r++)m=h[r],this.vertices.push(new t.Vector3(m.x,m.y,0));for(r=0;r<g;r++){y=d[r];var b=y[0]+c,_=y[1]+c,x=y[2]+c;this.faces.push(new t.Face3(b,_,x,null,null,s)),this.faceVertexUvs[0].push(u.generateTopUV(this,b,_,x))}},t.LatheGeometry=function(e,n,r,i){t.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=n||12,r=r||0,i=i||2*Math.PI;for(var o=1/(e.length-1),a=1/n,s=0,u=n;s<=u;s++)for(var c=r+s*a*i,l=Math.cos(c),h=Math.sin(c),p=0,f=e.length;p<f;p++){var d=e[p],m=new t.Vector3;m.x=l*d.x-h*d.y,m.y=h*d.x+l*d.y,m.z=d.z,this.vertices.push(m)}for(var y=e.length,s=0,u=n;s<u;s++)for(var p=0,f=e.length-1;p<f;p++){var v=p+y*s,g=v,b=v+y,l=v+1+y,_=v+1,x=s*a,w=p*o,C=x+a,S=w+o;this.faces.push(new t.Face3(g,b,_)),this.faceVertexUvs[0].push([new t.Vector2(x,w),new t.Vector2(C,w),new t.Vector2(x,S)]),this.faces.push(new t.Face3(b,l,_)),this.faceVertexUvs[0].push([new t.Vector2(C,w),new t.Vector2(C,S),new t.Vector2(x,S)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},t.LatheGeometry.prototype=Object.create(t.Geometry.prototype),t.LatheGeometry.prototype.constructor=t.LatheGeometry,t.PlaneGeometry=function(e,n,r,i){console.info("THREE.PlaneGeometry: Consider using THREE.PlaneBufferGeometry for lower memory footprint."),t.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i},this.fromBufferGeometry(new t.PlaneBufferGeometry(e,n,r,i))},t.PlaneGeometry.prototype=Object.create(t.Geometry.prototype),t.PlaneGeometry.prototype.constructor=t.PlaneGeometry,t.PlaneBufferGeometry=function(e,n,r,i){t.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};for(var o=e/2,a=n/2,s=r||1,u=i||1,c=s+1,l=u+1,h=e/s,p=n/u,f=new Float32Array(c*l*3),d=new Float32Array(c*l*3),m=new Float32Array(c*l*2),y=0,v=0,g=0;g<l;g++)for(var b=g*p-a,_=0;_<c;_++){var x=_*h-o;f[y]=x,f[y+1]=-b,d[y+2]=1,m[v]=_/s,m[v+1]=1-g/u,y+=3,v+=2}y=0;for(var w=new(f.length/3>65535?Uint32Array:Uint16Array)(s*u*6),g=0;g<u;g++)for(var _=0;_<s;_++){var C=_+c*g,S=_+c*(g+1),E=_+1+c*(g+1),T=_+1+c*g;w[y]=C,w[y+1]=S,w[y+2]=T,w[y+3]=S,w[y+4]=E,w[y+5]=T,y+=6}this.addAttribute("index",new t.BufferAttribute(w,1)),this.addAttribute("position",new t.BufferAttribute(f,3)),this.addAttribute("normal",new t.BufferAttribute(d,3)),this.addAttribute("uv",new t.BufferAttribute(m,2))},t.PlaneBufferGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.PlaneBufferGeometry.prototype.constructor=t.PlaneBufferGeometry,t.RingGeometry=function(e,n,r,i,o,a){t.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},e=e||0,n=n||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,r=void 0!==r?Math.max(3,r):8,i=void 0!==i?Math.max(1,i):8;var s,u,c=[],l=e,h=(n-e)/i;for(s=0;s<i+1;s++){for(u=0;u<r+1;u++){var p=new t.Vector3,f=o+u/r*a;p.x=l*Math.cos(f),p.y=l*Math.sin(f),this.vertices.push(p),c.push(new t.Vector2((p.x/n+1)/2,(p.y/n+1)/2))}l+=h}var d=new t.Vector3(0,0,1);for(s=0;s<i;s++){var m=s*(r+1);for(u=0;u<r;u++){var f=u+m,y=f,v=f+r+1,g=f+r+2;this.faces.push(new t.Face3(y,v,g,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([c[y].clone(),c[v].clone(),c[g].clone()]),y=f,v=f+r+2,g=f+1,this.faces.push(new t.Face3(y,v,g,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([c[y].clone(),c[v].clone(),c[g].clone()])}}this.computeFaceNormals(),this.boundingSphere=new t.Sphere(new t.Vector3,l)},t.RingGeometry.prototype=Object.create(t.Geometry.prototype),t.RingGeometry.prototype.constructor=t.RingGeometry,t.SphereGeometry=function(e,n,r,i,o,a,s){t.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},e=e||50,n=Math.max(3,Math.floor(n)||8),r=Math.max(2,Math.floor(r)||6),i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,a=void 0!==a?a:0,s=void 0!==s?s:Math.PI;var u,c,l=[],h=[];for(c=0;c<=r;c++){var p=[],f=[];for(u=0;u<=n;u++){var d=u/n,m=c/r,y=new t.Vector3;y.x=-e*Math.cos(i+d*o)*Math.sin(a+m*s),y.y=e*Math.cos(a+m*s),y.z=e*Math.sin(i+d*o)*Math.sin(a+m*s),this.vertices.push(y),p.push(this.vertices.length-1),f.push(new t.Vector2(d,1-m))}l.push(p),h.push(f)}for(c=0;c<r;c++)for(u=0;u<n;u++){var v=l[c][u+1],g=l[c][u],b=l[c+1][u],_=l[c+1][u+1],x=this.vertices[v].clone().normalize(),w=this.vertices[g].clone().normalize(),C=this.vertices[b].clone().normalize(),S=this.vertices[_].clone().normalize(),E=h[c][u+1].clone(),T=h[c][u].clone(),M=h[c+1][u].clone(),A=h[c+1][u+1].clone();Math.abs(this.vertices[v].y)===e?(E.x=(E.x+T.x)/2,this.faces.push(new t.Face3(v,b,_,[x,C,S])),this.faceVertexUvs[0].push([E,M,A])):Math.abs(this.vertices[b].y)===e?(M.x=(M.x+A.x)/2,this.faces.push(new t.Face3(v,g,b,[x,w,C])),this.faceVertexUvs[0].push([E,T,M])):(this.faces.push(new t.Face3(v,g,_,[x,w,S])),this.faceVertexUvs[0].push([E,T,A]),this.faces.push(new t.Face3(g,b,_,[w.clone(),C,S.clone()])),this.faceVertexUvs[0].push([T.clone(),M,A.clone()]))}this.computeFaceNormals(),this.boundingSphere=new t.Sphere(new t.Vector3,e)},t.SphereGeometry.prototype=Object.create(t.Geometry.prototype),t.SphereGeometry.prototype.constructor=t.SphereGeometry,t.TextGeometry=function(e,n){n=n||{};var r=t.FontUtils.generateShapes(e,n);n.amount=void 0!==n.height?n.height:50,void 0===n.bevelThickness&&(n.bevelThickness=10),void 0===n.bevelSize&&(n.bevelSize=8),void 0===n.bevelEnabled&&(n.bevelEnabled=!1),t.ExtrudeGeometry.call(this,r,n),this.type="TextGeometry"},t.TextGeometry.prototype=Object.create(t.ExtrudeGeometry.prototype),t.TextGeometry.prototype.constructor=t.TextGeometry,t.TorusGeometry=function(e,n,r,i,o){t.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},e=e||100,n=n||40,r=r||8,i=i||6,o=o||2*Math.PI;for(var a=new t.Vector3,s=[],u=[],c=0;c<=r;c++)for(var l=0;l<=i;l++){
var h=l/i*o,p=c/r*Math.PI*2;a.x=e*Math.cos(h),a.y=e*Math.sin(h);var f=new t.Vector3;f.x=(e+n*Math.cos(p))*Math.cos(h),f.y=(e+n*Math.cos(p))*Math.sin(h),f.z=n*Math.sin(p),this.vertices.push(f),s.push(new t.Vector2(l/i,c/r)),u.push(f.clone().sub(a).normalize())}for(var c=1;c<=r;c++)for(var l=1;l<=i;l++){var d=(i+1)*c+l-1,m=(i+1)*(c-1)+l-1,y=(i+1)*(c-1)+l,v=(i+1)*c+l,g=new t.Face3(d,m,v,[u[d].clone(),u[m].clone(),u[v].clone()]);this.faces.push(g),this.faceVertexUvs[0].push([s[d].clone(),s[m].clone(),s[v].clone()]),g=new t.Face3(m,y,v,[u[m].clone(),u[y].clone(),u[v].clone()]),this.faces.push(g),this.faceVertexUvs[0].push([s[m].clone(),s[y].clone(),s[v].clone()])}this.computeFaceNormals()},t.TorusGeometry.prototype=Object.create(t.Geometry.prototype),t.TorusGeometry.prototype.constructor=t.TorusGeometry,t.TorusKnotGeometry=function(e,n,r,i,o,a,s){function u(e,n,r,i,o){var a=Math.cos(e),s=Math.sin(e),u=n/r*e,c=Math.cos(u),l=i*(2+c)*.5*a,h=i*(2+c)*s*.5,p=o*i*Math.sin(u)*.5;return new t.Vector3(l,h,p)}t.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,p:o,q:a,heightScale:s},e=e||100,n=n||40,r=r||64,i=i||8,o=o||2,a=a||3,s=s||1;for(var c=new Array(r),l=new t.Vector3,h=new t.Vector3,p=new t.Vector3,f=0;f<r;++f){c[f]=new Array(i);var d=f/r*2*o*Math.PI,m=u(d,a,o,e,s),y=u(d+.01,a,o,e,s);l.subVectors(y,m),h.addVectors(y,m),p.crossVectors(l,h),h.crossVectors(p,l),p.normalize(),h.normalize();for(var v=0;v<i;++v){var g=v/i*2*Math.PI,b=-n*Math.cos(g),_=n*Math.sin(g),x=new t.Vector3;x.x=m.x+b*h.x+_*p.x,x.y=m.y+b*h.y+_*p.y,x.z=m.z+b*h.z+_*p.z,c[f][v]=this.vertices.push(x)-1}}for(var f=0;f<r;++f)for(var v=0;v<i;++v){var w=(f+1)%r,C=(v+1)%i,S=c[f][v],E=c[w][v],T=c[w][C],M=c[f][C],A=new t.Vector2(f/r,v/i),P=new t.Vector2((f+1)/r,v/i),k=new t.Vector2((f+1)/r,(v+1)/i),R=new t.Vector2(f/r,(v+1)/i);this.faces.push(new t.Face3(S,E,M)),this.faceVertexUvs[0].push([A,P,R]),this.faces.push(new t.Face3(E,T,M)),this.faceVertexUvs[0].push([P.clone(),k,R.clone()])}this.computeFaceNormals(),this.computeVertexNormals()},t.TorusKnotGeometry.prototype=Object.create(t.Geometry.prototype),t.TorusKnotGeometry.prototype.constructor=t.TorusKnotGeometry,t.TubeGeometry=function(e,n,r,i,o,a){function s(e,n,r){return k.vertices.push(new t.Vector3(e,n,r))-1}t.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:e,segments:n,radius:r,radialSegments:i,closed:o},n=n||64,r=r||1,i=i||8,o=o||!1,a=a||t.TubeGeometry.NoTaper;var u,c,l,h,p,f,d,m,y,v,g,b,_,x,w,C,S,E,T,M,A,P=[],k=this,R=n+1,O=new t.Vector3,I=new t.TubeGeometry.FrenetFrames(e,n,o),N=I.tangents,D=I.normals,L=I.binormals;for(this.tangents=N,this.normals=D,this.binormals=L,v=0;v<R;v++)for(P[v]=[],h=v/(R-1),y=e.getPointAt(h),u=N[v],c=D[v],l=L[v],f=r*a(h),g=0;g<i;g++)p=g/i*2*Math.PI,d=-f*Math.cos(p),m=f*Math.sin(p),O.copy(y),O.x+=d*c.x+m*l.x,O.y+=d*c.y+m*l.y,O.z+=d*c.z+m*l.z,P[v][g]=s(O.x,O.y,O.z);for(v=0;v<n;v++)for(g=0;g<i;g++)b=o?(v+1)%n:v+1,_=(g+1)%i,x=P[v][g],w=P[b][g],C=P[b][_],S=P[v][_],E=new t.Vector2(v/n,g/i),T=new t.Vector2((v+1)/n,g/i),M=new t.Vector2((v+1)/n,(g+1)/i),A=new t.Vector2(v/n,(g+1)/i),this.faces.push(new t.Face3(x,w,S)),this.faceVertexUvs[0].push([E,T,A]),this.faces.push(new t.Face3(w,C,S)),this.faceVertexUvs[0].push([T.clone(),M,A.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},t.TubeGeometry.prototype=Object.create(t.Geometry.prototype),t.TubeGeometry.prototype.constructor=t.TubeGeometry,t.TubeGeometry.NoTaper=function(t){return 1},t.TubeGeometry.SinusoidalTaper=function(t){return Math.sin(Math.PI*t)},t.TubeGeometry.FrenetFrames=function(e,n,r){function i(){d[0]=new t.Vector3,m[0]=new t.Vector3,a=Number.MAX_VALUE,s=Math.abs(f[0].x),u=Math.abs(f[0].y),c=Math.abs(f[0].z),s<=a&&(a=s,p.set(1,0,0)),u<=a&&(a=u,p.set(0,1,0)),c<=a&&p.set(0,0,1),y.crossVectors(f[0],p).normalize(),d[0].crossVectors(f[0],y),m[0].crossVectors(f[0],d[0])}var o,a,s,u,c,l,h,p=new t.Vector3,f=[],d=[],m=[],y=new t.Vector3,v=new t.Matrix4,g=n+1,b=1e-4;for(this.tangents=f,this.normals=d,this.binormals=m,l=0;l<g;l++)h=l/(g-1),f[l]=e.getTangentAt(h),f[l].normalize();for(i(),l=1;l<g;l++)d[l]=d[l-1].clone(),m[l]=m[l-1].clone(),y.crossVectors(f[l-1],f[l]),y.length()>b&&(y.normalize(),o=Math.acos(t.Math.clamp(f[l-1].dot(f[l]),-1,1)),d[l].applyMatrix4(v.makeRotationAxis(y,o))),m[l].crossVectors(f[l],d[l]);if(r)for(o=Math.acos(t.Math.clamp(d[0].dot(d[g-1]),-1,1)),o/=g-1,f[0].dot(y.crossVectors(d[0],d[g-1]))>0&&(o=-o),l=1;l<g;l++)d[l].applyMatrix4(v.makeRotationAxis(f[l],o*l)),m[l].crossVectors(f[l],d[l])},t.PolyhedronGeometry=function(e,n,r,i){function o(e){var n=e.normalize().clone();n.index=h.vertices.push(n)-1;var r=u(e)/2/Math.PI+.5,i=c(e)/Math.PI+.5;return n.uv=new t.Vector2(r,1-i),n}function a(e,n,r){var i=new t.Face3(e.index,n.index,r.index,[e.clone(),n.clone(),r.clone()]);h.faces.push(i),_.copy(e).add(n).add(r).divideScalar(3);var o=u(_);h.faceVertexUvs[0].push([l(e.uv,e,o),l(n.uv,n,o),l(r.uv,r,o)])}function s(t,e){for(var n=Math.pow(2,e),r=o(h.vertices[t.a]),i=o(h.vertices[t.b]),s=o(h.vertices[t.c]),u=[],c=0;c<=n;c++){u[c]=[];for(var l=o(r.clone().lerp(s,c/n)),p=o(i.clone().lerp(s,c/n)),f=n-c,d=0;d<=f;d++)0==d&&c==n?u[c][d]=l:u[c][d]=o(l.clone().lerp(p,d/f))}for(var c=0;c<n;c++)for(var d=0;d<2*(n-c)-1;d++){var m=Math.floor(d/2);d%2==0?a(u[c][m+1],u[c+1][m],u[c][m]):a(u[c][m+1],u[c+1][m+1],u[c+1][m])}}function u(t){return Math.atan2(t.z,-t.x)}function c(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}function l(e,n,r){return r<0&&1===e.x&&(e=new t.Vector2(e.x-1,e.y)),0===n.x&&0===n.z&&(e=new t.Vector2(r/2/Math.PI+.5,e.y)),e.clone()}t.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i},r=r||1,i=i||0;for(var h=this,p=0,f=e.length;p<f;p+=3)o(new t.Vector3(e[p],e[p+1],e[p+2]));for(var d=this.vertices,m=[],p=0,y=0,f=n.length;p<f;p+=3,y++){var v=d[n[p]],g=d[n[p+1]],b=d[n[p+2]];m[y]=new t.Face3(v.index,g.index,b.index,[v.clone(),g.clone(),b.clone()])}for(var _=new t.Vector3,p=0,f=m.length;p<f;p++)s(m[p],i);for(var p=0,f=this.faceVertexUvs[0].length;p<f;p++){var x=this.faceVertexUvs[0][p],w=x[0].x,C=x[1].x,S=x[2].x,E=Math.max(w,Math.max(C,S)),T=Math.min(w,Math.min(C,S));E>.9&&T<.1&&(w<.2&&(x[0].x+=1),C<.2&&(x[1].x+=1),S<.2&&(x[2].x+=1))}for(var p=0,f=this.vertices.length;p<f;p++)this.vertices[p].multiplyScalar(r);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new t.Sphere(new t.Vector3,r)},t.PolyhedronGeometry.prototype=Object.create(t.Geometry.prototype),t.PolyhedronGeometry.prototype.constructor=t.PolyhedronGeometry,t.DodecahedronGeometry=function(e,n){this.parameters={radius:e,detail:n};var r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];t.PolyhedronGeometry.call(this,o,a,e,n)},t.DodecahedronGeometry.prototype=Object.create(t.Geometry.prototype),t.DodecahedronGeometry.prototype.constructor=t.DodecahedronGeometry,t.IcosahedronGeometry=function(e,n){var r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];t.PolyhedronGeometry.call(this,i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}},t.IcosahedronGeometry.prototype=Object.create(t.Geometry.prototype),t.IcosahedronGeometry.prototype.constructor=t.IcosahedronGeometry,t.OctahedronGeometry=function(e,n){this.parameters={radius:e,detail:n};var r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];t.PolyhedronGeometry.call(this,r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}},t.OctahedronGeometry.prototype=Object.create(t.Geometry.prototype),t.OctahedronGeometry.prototype.constructor=t.OctahedronGeometry,t.TetrahedronGeometry=function(e,n){var r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];t.PolyhedronGeometry.call(this,r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}},t.TetrahedronGeometry.prototype=Object.create(t.Geometry.prototype),t.TetrahedronGeometry.prototype.constructor=t.TetrahedronGeometry,t.ParametricGeometry=function(e,n,r){t.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:n,stacks:r};var i,o,a,s,u,c=this.vertices,l=this.faces,h=this.faceVertexUvs[0],p=n+1;for(i=0;i<=r;i++)for(u=i/r,o=0;o<=n;o++)s=o/n,a=e(s,u),c.push(a);var f,d,m,y,v,g,b,_;for(i=0;i<r;i++)for(o=0;o<n;o++)f=i*p+o,d=i*p+o+1,m=(i+1)*p+o+1,y=(i+1)*p+o,v=new t.Vector2(o/n,i/r),g=new t.Vector2((o+1)/n,i/r),b=new t.Vector2((o+1)/n,(i+1)/r),_=new t.Vector2(o/n,(i+1)/r),l.push(new t.Face3(f,d,y)),h.push([v,g,_]),l.push(new t.Face3(d,m,y)),h.push([g.clone(),b,_.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},t.ParametricGeometry.prototype=Object.create(t.Geometry.prototype),t.ParametricGeometry.prototype.constructor=t.ParametricGeometry,t.AxisHelper=function(e){e=e||1;var n=new Float32Array([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e]),r=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),i=new t.BufferGeometry;i.addAttribute("position",new t.BufferAttribute(n,3)),i.addAttribute("color",new t.BufferAttribute(r,3));var o=new t.LineBasicMaterial({vertexColors:t.VertexColors});t.Line.call(this,i,o,t.LinePieces)},t.AxisHelper.prototype=Object.create(t.Line.prototype),t.AxisHelper.prototype.constructor=t.AxisHelper,t.ArrowHelper=function(){var e=new t.Geometry;e.vertices.push(new t.Vector3(0,0,0),new t.Vector3(0,1,0));var n=new t.CylinderGeometry(0,.5,1,5,1);return n.applyMatrix((new t.Matrix4).makeTranslation(0,-.5,0)),function(r,i,o,a,s,u){t.Object3D.call(this),void 0===a&&(a=16776960),void 0===o&&(o=1),void 0===s&&(s=.2*o),void 0===u&&(u=.2*s),this.position.copy(i),this.line=new t.Line(e,new t.LineBasicMaterial({color:a})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new t.Mesh(n,new t.MeshBasicMaterial({color:a})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(r),this.setLength(o,s,u)}}(),t.ArrowHelper.prototype=Object.create(t.Object3D.prototype),t.ArrowHelper.prototype.constructor=t.ArrowHelper,t.ArrowHelper.prototype.setDirection=function(){var e,n=new t.Vector3;return function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(n.set(t.z,0,-t.x).normalize(),e=Math.acos(t.y),this.quaternion.setFromAxisAngle(n,e))}}(),t.ArrowHelper.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,t-e,1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},t.ArrowHelper.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},t.BoxHelper=function(e){var n=new t.BufferGeometry;n.addAttribute("position",new t.BufferAttribute(new Float32Array(72),3)),t.Line.call(this,n,new t.LineBasicMaterial({color:16776960}),t.LinePieces),void 0!==e&&this.update(e)},t.BoxHelper.prototype=Object.create(t.Line.prototype),t.BoxHelper.prototype.constructor=t.BoxHelper,t.BoxHelper.prototype.update=function(t){var e=t.geometry;null===e.boundingBox&&e.computeBoundingBox();var n=e.boundingBox.min,r=e.boundingBox.max,i=this.geometry.attributes.position.array;i[0]=r.x,i[1]=r.y,i[2]=r.z,i[3]=n.x,i[4]=r.y,i[5]=r.z,i[6]=n.x,i[7]=r.y,i[8]=r.z,i[9]=n.x,i[10]=n.y,i[11]=r.z,i[12]=n.x,i[13]=n.y,i[14]=r.z,i[15]=r.x,i[16]=n.y,i[17]=r.z,i[18]=r.x,i[19]=n.y,i[20]=r.z,i[21]=r.x,i[22]=r.y,i[23]=r.z,i[24]=r.x,i[25]=r.y,i[26]=n.z,i[27]=n.x,i[28]=r.y,i[29]=n.z,i[30]=n.x,i[31]=r.y,i[32]=n.z,i[33]=n.x,i[34]=n.y,i[35]=n.z,i[36]=n.x,i[37]=n.y,i[38]=n.z,i[39]=r.x,i[40]=n.y,i[41]=n.z,i[42]=r.x,i[43]=n.y,i[44]=n.z,i[45]=r.x,i[46]=r.y,i[47]=n.z,i[48]=r.x,i[49]=r.y,i[50]=r.z,i[51]=r.x,i[52]=r.y,i[53]=n.z,i[54]=n.x,i[55]=r.y,i[56]=r.z,i[57]=n.x,i[58]=r.y,i[59]=n.z,i[60]=n.x,i[61]=n.y,i[62]=r.z,i[63]=n.x,i[64]=n.y,i[65]=n.z,i[66]=r.x,i[67]=n.y,i[68]=r.z,i[69]=r.x,i[70]=n.y,i[71]=n.z,this.geometry.attributes.position.needsUpdate=!0,this.geometry.computeBoundingSphere(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},t.BoundingBoxHelper=function(e,n){var r=void 0!==n?n:8947848;this.object=e,this.box=new t.Box3,t.Mesh.call(this,new t.BoxGeometry(1,1,1),new t.MeshBasicMaterial({color:r,wireframe:!0}))},t.BoundingBoxHelper.prototype=Object.create(t.Mesh.prototype),t.BoundingBoxHelper.prototype.constructor=t.BoundingBoxHelper,t.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},t.CameraHelper=function(e){function n(t,e,n){r(t,n),r(e,n)}function r(e,n){i.vertices.push(new t.Vector3),i.colors.push(new t.Color(n)),void 0===a[e]&&(a[e]=[]),a[e].push(i.vertices.length-1)}var i=new t.Geometry,o=new t.LineBasicMaterial({color:16777215,vertexColors:t.FaceColors}),a={},s=16755200,u=16711680,c=43775,l=16777215,h=3355443;n("n1","n2",s),n("n2","n4",s),n("n4","n3",s),n("n3","n1",s),n("f1","f2",s),n("f2","f4",s),n("f4","f3",s),n("f3","f1",s),n("n1","f1",s),n("n2","f2",s),n("n3","f3",s),n("n4","f4",s),n("p","n1",u),n("p","n2",u),n("p","n3",u),n("p","n4",u),n("u1","u2",c),n("u2","u3",c),n("u3","u1",c),n("c","t",l),n("p","c",h),n("cn1","cn2",h),n("cn3","cn4",h),n("cf1","cf2",h),n("cf3","cf4",h),t.Line.call(this,i,o,t.LinePieces),this.camera=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()},t.CameraHelper.prototype=Object.create(t.Line.prototype),t.CameraHelper.prototype.constructor=t.CameraHelper,t.CameraHelper.prototype.update=function(){var e,n,r=new t.Vector3,i=new t.Camera,o=function(t,o,a,s){r.set(o,a,s).unproject(i);var u=n[t];if(void 0!==u)for(var c=0,l=u.length;c<l;c++)e.vertices[u[c]].copy(r)};return function(){e=this.geometry,n=this.pointMap;var t=1,r=1;i.projectionMatrix.copy(this.camera.projectionMatrix),o("c",0,0,-1),o("t",0,0,1),o("n1",-t,-r,-1),o("n2",t,-r,-1),o("n3",-t,r,-1),o("n4",t,r,-1),o("f1",-t,-r,1),o("f2",t,-r,1),o("f3",-t,r,1),o("f4",t,r,1),o("u1",.7*t,1.1*r,-1),o("u2",.7*-t,1.1*r,-1),o("u3",0,2*r,-1),o("cf1",-t,0,1),o("cf2",t,0,1),o("cf3",0,-r,1),o("cf4",0,r,1),o("cn1",-t,0,-1),o("cn2",t,0,-1),o("cn3",0,-r,-1),o("cn4",0,r,-1),e.verticesNeedUpdate=!0}}(),t.DirectionalLightHelper=function(e,n){t.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,n=n||1;var r=new t.Geometry;r.vertices.push(new t.Vector3(-n,n,0),new t.Vector3(n,n,0),new t.Vector3(n,-n,0),new t.Vector3(-n,-n,0),new t.Vector3(-n,n,0));var i=new t.LineBasicMaterial({fog:!1});i.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new t.Line(r,i),this.add(this.lightPlane),r=new t.Geometry,r.vertices.push(new t.Vector3,new t.Vector3),i=new t.LineBasicMaterial({fog:!1}),i.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new t.Line(r,i),this.add(this.targetLine),this.update()},t.DirectionalLightHelper.prototype=Object.create(t.Object3D.prototype),t.DirectionalLightHelper.prototype.constructor=t.DirectionalLightHelper,t.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},t.DirectionalLightHelper.prototype.update=function(){var e=new t.Vector3,n=new t.Vector3,r=new t.Vector3;return function(){e.setFromMatrixPosition(this.light.matrixWorld),n.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(n,e),this.lightPlane.lookAt(r),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(r),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),t.EdgesHelper=function(e,n,r){var i=void 0!==n?n:16777215;r=void 0!==r?r:1;var o,a=Math.cos(t.Math.degToRad(r)),s=[0,0],u={},c=function(t,e){return t-e},l=["a","b","c"],h=new t.BufferGeometry;e.geometry instanceof t.BufferGeometry?(o=new t.Geometry,o.fromBufferGeometry(e.geometry)):o=e.geometry.clone(),o.mergeVertices(),o.computeFaceNormals();for(var p=o.vertices,f=o.faces,d=0,m=0,y=f.length;m<y;m++)for(var v=f[m],g=0;g<3;g++){s[0]=v[l[g]],s[1]=v[l[(g+1)%3]],s.sort(c);var b=s.toString();void 0===u[b]?(u[b]={vert1:s[0],vert2:s[1],face1:m,face2:void 0},d++):u[b].face2=m}var _=new Float32Array(2*d*3),x=0;for(var b in u){var w=u[b];if(void 0===w.face2||f[w.face1].normal.dot(f[w.face2].normal)<=a){var C=p[w.vert1];_[x++]=C.x,_[x++]=C.y,_[x++]=C.z,C=p[w.vert2],_[x++]=C.x,_[x++]=C.y,_[x++]=C.z}}h.addAttribute("position",new t.BufferAttribute(_,3)),t.Line.call(this,h,new t.LineBasicMaterial({color:i}),t.LinePieces),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},t.EdgesHelper.prototype=Object.create(t.Line.prototype),t.EdgesHelper.prototype.constructor=t.EdgesHelper,t.FaceNormalsHelper=function(e,n,r,i){this.object=e,this.size=void 0!==n?n:1;for(var o=void 0!==r?r:16776960,a=void 0!==i?i:1,s=new t.Geometry,u=this.object.geometry.faces,c=0,l=u.length;c<l;c++)s.vertices.push(new t.Vector3,new t.Vector3);t.Line.call(this,s,new t.LineBasicMaterial({color:o,linewidth:a}),t.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new t.Matrix3,this.update()},t.FaceNormalsHelper.prototype=Object.create(t.Line.prototype),t.FaceNormalsHelper.prototype.constructor=t.FaceNormalsHelper,t.FaceNormalsHelper.prototype.update=function(){var t=this.geometry.vertices,e=this.object,n=e.geometry.vertices,r=e.geometry.faces,i=e.matrixWorld;e.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(i);for(var o=0,a=0,s=r.length;o<s;o++,a+=2){var u=r[o];t[a].copy(n[u.a]).add(n[u.b]).add(n[u.c]).divideScalar(3).applyMatrix4(i),t[a+1].copy(u.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size).add(t[a])}return this.geometry.verticesNeedUpdate=!0,this},t.GridHelper=function(e,n){var r=new t.Geometry,i=new t.LineBasicMaterial({vertexColors:t.VertexColors});this.color1=new t.Color(4473924),this.color2=new t.Color(8947848);for(var o=-e;o<=e;o+=n){r.vertices.push(new t.Vector3(-e,0,o),new t.Vector3(e,0,o),new t.Vector3(o,0,-e),new t.Vector3(o,0,e));var a=0===o?this.color1:this.color2;r.colors.push(a,a,a,a)}t.Line.call(this,r,i,t.LinePieces)},t.GridHelper.prototype=Object.create(t.Line.prototype),t.GridHelper.prototype.constructor=t.GridHelper,t.GridHelper.prototype.setColors=function(t,e){this.color1.set(t),this.color2.set(e),this.geometry.colorsNeedUpdate=!0},t.HemisphereLightHelper=function(e,n){t.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new t.Color,new t.Color];var r=new t.SphereGeometry(n,4,2);r.applyMatrix((new t.Matrix4).makeRotationX(-Math.PI/2));for(var i=0,o=8;i<o;i++)r.faces[i].color=this.colors[i<4?0:1];var a=new t.MeshBasicMaterial({vertexColors:t.FaceColors,wireframe:!0});this.lightSphere=new t.Mesh(r,a),this.add(this.lightSphere),this.update()},t.HemisphereLightHelper.prototype=Object.create(t.Object3D.prototype),t.HemisphereLightHelper.prototype.constructor=t.HemisphereLightHelper,t.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},t.HemisphereLightHelper.prototype.update=function(){var e=new t.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),t.PointLightHelper=function(e,n){this.light=e,this.light.updateMatrixWorld();var r=new t.SphereGeometry(n,4,2),i=new t.MeshBasicMaterial({wireframe:!0,fog:!1});i.color.copy(this.light.color).multiplyScalar(this.light.intensity),t.Mesh.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},t.PointLightHelper.prototype=Object.create(t.Mesh.prototype),t.PointLightHelper.prototype.constructor=t.PointLightHelper,t.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},t.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},t.SkeletonHelper=function(e){this.bones=this.getBoneList(e);for(var n=new t.Geometry,r=0;r<this.bones.length;r++){var i=this.bones[r];i.parent instanceof t.Bone&&(n.vertices.push(new t.Vector3),n.vertices.push(new t.Vector3),n.colors.push(new t.Color(0,0,1)),n.colors.push(new t.Color(0,1,0)))}var o=new t.LineBasicMaterial({vertexColors:t.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});t.Line.call(this,n,o,t.LinePieces),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()},t.SkeletonHelper.prototype=Object.create(t.Line.prototype),t.SkeletonHelper.prototype.constructor=t.SkeletonHelper,t.SkeletonHelper.prototype.getBoneList=function(e){var n=[];e instanceof t.Bone&&n.push(e);for(var r=0;r<e.children.length;r++)n.push.apply(n,this.getBoneList(e.children[r]));return n},t.SkeletonHelper.prototype.update=function(){for(var e=this.geometry,n=(new t.Matrix4).getInverse(this.root.matrixWorld),r=new t.Matrix4,i=0,o=0;o<this.bones.length;o++){var a=this.bones[o];a.parent instanceof t.Bone&&(r.multiplyMatrices(n,a.matrixWorld),e.vertices[i].setFromMatrixPosition(r),r.multiplyMatrices(n,a.parent.matrixWorld),e.vertices[i+1].setFromMatrixPosition(r),i+=2)}e.verticesNeedUpdate=!0,e.computeBoundingSphere()},t.SpotLightHelper=function(e){t.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;var n=new t.CylinderGeometry(0,1,1,8,1,!0);n.applyMatrix((new t.Matrix4).makeTranslation(0,-.5,0)),n.applyMatrix((new t.Matrix4).makeRotationX(-Math.PI/2));var r=new t.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new t.Mesh(n,r),this.add(this.cone),this.update()},t.SpotLightHelper.prototype=Object.create(t.Object3D.prototype),t.SpotLightHelper.prototype.constructor=t.SpotLightHelper,t.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},t.SpotLightHelper.prototype.update=function(){var e=new t.Vector3,n=new t.Vector3;return function(){var t=this.light.distance?this.light.distance:1e4,r=t*Math.tan(this.light.angle);this.cone.scale.set(r,r,t),e.setFromMatrixPosition(this.light.matrixWorld),n.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(n.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),t.VertexNormalsHelper=function(e,n,r,i){this.object=e,this.size=void 0!==n?n:1;for(var o=void 0!==r?r:16711680,a=void 0!==i?i:1,s=new t.Geometry,u=e.geometry.faces,c=0,l=u.length;c<l;c++)for(var h=u[c],p=0,f=h.vertexNormals.length;p<f;p++)s.vertices.push(new t.Vector3,new t.Vector3);t.Line.call(this,s,new t.LineBasicMaterial({color:o,linewidth:a}),t.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new t.Matrix3,this.update()},t.VertexNormalsHelper.prototype=Object.create(t.Line.prototype),t.VertexNormalsHelper.prototype.constructor=t.VertexNormalsHelper,t.VertexNormalsHelper.prototype.update=function(e){var n=new t.Vector3;return function(t){var e=["a","b","c","d"];this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var r=this.geometry.vertices,i=this.object.geometry.vertices,o=this.object.geometry.faces,a=this.object.matrixWorld,s=0,u=0,c=o.length;u<c;u++)for(var l=o[u],h=0,p=l.vertexNormals.length;h<p;h++){var f=l[e[h]],d=i[f],m=l.vertexNormals[h];r[s].copy(d).applyMatrix4(a),n.copy(m).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size),n.add(r[s]),s+=1,r[s].copy(n),s+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),t.VertexTangentsHelper=function(e,n,r,i){this.object=e,this.size=void 0!==n?n:1;for(var o=void 0!==r?r:255,a=void 0!==i?i:1,s=new t.Geometry,u=e.geometry.faces,c=0,l=u.length;c<l;c++)for(var h=u[c],p=0,f=h.vertexTangents.length;p<f;p++)s.vertices.push(new t.Vector3),s.vertices.push(new t.Vector3);t.Line.call(this,s,new t.LineBasicMaterial({color:o,linewidth:a}),t.LinePieces),this.matrixAutoUpdate=!1,this.update()},t.VertexTangentsHelper.prototype=Object.create(t.Line.prototype),t.VertexTangentsHelper.prototype.constructor=t.VertexTangentsHelper,t.VertexTangentsHelper.prototype.update=function(e){var n=new t.Vector3;return function(t){var e=["a","b","c","d"];this.object.updateMatrixWorld(!0);for(var r=this.geometry.vertices,i=this.object.geometry.vertices,o=this.object.geometry.faces,a=this.object.matrixWorld,s=0,u=0,c=o.length;u<c;u++)for(var l=o[u],h=0,p=l.vertexTangents.length;h<p;h++){var f=l[e[h]],d=i[f],m=l.vertexTangents[h];r[s].copy(d).applyMatrix4(a),n.copy(m).transformDirection(a).multiplyScalar(this.size),n.add(r[s]),s+=1,r[s].copy(n),s+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),t.WireframeHelper=function(e,n){var r=void 0!==n?n:16777215,i=[0,0],o={},a=function(t,e){return t-e},s=["a","b","c"],u=new t.BufferGeometry;if(e.geometry instanceof t.Geometry){for(var c=e.geometry.vertices,l=e.geometry.faces,h=0,p=new Uint32Array(6*l.length),f=0,d=l.length;f<d;f++)for(var m=l[f],y=0;y<3;y++){i[0]=m[s[y]],i[1]=m[s[(y+1)%3]],i.sort(a);var v=i.toString();void 0===o[v]&&(p[2*h]=i[0],p[2*h+1]=i[1],o[v]=!0,h++)}for(var g=new Float32Array(2*h*3),f=0,d=h;f<d;f++)for(var y=0;y<2;y++){var b=c[p[2*f+y]],_=6*f+3*y;g[_+0]=b.x,g[_+1]=b.y,g[_+2]=b.z}u.addAttribute("position",new t.BufferAttribute(g,3))}else if(e.geometry instanceof t.BufferGeometry)if(void 0!==e.geometry.attributes.index){var c=e.geometry.attributes.position.array,x=e.geometry.attributes.index.array,w=e.geometry.drawcalls,h=0;0===w.length&&(w=[{count:x.length,index:0,start:0}]);for(var p=new Uint32Array(2*x.length),C=0,S=w.length;C<S;++C)for(var E=w[C].start,T=w[C].count,_=w[C].index,f=E,M=E+T;f<M;f+=3)for(var y=0;y<3;y++){i[0]=_+x[f+y],i[1]=_+x[f+(y+1)%3],i.sort(a);var v=i.toString();void 0===o[v]&&(p[2*h]=i[0],p[2*h+1]=i[1],o[v]=!0,h++)}for(var g=new Float32Array(2*h*3),f=0,d=h;f<d;f++)for(var y=0;y<2;y++){var _=6*f+3*y,A=3*p[2*f+y];g[_+0]=c[A],g[_+1]=c[A+1],g[_+2]=c[A+2]}u.addAttribute("position",new t.BufferAttribute(g,3))}else{for(var c=e.geometry.attributes.position.array,h=c.length/3,P=h/3,g=new Float32Array(2*h*3),f=0,d=P;f<d;f++)for(var y=0;y<3;y++){var _=18*f+6*y,k=9*f+3*y;g[_+0]=c[k],g[_+1]=c[k+1],g[_+2]=c[k+2];var A=9*f+3*((y+1)%3);g[_+3]=c[A],g[_+4]=c[A+1],g[_+5]=c[A+2]}u.addAttribute("position",new t.BufferAttribute(g,3))}t.Line.call(this,u,new t.LineBasicMaterial({color:r}),t.LinePieces),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},t.WireframeHelper.prototype=Object.create(t.Line.prototype),t.WireframeHelper.prototype.constructor=t.WireframeHelper,t.ImmediateRenderObject=function(){t.Object3D.call(this),this.render=function(t){}},t.ImmediateRenderObject.prototype=Object.create(t.Object3D.prototype),t.ImmediateRenderObject.prototype.constructor=t.ImmediateRenderObject,t.MorphBlendMesh=function(e,n){t.Mesh.call(this,e,n),this.animationsMap={},this.animationsList=[];var r=this.geometry.morphTargets.length,i="__default",o=0,a=r-1,s=r/1;this.createAnimation(i,o,a,s),this.setAnimationWeight(i,1)},t.MorphBlendMesh.prototype=Object.create(t.Mesh.prototype),t.MorphBlendMesh.prototype.constructor=t.MorphBlendMesh,t.MorphBlendMesh.prototype.createAnimation=function(t,e,n,r){var i={startFrame:e,endFrame:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},t.MorphBlendMesh.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],u=s.name.match(n);if(u&&u.length>1){var c=u[1];r[c]||(r[c]={start:1/0,end:-(1/0)});var l=r[c];o<l.start&&(l.start=o),o>l.end&&(l.end=o),e||(e=c)}}for(var c in r){var l=r[c];this.createAnimation(c,l.start,l.end,t)}this.firstAnimation=e},t.MorphBlendMesh.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},t.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},t.MorphBlendMesh.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},t.MorphBlendMesh.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},t.MorphBlendMesh.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},t.MorphBlendMesh.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},t.MorphBlendMesh.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},t.MorphBlendMesh.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},t.MorphBlendMesh.prototype.playAnimation=function(e){var n=this.animationsMap[e];n?(n.time=0,n.active=!0):t.warn("THREE.MorphBlendMesh: animation["+e+"] undefined in .playAnimation()")},t.MorphBlendMesh.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},t.MorphBlendMesh.prototype.update=function(e){for(var n=0,r=this.animationsList.length;n<r;n++){var i=this.animationsList[n];if(i.active){var o=i.duration/i.length;i.time+=i.direction*e,i.mirroredLoop?(i.time>i.duration||i.time<0)&&(i.direction*=-1,i.time>i.duration&&(i.time=i.duration,i.directionBackwards=!0),i.time<0&&(i.time=0,i.directionBackwards=!1)):(i.time=i.time%i.duration,i.time<0&&(i.time+=i.duration));var a=i.startFrame+t.Math.clamp(Math.floor(i.time/o),0,i.length-1),s=i.weight;a!==i.currentFrame&&(this.morphTargetInfluences[i.lastFrame]=0,this.morphTargetInfluences[i.currentFrame]=1*s,this.morphTargetInfluences[a]=0,i.lastFrame=i.currentFrame,i.currentFrame=a);var u=i.time%o/o;i.directionBackwards&&(u=1-u),this.morphTargetInfluences[i.currentFrame]=u*s,this.morphTargetInfluences[i.lastFrame]=(1-u)*s}}},function(){var t=0,e=/MSIE (\d+\.\d+);/.test(navigator.userAgent),n=!!navigator.userAgent.match(/Trident\/7.0/),r=navigator.userAgent.indexOf("rv:11.0");e&&(t=new Number(RegExp.$1)),navigator.appVersion.indexOf("MSIE 10")!=-1&&(t=10),n&&r!=-1&&(t=11),t>0&&(HTMLElement.prototype.getBoundingClientRect=function(){var t=HTMLElement.prototype.getBoundingClientRect;return function(){try{return t.apply(this,arguments)}catch(t){return{left:"",right:"",top:"",bottom:""}}}}())}(),t}(),_=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},g=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:
return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}};!function(t){var e;!function(t){t.VERSION={number:"1.5.5",date:"Dec 21 2016"}}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(t){t.THREE=b}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(t){function e(){var t=document.createElement("canvas");try{var e=t.getContext("webgl")||t.getContext("experimental-webgl");return!!e}catch(t){return console.log(t),!1}}t.checkWebGL=e;var n=function(){function e(){}return e.setPickBase=function(t,e,n,r){var i=24,o=t<<i-e|n,a=o>>16&255,s=o>>8&255,u=255&o;r.r=a/255,r.g=s/255,r.b=u/255},e.setPickColor=function(t,e,n,r,i){var o=24,a=t<<o-e|n,s=a>>16&255,u=a>>8&255,c=255&a;r[i]=s/255,r[i+1]=u/255,r[i+2]=c/255},e.toSurface=function(t){for(var e=3*t.vertices.length,n=new Float32Array(e),r=new Float32Array(e),i=new Uint32Array(3*t.faces.length),o=Array(t.vertices.length),a=0;a<t.faces.length;a++){var s=t.faces[a];o[s.a]=s.vertexNormals[0],o[s.b]=s.vertexNormals[1],o[s.c]=s.vertexNormals[2],i[3*a]=s.a,i[3*a+1]=s.b,i[3*a+2]=s.c}for(var a=0;a<t.vertices.length;a++){var u=t.vertices[a];n[3*a]=u.x,n[3*a+1]=u.y,n[3*a+2]=u.z;var c=o[a];r[3*a]=c.x,r[3*a+1]=c.y,r[3*a+2]=c.z}return{vertices:n,vertexCount:t.vertices.length,triangleIndices:i,triangleCount:t.faces.length,normals:r}},e.getIndexedBufferGeometry=function(e){for(var n=3*e.vertices.length,r=new Float32Array(n),i=new Float32Array(n),o=new Uint32Array(3*e.faces.length),a=Array(e.vertices.length),s=0;s<e.faces.length;s++){var u=e.faces[s];a[u.a]=u.vertexNormals[0],a[u.b]=u.vertexNormals[1],a[u.c]=u.vertexNormals[2],o[3*s]=u.a,o[3*s+1]=u.b,o[3*s+2]=u.c}for(var s=0;s<e.vertices.length;s++){var c=e.vertices[s];r[3*s]=c.x,r[3*s+1]=c.y,r[3*s+2]=c.z;var l=a[s];i[3*s]=l.x,i[3*s+1]=l.y,i[3*s+2]=l.z}var h=new t.THREE.BufferGeometry;return h.addAttribute("position",new t.THREE.BufferAttribute(r,3)),h.addAttribute("normal",new t.THREE.BufferAttribute(i,3)),h.addAttribute("index",new t.THREE.BufferAttribute(o,1)),h},e}();t.GeometryHelper=n}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(t,e){e.r=t.r,e.g=t.g,e.b=t.b}function r(t){var e=t.r,n=t.g,r=t.b;return{r:e,g:n,b:r}}function i(e){return new t.THREE.Vector3(e.r,e.g,e.b)}function o(t){return{r:t.x,g:t.y,b:t.z}}function a(t,e,n){return{r:t/255,g:e/255,b:n/255}}function s(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function u(t,e,n){var r,i,o;if(0==e)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;r=s(u,a,t+1/3),i=s(u,a,t),o=s(u,a,t-1/3)}return{r:r,g:i,b:o}}function c(t,e,n){var r,i,o=[];if(0===e)r=[n,n,n];else switch(t/=60,i=Math.floor(t),o=[n*(1-e),n*(1-e*(t-i)),n*(1-e*(1-(t-i)))],i){case 0:r=[n,o[2],o[0]];break;case 1:r=[o[1],n,o[0]];break;case 2:r=[o[0],n,o[2]];break;case 3:r=[o[0],o[1],n];break;case 4:r=[o[2],o[0],n];break;default:r=[n,o[0],o[1]]}return{r:r[0],g:r[1],b:r[2]}}function l(){return t.Utils.Palette.getRandomColor()}function h(t){return{r:(t>>16&255)/255,g:(t>>8&255)/255,b:(255&t)/255}}function p(t){return"#"!==t[0]?h(0):4===t.length?p("#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]):h(7===t.length?parseInt(t.substr(1),16):0)}function f(t,e,n,r){r.r=t.r+(e.r-t.r)*n,r.g=t.g+(e.g-t.g)*n,r.b=t.b+(e.b-t.b)*n}function d(t){return void 0!==t.r&&void 0!==t.g&&void 0!==t.b}e.copy=n,e.clone=r,e.toVector=i,e.fromVector=o,e.fromRgb=a,e.fromHsl=u,e.fromHsv=c,e.random=l,e.fromHex=h,e.fromHexString=p,e.interpolate=f,e.isColor=d}(e=t.Color||(t.Color={}));var n;!function(t){function n(t){var e=+t.transparency.alpha;return isNaN(e)&&(e=1),e<=.999}function r(t,e,n){var r=t.colors.get(e);return r?r:n}function i(t){void 0===t&&(t={});var n=t.colors,r=void 0===n?new Map:n,i=t.transparency,o=void 0===i?u.Transparency:i,a=t.interactive,s=void 0===a||a,c=t.disableFog,l=void 0!==c&&c,h=r.get("Uniform");return h||(r.set("Uniform",u.UniformColor),h=u.UniformColor),{colors:r,transparency:o,interactive:s,disableFog:l,setElementColor:function(t,n){e.copy(h,n)}}}function o(t,e){void 0===e&&(e={});var n=e.colors,r=void 0===n?new Map:n,i=e.transparency,o=void 0===i?u.Transparency:i,a=e.interactive,s=void 0===a||a,c=e.disableFog,l=void 0!==c&&c;return{colors:r,transparency:o?o:u.Transparency,interactive:s,disableFog:l,setElementColor:function(e,n){t.setColor(t.getProperty(e),n)}}}function a(t,e,n){var r=new l(e,n);return{getProperty:t,setColor:function(t,e){return r.setColor(t,e)}}}function s(t,e){var n=new c(e);return{getProperty:t,setColor:function(t,e){return n.setColor(t,e)}}}var u;!function(t){t.HighlightColor={r:1,g:1,b:0},t.SelectionColor={r:171/255,g:71/255,b:183/255},t.UniformColor={r:68/255,g:130/255,b:255},t.Transparency={alpha:1,writeDepth:!1}}(u=t.Default||(t.Default={})),t.isTransparent=n,t.getColor=r,t.createUniform=i,t.createMapping=o,t.createColorMapMapping=a,t.createPalleteMapping=s;var c=function(){function t(t){this.pallete=t,this.colorIndex=0,this.colorMap=new Map}return t.prototype.setColor=function(t,n){var r=this.colorMap.get(t);r||(this.colorIndex=(this.colorIndex+1)%this.pallete.length|0,r=this.pallete[this.colorIndex],this.colorMap.set(t,r)),e.copy(r,n)},t}(),l=function(){function t(t,e){this.map=t,this.fallbackColor=e}return t.prototype.setColor=function(t,n){var r=this.map.get(t);r||(r=this.fallbackColor),e.copy(r,n)},t}()}(n=t.Theme||(t.Theme={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e=function(){function e(){}return e.getPickMaterial=function(){return new t.THREE.ShaderMaterial({attributes:{pColor:{type:"v4",value:[]}},vertexShader:e.pickVertexShader,fragmentShader:e.pickFragmentShader,blending:t.THREE.NoBlending,shading:t.THREE.FlatShading,side:t.THREE.DoubleSide})},e.getPickExcludeMaterial=function(){return new t.THREE.MeshBasicMaterial({color:t.THREE.ColorKeywords.white,side:t.THREE.DoubleSide})},e.compareVectorAndColor=function(t,e){return t.x===e.r&&t.y===e.g&&t.z===e.b},e.updateMaterial=function(n,r,i){var o=!1;e.updateTransparencyAndFog(n,r,i)&&(o=!0),n instanceof t.THREE.ShaderMaterial&&e.updateHighlightColor(n,r)&&(o=!0),o&&(n.needsUpdate=!0)},e.updateHighlightColor=function(n,r){var i=!1,o=n.uniforms.selectionColor.value,a=t.Theme.getColor(r,"Selection",t.Theme.Default.SelectionColor);e.compareVectorAndColor(o,a)||(n.uniforms.selectionColor.value=t.Color.toVector(a),i=!0),o=n.uniforms.highlightColor.value;var s=t.Theme.getColor(r,"Highlight",t.Theme.Default.HighlightColor);return e.compareVectorAndColor(o,s)||(n.uniforms.highlightColor.value=t.Color.toVector(s),i=!0),i},e.updateTransparencyAndFog=function(e,n,r){var i=n.transparency,o=+i.alpha;isNaN(o)&&(o=1);var a=o<=.999,s=!!i.writeDepth;a||(o=1,s=!0),r&&(r.renderOrder=a?1:0);var u=!1;return(e instanceof t.THREE.MeshPhongMaterial||e instanceof t.THREE.ShaderMaterial)&&(e.transparent!==a&&(e.transparent=a,u=!0),e.depthWrite!==s&&(e.depthWrite=s,u=!0),e.opacity!==o&&(e.opacity=o,u=!0),e.fog!==!n.disableFog&&(e.fog=!n.disableFog,u=!0),e instanceof t.THREE.ShaderMaterial&&e.uniforms.opacity&&(e.uniforms.opacity.value=o)),u},e.getMeshMaterial=function(n,r){void 0===n&&(n=t.THREE.SmoothShading),void 0===r&&(r=!1);var i=e.shader,o=new t.THREE.ShaderMaterial({uniforms:t.THREE.UniformsUtils.clone(i.uniforms),attributes:{vState:{type:"f",value:[]}},lights:!0,fog:!0,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,shading:n,side:t.THREE.DoubleSide,vertexColors:t.THREE.VertexColors,blending:t.THREE.NormalBlending,wireframe:r,linewidth:1});return o},e.getPhongVertexColorMaterial=function(){return new t.THREE.MeshPhongMaterial({specular:11184810,shininess:2,shading:t.THREE.SmoothShading,vertexColors:t.THREE.VertexColors,side:t.THREE.DoubleSide,metal:!0})},e.getDefaultHighlightMaterial=function(){return new t.THREE.MeshPhongMaterial({color:16777215,specular:11184810,shininess:2,shading:t.THREE.SmoothShading,side:t.THREE.DoubleSide,metal:!0})},e.applyColorToMap=function(t,e,n,r){for(var i=n.array,o={r:.45,g:.45,b:.45},a=t.vertexRanges,s=0,u=t.elementIndices;s<u.length;s++){var c=u[s],l=t.elementMap.get(c),h=t.elementRanges[2*l],p=t.elementRanges[2*l+1];if(h!==p){r(c,o);for(var f=h;f<p;f+=2)for(var d=a[f],m=a[f+1],y=d;y<m;y++)i[3*y]=o.r,i[3*y+1]=o.g,i[3*y+2]=o.b}}n.needsUpdate=!0},e}();e.pickVertexShader=["attribute vec4 pColor;","varying vec4 pC;","void main() {","pC = pColor;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),e.pickFragmentShader=["varying vec4 pC;","void main() {","gl_FragColor = pC;","}"].join("\n"),e.shader={uniforms:t.THREE.UniformsUtils.merge([t.THREE.UniformsLib.common,t.THREE.UniformsLib.bump,t.THREE.UniformsLib.normalmap,t.THREE.UniformsLib.fog,t.THREE.UniformsLib.lights,t.THREE.UniformsLib.shadowmap,{emissive:{type:"c",value:new t.THREE.Color(0)},specular:{type:"c",value:new t.THREE.Color(1118481)},shininess:{type:"f",value:2},wrapRGB:{type:"v3",value:new t.THREE.Vector3(1,1,1)},highlightColor:{type:"v3",value:new t.THREE.Vector3(1,1,0)},selectionColor:{type:"v3",value:new t.THREE.Vector3(1,0,0)}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","\tvarying vec3 vNormal;","#endif",t.THREE.ShaderChunk.common,t.THREE.ShaderChunk.map_pars_vertex,t.THREE.ShaderChunk.lightmap_pars_vertex,t.THREE.ShaderChunk.envmap_pars_vertex,t.THREE.ShaderChunk.lights_phong_pars_vertex,t.THREE.ShaderChunk.color_pars_vertex,t.THREE.ShaderChunk.morphtarget_pars_vertex,t.THREE.ShaderChunk.skinning_pars_vertex,t.THREE.ShaderChunk.shadowmap_pars_vertex,t.THREE.ShaderChunk.logdepthbuf_pars_vertex,"attribute float vState;","varying float vS;","void main() {","   vS = vState;",t.THREE.ShaderChunk.map_vertex,t.THREE.ShaderChunk.lightmap_vertex,t.THREE.ShaderChunk.color_vertex,t.THREE.ShaderChunk.morphnormal_vertex,t.THREE.ShaderChunk.skinbase_vertex,t.THREE.ShaderChunk.skinnormal_vertex,t.THREE.ShaderChunk.defaultnormal_vertex,"#ifndef FLAT_SHADED","\tvNormal = normalize( transformedNormal );","#endif",t.THREE.ShaderChunk.morphtarget_vertex,t.THREE.ShaderChunk.skinning_vertex,t.THREE.ShaderChunk.default_vertex,t.THREE.ShaderChunk.logdepthbuf_vertex,"\tvViewPosition = -mvPosition.xyz;",t.THREE.ShaderChunk.worldpos_vertex,t.THREE.ShaderChunk.envmap_vertex,t.THREE.ShaderChunk.lights_phong_vertex,t.THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;","uniform vec3 highlightColor;","uniform vec3 selectionColor;",t.THREE.ShaderChunk.common,t.THREE.ShaderChunk.color_pars_fragment,t.THREE.ShaderChunk.map_pars_fragment,t.THREE.ShaderChunk.alphamap_pars_fragment,t.THREE.ShaderChunk.lightmap_pars_fragment,t.THREE.ShaderChunk.envmap_pars_fragment,t.THREE.ShaderChunk.fog_pars_fragment,t.THREE.ShaderChunk.lights_phong_pars_fragment,t.THREE.ShaderChunk.shadowmap_pars_fragment,t.THREE.ShaderChunk.bumpmap_pars_fragment,t.THREE.ShaderChunk.normalmap_pars_fragment,t.THREE.ShaderChunk.specularmap_pars_fragment,t.THREE.ShaderChunk.logdepthbuf_pars_fragment,"varying float vS;","void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor;","   if (vS < 0.33) { diffuseColor = vec4( vColor, opacity ); }","   else if (vS - floor(vS + 0.1) > 0.33) { diffuseColor = vec4(highlightColor, opacity); }","\telse { diffuseColor = vec4(selectionColor, opacity); }",t.THREE.ShaderChunk.logdepthbuf_fragment,t.THREE.ShaderChunk.map_fragment,t.THREE.ShaderChunk.alphamap_fragment,t.THREE.ShaderChunk.alphatest_fragment,t.THREE.ShaderChunk.specularmap_fragment,t.THREE.ShaderChunk.lights_phong_fragment,t.THREE.ShaderChunk.lightmap_fragment,t.THREE.ShaderChunk.envmap_fragment,t.THREE.ShaderChunk.shadowmap_fragment,t.THREE.ShaderChunk.linear_to_gamma_fragment,t.THREE.ShaderChunk.fog_fragment,"#ifdef USE_FOG","   if (diffuseColor.a > 0.99) { gl_FragColor = vec4( outgoingLight, diffuseColor.a ); }","   else { gl_FragColor = vec4( outgoingLight, (1.0 - fogFactor) * diffuseColor.a ); }","#else","\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","#endif","}"].join("\n")},t.MaterialsHelper=e}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e=function(){function t(){}return t}();t.GeometryBase=e;var n=function(){function e(){this.id=-1,this.entity=void 0,this.centroid=new t.THREE.Vector3,this.radius=0,this.object=void 0,this.theme=void 0,this.disposeList=[],this.pickObject=void 0,this.pickBufferAttributes=[],this.dirty=!1,this.props={},this.tag=void 0}return e.prototype.updateVisibility=function(t){this.dirty=!0,this.object.visible=t,this.pickObject&&(this.pickObject.visible=this.getPickObjectVisibility(t))},e.prototype.getVisibility=function(){return this.object.visible},e.prototype.applyTheme=function(t){this.dirty=!0,this.theme=t,t.interactive?this.pickObject&&(this.pickObject.visible=this.object.visible):this.pickObject&&(this.pickObject.visible=!1),this.applyThemeInternal(t)},e.prototype.updateId=function(e,n){this.id=e;for(var r=0,i=this.pickBufferAttributes;r<i.length;r++){var o=i[r],a=o.array;if(n<=8)for(var s=0,u=a.length;s<u;s+=4)t.Selection.Picking.applySceneIdFast(this.id,s,a);else for(var s=0,u=a.length;s<u;s+=4)t.Selection.Picking.applySceneIdSlow(n-8,this.id,s,a);o.needsUpdate=!0}},e.prototype.dispose=function(){for(var t=0,e=this.disposeList;t<e.length;t++){var n=e[t];n&&n.dispose()}this.disposeList=[]},e.prototype.highlight=function(t){var e=this.highlightInternal(t);return this.dirty=this.dirty||e,e},e.prototype.applySelection=function(t,e){var n=this.applySelectionInternal(t,e);return this.dirty=this.dirty||n,n},e.prototype.getBoundingSphereOfSelection=function(t){},e.prototype.getPickObjectVisibility=function(t){return t&&this.theme.interactive},e}();t.Model=n}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e=function(){function t(t){this.scene=t,this.availableIds=[],this.list=[],this.map=new Map,this.maxId=1,this._idWidth=8}return Object.defineProperty(t.prototype,"idWidth",{get:function(){return this._idWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"all",{get:function(){return this.list},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),t.prototype.getBySceneId=function(t){return this.map.get(t)},t.prototype.add=function(t,e){void 0===e&&(e=!0);var n=-1;n=this.availableIds.length?this.availableIds.pop():this.maxId++,this.map.set(n,t),this.list.push(t),t.updateId(n,8),t.object&&this.scene.scene.add(t.object),t.pickObject&&this.scene.pickScene.add(t.pickObject),e?this.scene.camera.reset():this.scene.forceRender()},t.prototype.dispose=function(t){t.object&&this.scene.scene.remove(t.object),t.pickObject&&this.scene.pickScene.remove(t.pickObject),t.dispose()},t.prototype.removeAndDispose=function(t){if(this.map.get(t.id)){this.availableIds.push(t.id),this.dispose(t),this.map.delete(t.id);var e=this.list.indexOf(t);this.list[e]=this.list[this.list.length-1],this.list.pop(),t.id===this.maxId&&this.maxId--,t.id=-1,this.scene.forceRender()}},t.prototype.clear=function(){for(var t=0,e=this.list;t<e.length;t++){var n=e[t];this.dispose(n)}this.list=[],this.maxId=0,this.availableIds=[],this.map.clear(),this.scene.forceRender()},t}();t.ModelStore=e}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(t){t[t.Perspective=0]="Perspective",t[t.Orthographic=1]="Orthographic"}(n=e.CameraType||(e.CameraType={}));var r=function(){function e(e){var n=this;this.touchSlabOn=!1,this.touchStartPosition={x:0,y:0},this.touchPosition={x:0,y:0},this.radius=0,this.slabWheelRate=1/15,this._planeDelta=new t.Core.Rx.Subject,this.subs=[],this.planeDelta=this._planeDelta;var r={wheel:function(t){return n.handleMouseWheel(t)},touchStart:function(t){return n.touchstart(t)},touchEnd:function(t){return n.touchend(t)},touchMove:function(t){return n.touchmove(t)}};e.addEventListener("mousewheel",r.wheel),e.addEventListener("DOMMouseScroll",r.wheel),e.addEventListener("touchstart",r.touchStart,!1),e.addEventListener("touchend",r.touchEnd,!1),e.addEventListener("touchmove",r.touchMove,!1),this.subs.push(function(){return e.removeEventListener("mousewheel",r.wheel)}),this.subs.push(function(){return e.removeEventListener("DOMMouseScroll",r.wheel)}),this.subs.push(function(){return e.removeEventListener("touchstart",r.touchStart,!1)}),this.subs.push(function(){return e.removeEventListener("touchend",r.touchEnd,!1)}),this.subs.push(function(){return e.removeEventListener("touchmove",r.touchMove,!1)})}return e.prototype.updateSize=function(t,e){this.width=t,this.height=e},e.prototype.updateRadius=function(t){this.radius=t},e.prototype.destroy=function(){for(var t=0,e=this.subs;t<e.length;t++){var n=e[t];n()}this.subs=[],this._planeDelta.onCompleted()},e.prototype.handleMouseWheel=function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var e=0;t.wheelDelta?e=t.wheelDelta:t.detail&&(e=-t.detail);var n=e<0?1:-1;e=this.radius*this.slabWheelRate*n,this._planeDelta.onNext(e)},e.prototype.touchstart=function(t){switch(t.touches.length){case 3:this.touchStartPosition.x=0,this.touchStartPosition.y=0;for(var e=0;e<3;e++)this.touchStartPosition.x+=t.touches[e].clientX/3,this.touchStartPosition.y+=t.touches[e].clientY/3;this.touchSlabOn=!0;break;default:this.touchSlabOn=!1}},e.prototype.touchend=function(t){this.touchSlabOn=!1},e.prototype.touchmove=function(t){if(this.touchSlabOn){this.touchPosition.x=0,this.touchPosition.y=0;for(var e=0;e<3;e++)this.touchPosition.x+=t.touches[e].clientX/3,this.touchPosition.y+=t.touches[e].clientY/3;var n=-5*this.radius*(this.touchPosition.y-this.touchStartPosition.y)/this.height;this.touchStartPosition.x=this.touchPosition.x,this.touchStartPosition.y=this.touchPosition.y,this._planeDelta.onNext(n)}},e}();e.SlabControls=r;var i=function(){function t(t,n){this.scene=t,this.domElement=n,this.fog=new e.THREE.Fog(0,0,500),this.focusPoint=new e.THREE.Vector3(0,0,0),this.focusRadius=0,this.targetDistance=0,this.nearPlaneDistance=0,this.nearPlaneDelta=0,this.fogEnabled=!0,this.fogDelta=0,this.observers=[],this.setup()}return t.shouldInUpdateInclude=function(t){return!isNaN(t.centroid.x)&&t.getVisibility()},t.prototype.updateFocus=function(n){if(n.length){var r=n.filter(function(e){return t.shouldInUpdateInclude(e)}).sort(function(t,e){return e.radius-t.radius});if(r.length){for(var i=[r[0]],o=new e.THREE.Vector3,a=1;a<r.length;a++){for(var s=r[a],u=!0,c=0,l=i;c<l.length;c++){var h=l[c],p=o.subVectors(s.centroid,h.centroid).length();if(p<h.radius){u=!1;break}}u&&i.push(s)}var f=this.focusPoint;f.x=0,f.y=0,f.z=0;for(var d=0,m=i;d<m.length;d++){var h=m[d];f.add(h.centroid)}f.multiplyScalar(1/i.length);for(var y=0,v=0,g=r;v<g.length;v++){var b=g[v];y=Math.max(y,f.distanceTo(b.centroid)+b.radius)}this.focusRadius=y,this.slabControls.updateRadius(this.focusRadius)}}},t.prototype.focus=function(){this.controls.reset();var t=this.focusPoint;this.camera.position.set(t.x,t.y,t.z-4*this.focusRadius),this.camera.lookAt(t),this.controls.target.set(t.x,t.y,t.z),this.cameraUpdated()},t.prototype.reset=function(){this.nearPlaneDelta=0,this.fogDelta=0,this.updateFocus(this.scene.models.all),this.focus()},t.prototype.snapshot=function(){return this.controls.getState()},t.prototype.restore=function(t){this.controls.setState(t),this.scene.forceRender()},t.prototype.focusOnModel=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.updateFocus(t),this.nearPlaneDelta=0,this.fogDelta=0,this.controls.panAndMoveToDistance(this.focusPoint,4*this.focusRadius)},t.prototype.focusOnPoint=function(t,e){this.focusPoint.x=t.x,this.focusPoint.y=t.y,this.focusPoint.z=t.z,this.focusRadius=e,this.slabControls.updateRadius(this.focusRadius),this.nearPlaneDelta=0,this.fogDelta=0,this.controls.panAndMoveToDistance(this.focusPoint,4*e)},t.prototype.move=function(t){this.controls.panTo(t)},t.prototype.updateSize=function(t,n){var r=this.camera;r instanceof e.THREE.PerspectiveCamera&&(r.aspect=t/n),this.slabControls.updateSize(t,n),this.camera.updateProjectionMatrix()},Object.defineProperty(t.prototype,"position",{get:function(){return this.camera.position},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"object",{get:function(){return this.camera},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.slabControls&&(this.slabControls.destroy(),this.slabControls=void 0),this.unbindCamera&&(this.unbindCamera(),this.unbindCamera=void 0),this.controls&&(this.controls.destroy(),this.controls=void 0)},t.prototype.planeDeltaUpdate=function(t){var e=this.computeNearDistance(),n=e+this.nearPlaneDelta+t;t>0&&n>this.targetDistance&&(t=0),t<0&&n<.01&&(t=0),this.nearPlaneDelta+=t,this.fogDelta+=t,this.cameraUpdated()},t.prototype.computeNearDistance=function(){var t=this.controls.target.distanceTo(this.camera.position);return t>this.focusRadius?t-this.focusRadius:0},t.prototype.cameraUpdated=function(){var t=this.scene.options;this.fogEnabled=!!t.enableFog;var n=this.camera;n instanceof e.THREE.PerspectiveCamera&&(n.fov=t.cameraFOV),this.targetDistance=this.controls.target.distanceTo(this.camera.position);var r=this.computeNearDistance()+this.nearPlaneDelta;if(this.camera.near=Math.max(.01,Math.min(r,this.targetDistance-.5)),t.enableFog){var i=this.targetDistance-this.camera.near+1*this.focusRadius-this.nearPlaneDelta,o=this.targetDistance-this.camera.near+2*this.focusRadius-this.nearPlaneDelta;this.fog.near=Math.max(i,.1),this.fog.far=Math.max(o,.2)}else this.fog.far=1000001,this.fog.near=1e6;this.camera.updateProjectionMatrix(),this.scene.forceRender();for(var a=0,s=this.observers;a<s.length;a++){var u=s[a];u.call(null,this)}},t.prototype.createCamera=function(){if(this.scene.options.cameraType===n.Perspective)this.camera=new e.THREE.PerspectiveCamera(this.scene.options.cameraFOV,this.scene.parentElement.clientWidth/this.scene.parentElement.clientHeight,.1,1e6);else{var t=this.scene.parentElement.clientWidth,r=this.scene.parentElement.clientHeight,i=100,o=r/t*i;this.camera=new e.THREE.OrthographicCamera(.5*i/-2,.5*i/2,o/2,o/-2,.1,1e6)}this.controls&&(this.controls.camera=this.camera,this.reset())},t.prototype.setup=function(){var t=this;this.dispose(),this.createCamera(),this.controls=new e.CameraControls(this.camera,this.domElement,this.scene);var n=this.scene.options.clearColor;this.fog.color.setRGB(n.r,n.g,n.b),this.scene.scene.fog=this.fog;var i=function(){return t.cameraUpdated()};this.slabControls=new r(this.domElement);var o=this.slabControls.planeDelta.subscribe(function(e){return t.planeDeltaUpdate(e)});this.controls.events.addEventListener("change",i),this.unbindCamera=function(){t.controls.events.removeEventListener("change",i),o.dispose(),t.observers=[]},this.reset()},t.prototype.observe=function(t){this.observers.push(t)},t.prototype.stopObserving=function(t){this.observers=this.observers.filter(function(e){return e!==t})},t}();e.Camera=i}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){e.DefaultSceneOptions={alpha:!1,clearColor:{r:0,g:0,b:0},cameraFOV:30,cameraType:e.CameraType.Perspective,enableFog:!0};var n=function(){function t(t,e){this.renderState=t,this.domElement=e,this.position={x:0,y:0},this.lastPosition={x:0,y:0},this.isDirty=!0,this.rect={left:0,top:0,right:0,bottom:0},this.exactPosition={x:0,y:0},this.isInside=!1,this.isButtonDown=!1}return t.prototype.updateRect=function(){var t=this.domElement.getBoundingClientRect();this.rect.bottom=t.bottom,this.rect.top=t.top,this.rect.left=t.left,this.rect.right=t.right},t.prototype.updatePosition=function(t,e){this.position.x===t&&this.position.y===e||(this.isDirty=!0,this.position.x=t,this.position.y=e)},t.prototype.update=function(){return(this.lastPosition.x!==this.position.x||this.lastPosition.y!==this.position.y)&&(this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,!0)},t.prototype.setExactPosition=function(){if(this.isDirty){var t=0|Math.round((this.position.x-this.rect.left)/(this.rect.right-this.rect.left)*this.renderState.width),e=0|Math.round((this.position.y-this.rect.top)/(this.rect.bottom-this.rect.top)*this.renderState.height);this.exactPosition.x=t,this.exactPosition.y=e,this.isDirty=!1}},t}();e.MouseInfo=n;var r=function(){function t(){this.lights=[]}return t.prototype.setup=function(t){var n=new e.THREE.PointLight(11184810,.75);t.add(n),this.lights=[n];var r=new e.THREE.AmbientLight(10066329);t.add(r)},t.prototype.update=function(t){for(var e=0,n=this.lights;e<n.length;e++){var r=n[e];r.position.copy(t)}},t}();e.DefaultLighting=r;var i=function(){function t(){this.width=0,this.height=0,this.resizing=!1,this.rendered=!1,this.lastRenderTime=0,this.pickDelta=0,this.animationFrame=0}return t}();e.RenderState=i;var o=function(){function o(o,a){void 0===a&&(a={});var s=this;this.renderState=new i,this.pickInfo=new e.Selection.Pick,this.selectInfo=null,this.unbindEvents=[],this.models=new e.ModelStore(this),this.events=new e.THREE.EventDispatcher,this.clearHighlightsCall=function(){return s.clearHighlights(!0)},this.renderFunc=function(t){return s.render(t)},this.pickBuffer=new Uint8Array(4),a=t.Core.Utils.extend({},a,e.DefaultSceneOptions),this.options=a,this.parentElement=o,this.scene=new e.THREE.Scene,this.pickScene=new e.THREE.Scene,this.pickTarget=new e.THREE.WebGLRenderTarget(1,1,{format:e.THREE.RGBAFormat,minFilter:e.THREE.LinearFilter}),this.pickTarget.generateMipmaps=!1,this.renderer=new e.THREE.WebGLRenderer({antialias:!0,alpha:a.alpha,preserveDrawingBuffer:!0}),this.renderer.setClearColor(new e.THREE.Color(a.clearColor.r,a.clearColor.g,a.clearColor.b)),this.renderer.autoClear=!0,this.renderer.sortObjects=!1,this.mouseInfo=new n(this.renderState,this.renderer.domElement),this.lighting=new r,this.lighting.setup(this.scene),this.parentElement.appendChild(this.renderer.domElement);var u=t.Core.Utils.debounce(function(){return s.handleResize()},100),c=function(){s.renderState.resizing=!0,u()};window.addEventListener("resize",c),document.addEventListener("resize",c),this.parentElement.addEventListener("resize",c),this.unbindEvents.push(function(){return window.removeEventListener("resize",c)}),this.unbindEvents.push(function(){return document.removeEventListener("resize",c)}),this.unbindEvents.push(function(){return s.parentElement.removeEventListener("resize",c)}),this.setupMouse(),this.camera=new e.Camera(this,this.renderer.domElement),this.handleResize(),this.renderer.clear(),this.needsRender(),this.renderState.animationFrame=requestAnimationFrame(this.renderFunc)}return o.prototype.updateOptions=function(n){n=t.Core.Utils.extend({},n,this.options);var r=n.cameraType!==this.options.cameraType,i=n.clearColor;this.renderer.setClearColor(new e.THREE.Color(i.r,i.g,i.b)),this.renderer.setClearAlpha(n.alpha?0:1),this.camera.fog.color.setRGB(i.r,i.g,i.b),this.options=n,r&&this.camera.createCamera(),this.camera.cameraUpdated(),this.forceRender()},o.prototype.setupMouse=function(){var t=this,e=function(e){t.mouseInfo.isInside||t.mouseInfo.updateRect(),t.mouseInfo.updatePosition(e.clientX,e.clientY),t.mouseInfo.isInside=!0},n=this.renderer.domElement;n.addEventListener("mousemove",e),this.unbindEvents.push(function(){return n.removeEventListener("mousemove",e)});var r=function(e){t.mouseInfo.isInside=!1,t.clearHighlights()};n.addEventListener("mouseleave",r),this.unbindEvents.push(function(){return n.removeEventListener("mouseleave",r)});var i=function(e){t.mouseInfo.isInside?(t.mouseInfo.updateRect(),t.handleSelectStart(e.clientX,e.clientY)):t.selectInfo=null,t.mouseInfo.isButtonDown=!0,t.clearHighlights()};n.addEventListener("mousedown",i),this.unbindEvents.push(function(){return n.removeEventListener("mousedown",i)});var o=function(e){t.mouseInfo.isButtonDown=!1,t.needsRender(),t.handleSelectEnd(e.clientX,e.clientY),t.clearHighlights(!0)};window.addEventListener("mouseup",o),this.unbindEvents.push(function(){return window.removeEventListener("mouseup",o)});var a=function(e){t.mouseInfo.updateRect()};window.addEventListener("mousewheel",a),window.addEventListener("DOMMouseScroll",a),this.unbindEvents.push(function(){return window.removeEventListener("mousewheel",a)}),this.unbindEvents.push(function(){return window.removeEventListener("DOMMouseScroll",a)}),n.addEventListener("touchstart",a,!1),this.unbindEvents.push(function(){return n.removeEventListener("touchstart",a,!1)});var s=function(e){var n=e.touches;n.length||(n=e.changedTouches),1===n.length&&t.handleSelectEnd(n[0].clientX,n[0].clientY),setTimeout(t.clearHighlightsCall,1e3/15)};n.addEventListener("touchend",s,!1),this.unbindEvents.push(function(){return n.removeEventListener("touchend",s,!1)});try{n.addEventListener("touchcancel",s,!1),this.unbindEvents.push(function(){return n.removeEventListener("touchcancel",s,!1)})}catch(t){}},o.prototype.handleSelectStart=function(t,e){this.pickInfo.selectStart(t,e),this.selectInfo=this.pickInfo.getPickInfo()},o.prototype.handleSelectEnd=function(t,e){if(this.pickInfo.selectEnd(t,e)){var n=this.handlePick(!0);this.dispatchSelectEvent(n)}this.selectInfo=null},o.prototype.handleResize=function(){var t=this.parentElement.clientWidth,n=this.parentElement.clientHeight;return this.camera.updateSize(t,n),this.renderState.height===n&&this.renderState.width===t?void(this.renderState.resizing=!1):(this.renderState.width=t,this.renderState.height=n,this.renderer.setSize(t,n),this.pickTarget=new e.THREE.WebGLRenderTarget(t,n,{format:e.THREE.RGBAFormat,minFilter:e.THREE.LinearFilter}),this.pickTarget.generateMipmaps=!1,this.renderState.resizing=!1,this.mouseInfo.updateRect(),void this.needsRender())},o.prototype.needsRender=function(){this.renderState.rendered=!1},o.prototype.checkDirty=function(){for(var t=!1,e=0,n=this.models.all;e<n.length;e++){var r=n[e];t=t||r.dirty,r.dirty=!1}return t},o.prototype.render=function(t){if(this.renderState.resizing)return void(this.renderState.animationFrame=requestAnimationFrame(this.renderFunc));var e=t-this.renderState.lastRenderTime;this.renderState.pickDelta+=e,this.renderState.lastRenderTime=t,this.renderState.pickDelta>33.3333333&&(this.renderState.pickDelta=this.renderState.pickDelta%33.3333333,this.handlePick(!1));var n=this.checkDirty();n&&(this.renderState.rendered=!1),this.renderState.rendered||(this.lighting.update(this.camera.position),this.renderer.sortObjects=!0,this.renderer.render(this.scene,this.camera.object),this.renderer.sortObjects=!1,this.renderState.rendered=!0,this.mouseInfo.isButtonDown||(this.renderer.setClearAlpha(1),this.renderer.render(this.pickScene,this.camera.object,this.pickTarget),this.renderer.setClearAlpha(this.options.alpha?0:1))),this.renderState.animationFrame=requestAnimationFrame(this.renderFunc)},o.prototype.dispatchHoverEvent=function(){this.events.dispatchEvent({type:o.hoverEvent,target:null,data:this.pickInfo.getPickInfo()})},o.prototype.dispatchSelectEvent=function(t){t&&this.events.dispatchEvent({type:o.selectEvent,target:null,data:t})},o.prototype.clearHighlights=function(t){void 0===t&&(t=!0);var e=this.pickInfo,n=this.models.getBySceneId(e.currentPickId),r=!1;return n&&(r=n.highlightElement(e.currentPickElementId,!1)),r&&t&&this.needsRender(),
this.pickInfo.reset()&&this.dispatchHoverEvent(),r},o.prototype.handlePick=function(t){if((t||this.mouseInfo.update()&&!this.mouseInfo.isButtonDown)&&!this.renderState.resizing&&this.mouseInfo.isInside){this.mouseInfo.setExactPosition();var n=this.mouseInfo.exactPosition,r=this.pickTarget.height-n.y;if(!(this.pickTarget.width<n.x-1||n.x<.01||this.pickTarget.height<r-1||r<.01)){this.renderer.readRenderTargetPixels(this.pickTarget,0|n.x,0|r,1,1,this.pickBuffer);var i=e.Selection.Picking.getSceneId(this.models.idWidth,this.pickBuffer),o=e.Selection.Picking.getElementId(this.models.idWidth,this.pickBuffer),a=this.pickInfo;if(t){if(255===i)return;var s=this.models.getBySceneId(i);if(!s)return;return{model:s,elements:s.getPickElements(o)}}if(i!==a.currentPickId||o!==a.currentPickElementId){var u=this.clearHighlights(!1),s=this.models.getBySceneId(i);return 255!==i&&s?(a.currentPickId=i,a.currentPickElementId=o,void((s.highlightElement(o,!0)||u)&&(this.needsRender(),a.current={model:s,elements:s.getPickElements(o)},this.dispatchHoverEvent()))):void(u&&this.needsRender())}}}},o.prototype.resized=function(){this.handleResize()},o.prototype.forceRender=function(){this.needsRender()},o.prototype.clear=function(){this.models.clear()},o.prototype.screenshotAsDataURL=function(){return this.renderer.domElement.toDataURL("image/png")},o.prototype.destroy=function(){this.clear();for(var t=0,e=this.unbindEvents;t<e.length;t++){var n=e[t];try{n()}catch(t){}}for(this.unbindEvents=[],cancelAnimationFrame(this.renderState.animationFrame),this.scene=null,this.pickScene=null,this.camera.dispose(),this.camera=null,this.renderer&&this.renderer.dispose&&this.renderer.dispose(),this.renderer=null,this.pickTarget.dispose(),this.pickTarget=null;this.parentElement.lastChild;)this.parentElement.removeChild(this.parentElement.lastChild)},o}();o.hoverEvent="hover",o.selectEvent="select",e.Scene=o}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e=function(){function e(e,n,r){var i=this;this.camera=e,this.domElement=n,this.scene=r,this.enabled=!0,this.rotateSpeed=3.33,this.zoomSpeed=3.33,this.panSpeed=1,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.noRoll=!0,this.staticMoving=!0,this.dynamicDampingFactor=.2,this.minDistance=1.5,this.maxDistance=1e5,this.keys=[65,83,68],this.target=new t.THREE.Vector3,this.EPS=1e-6,this.lastPosition=new t.THREE.Vector3,this._state=-1,this._keyDownState=-1,this._prevState=-1,this._eye=new t.THREE.Vector3,this._rotateStart=new t.THREE.Vector3,this._rotateEnd=new t.THREE.Vector3,this._zoomStart=new t.THREE.Vector2,this._zoomEnd=new t.THREE.Vector2,this._touchZoomDistanceStart=0,this._touchZoomDistanceEnd=0,this._panStart=new t.THREE.Vector2,this._panEnd=new t.THREE.Vector2,this.target0=this.target.clone(),this.position0=this.camera.position.clone(),this.up0=this.camera.up.clone(),this.changeEvent={type:"change",target:void 0},this.startEvent={type:"start",target:void 0},this.endEvent={type:"end",target:void 0},this.events=new t.THREE.EventDispatcher,this._mouseOnScreen=new t.THREE.Vector2,this._mouseOnBallProjection=new t.THREE.Vector3,this._objectUp=new t.THREE.Vector3,this._mouseOnBall=new t.THREE.Vector3,this._rotationAxis=new t.THREE.Vector3,this._rotationQuaternion=new t.THREE.Quaternion,this._panMouseChange=new t.THREE.Vector2,this._panObjectUp=new t.THREE.Vector3,this._panPan=new t.THREE.Vector3,this._panToDelta=new t.THREE.Vector3,this._panToVector=new t.THREE.Vector3,this.eventHandlers={keydown:function(t){return i.keydown(t)},keyup:function(t){return i.keyup(t)},mousedown:function(t){return i.mousedown(t)},mouseup:function(t){return i.mouseup(t)},mousemove:function(t){return i.mousemove(t)},touchstart:function(t){return i.touchstart(t)},touchmove:function(t){return i.touchmove(t)},touchend:function(t){return i.touchend(t)}},this.init()}return e.prototype.getMouseOnScreen=function(){this.scene.mouseInfo.setExactPosition();var t=this.scene.renderState,e=this.scene.mouseInfo.exactPosition;return this._mouseOnScreen.set(e.x/t.width,e.y/t.height),this._mouseOnScreen},e.prototype.getMouseProjectionOnBall=function(){this.scene.mouseInfo.setExactPosition();var t=this.scene.renderState,e=this.scene.mouseInfo.exactPosition,n=.5*t.width,r=.5*t.height,i=(e.x-n)/(.5*t.width),o=-(e.y-r)/(.5*t.height);this._mouseOnBall.set(i,o,0);var a=this._mouseOnBall.length();return this.noRoll?a<Math.SQRT1_2?this._mouseOnBall.z=Math.sqrt(1-a*a):this._mouseOnBall.z=.5/a:a>1?this._mouseOnBall.normalize():this._mouseOnBall.z=Math.sqrt(1-a*a),this._eye.copy(this.camera.position).sub(this.target),this._mouseOnBallProjection.copy(this.camera.up).setLength(this._mouseOnBall.y),this._mouseOnBallProjection.add(this._objectUp.copy(this.camera.up).cross(this._eye).setLength(this._mouseOnBall.x)),this._mouseOnBallProjection.add(this._eye.setLength(this._mouseOnBall.z)),this._mouseOnBallProjection},e.prototype.rotateCamera=function(){var t=Math.acos(this._rotateStart.dot(this._rotateEnd)/this._rotateStart.length()/this._rotateEnd.length());t&&(this._rotationAxis.crossVectors(this._rotateStart,this._rotateEnd).normalize(),t*=this.rotateSpeed,this._rotationQuaternion.setFromAxisAngle(this._rotationAxis,-t),this._eye.applyQuaternion(this._rotationQuaternion),this.camera.up.applyQuaternion(this._rotationQuaternion),this._rotateEnd.applyQuaternion(this._rotationQuaternion),this.staticMoving?this._rotateStart.copy(this._rotateEnd):(this._rotationQuaternion.setFromAxisAngle(this._rotationAxis,t*(this.dynamicDampingFactor-1)),this._rotateStart.applyQuaternion(this._rotationQuaternion)))},e.prototype.zoomCamera=function(){if(4===this._state){var t=this._touchZoomDistanceStart/this._touchZoomDistanceEnd;this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this._eye.multiplyScalar(t)}else{var t=1-(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed;1!==t&&t>0&&(this._eye.multiplyScalar(t),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor)}},e.prototype.panCamera=function(){this._panMouseChange.copy(this._panEnd).sub(this._panStart),this._panMouseChange.lengthSq()&&(this._panMouseChange.multiplyScalar(this._eye.length()*this.panSpeed),this._panPan.copy(this._eye).cross(this.camera.up).setLength(this._panMouseChange.x),this._panPan.add(this._panObjectUp.copy(this.camera.up).setLength(this._panMouseChange.y)),this.camera.position.add(this._panPan),this.target.add(this._panPan),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(this._panMouseChange.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor)))},e.prototype.panTo=function(t){var e=t.x,n=t.y,r=t.z;this._panToVector.set(e,n,r),this._panToDelta.subVectors(this._panToVector,this.target),this.camera.position.add(this._panToDelta),this.camera.lookAt(this._panToVector),this.target.copy(this._panToVector),this._eye.subVectors(this.camera.position,this.target),this.lastPosition.copy(this.camera.position),this._panToDelta.lengthSq()>this.EPS&&this.events.dispatchEvent(this.changeEvent)},e.prototype.panAndMoveToDistance=function(t,e){var n=t.x,r=t.y,i=t.z;this._panToVector.set(n,r,i),this._panToDelta.subVectors(this._panToVector,this.target),this.camera.position.add(this._panToDelta),this.camera.lookAt(this._panToVector),this.target.copy(this._panToVector),this._eye.subVectors(this.camera.position,this.target),this._eye.setLength(e),this.camera.position.addVectors(this.target,this._eye),this.checkDistances(),this.lastPosition.copy(this.camera.position),this.events.dispatchEvent(this.changeEvent)},e.prototype.checkDistances=function(){this.noZoom&&this.noPan||(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&this.camera.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._eye.lengthSq()<this.minDistance*this.minDistance&&this.camera.position.addVectors(this.target,this._eye.setLength(this.minDistance)))},e.prototype.update=function(){this._eye.subVectors(this.camera.position,this.target),this.noRotate||this.rotateCamera(),this.noZoom||this.zoomCamera(),this.noPan||this.panCamera(),this.camera.position.addVectors(this.target,this._eye),this.checkDistances(),this.camera.lookAt(this.target),this.lastPosition.distanceToSquared(this.camera.position)>this.EPS&&(this.events.dispatchEvent(this.changeEvent),this.lastPosition.copy(this.camera.position))},e.prototype.reset=function(){this._state=-1,this._prevState=-1,this.target.copy(this.target0),this.camera.position.copy(this.position0),this.camera.up.copy(this.up0),this._eye.subVectors(this.camera.position,this.target),this.camera.lookAt(this.target),this.events.dispatchEvent(this.changeEvent),this.lastPosition.copy(this.camera.position)},e.prototype.getState=function(){return{state:this._state,prevState:this._prevState,target:this.target.clone(),objPos:this.camera.position.clone(),objUp:this.camera.up.clone(),eye:this._eye.clone(),lastPosition:this.lastPosition.clone()}},e.prototype.setState=function(t){this._state=t.state,this._prevState=t.prevState,this.target.copy(t.target),this.camera.position.copy(t.objPos),this.camera.up.copy(t.objUp),this._eye.copy(t.eye),this.camera.lookAt(this.target),this.events.dispatchEvent(this.changeEvent),this.lastPosition.copy(t.lastPosition)},e.prototype.keydown=function(t){this.enabled!==!1&&(window.removeEventListener("keydown",this.eventHandlers.keydown,!1),window.addEventListener("keyup",this.eventHandlers.keyup,!1),this._prevState=this._state,this._state===-1&&(t.keyCode!==this.keys[0]||this.noRotate?t.keyCode!==this.keys[2]||this.noZoom?t.keyCode!==this.keys[1]||this.noPan||(this._state=1):this._state=2:this._state=0,this._keyDownState=this._state))},e.prototype.keyup=function(t){this.enabled!==!1&&(this._state=this._prevState,this._keyDownState=-1,window.removeEventListener("keyup",this.eventHandlers.keyup,!1),window.addEventListener("keydown",this.eventHandlers.keydown,!1))},e.prototype.mousedown=function(t){this.enabled!==!1&&(t.preventDefault(),this.scene.mouseInfo.updatePosition(t.clientX,t.clientY),this._keyDownState!==-1&&(this._state=this._keyDownState),this._state===-1&&(this._state=t.button),0!==this._state||this.noRotate?2!==this._state||this.noZoom?1!==this._state||this.noPan||(this._panStart.copy(this.getMouseOnScreen()),this._panEnd.copy(this._panStart)):(this._zoomStart.copy(this.getMouseOnScreen()),this._zoomEnd.copy(this._zoomStart)):(this._rotateStart.copy(this.getMouseProjectionOnBall()),this._rotateEnd.copy(this._rotateStart)),window.addEventListener("mousemove",this.eventHandlers.mousemove,!1),window.addEventListener("mouseup",this.eventHandlers.mouseup,!1),this.events.dispatchEvent(this.startEvent))},e.prototype.mousemove=function(t){this.enabled!==!1&&(t.preventDefault(),this.scene.mouseInfo.updatePosition(t.clientX,t.clientY),0!==this._state||this.noRotate?2!==this._state||this.noZoom?1!==this._state||this.noPan||this._panEnd.copy(this.getMouseOnScreen()):this._zoomEnd.copy(this.getMouseOnScreen()):this._rotateEnd.copy(this.getMouseProjectionOnBall()),this.update())},e.prototype.mouseup=function(t){this.enabled!==!1&&(t.preventDefault(),this._state=-1,window.removeEventListener("mousemove",this.eventHandlers.mousemove,!1),window.removeEventListener("mouseup",this.eventHandlers.mouseup,!1),this.events.dispatchEvent(this.endEvent))},e.prototype.touchstart=function(t){if(this.enabled!==!1){switch(t.touches.length){case 1:this._state=3,this.scene.mouseInfo.updatePosition(t.touches[0].clientX,t.touches[0].clientY),this._rotateStart.copy(this.getMouseProjectionOnBall()),this._rotateEnd.copy(this._rotateStart);break;case 2:this._state=4;var e=t.touches[0].clientX-t.touches[1].clientX,n=t.touches[0].clientY-t.touches[1].clientY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(e*e+n*n);var r=(t.touches[0].clientX+t.touches[1].clientX)/2,i=(t.touches[0].clientY+t.touches[1].clientY)/2;this.scene.mouseInfo.updatePosition(r,i),this._panStart.copy(this.getMouseOnScreen()),this._panEnd.copy(this._panStart);break;default:this._state=-1}this.events.dispatchEvent(this.startEvent)}},e.prototype.touchmove=function(t){if(this.enabled!==!1)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:this.scene.mouseInfo.updatePosition(t.touches[0].clientX,t.touches[0].clientY),this._rotateEnd.copy(this.getMouseProjectionOnBall()),this.update();break;case 2:var e=t.touches[0].clientX-t.touches[1].clientX,n=t.touches[0].clientY-t.touches[1].clientY;this._touchZoomDistanceEnd=Math.sqrt(e*e+n*n);var r=(t.touches[0].clientX+t.touches[1].clientX)/2,i=(t.touches[0].clientY+t.touches[1].clientY)/2;this.scene.mouseInfo.updatePosition(r,i),this._panEnd.copy(this.getMouseOnScreen()),this.update();break;default:this._state=-1}},e.prototype.touchend=function(t){if(this.enabled!==!1){var e=t.touches;switch(e.length||(e=t.changedTouches),e.length){case 1:this.scene.mouseInfo.updatePosition(e[0].clientX,e[0].clientY),this._rotateEnd.copy(this.getMouseProjectionOnBall()),this._rotateStart.copy(this._rotateEnd);break;case 2:this._touchZoomDistanceStart=this._touchZoomDistanceEnd=0;var n=(e[0].clientX+e[1].clientX)/2,r=(e[0].clientY+e[1].clientY)/2;this.scene.mouseInfo.updatePosition(n,r),this._panEnd.copy(this.getMouseOnScreen()),this._panStart.copy(this._panEnd)}this._state=-1,this.events.dispatchEvent(this.endEvent)}},e.prototype.preventContextMenu=function(t){t.preventDefault()},e.prototype.init=function(){this.domElement.addEventListener("contextmenu",this.preventContextMenu,!1),this.domElement.addEventListener("mousedown",this.eventHandlers.mousedown,!1),this.domElement.addEventListener("touchstart",this.eventHandlers.touchstart,!1),this.domElement.addEventListener("touchend",this.eventHandlers.touchend,!1),this.domElement.addEventListener("touchmove",this.eventHandlers.touchmove,!1),window.addEventListener("keydown",this.eventHandlers.keydown,!1),this.update()},e.prototype.destroy=function(){this.domElement.removeEventListener("contextmenu",this.preventContextMenu,!1),this.domElement.removeEventListener("mousedown",this.eventHandlers.mousedown,!1),window.removeEventListener("keydown",this.eventHandlers.keydown,!1),this.domElement.removeEventListener("touchstart",this.eventHandlers.touchstart,!1),this.domElement.removeEventListener("touchend",this.eventHandlers.touchend,!1),this.domElement.removeEventListener("touchmove",this.eventHandlers.touchmove,!1),this.camera=void 0,this.domElement=void 0},e}();t.CameraControls=e}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(e){function n(t,e,n,r){var i=!1;if(3===r)for(var o=e;o<n;o++){var a=t[o],s=0|a;a-s<.33&&(t[o]=s+.55,i=!0)}else if(4===r)for(var o=e;o<n;o++){var a=t[o],s=0|a;a-s>.33&&(t[o]=s,i=!0)}else if(1===r)for(var o=e;o<n;o++)t[o]=t[o]+1,i=!0;else if(2===r){for(var o=e;o<n;o++)if(t[o]>.75){var a=t[o]-1;a<0&&(a=0),t[o]=a,i=!0}}else for(var o=e;o<n;o++){var a=t[o];t[o]=0,i=i||0!==a}return i}function r(t,e){var r=t.array,i=n(r,0,r.length,e);return i&&(t.needsUpdate=!0),i}var i=function(){function t(){this.current=null,this.currentPickId=-1,this.currentPickElementId=-1,this.selectPos={x:0,y:0}}return t.prototype.getPickInfo=function(){return this.current?{model:this.current.model,elements:this.current.elements}:this.current},t.prototype.reset=function(){var t=null!==this.current;return this.currentPickId=-1,this.currentPickElementId=-1,this.current=null,t},t.prototype.selectStart=function(t,e){this.selectPos.x=t,this.selectPos.y=e},t.prototype.selectEnd=function(t,e){var n=t-this.selectPos.x,r=e-this.selectPos.y;return n*n+r*r<4.5},t}();e.Pick=i;var o;!function(t){function e(t,e){var n=t>>16&255,r=t>>8&255,i=255&t;e.r=i/255,e.g=r/255,e.b=n/255}function n(t,e,n){n[e+3]=t/255}function r(t,e,n,r){var i=(e&(1<<t)-1)<<8-t,o=e>>t;r[n+3]=o/255;var a=255*r[n+2]|0;r[n+2]=(a|i)/255}function i(t,e){var n=(1<<16-t)-1;return e[0]|e[1]<<8|(e[2]&n)<<16}function o(t,e){var n=t-8,r=e[2]&(1<<n)-1<<8-n>>8-n,i=e[3]<<n;return r|i}t.assignPickColor=e,t.applySceneIdFast=n,t.applySceneIdSlow=r,t.getElementId=i,t.getSceneId=o}(o=e.Picking||(e.Picking={}));var a=t.Core.Utils.ChunkedArray,s=function(){function t(t){this.elementMap=new Map,this.elementIndex=0,this.elementRangeIndex=0,this.rangeIndex=0,this.added=0,this.elementIndices=a.create(function(t){return new Int32Array(t)},t,1),this.elementRanges=new Int32Array(2*t),this.vertexRanges=a.create(function(t){return new Int32Array(t)},t,2)}return t.prototype.startElement=function(t){this.elementIndex=t,this.elementRangeIndex=this.elementMap.size,this.rangeIndex=this.vertexRanges.elementCount,this.added=0},t.prototype.addVertexRange=function(t,e){this.added++,a.add2(this.vertexRanges,t,e)},t.prototype.endElement=function(){a.add(this.elementIndices,this.elementIndex),this.elementMap.set(this.elementIndex,this.elementRangeIndex),this.elementRanges[2*this.elementRangeIndex]=2*this.rangeIndex,this.elementRanges[2*this.elementRangeIndex+1]=2*(this.rangeIndex+this.added)},t.prototype.getMap=function(){return new u(a.compact(this.elementIndices),this.elementMap,this.elementRanges,a.compact(this.vertexRanges))},t}();e.VertexMapBuilder=s;var u=function(){function t(t,e,n,r){this.elementIndices=t,this.elementMap=e,this.elementRanges=n,this.vertexRanges=r}return t}();e.VertexMap=u,e.applyActionToRange=n,e.applyActionToBuffer=r}(n=e.Selection||(e.Selection={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){function r(t){for(var e=new Int32Array(t.data.annotation.length),n=t.data.annotation,r=0,i=e.length;r<i;r++)e[r]=r;return Array.prototype.sort.call(e,function(t,e){var r=n[t]-n[e];return r?r:t-e}),e}function i(t,e,n,r){for(var i=t,o=t+1;i<e;){for(;o<e&&n[o]-n[o-1]<1.1;)o++;r.addVertexRange(n[i],n[o-1]+1),i=o,o+=1}}function o(t){for(var n=r(t),o=t.data.annotation,a=1,s=0,u=n.length-1;s<u;s++)o[n[s]]!==o[n[s+1]]&&a++;for(var c=new e.Selection.VertexMapBuilder(a),l=new Int32Array(n.length),s=0,u=n.length;s<u;s++)l[s]=o[n[s]];var h=o[n[0]];c.startElement(h);for(var s=0,u=n.length;s<u;s++){var p=o[n[s]];p!==h&&(c.endElement(),c.startElement(p),h=p);var f=s;for(s++;p===o[n[s]];)s++;var d=s;s--,i(f,d,n,c)}return c.endElement(),c.getMap()}function a(t){var n=new e.Selection.VertexMapBuilder(1);return n.startElement(0),n.addVertexRange(0,t.vertexCount),n.endElement(),n.getMap()}function s(t){return v(this,void 0,void 0,function(){return g(this,function(e){switch(e.label){case 0:return[4,t.computation.updateProgress("Computing selection map...")];case 1:return e.sent(),t.data.annotation?t.geom.elementToVertexMap=o(t):t.geom.elementToVertexMap=a(t),[2]}})})}function u(t,n){return v(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h,p,f,d,m,y,v,b,_,C;return g(this,function(g){for(r=n.data.triangleIndices,i=n.data.annotation,o=n.pickPlatesVertices,a=n.pickPlatesTris,s=n.pickPlatesColors,u=n.data.vertices,c={r:.45,g:.45,b:.45},l=n.pickTris,h=0,p=t,f=Math.min(t+w,n.triCount);p<f;p++)d=r[3*p],m=r[3*p+1],y=r[3*p+2],v=i[d],b=i[m],_=i[y],v!==b||b!==_?(C=-1,v===b||v===_?C=v:b===_&&(C=b),x.add3(o,u[3*d],u[3*d+1],u[3*d+2]),x.add3(o,u[3*m],u[3*m+1],u[3*m+2]),x.add3(o,u[3*y],u[3*y+1],u[3*y+2]),x.add3(a,h++,h++,h++),C<0?(c.r=0,c.g=0,c.b=0):e.Selection.Picking.assignPickColor(C,c),x.add4(s,c.r,c.g,c.b,0),x.add4(s,c.r,c.g,c.b,0),x.add4(s,c.r,c.g,c.b,0)):x.add3(l,d,m,y);return n.platesVertexCount+=h,[2]})})}function c(e){return v(this,void 0,void 0,function(){var n,r,i;return g(this,function(o){switch(o.label){case 0:n=t.Core.Utils.PerformanceMonitor.currentTime(),r=0,o.label=1;case 1:return r<e.triCount?(i=t.Core.Utils.PerformanceMonitor.currentTime(),i-n>t.Core.Computation.UpdateProgressDelta?(n=i,[4,e.computation.updateProgress("Creating selection geometry...",!0,r,e.triCount)]):[3,3]):[3,5];case 2:o.sent(),o.label=3;case 3:u(r,e),o.label=4;case 4:return r+=w,[3,1];case 5:return[2]}})})}function l(t){var n={r:.45,g:.45,b:.45},r=t.data.annotation;t.pickTris=x.forIndexBuffer(t.triCount);for(var i=t.pickColorBuffer,o=0,a=t.vertexCount;o<a;o++){var s=r[o];s>=0&&(e.Selection.Picking.assignPickColor(s,n),i[4*o]=n.r,i[4*o+1]=n.g,i[4*o+2]=n.b)}}function h(t){var n=new e.THREE.BufferGeometry;n.addAttribute("position",new e.THREE.BufferAttribute(t.data.vertices,3)),n.addAttribute("index",new e.THREE.BufferAttribute(t.data.triangleIndices,1)),n.addAttribute("pColor",new e.THREE.BufferAttribute(t.pickColorBuffer,4)),t.geom.pickGeometry=n,n=new e.THREE.BufferGeometry,n.addAttribute("position",new e.THREE.BufferAttribute(new Float32Array(0),3)),n.addAttribute("index",new e.THREE.BufferAttribute(new Uint32Array(0),1)),n.addAttribute("pColor",new e.THREE.BufferAttribute(new Float32Array(0),4)),t.geom.pickPlatesGeometry=n}function p(t){var n=new e.THREE.BufferGeometry;n.addAttribute("position",new e.THREE.BufferAttribute(t.data.vertices,3)),n.addAttribute("index",new e.THREE.BufferAttribute(x.compact(t.pickTris),1)),n.addAttribute("pColor",new e.THREE.BufferAttribute(t.pickColorBuffer,4)),t.geom.pickGeometry=n,n=new e.THREE.BufferGeometry,n.addAttribute("position",new e.THREE.BufferAttribute(x.compact(t.pickPlatesVertices),3)),n.addAttribute("index",new e.THREE.BufferAttribute(x.compact(t.pickPlatesTris),1)),n.addAttribute("pColor",new e.THREE.BufferAttribute(x.compact(t.pickPlatesColors),4)),t.geom.pickPlatesGeometry=n}function f(t,e,n,r){if(n>r){var i=n;n=r,r=i}var o=((n+r)*(n+r+1)+r)/2|0,a=e.size;e.add(o),e.size!==a&&x.add2(t,n,r)}function d(t){for(var n=t.data.triangleIndices,r=x.create(function(t){return new Uint32Array(t)},1.5*t.triCount|0,2),i=new Set,o=0,a=n.length;o<a;o+=3){var s=n[o],u=n[o+1],c=n[o+2];f(r,i,s,u),f(r,i,s,c),f(r,i,u,c)}return new e.THREE.BufferAttribute(x.compact(r),1)}function m(t,n){var r=new e.THREE.BufferGeometry;r.addAttribute("position",new e.THREE.BufferAttribute(n.data.vertices,3)),r.addAttribute("normal",new e.THREE.BufferAttribute(n.data.normals,3)),r.addAttribute("color",new e.THREE.BufferAttribute(new Float32Array(3*n.data.vertices.length),3)),t?r.addAttribute("index",d(n)):r.addAttribute("index",new e.THREE.BufferAttribute(n.data.triangleIndices,1)),n.geom.geometry=r,n.geom.vertexStateBuffer=new e.THREE.BufferAttribute(new Float32Array(n.data.vertices.length),1),r.addAttribute("vState",n.geom.vertexStateBuffer)}function y(t){return v(this,void 0,void 0,function(){return g(this,function(e){switch(e.label){case 0:return[4,t.computation.updateProgress("Creating selection geometry...")];case 1:return e.sent(),t.pickColorBuffer=new Float32Array(4*t.vertexCount),t.data.annotation?[3,2]:(h(t),[2]);case 2:return l(t),t.pickPlatesVertices=x.forVertex3D(Math.max(t.vertexCount/10,10)),t.pickPlatesTris=x.forIndexBuffer(Math.max(t.triCount/10,10)),t.pickPlatesColors=x.create(function(t){return new Float32Array(t)},Math.max(t.vertexCount/10,10),4),t.platesVertexCount=0,[4,c(t)];case 3:e.sent(),p(t),e.label=4;case 4:return[2]}})})}function b(e,n,r){return v(this,void 0,t.Promise,function(){var i;return g(this,function(o){switch(o.label){case 0:return i={data:e,computation:n,geom:new C,vertexCount:e.vertices.length/3|0,triCount:e.triangleIndices.length/3|0},[4,n.updateProgress("Creating geometry...")];case 1:return o.sent(),[4,t.Core.Geometry.Surface.computeNormals(e).run(n)];case 2:return o.sent(),[4,t.Core.Geometry.Surface.computeBoundingSphere(e).run(n)];case 3:return o.sent(),[4,s(i)];case 4:return o.sent(),[4,y(i)];case 5:return o.sent(),m(r,i),i.geom.vertexToElementMap=i.data.annotation,[2,i.geom]}})})}var x=t.Core.Utils.ChunkedArray,w=1e5;n.buildGeometry=b;var C=function(t){function n(){var n=t.call(this)||this;return n.geometry=void 0,n.vertexToElementMap=void 0,n.elementToVertexMap=void 0,n.pickGeometry=void 0,n.pickPlatesGeometry=void 0,n.vertexStateBuffer=void 0,n.center=new e.THREE.Vector3(0,0,0),n.radius=0,n}return _(n,t),n.prototype.dispose=function(){this.geometry.dispose(),this.pickGeometry&&(this.pickGeometry.dispose(),this.pickPlatesGeometry.dispose())},n}(e.GeometryBase);n.Geometry=C}(n=e.Surface||(e.Surface={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){n.DefaultSurfaceModelParameters={isWireframe:!1};var r=function(r){function i(){return r.apply(this,arguments)||this}return _(i,r),i.prototype.applySelectionInternal=function(t,n){for(var r=this.geometry.vertexStateBuffer,i=r.array,o=this.geometry.elementToVertexMap,a=o.vertexRanges,s=!1,u=0,c=t;u<c.length;u++){var l=c[u];if(o.elementMap.has(l)){var h=o.elementMap.get(l),p=o.elementRanges[2*h],f=o.elementRanges[2*h+1];if(p!==f)for(var d=p;d<f;d+=2){var m=a[d],y=a[d+1];s=e.Selection.applyActionToRange(i,m,y,n)||s}}}return!!s&&(r.needsUpdate=!0,!0)},i.prototype.highlightElement=function(t,e){return this.applySelection(this.getPickElements(t),e?3:4)},i.prototype.highlightInternal=function(t){return e.Selection.applyActionToBuffer(this.geometry.vertexStateBuffer,t?3:4)},i.prototype.getPickElements=function(t){return[t]},i.prototype.getBoundingSphereOfSelection=function(t){if(!this.geometry.vertexToElementMap)return{radius:this.radius,center:this.centroid};for(var n=this.geometry.geometry.attributes.position.array,r=new e.THREE.Vector3,i=0,o=this.geometry.elementToVertexMap,a=o.vertexRanges,s=0,u=t;s<u.length;s++){var c=u[s];if(o.elementMap.has(c)){var l=o.elementMap.get(c),h=o.elementRanges[2*l],p=o.elementRanges[2*l+1];if(h!==p)for(var f=h;f<p;f+=2)for(var d=a[f],m=a[f+1],y=d;y<m;y++)r.x+=n[3*y],r.y+=n[3*y+1],r.z+=n[3*y+2],i++}}if(i){r.x=r.x/i,r.y=r.y/i,r.z=r.z/i;for(var v=new e.THREE.Vector3,g=0,b=0,_=t;b<_.length;b++){var c=_[b];if(o.elementMap.has(c)){var l=o.elementMap.get(c),h=o.elementRanges[2*l],p=o.elementRanges[2*l+1];if(h!==p)for(var f=h;f<p;f+=2)for(var d=a[f],m=a[f+1],y=d;y<m;y++)v.x=n[3*y],v.y=n[3*y+1],v.z=n[3*y+2],g=Math.max(g,v.distanceToSquared(r))}}return g=Math.sqrt(g),{radius:g,center:{x:r.x,y:r.y,z:r.z}}}},i.prototype.applyThemeInternal=function(t){var n={r:0,g:0,b:0};e.MaterialsHelper.updateMaterial(this.material,t,this.object);var r=this.geometry.geometry.attributes.color.array,i=this.geometry.vertexToElementMap;if(i)for(var o=0,a=r.length/3|0;o<a;o++){var s=i[o];s<0?(n.r=0,n.g=0,n.b=0):t.setElementColor(s,n),r[3*o]=n.r,r[3*o+1]=n.g,r[3*o+2]=n.b}else{t.setElementColor(0,n);for(var o=0,a=r.length/3|0;o<a;o++)r[3*o]=n.r,r[3*o+1]=n.g,r[3*o+2]=n.b}this.pickObject&&(this.pickObject.visible=this.getPickObjectVisibility(this.object.visible)),this.geometry.geometry.getAttribute("color").needsUpdate=!0},i.prototype.getPickObjectVisibility=function(t){return!(e.Theme.isTransparent(this.theme)||!this.theme.interactive)&&t},i.prototype.createObjects=function(){var t=new e.THREE.Mesh(this.geometry.geometry,this.material),n=void 0;if(this.geometry.pickGeometry){n=new e.THREE.Object3D;var r=new e.THREE.Mesh(this.geometry.pickGeometry,this.pickMaterial);n.add(r),r=new e.THREE.Mesh(this.geometry.pickPlatesGeometry,this.pickMaterial),n.add(r)}return{main:t,pick:n}},i.create=function(r,o){var a=this,s=o.surface,u=o.theme,c=o.parameters,l=void 0===c?n.DefaultSurfaceModelParameters:c,h=o.props;return t.Core.computation(function(t){return v(a,void 0,void 0,function(){var o,a,c;return g(this,function(p){switch(p.label){case 0:return[4,n.buildGeometry(s,t,!!l.isWireframe)];case 1:return o=p.sent(),a=new i,a.surface=s,a.material=e.MaterialsHelper.getMeshMaterial(e.THREE.FlatShading,!!l.isWireframe),a.geometry=o,a.pickMaterial=e.MaterialsHelper.getPickMaterial(),a.entity=r,a.centroid=(new e.THREE.Vector3).copy(s.boundingSphere.center),a.radius=s.boundingSphere.radius,h&&(a.props=h),a.disposeList.push(a.geometry,a.material,a.pickMaterial),c=a.createObjects(),a.object=c.main,a.pickObject=c.pick,a.applyTheme(u),a.pickBufferAttributes=[a.geometry.pickGeometry.attributes.pColor,a.geometry.pickPlatesGeometry.attributes.pColor],[2,a]}})})})},i}(e.Model);n.Model=r}(n=e.Surface||(e.Surface={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n=function(e){function n(){var n=e.call(this)||this;return n.geometry=void 0,n.center=new t.THREE.Vector3(0,0,0),n.radius=0,n}return _(n,e),n.prototype.dispose=function(){this.geometry.dispose()},n.create=function(e,r){for(var i=new n,o=new t.THREE.Vector3(0,0,0),a=0,s=e.length;a<s;a+=3)o.x+=e[a],o.y+=e[a+1],o.z+=e[a+2];o.multiplyScalar(1/(e.length/3));for(var u=0,a=0,s=e.length;a<s;a+=3){var c=o.x-e[a],l=o.y-e[a+1],h=o.z-e[a+2],p=c*c+l*l+h*h;p>u&&(u=p)}u=Math.sqrt(u);var f=new t.THREE.BufferGeometry;return f.addAttribute("position",new t.THREE.BufferAttribute(e,3)),f.addAttribute("index",new t.THREE.BufferAttribute(r,1)),i.geometry=f,i.center=o,i.radius=u,i},n}(t.GeometryBase);e.Geometry=n}(e=t.Lines||(t.Lines={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.applySelectionInternal=function(t,e){return!1},r.prototype.highlightElement=function(t,e){return this.applySelection([t],e?3:4)},r.prototype.highlightInternal=function(t){return!1},r.prototype.getPickElements=function(t){return[t]},r.prototype.applyThemeInternal=function(t){var n=t.colors.get("Uniform");this.material.color=new e.THREE.Color(n.r,n.g,n.b),this.material.needsUpdate=!0},r.prototype.getPickObjectVisibility=function(t){return!1},r.prototype.createObjects=function(){return{main:new e.THREE.Mesh(this.geometry.geometry,this.material),pick:void 0}},r.create=function(n,i){var o=this,a=i.geometry,s=i.theme,u=i.props;return t.Core.computation(function(t){return v(o,void 0,void 0,function(){var t,i;return g(this,function(o){return t=new r,t.material=new e.THREE.MeshBasicMaterial({wireframe:!0}),t.geometry=a,t.entity=n,t.centroid=a.center,t.radius=a.radius,u&&(t.props=u),t.disposeList.push(t.geometry,t.material),i=t.createObjects(),t.object=i.main,t.pickObject=void 0,t.applyTheme(s),t.pickBufferAttributes=[],[2,t]})})})},r}(e.Model);n.Model=r}(n=e.Lines||(e.Lines={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){r.DefaultBallsAndSticksModelParameters={tessalation:3,atomRadius:function(){return.4},hideBonds:!1,bondRadius:.15};var i=function(i){function o(){return i.apply(this,arguments)||this}return _(o,i),o.prototype.applySelectionInternal=function(t,n){for(var r=this.ballsAndSticks.vertexStateBuffer,i=r.array,o=this.ballsAndSticks.atomVertexMap,a=o.vertexRanges,s=!1,u=0,c=t;u<c.length;u++){var l=c[u];if(o.elementMap.has(l)){var h=o.elementMap.get(l),p=o.elementRanges[2*h],f=o.elementRanges[2*h+1];if(p!==f)for(var d=p;d<f;d+=2){var m=a[d],y=a[d+1];s=e.Selection.applyActionToRange(i,m,y,n)||s}}}return!!s&&(r.needsUpdate=!0,!0)},o.prototype.getPickElements=function(t){return[t]},o.prototype.highlightElement=function(t,e){return this.applySelection([t],e?3:4)},o.prototype.highlightInternal=function(t){return e.Selection.applyActionToBuffer(this.ballsAndSticks.vertexStateBuffer,t?3:4)},o.prototype.applyThemeInternal=function(t){var r=this,i=this.ballsAndSticks.atomVertexMap;e.MaterialsHelper.applyColorToMap(i,i.elementIndices,this.ballsAndSticks.atomsGeometry.attributes.color,function(t,e){return r.theme.setElementColor(t,e)}),i=this.ballsAndSticks.bondVertexMap;var o=e.Theme.getColor(t,"Bond",n.Colors.DefaultBondColor);e.MaterialsHelper.applyColorToMap(i,i.elementIndices,this.ballsAndSticks.bondsGeometry.attributes.color,function(t,n){return e.Color.copy(o,n)}),e.MaterialsHelper.updateMaterial(this.material,t,this.object),e.MaterialsHelper.updateMaterial(this.bondsMaterial,t,this.object)},o.prototype.createObjects=function(){var t=new e.THREE.Object3D;t.add(new e.THREE.Mesh(this.ballsAndSticks.atomsGeometry,this.material)),t.add(new e.THREE.Mesh(this.ballsAndSticks.bondsGeometry,this.bondsMaterial));var n=new e.THREE.Mesh(this.ballsAndSticks.pickGeometry,this.pickMaterial);return{main:t,
pick:n}},o.create=function(n,i){var a=this,s=i.model,u=i.atomIndices,c=i.theme,l=i.params,h=i.props;return t.Core.computation(function(t){return v(a,void 0,void 0,function(){var i,a,p;return g(this,function(f){switch(f.label){case 0:return[4,r.buildGeometry(s,l,u,t)];case 1:return i=f.sent(),a=new o,a.molecule=s,a.ballsAndSticks=i,a.material=e.MaterialsHelper.getMeshMaterial(),a.bondsMaterial=new e.THREE.MeshPhongMaterial({specular:11184810,shininess:1,shading:e.THREE.SmoothShading,side:e.THREE.FrontSide,vertexColors:e.THREE.VertexColors}),a.pickMaterial=e.MaterialsHelper.getPickMaterial(),a.entity=n,a.ballsAndSticks.atomsGeometry.computeBoundingSphere(),a.centroid=a.ballsAndSticks.atomsGeometry.boundingSphere.center,a.radius=a.ballsAndSticks.atomsGeometry.boundingSphere.radius,h&&(a.props=h),p=a.createObjects(),a.object=p.main,a.applyTheme(c),a.disposeList.push(a.ballsAndSticks,a.material,a.bondsMaterial,a.pickMaterial),a.pickObject=p.pick,a.pickBufferAttributes=[a.ballsAndSticks.pickGeometry.attributes.pColor],[2,a]}})})})},o}(e.Model);r.Model=i}(r=n.BallsAndSticks||(n.BallsAndSticks={}))}(n=e.Molecule||(e.Molecule={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){function r(t,e,n,r){return u.build(t,e,n,r)}var i;!function(n){function r(e,n,r){for(var i=t.Core.Structure.Query.Context.Mask.ofIndices(e,n),a=0,s=e.covalentBonds,u=s.atomAIndex,c=s.atomBIndex,l=s.type,h=s.count,p=0;p<h;p++){var f=u[p],d=c[p];if(i.has(f)&&i.has(d)){var m=l[p];(m<1||m>4)&&(m=1),o.add3(r,f,d,m),a+=m}}return a}function i(r,i){var a,s=0;a=i,s=a.length;var u=r.atoms,c=u.x,l=u.y,h=u.z,p=u.elementSymbol,f=u.name,d=u.altLoc,m=u.residueIndex,y=u.entityIndex,v=r.entities.entityType,g=t.Core.Structure.EntityType.Water,b=r.residues.name,_=2,x=r.componentBonds,w=o.create(function(t){return new Int32Array(t)},1.33*a.length|0,3),C=1,S=0,E=0,T=0;if(r.covalentBonds){for(S=n.addPrecomputedBonds(r,i,w);E<s;){var M=m[a[E]];for(T=E;T<s&&m[a[T]]==M;)T++;C++,E=T}return{bonds:o.compact(w),stickCount:S,residueCount:C}}for(var A=t.Core.Geometry.SubdivisionTree3D.create(a,function(t,e){e(c[t],l[t],h[t])}),P=t.Core.Geometry.SubdivisionTree3D.createContextRadius(A,_+1,!1),k=new e.THREE.Vector3,R=new e.THREE.Vector3,O=new Set,I=P.buffer;E<s;){var M=m[a[E]];for(T=E;T<s&&m[a[T]]==M;)T++;var N=void 0;if(x&&(N=x.entries.get(b[m[a[E]]]))){for(var D=E;D<T-1;D++){var L=a[D],V=f[L],F=d[L],j=N.map.get(V);if(j){for(var B=D+1;B<T;B++){var U=a[B],z=d[U];if(!F||!z||F===z){var H=j.get(f[U]);void 0!==H&&((H<1||H>4)&&(H=1),o.add3(w,L,U,H),S+=H)}}O.add(L)}}O.add(a[T-1])}for(var D=E;D<T;D++){var G=a[D];I.reset(),P.nearest(c[G],l[G],h[G],_),k.set(c[G],l[G],h[G]);for(var q="H"===p[G],F=d[G],W=v[y[G]]===g,X=I.count,Y=0;Y<X;Y++){var K=a[I.indices[Y]];if(K!==G&&!O.has(K)){var Z=R.set(c[K],l[K],h[K]).sub(k).length(),Q="H"===p[K];if(q&&Q||W&&!Q)continue;if(q||Q){Z<1.1&&(o.add3(w,G,K,1),S++);continue}var z=d[K];!Z||F&&z&&F!==z||(o.add3(w,G,K,1),S++)}}O.add(G)}C++,E=T}return{bonds:o.compact(w),stickCount:S,residueCount:C}}var o=t.Core.Utils.ChunkedArray;n.addPrecomputedBonds=r,n.analyze=i}(i||(i={}));var o=function(){function t(t,n,r,i,o,a,s,u){this.template=t,this.templateVB=n,this.templateNB=r,this.templateIB=i,this.templateVertexCount=o,this.vertices=a,this.normals=s,this.indices=u,this.atomsVector=new e.THREE.Vector3,this.center=new e.THREE.Vector3,this.rotationAxis=new e.THREE.Vector3,this.upVector=new e.THREE.Vector3(0,1,0),this.scaleMatrix=new e.THREE.Matrix4,this.rotationMatrix=new e.THREE.Matrix4,this.translationMatrix=new e.THREE.Matrix4,this.offsetMatrix=new e.THREE.Matrix4,this.finalMatrix=new e.THREE.Matrix4,this.sticksDone=0,this.radius=.15,this.offset=new e.THREE.Vector3,this.a=new e.THREE.Vector3,this.b=new e.THREE.Vector3}return t}(),a=function(){function t(n,r,i){this.model=n,this.atomIndices=r,this.params=i,this.tessalation=this.params.tessalation,this.atomRadius=this.params.atomRadius,this.bondRadius=this.params.bondRadius,this.hideBonds=this.params.hideBonds,this.bondTemplate=t.getBondTemplate(1,this.tessalation),this.atomTemplate=t.getAtomTemplate(1,this.tessalation),this.bondTemplateVertexBuffer=this.bondTemplate.attributes.position.array,this.bondTemplateVertexBufferLength=this.bondTemplateVertexBuffer.length,this.bondTemplateVertexCount=this.bondTemplateVertexBufferLength/3|0,this.bondTemplateIndexBuffer=this.bondTemplate.attributes.index.array,this.bondTemplateIndexBufferLength=this.bondTemplateIndexBuffer.length,this.bondTemplateNormalBuffer=this.bondTemplate.attributes.normal.array,this.atomTemplateVertexBuffer=this.atomTemplate.attributes.position.array,this.atomTemplateVertexBufferLength=this.atomTemplateVertexBuffer.length,this.atomTemplateVertexCount=this.atomTemplateVertexBufferLength/3|0,this.atomTemplateIndexBuffer=this.atomTemplate.attributes.index.array,this.atomTemplateIndexBufferLength=this.atomTemplateIndexBuffer.length,this.atomTemplateNormalBuffer=this.atomTemplate.attributes.normal.array,this.atomBufferSize=this.atomTemplateVertexBufferLength*this.atomIndices.length,this.atomVertices=new Float32Array(this.atomBufferSize),this.atomNormals=new Float32Array(this.atomBufferSize),this.atomTriangleIndices=new Uint32Array(this.atomTemplateIndexBufferLength*this.atomIndices.length),this.atomColors=new Float32Array(this.atomBufferSize),this.atomPickColors=new Float32Array(4*this.atomTemplateVertexCount*this.atomIndices.length),this.atoms=this.model.atoms,this.cX=this.atoms.x,this.cY=this.atoms.y,this.cZ=this.atoms.z,this.atomSymbols=this.atoms.elementSymbol,this.residueIndex=this.atoms.residueIndex,this.atomsDone=0,this.offset=0,this.bondsDone=0,this.atomsVector=new e.THREE.Vector3,this.center=new e.THREE.Vector3,this.rotationAxis=new e.THREE.Vector3,this.up=new e.THREE.Vector3(0,1,0),this.scaleMatrix=new e.THREE.Matrix4,this.rotationMatrix=new e.THREE.Matrix4,this.translationMatrix=new e.THREE.Matrix4,this.atom1Vec=new e.THREE.Vector3,this.atom2Vec=new e.THREE.Vector3,this.pickColor={r:.1,g:.1,b:.1},this.atomMapBuilder=new e.Selection.VertexMapBuilder(this.atomIndices.length),this.tempVector=new e.THREE.Vector3(0,0,0),this.bs=void 0}return t.getBondTemplate=function(t,n){var r;switch(n){case 0:r=2;break;case 1:r=4;break;case 2:r=6;break;case 3:r=8;break;case 4:r=10;break;case 5:r=12;break;default:r=14}var i=e.GeometryHelper.getIndexedBufferGeometry(new e.THREE.LatheGeometry([new e.THREE.Vector3(0,t,-.5),new e.THREE.Vector3(0,t,.5)],r,Math.PI));return i.applyMatrix((new e.THREE.Matrix4).makeRotationAxis(new e.THREE.Vector3(1,0,0),-Math.PI/2)),i},t.getAtomTemplate=function(t,n){var r;switch(n){case 0:r=new e.THREE.OctahedronGeometry(t,0);break;case 1:r=new e.THREE.OctahedronGeometry(t,1);break;case 2:r=new e.THREE.IcosahedronGeometry(t,0);break;case 3:r=new e.THREE.IcosahedronGeometry(t,1);break;case 4:r=new e.THREE.IcosahedronGeometry(t,2);break;case 5:r=new e.THREE.OctahedronGeometry(t,3);break;default:r=new e.THREE.IcosahedronGeometry(t,3)}return e.GeometryHelper.getIndexedBufferGeometry(r)},t}(),s=function(){function t(t){this.state=t,this.model=this.state.model,this.atomIndices=this.state.atomIndices,this.info=i.analyze(this.state.model,this.state.atomIndices),this.bondMapBuilder=new e.Selection.VertexMapBuilder(this.info.residueCount),this.bondBufferSize=this.state.bondTemplateVertexBufferLength*this.info.stickCount,this.bondVertices=new Float32Array(this.bondBufferSize),this.bondNormals=new Float32Array(this.bondBufferSize),this.bondColors=new Float32Array(this.bondBufferSize),this.bondIndices=new Uint32Array(this.state.bondTemplateIndexBufferLength*this.info.stickCount),this.bondRadius=this.state.params.bondRadius,this.residueIndex=this.model.atoms.residueIndex,this.currentResidueIndex=this.residueIndex[this.info.bonds[0]],this.bondMapVertexOffsetStart=0,this.bondMapVertexOffsetEnd=0,this.bondState=new o(this.state.bondTemplate,this.state.bondTemplateVertexBuffer,this.state.bondTemplateNormalBuffer,this.state.bondTemplateIndexBuffer,this.state.bondTemplateVertexCount,this.bondVertices,this.bondNormals,this.bondIndices),this.bondCount=this.info.bonds.length/3|0}return t}(),u=function(){function r(){}return r.prototype.dispose=function(){this.atomsGeometry.dispose(),this.bondsGeometry.dispose(),this.pickGeometry.dispose()},r.addAtom=function(t,n){n.atomMapBuilder.startElement(t);var r=n.atomRadius(t);n.scaleMatrix.makeScale(r,r,r),n.tempVector.set(n.cX[t],n.cY[t],n.cZ[t]),n.translationMatrix.makeTranslation(n.tempVector.x,n.tempVector.y,n.tempVector.z).multiply(n.scaleMatrix),n.atomTemplate.applyMatrix(n.translationMatrix);for(var i=0;i<n.atomTemplateVertexBufferLength;i++)n.offset=n.atomsDone*n.atomTemplateVertexBufferLength+i,n.atomVertices[n.offset]=n.atomTemplateVertexBuffer[i],n.atomNormals[n.offset]=n.atomTemplateNormalBuffer[i];for(var i=0;i<n.atomTemplateIndexBufferLength;i++)n.offset=n.atomTemplateIndexBufferLength*n.atomsDone+i,n.atomTriangleIndices[n.offset]=n.atomTemplateIndexBuffer[i]+n.atomTemplateVertexCount*n.atomsDone;e.Selection.Picking.assignPickColor(t,n.pickColor);for(var i=0;i<n.atomTemplateVertexCount;i++)n.offset=n.atomsDone*n.atomTemplateVertexCount*4+4*i,n.atomPickColors[n.offset]=n.pickColor.r,n.atomPickColors[n.offset+1]=n.pickColor.g,n.atomPickColors[n.offset+2]=n.pickColor.b;n.scaleMatrix.getInverse(n.translationMatrix),n.atomTemplate.applyMatrix(n.scaleMatrix),n.atomMapBuilder.addVertexRange(n.atomsDone*n.atomTemplateVertexCount,(n.atomsDone+1)*n.atomTemplateVertexCount),n.atomMapBuilder.endElement(),n.atomsDone++},r.addBond=function(t,e,n){var i=n.info.bonds[3*t],o=n.info.bonds[3*t+1],a=n.info.bonds[3*t+2];n.currentResidueIndex!==n.residueIndex[i]&&(n.bondMapBuilder.addVertexRange(n.bondMapVertexOffsetStart,n.bondMapVertexOffsetEnd),n.bondMapVertexOffsetStart=n.bondMapVertexOffsetEnd,n.bondMapBuilder.endElement(),n.currentResidueIndex=n.residueIndex[i],n.bondMapBuilder.startElement(n.currentResidueIndex)),e.tempVector.set(e.cX[i],e.cY[i],e.cZ[i]),n.bondState.a.set(e.tempVector.x,e.tempVector.y,e.tempVector.z),e.tempVector.set(e.cX[o],e.cY[o],e.cZ[o]),n.bondState.b.set(e.tempVector.x,e.tempVector.y,e.tempVector.z);var s=n.bondRadius,u=2*s/3,c=s/2,l=n.bondState;switch(a){case 2:l.radius=c,l.offset.x=u,l.offset.y=u,r.addBondPart(l),l.offset.x=-u,l.offset.y=-u,r.addBondPart(l);break;case 3:l.radius=c,l.offset.x=0,l.offset.y=u,r.addBondPart(l),l.offset.x=-Math.cos(Math.PI/3)*u,l.offset.y=-Math.sin(Math.PI/3)*u,r.addBondPart(l),l.offset.x=-l.offset.x,r.addBondPart(l);break;case 4:l.radius=c/2,l.offset.x=u,l.offset.y=u,r.addBondPart(l),l.offset.x=-u,l.offset.y=-u,r.addBondPart(l),l.offset.x=-u,l.offset.y=u,r.addBondPart(l),l.offset.x=u,l.offset.y=-u,r.addBondPart(l);break;default:l.radius=s,l.offset.x=0,l.offset.y=0,r.addBondPart(l)}n.bondMapVertexOffsetEnd+=a*n.state.bondTemplateVertexBufferLength},r.addBondPart=function(t){t.atomsVector.subVectors(t.a,t.b);var e=t.atomsVector.length();t.center.addVectors(t.a,t.b).divideScalar(2),t.rotationAxis.crossVectors(t.atomsVector,t.upVector).normalize();var n=t.atomsVector.angleTo(t.upVector);t.scaleMatrix.makeScale(t.radius,e,t.radius),t.offsetMatrix.makeTranslation(t.offset.x,t.offset.y,t.offset.z),t.rotationMatrix.makeRotationAxis(t.rotationAxis,-n),t.translationMatrix.makeTranslation(t.center.x,t.center.y,t.center.z),t.finalMatrix=t.translationMatrix.multiply(t.rotationMatrix).multiply(t.offsetMatrix).multiply(t.scaleMatrix),t.template.applyMatrix(t.finalMatrix),t.vertices.set(t.templateVB,t.templateVB.length*t.sticksDone),t.normals.set(t.templateNB,t.templateVB.length*t.sticksDone);for(var r=t.templateIB,i=t.indices,o=t.templateIB.length*t.sticksDone,a=t.templateVertexCount*t.sticksDone,s=0;s<r.length;s++)i[o++]=r[s]+a;t.rotationMatrix.getInverse(t.finalMatrix),t.template.applyMatrix(t.rotationMatrix),t.sticksDone++},r.getEmptyBondsGeometry=function(){var t=new e.THREE.BufferGeometry;t.addAttribute("position",new e.THREE.BufferAttribute(new Float32Array(0),3)),t.addAttribute("normal",new e.THREE.BufferAttribute(new Float32Array(0),3)),t.addAttribute("index",new e.THREE.BufferAttribute(new Uint32Array(0),1)),t.addAttribute("color",new e.THREE.BufferAttribute(new Float32Array(0),3));var n=new e.Selection.VertexMapBuilder(1);return{bondsGeometry:t,bondVertexMap:n.getMap()}},r.getBondsGeometry=function(t){var n=new e.THREE.BufferGeometry;return n.addAttribute("position",new e.THREE.BufferAttribute(t.bondVertices,3)),n.addAttribute("normal",new e.THREE.BufferAttribute(t.bondNormals,3)),n.addAttribute("index",new e.THREE.BufferAttribute(t.bondIndices,1)),n.addAttribute("color",new e.THREE.BufferAttribute(t.bondColors,3)),{bondsGeometry:n,bondVertexMap:t.bondMapBuilder.getMap()}},r.getAtomsGeometry=function(t){var n=new e.THREE.BufferGeometry;n.addAttribute("position",new e.THREE.BufferAttribute(t.atomVertices,3)),n.addAttribute("normal",new e.THREE.BufferAttribute(t.atomNormals,3)),n.addAttribute("index",new e.THREE.BufferAttribute(t.atomTriangleIndices,1)),n.addAttribute("color",new e.THREE.BufferAttribute(t.atomColors,3));var r=new Float32Array(t.atomVertices.length),i=new e.THREE.BufferAttribute(r,1);n.addAttribute("vState",i);var o=new e.THREE.BufferGeometry;return o.addAttribute("position",new e.THREE.BufferAttribute(t.atomVertices,3)),o.addAttribute("index",new e.THREE.BufferAttribute(t.atomTriangleIndices,1)),o.addAttribute("pColor",new e.THREE.BufferAttribute(t.atomPickColors,4)),{vertexStateBuffer:i,atomsGeometry:n,atomsPickGeometry:o,atomVertexMap:t.atomMapBuilder.getMap()}},r.addAtoms=function(e,n){return v(this,void 0,void 0,function(){var i,o,a,s,u,c,l;return g(this,function(h){switch(h.label){case 0:i=1250,o=t.Core.Utils.PerformanceMonitor.currentTime(),a=0,s=e.atomIndices.length,h.label=1;case 1:if(!(a<s))return[3,4];for(u=a,c=Math.min(a+i,e.atomIndices.length);u<c;u++)r.addAtom(e.atomIndices[u],e);return l=t.Core.Utils.PerformanceMonitor.currentTime(),l-o>t.Core.Computation.UpdateProgressDelta?(o=l,[4,n.updateProgress("Adding atoms...",!0,a,s)]):[3,3];case 2:h.sent(),h.label=3;case 3:return a+=i,[3,1];case 4:return[2]}})})},r.addBondsChunks=function(e,n,i){return v(this,void 0,void 0,function(){var o,a,s,u,c,l;return g(this,function(h){switch(h.label){case 0:o=1250,a=t.Core.Utils.PerformanceMonitor.currentTime(),s=0,h.label=1;case 1:if(!(s<n.bondCount))return[3,4];for(u=s,c=Math.min(s+o,n.bondCount);u<c;u++)r.addBond(u,e,n);return l=t.Core.Utils.PerformanceMonitor.currentTime(),l-a>t.Core.Computation.UpdateProgressDelta?(a=l,[4,i.updateProgress("Adding bonds...",!0,s,n.bondCount)]):[3,3];case 2:h.sent(),h.label=3;case 3:return s+=o,[3,1];case 4:return[2]}})})},r.addBonds=function(t,e){return v(this,void 0,void 0,function(){var n;return g(this,function(i){switch(i.label){case 0:return t.params.hideBonds?[2]:[4,e.updateProgress("Computing bonds...",!0)];case 1:return i.sent(),n=new s(t),t.bs=n,n.currentResidueIndex=n.residueIndex[n.info.bonds[0]],n.bondMapBuilder.startElement(n.currentResidueIndex),[4,r.addBondsChunks(t,n,e)];case 2:return i.sent(),n.bondMapBuilder.addVertexRange(n.bondMapVertexOffsetStart,n.bondMapVertexOffsetEnd),n.bondMapBuilder.endElement(),[2]}})})},r.build=function(e,i,o,s){return v(this,void 0,void 0,function(){var u,l,h,h,p;return g(this,function(f){switch(f.label){case 0:return[4,s.updateProgress("Creating atoms...")];case 1:return f.sent(),u=new a(e,o,t.Core.Utils.extend({},i,n.DefaultBallsAndSticksModelParameters)),[4,r.addAtoms(u,s)];case 2:return f.sent(),[4,r.addBonds(u,s)];case 3:return f.sent(),[4,s.updateProgress("Finalizing...")];case 4:return f.sent(),l=new c,u.bs?(h=r.getBondsGeometry(u.bs),l.bondsGeometry=h.bondsGeometry,l.bondVertexMap=h.bondVertexMap):(h=r.getEmptyBondsGeometry(),l.bondsGeometry=h.bondsGeometry,l.bondVertexMap=h.bondVertexMap),p=r.getAtomsGeometry(u),l.vertexStateBuffer=p.vertexStateBuffer,l.atomsGeometry=p.atomsGeometry,l.pickGeometry=p.atomsPickGeometry,l.atomVertexMap=p.atomVertexMap,[2,l]}})})},r}();n.buildGeometry=r;var c=function(t){function e(){var e=t.apply(this,arguments)||this;return e.atomsGeometry=void 0,e.bondsGeometry=void 0,e.pickGeometry=void 0,e.atomVertexMap=void 0,e.bondVertexMap=void 0,e.vertexStateBuffer=void 0,e}return _(e,t),e.prototype.dispose=function(){this.atomsGeometry.dispose(),this.bondsGeometry.dispose(),this.pickGeometry.dispose()},e}(e.GeometryBase);n.BallsAndSticksGeometry=c}(r=n.BallsAndSticks||(n.BallsAndSticks={}))}(n=e.Molecule||(e.Molecule={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){var r;!function(n){function r(e,r,o,a,s,u){return v(this,void 0,t.Promise,function(){var c,l,h,p,f,d;return g(this,function(m){switch(m.label){case 0:return c=t.Core.Utils.extend({},a,n.CartoonsGeometryParams.Default),l={computation:u,model:e,atomIndices:r,linearSegments:o,parameters:a,isTrace:s,params:c,state:new n.CartoonsGeometryState(c,e.residues.count),units:void 0,strandArrays:void 0,strandTemplate:void 0,builder:new n.Builder,geom:new i},[4,l.computation.updateProgress("Building units...")];case 1:return m.sent(),l.units=n.CartoonAsymUnit.buildUnits(l.model,l.atomIndices,l.linearSegments),[4,n.buildUnitsAsync(l)];case 2:return m.sent(),l.strandTemplate&&l.strandTemplate.geometry.dispose(),l.geom.vertexMap=l.state.vertexMap.getMap(),[4,l.computation.updateProgress("Creating geometry...")];case 3:for(m.sent(),n.createGeometry(l),h=l.geom,p=0,f=Object.keys(l);p<f.length;p++)d=f[p],Object.prototype.hasOwnProperty.call(l,d)&&(l[d]=void 0);return[2,h]}})})}var i=function(t){function e(){var e=t.apply(this,arguments)||this;return e.geometry=void 0,e.pickGeometry=void 0,e.vertexMap=void 0,e.vertexStateBuffer=void 0,e}return _(e,t),e.prototype.dispose=function(){this.geometry.dispose(),this.pickGeometry.dispose()},e}(e.GeometryBase);n.Data=i,n.create=r}(r=n.Geometry||(n.Geometry={}))}(r=n.Cartoons||(n.Cartoons={}))}(n=e.Molecule||(e.Molecule={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){var r;!function(n){function r(t){var n,r=t.params.strandLineWidth,i=t.params.tessalation,o=0,a=0;switch(i){case 0:a=2,o=1;break;case 1:a=3,o=2;break;case 2:a=4,o=2;break;case 3:a=8,o=4;break;case 4:a=10,o=6;break;case 5:a=14,o=6;break;default:a=16,o=8}for(var s=[],u=Math.PI/2/o,c=0;c<=o;c++)s[c]=new e.THREE.Vector3(0,r*Math.cos(c*u),.1*Math.sin(c*u)),s[c].z+=.9;n=new e.THREE.LatheGeometry([new e.THREE.Vector3(0,r,0)].concat(s),a,Math.PI);var l=e.GeometryHelper.getIndexedBufferGeometry(n);t.strandTemplate={vertex:l.attributes.position.array,normal:l.attributes.normal.array,index:l.attributes.index.array,geometry:l};var h=t.model.atoms,p=t.model.residues;t.strandArrays={startIndex:p.atomStartIndex,endIndex:p.atomEndIndex,x:h.x,y:h.y,z:h.z,name:h.name}}function i(t,e){for(var n=e.state,i=e.params,o=e.builder,a=0,s=t.residueCount;a<s;a++){n.vertexMap.startElement(t.residueIndex[a]);var u=n.verticesDone;n.residueIndex=a;var c=t.structureStarts.has(t.residueIndex[a]),l=t.structureEnds.has(t.residueIndex[a]);if(e.isTrace||t.backboneOnly)switch(t.residueType[a]){case 5:o.addTube(t,n,i.strandWidth,i.strandWidth),(c||l)&&o.addTubeCap(t,n,i.strandWidth,i.strandWidth,c,l),e.strandTemplate||r(e),o.addStrandLine(t,n,e.strandTemplate,e.strandArrays,t.residueIndex[a]);break;default:o.addTube(t,n,i.turnWidth,i.turnWidth),(c||l)&&o.addTubeCap(t,n,i.turnWidth,i.turnWidth,c,l)}else switch(t.residueType[a]){case 1:o.addTube(t,n,i.helixWidth,i.helixHeight),c?o.addTubeCap(t,n,i.helixWidth,i.helixHeight,!0,!1):l&&o.addTubeCap(t,n,i.helixWidth,i.helixHeight,!1,!0);break;case 3:o.addSheet(t,n,c,l),(c||l)&&o.addSheetCap(t,n,c,l);break;case 5:o.addTube(t,n,i.strandWidth,i.strandWidth),(c||l)&&o.addTubeCap(t,n,i.strandWidth,i.strandWidth,c,l),e.strandTemplate||r(e),o.addStrandLine(t,n,e.strandTemplate,e.strandArrays,t.residueIndex[a]);break;default:o.addTube(t,n,i.turnWidth,i.turnWidth),(c||l)&&o.addTubeCap(t,n,i.turnWidth,i.turnWidth,c,l)}n.vertexMap.addVertexRange(u,n.verticesDone),n.vertexMap.endElement()}}function o(e){return v(this,void 0,t.Promise,function(){var n,r,o,a,s;return g(this,function(u){switch(u.label){case 0:n=1e4,r=t.Core.Utils.PerformanceMonitor.currentTime(),o=0,u.label=1;case 1:if(!(o<e.units.length))return[3,4];for(a=0;a<n&&o<e.units.length;)i(e.units[o],e),a+=e.units[o].residueCount,o++;return s=t.Core.Utils.PerformanceMonitor.currentTime(),s-r>t.Core.Computation.UpdateProgressDelta?(r=s,[4,e.computation.updateProgress("Building units...",!0,o,e.units.length)]):[3,3];case 2:u.sent(),u.label=3;case 3:return[3,1];case 4:return[2]}})})}function a(t){var n=t.state,r=new Float32Array(s.compact(n.vertexBuffer)),i=new Float32Array(s.compact(n.normalBuffer)),o=new Float32Array(3*n.verticesDone),a=new Float32Array(4*n.verticesDone),u=new Uint32Array(s.compact(n.indexBuffer)),c=new Float32Array(n.verticesDone),l=new e.THREE.BufferGeometry;l.addAttribute("position",new e.THREE.BufferAttribute(r,3)),l.addAttribute("normal",new e.THREE.BufferAttribute(i,3)),l.addAttribute("index",new e.THREE.BufferAttribute(u,1)),l.addAttribute("color",new e.THREE.BufferAttribute(o,3)),t.geom.vertexStateBuffer=new e.THREE.BufferAttribute(c,1),l.addAttribute("vState",t.geom.vertexStateBuffer),t.geom.geometry=l;for(var h=t.geom.vertexMap,p={r:.45,g:.45,b:.45},f=h.vertexRanges,d=0,m=h.elementIndices;d<m.length;d++){var y=m[d],v=h.elementMap.get(y),g=h.elementRanges[2*v],b=h.elementRanges[2*v+1];if(g!==b){e.Selection.Picking.assignPickColor(y,p);for(var _=g;_<b;_+=2)for(var x=f[_],w=f[_+1],C=x;C<w;C++)a[4*C]=p.r,a[4*C+1]=p.g,a[4*C+2]=p.b}}var S=new e.THREE.BufferGeometry;S.addAttribute("position",new e.THREE.BufferAttribute(r,3)),S.addAttribute("index",new e.THREE.BufferAttribute(u,1)),S.addAttribute("pColor",new e.THREE.BufferAttribute(a,4)),t.geom.pickGeometry=S}var s=t.Core.Utils.ChunkedArray,u=t.Core.Utils.ArrayBuilder,c=function(){function t(t){this.typeBuilder=u.forArray(1e4),this.residueType=[],this.uPositions=new Float32Array(0),this.vPositions=new Float32Array(0),this.pPositions=new Float32Array(0),this.dPositions=new Float32Array(0),this.uvLength=0,this.residueCount=0,this.typeBuilder=u.forArray(t+4),this.uPositionsBuilder=u.forVertex3D(t+4),this.vPositionsBuilder=u.forVertex3D(t+4),this.pPositionsBuilder=u.forVertex3D(t+4),this.dPositionsBuilder=u.forVertex3D(t+4),u.add(this.typeBuilder,0),u.add(this.typeBuilder,0),u.add3(this.uPositionsBuilder,0,0,0),u.add3(this.uPositionsBuilder,0,0,0),u.add3(this.vPositionsBuilder,0,0,0),u.add3(this.vPositionsBuilder,0,0,0)}return t.prototype.addResidue=function(t,e,n){var r=e.atomStartIndex[t],i=e.atomEndIndex[t],o=!1,a=!1,s=e.name;if(5!==n)for(var c=r;c<i&&(o||"CA"!==s[c]?a||"O"!==s[c]||(u.add3(this.vPositionsBuilder,e.x[c],e.y[c],e.z[c]),a=!0):(u.add3(this.uPositionsBuilder,e.x[c],e.y[c],e.z[c]),o=!0),!o||!a);c++);else if(i-r===1)u.add3(this.uPositionsBuilder,e.x[r],e.y[r],e.z[r]),o=!0;else{for(var l=-1,c=r;c<i&&(o||"O5'"!==s[c]?a||"C3'"!==s[c]||(u.add3(this.vPositionsBuilder,e.x[c],e.y[c],e.z[c]),a=!0):(u.add3(this.uPositionsBuilder,e.x[c],e.y[c],e.z[c]),o=!0),"P"===s[c]&&(l=c),!o||!a);c++);!o&&!a&&l>=0&&(u.add3(this.uPositionsBuilder,e.x[l],e.y[l],e.z[l]),o=!0)}var h=!1;if(a){if(!o){var p=this.vPositionsBuilder.array,f=p.length;u.add3(this.uPositionsBuilder,p[f-3],p[f-2],p[f-1]),h=!0}}else{var p=this.uPositionsBuilder.array,f=p.length;u.add3(this.vPositionsBuilder,p[f-3],p[f-2],p[f-1]),h=!0}return u.add(this.typeBuilder,n),h},t.prototype.finishResidues=function(){u.add(this.typeBuilder,0),u.add(this.typeBuilder,0),u.add3(this.uPositionsBuilder,0,0,0),u.add3(this.uPositionsBuilder,0,0,0),u.add3(this.vPositionsBuilder,0,0,0),u.add3(this.vPositionsBuilder,0,0,0),this.residueType=this.typeBuilder.array,this.uPositions=this.uPositionsBuilder.array,this.vPositions=this.vPositionsBuilder.array,this.typeBuilder=null,this.uPositionsBuilder=null,this.vPositionsBuilder=null,this.uvLength=this.residueType.length,this.residueCount=this.uvLength-4},t.prototype.addControlPoint=function(t,e){u.add3(this.pPositionsBuilder,t.x,t.y,t.z),u.add3(this.dPositionsBuilder,e.x,e.y,e.z)},t.prototype.finishContols=function(){this.pPositions=this.pPositionsBuilder.array,this.dPositions=this.dPositionsBuilder.array,this.pPositionsBuilder=null,this.dPositionsBuilder=null},t}();n.CartoonAsymUnitState=c;var l=function(){function n(t,n,r){this.model=t,this.elements=n,this.linearSegmentCount=r,this.tempA=new e.THREE.Vector3,this.tempB=new e.THREE.Vector3,this.tempC=new e.THREE.Vector3,this.controlPoints=new Float32Array(0),this.torsionVectors=new Float32Array(0),this.normalVectors=new Float32Array(0),this.residueCount=0,this.structureStarts=new Set,this.structureEnds=new Set,this.residueType=[],this.residueIndex=new Int32Array(0),this.backboneOnly=!1;for(var i=0,o=this.elements;i<o.length;i++){var a=o[i];this.residueCount+=a.endResidueIndex-a.startResidueIndex}var s=new c(this.residueCount);this.controlPointsBuilder=u.forVertex3D(this.residueCount*this.linearSegmentCount+1),this.torsionVectorsBuilder=u.forVertex3D(this.residueCount*this.linearSegmentCount+1),this.normalVectorsBuilder=u.forVertex3D(this.residueCount*this.linearSegmentCount+1),this.createControlPoints(s)}return n.maskSplit=function(e,n,r){for(var i=e,o=e.startResidueIndex,a=e.endResidueIndex,s=o;s<a;s++)if(n[s]){for(i.startResidueIndex!==s&&(i=new t.Core.Structure.SecondaryStructureElement(e.type,e.startResidueId,e.endResidueId),i.startResidueIndex=s);s<a&&n[s];)s++;i.endResidueIndex=s,r[r.length]=i}},n.isCartoonLike=function(t,e,n,r,i,o,a){for(var s=!1,u=!1,c=!1,l=e;l<n;l++){var h=r[t[l]];if(s||h!==i?u||h!==o||(u=!0):s=!0,s&&u)return!0;"P"===h&&(c=!0)}return a?s:c},n.createMask=function(t,e){for(var r=new Uint8Array(t.residues.count),i=t.atoms,o=i.residueIndex,a=i.name,s=t.residues.secondaryStructureIndex,u=t.secondaryStructure,c=0,l=e.length-1;c<l;c++){var h=e[c],p=c,f=o[h];for(c++;f===o[e[c]];)c++;var d=u[s[f]].type;0!==d&&(5===d?r[f]=+n.isCartoonLike(e,p,c,a,"O5'","C3'",!1):r[f]=+n.isCartoonLike(e,p,c,a,"CA","O",!0),c--)}return r},n.isUnknownSecondaryStructure=function(t){for(var e=!1,n=0,r=t.secondaryStructure;n<r.length;n++){var i=r[n];if(1===i.type||3===i.type||2===i.type)return!1;4===i.type&&(e=!0)}return e},n.approximateSecondaryStructure=function(t,e){if(4!==e.type)return[e];for(var r=[],i=t.atoms.name,o=t.residues,a=o.atomStartIndex,s=o.atomEndIndex,u=new Int32Array(e.endResidueIndex-e.startResidueIndex),c=0,l=!0,h=e.startResidueIndex,p=e.endResidueIndex;h<p;h++){for(var f=!1,d=!1,m=a[h],y=s[p];m<y&&("CA"===i[m]?(f||(u[c++]=m),f=!0):"O"===i[m]&&(d=!0),!d||!f);m++);if(!f||!d){l=!1;break}}return l?(n.zhangSkolnickSStrace(t,u,e,r),r):[e]},n.zhangSkolnickSStrace=function(e,r,i,o){for(var a=new Int32Array(r.length),s=!1,u=e.atoms.residueIndex,c=0,l=r.length;c<l;c++)n.zhangSkolnickSSresidue(e,r,c,n.ZhangHelixDistance,n.ZhangHelixDelta)?(a[c]=1,s=!0):n.zhangSkolnickSSresidue(e,r,c,n.ZhangSheetDistance,n.ZhangSheetDelta)?(a[c]=3,s=!0):a[c]=i.type;if(!s)return void o.push(i);for(var c=0,l=a.length;c<l;c++){var h=a[c];if(h!==i.type){for(var p=c+1;p<l&&h===a[p];)p++;if(p-c>1)c=p-1;else{for(var f=c;f<p;f++)a[f]=i.type;c=p-1}}}for(var c=0,l=a.length;c<l;c++){for(var h=a[c],p=c+1;p<l&&h===a[p];)p++;var d=new t.Core.Structure.SecondaryStructureElement(h,new t.Core.Structure.PolyResidueIdentifier("",c,null),new t.Core.Structure.PolyResidueIdentifier("",p,null));d.startResidueIndex=u[r[c]],d.endResidueIndex=u[r[p-1]]+1,o.push(d),c=p-1}},n.zhangSkolnickSSresidue=function(t,e,r,i,o){for(var a=e.length,s=t.atoms,u=s.x,c=s.y,l=s.z,h=n.ZhangP1,p=n.ZhangP2,f=Math.max(0,r-2);f<=r;f++)for(var d=2;d<5;d++)if(!(f+d>=a)){var m=e[f],y=e[f+d];if(h.set(u[m],c[m],l[m]),p.set(u[y],c[y],l[y]),Math.abs(h.distanceTo(p)-i[d-2])>o)return!1}return!0},n.throwIfEmpty=function(t){if(0===t.length)throw"Cartoons cannot be constructred from this model/selection."},n.buildUnits=function(t,e,r){for(var i=n.createMask(t,e),o=[],a=n.isUnknownSecondaryStructure(t),s=0,u=t.secondaryStructure;s<u.length;s++){var c=u[s];if(a)for(var l=n.approximateSecondaryStructure(t,c),h=0,p=l;h<p.length;h++){var f=p[h];n.maskSplit(f,i,o)}else n.maskSplit(c,i,o)}n.throwIfEmpty(o);var d=o[0],m=t.residues.asymId,y=t.residues.authSeqNumber,v=[],g=[],b=0;d.type===b&&(d=null);for(var _=0,x=o;_<x.length;_++){var c=x[_];c.type===b?(v.length>0&&g.push(new n(t,v,r)),d=null,v=[]):(null===d&&(d=c),m[d.endResidueIndex-1]!==m[c.startResidueIndex]||d!==c&&y[c.startResidueIndex]-y[d.endResidueIndex-1]>1||d.startResidueIndex!==c.startResidueIndex&&c.startResidueIndex-d.endResidueIndex>0?(v.length>0?g.push(new n(t,v,r)):null!==d&&g.push(new n(t,[d],r)),d=null,v=[c]):v[v.length]=c),d=c}return v.length>0&&g.push(new n(t,v,r)),g},n.prototype.createControlPoints=function(t){this.initPositions(t),this.initControlsPoints(t),this.computeSplines(t),this.controlPoints=this.controlPointsBuilder.array,this.torsionVectors=this.torsionVectorsBuilder.array,this.normalVectors=this.normalVectorsBuilder.array,this.controlPointsBuilder=null,this.torsionVectorsBuilder=null,this.normalVectorsBuilder=null},n.prototype.initPositions=function(t){for(var e=this.model.residues,n=this.model.atoms,r={atomStartIndex:e.atomStartIndex,atomEndIndex:e.atomEndIndex,name:n.name,x:n.x,y:n.y,z:n.z},i=[],o=0,a=0,s=0,u=this.elements;s<u.length;s++){var c=u[s];for(this.structureStarts.add(c.startResidueIndex),this.structureEnds.add(c.endResidueIndex-1),a=c.startResidueIndex;a<c.endResidueIndex;a++)this.backboneOnly=t.addResidue(a,r,c.type),i[i.length]=c.type}this.residueIndex=new Int32Array(this.residueCount);for(var l=0,h=this.elements;l<h.length;l++){var c=h[l];for(a=c.startResidueIndex;a<c.endResidueIndex;a++)this.residueIndex[o++]=a}this.residueType=i,t.finishResidues();var p=this.residueCount;if(t.residueType[0]=t.residueType[2],t.residueType[1]=t.residueType[3],t.residueType[t.residueType.length-2]=t.residueType[t.residueType.length-4],t.residueType[t.residueType.length-1]=t.residueType[t.residueType.length-3],p>2){var f=2,d=3,m=4;5!==t.residueType[0]?(this.reflectPositions(t.uPositions,0,1,f,d,d,m,.4,.6),this.reflectPositions(t.vPositions,0,1,f,d,d,m,.4,.6)):(this.reflectPositions(t.uPositions,1,0,f,d,d,m,.5,.5),this.reflectPositions(t.vPositions,1,0,f,d,d,m,.5,.5)),f=p+1,d=p,m=p-1,5!==t.residueType[p-1]?(this.reflectPositions(t.uPositions,p+2,p+3,f,d,d,m,.4,.6),this.reflectPositions(t.vPositions,p+2,p+3,f,d,d,m,.4,.6)):(this.reflectPositions(t.uPositions,p+2,p+3,f,d,d,m,.5,.5),this.reflectPositions(t.vPositions,p+2,p+3,f,d,d,m,.5,.5))}else if(2===p)for(a=0;a<2;a++)t.uPositions[3*a]=t.uPositions[6],t.uPositions[3*a+1]=t.uPositions[7],t.uPositions[3*a+2]=t.uPositions[8],t.vPositions[3*a]=t.vPositions[6],t.vPositions[3*a+1]=t.vPositions[7],t.vPositions[3*a+2]=t.vPositions[8],t.uPositions[3*(p+2)+3*a]=t.uPositions[3*(p+1)],t.uPositions[3*(p+2)+3*a+1]=t.uPositions[3*(p+1)+1],t.uPositions[3*(p+2)+3*a+2]=t.uPositions[3*(p+1)+2],t.vPositions[3*(p+2)+3*a]=t.vPositions[3*(p+1)],t.vPositions[3*(p+2)+3*a+1]=t.vPositions[3*(p+1)+1],t.vPositions[3*(p+2)+3*a+2]=t.vPositions[3*(p+1)+2];else for(var y=[t.uPositions[6]-t.vPositions[6],t.uPositions[7]-t.vPositions[7],t.uPositions[8]-t.vPositions[8]],v=0;v<2;v++)for(var g=0;g<3;g++)t.uPositions[3*v+g]=t.uPositions[6+g]-.5*(v+1)*y[g],t.uPositions[9+3*v+g]=t.uPositions[6+g]+.5*(v+1)*y[g],t.vPositions[3*v+g]=t.vPositions[6+g]+.5*(v+1)*y[g],t.vPositions[9+3*v+g]=t.vPositions[6+g]-.5*(v+1)*y[g]},n.prototype.initControlsPoints=function(t){for(var n=new e.THREE.Vector3,r=t.uvLength-1,i=new e.THREE.Vector3,o=new e.THREE.Vector3,a=new e.THREE.Vector3,s=new e.THREE.Vector3,u=new e.THREE.Vector3,c=new e.THREE.Vector3,l=new e.THREE.Vector3,h=new e.THREE.Vector3,p=1,f=0;f<r;f++)u.set(t.uPositions[3*f],t.uPositions[3*f+1],t.uPositions[3*f+2]),c.set(t.vPositions[3*f],t.vPositions[3*f+1],t.vPositions[3*f+2]),f++,l.set(t.uPositions[3*f],t.uPositions[3*f+1],t.uPositions[3*f+2]),
f--,h.set((u.x+l.x)/2,(u.y+l.y)/2,(u.z+l.z)/2),i.subVectors(l,u),o.subVectors(c,u),a.crossVectors(i,o),s.crossVectors(a,i),a.normalize(),s.normalize(),t.residueType[f]===p&&t.residueType[f+1]===p&&h.set(h.x+1.5*a.x,h.y+1.5*a.y,h.z+1.5*a.z),f>0&&s.angleTo(n)>Math.PI/2&&s.negate(),n.copy(s),i.addVectors(h,s),t.addControlPoint(h,i);t.finishContols()},n.prototype.computeSplines=function(t){for(var r=new e.THREE.Vector3,i=new e.THREE.Vector3,o=new e.THREE.Vector3,a=t.residueCount,s=t.pPositions,u=t.dPositions,c=new e.THREE.Vector3,l=new e.THREE.Vector3,h=new e.THREE.Vector3,p=new e.THREE.Vector3,f=new e.THREE.Vector3,d=new e.THREE.Vector3,m=new e.THREE.Vector3,y=new e.THREE.Vector3,v=new e.THREE.Vector3,g=new e.THREE.Vector3,b=0;b<a;b++){c.set(s[3*b],s[3*b+1],s[3*b+2]),b++,l.set(s[3*b],s[3*b+1],s[3*b+2]),b++,h.set(s[3*b],s[3*b+1],s[3*b+2]),b++,p.set(s[3*b],s[3*b+1],s[3*b+2]),b-=3,f.set(u[3*b],u[3*b+1],u[3*b+2]),b++,d.set(u[3*b],u[3*b+1],u[3*b+2]),b++,m.set(u[3*b],u[3*b+1],u[3*b+2]),b++,y.set(u[3*b],u[3*b+1],u[3*b+2]),b-=3;for(var _=1;_<=this.linearSegmentCount;_++){var x=1*_/this.linearSegmentCount;x<.5?(n.spline(i,c,l,h,x+.5),n.spline(o,f,d,m,x+.5)):(n.spline(i,l,h,p,x-.5),n.spline(o,d,m,y,x-.5)),0===b&&1===_&&(n.spline(r,c,l,h,.5),n.spline(v,f,d,m,.5),n.reflect(g,r,i,1),this.addSplineNode(g,r,v)),this.addSplineNode(r,i,o),r.copy(i)}}},n.prototype.addSplineNode=function(t,e,n){u.add3(this.controlPointsBuilder,e.x,e.y,e.z);var r=this.tempA.subVectors(n,e);r.normalize(),u.add3(this.torsionVectorsBuilder,r.x,r.y,r.z);var i=this.tempB.subVectors(e,t),o=this.tempC.crossVectors(r,i);o.normalize(),u.add3(this.normalVectorsBuilder,o.x,o.y,o.z)},n.prototype.reflectPositions=function(t,e,r,i,o,a,s,u,c){this.tempA.set(t[3*i],t[3*i+1],t[3*i+2]),this.tempB.set(t[3*o],t[3*o+1],t[3*o+2]),n.reflect(this.tempC,this.tempA,this.tempB,u),t[3*e]=this.tempC.x,t[3*e+1]=this.tempC.y,t[3*e+2]=this.tempC.z,this.tempA.set(t[3*a],t[3*a+1],t[3*a+2]),this.tempB.set(t[3*s],t[3*s+1],t[3*s+2]),n.reflect(this.tempC,this.tempA,this.tempB,c),t[3*r]=this.tempC.x,t[3*r+1]=this.tempC.y,t[3*r+2]=this.tempC.z},n.reflect=function(t,e,n,r){t.set(e.x-r*(n.x-e.x),e.y-r*(n.y-e.y),e.z-r*(n.z-e.z))},n.spline=function(t,e,n,r,i){var o=Math.pow(1-i,2)/2,a=Math.pow(i,2)/2,s=1-o-a,u=o*e.x+s*n.x+a*r.x,c=o*e.y+s*n.y+a*r.y,l=o*e.z+s*n.z+a*r.z;t.set(u,c,l)},n}();l.ZhangHelixDistance=[5.45,5.18,6.37],l.ZhangHelixDelta=2.1,l.ZhangSheetDistance=[6.1,10.4,13],l.ZhangSheetDelta=1.42,l.ZhangP1=new e.THREE.Vector3(0,0,0),l.ZhangP2=new e.THREE.Vector3(0,0,0),n.CartoonAsymUnit=l;var h=function(){function t(){this.radialSegmentCount=10,this.turnWidth=.1,this.strandWidth=.15,this.strandLineWidth=.1,this.helixWidth=1.1,this.helixHeight=.1,this.sheetWidth=1.1,this.sheetHeight=.1,this.arrowWidth=1.7,this.tessalation=2}return t}();h.Default=new h,n.CartoonsGeometryParams=h;var p=function(){function t(t,n){this.params=t,this.residueIndex=0,this.verticesDone=0,this.trianglesDone=0,this.vertexBuffer=s.forVertex3D(),this.normalBuffer=s.forVertex3D(),this.indexBuffer=s.forIndexBuffer(),this.translationMatrix=new e.THREE.Matrix4,this.scaleMatrix=new e.THREE.Matrix4,this.rotationMatrix=new e.THREE.Matrix4,this.invMatrix=new e.THREE.Matrix4,this.vertexMap=new e.Selection.VertexMapBuilder(n)}return t.prototype.addVertex=function(t,e){s.add3(this.vertexBuffer,t.x,t.y,t.z),s.add3(this.normalBuffer,e.x,e.y,e.z),this.verticesDone++},t.prototype.addTriangle=function(t,e,n){s.add3(this.indexBuffer,t,e,n),this.trianglesDone++},t.prototype.addTriangles=function(t,e,n,r,i,o){s.add3(this.indexBuffer,t,e,n),s.add3(this.indexBuffer,r,i,o),this.trianglesDone+=2},t}();n.CartoonsGeometryState=p,n.buildUnit=i,n.buildUnitsAsync=o,n.createGeometry=a;var f=function(){function t(){this.tempVectors=[new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3,new e.THREE.Vector3]}return t.prototype.setVector=function(t,e,n){return n.set(t[3*e],t[3*e+1],t[3*e+2]),n},t.prototype.addTube=function(t,e,n,r){var i=e.verticesDone,o=0,a=0,s=this.tempVectors[0],u=this.tempVectors[1],c=this.tempVectors[2],l=this.tempVectors[3],h=this.tempVectors[4],p=this.tempVectors[5],f=this.tempVectors[6],d=e.residueIndex*t.linearSegmentCount,m=d+t.linearSegmentCount,y=t.controlPoints,v=t.linearSegmentCount+1,g=t.torsionVectors,b=t.normalVectors,_=e.params.radialSegmentCount;for(o=d;o<=m;o++)for(this.setVector(g,o,p),this.setVector(b,o,f),a=0;a<_;a++){var x=2*Math.PI*a/_;l.copy(p),h.copy(f),s.addVectors(l.multiplyScalar(n*Math.cos(x)),h.multiplyScalar(r*Math.sin(x))),l.copy(p),h.copy(f),u.addVectors(l.multiplyScalar(r*Math.cos(x)),h.multiplyScalar(n*Math.sin(x))),u.normalize(),this.setVector(y,o,c),c.add(s),e.addVertex(c,u)}for(o=0;o<v-1;o++)for(a=0;a<_;a++)e.addTriangles(i+o*_+a,i+(o+1)*_+(a+1)%_,i+o*_+(a+1)%_,i+o*_+a,i+(o+1)*_+a,i+(o+1)*_+(a+1)%_)},t.prototype.addTubeCap=function(t,e,n,r,i,o){var a,s=e.verticesDone,u=this.tempVectors[0],c=this.tempVectors[1],l=this.tempVectors[2],h=this.tempVectors[3],p=this.tempVectors[4],f=this.tempVectors[5],d=this.tempVectors[6],m=this.tempVectors[7],y=e.residueIndex*t.linearSegmentCount,v=t.controlPoints,g=t.linearSegmentCount+1,b=t.torsionVectors,_=t.normalVectors,x=e.params.radialSegmentCount;this.setVector(b,y,d),this.setVector(_,y,m),c.crossVectors(d,m),o&&c.negate();var w=y+(i?0:g-1);this.setVector(v,w,u),e.addVertex(u,c),this.setVector(b,w,p),this.setVector(_,w,f);for(var C=0;C<x;C++)a=2*Math.PI*C/x,l.copy(p),h.copy(f),u.addVectors(l.multiplyScalar(Math.cos(a)*n),h.multiplyScalar(Math.sin(a)*r)),this.setVector(v,w,d),u.add(d),e.addVertex(u,c),i?e.addTriangle(s,s+C+1,s+(C+1)%x+1):e.addTriangle(s,s+(C+1)%x+1,s+C+1)},t.prototype.addSheet=function(t,e,n,r){var i=e.verticesDone,o=e.params,a=0,s=0,u=this.tempVectors[0],c=this.tempVectors[1],l=this.tempVectors[2],h=this.tempVectors[3],p=this.tempVectors[4],f=this.tempVectors[5],d=this.tempVectors[7],m=this.tempVectors[8],y=this.tempVectors[9],v=e.residueIndex*t.linearSegmentCount,g=v+t.linearSegmentCount,b=t.controlPoints,_=t.torsionVectors,x=t.normalVectors,w=0,C=0;for(h.set(0,0,0),r&&(this.setVector(b,g,d),this.setVector(b,v,m),w=o.arrowWidth/f.subVectors(d,m).length()),a=v;a<=g;a++)C=r?o.arrowWidth*(1-(a-v)/t.linearSegmentCount):o.sheetWidth,this.setVector(_,a,u),u.multiplyScalar(C),this.setVector(x,a,c),c.multiplyScalar(o.sheetHeight),r&&(this.setVector(x,a,d),this.setVector(_,a,m),h.crossVectors(d,m).multiplyScalar(w)),this.setVector(b,a,l),this.setVector(x,a,p),this.setVector(_,a,y),d.copy(l).add(u).add(c),m.copy(p),e.addVertex(d,m),d.copy(l).sub(u).add(c),e.addVertex(d,m),d.copy(l).sub(u).add(c),m.copy(y).negate().add(h),e.addVertex(d,m),d.copy(l).sub(u).sub(c),e.addVertex(d,m),d.copy(l).sub(u).sub(c),m.copy(p).negate(),e.addVertex(d,m),d.copy(l).add(u).sub(c),e.addVertex(d,m),d.copy(l).add(u).sub(c),m.copy(y).add(h),e.addVertex(d,m),d.copy(l).add(u).add(c),e.addVertex(d,m);for(a=0;a<t.linearSegmentCount;a++)for(s=0;s<4;s++)e.addTriangles(i+8*a+2*s,i+8*(a+1)+2*s+1,i+8*a+2*s+1,i+8*a+2*s,i+8*(a+1)+2*s,i+8*(a+1)+2*s+1)},t.prototype.addSheetCap=function(t,e,n,r){var i=e.params,o=e.residueIndex*t.linearSegmentCount,a=this.setVector(t.controlPoints,o,this.tempVectors[0]),s=this.setVector(t.torsionVectors,o,this.tempVectors[1]).multiplyScalar(i.sheetWidth),u=this.setVector(t.normalVectors,o,this.tempVectors[2]).multiplyScalar(i.sheetHeight),c=this.tempVectors[3].addVectors(a,s).add(u),l=this.tempVectors[4].subVectors(a,s).add(u),h=this.tempVectors[5].subVectors(a,s).sub(u),p=this.tempVectors[6].addVectors(a,s).sub(u);if(n)this.addSheepCapSection(e,c,l,h,p);else{var f=this.setVector(t.torsionVectors,o,this.tempVectors[7]).multiplyScalar(i.arrowWidth),d=this.tempVectors[8].addVectors(a,f).add(u),m=this.tempVectors[9].subVectors(a,f).add(u),y=this.tempVectors[10].subVectors(a,f).sub(u),v=this.tempVectors[11].addVectors(a,f).sub(u);this.addSheepCapSection(e,d,c,p,v),this.addSheepCapSection(e,l,m,y,h)}},t.prototype.addSheepCapSection=function(t,e,n,r,i){var o=t.verticesDone,a=this.tempVectors[12].crossVectors(this.tempVectors[13].subVectors(n,e),this.tempVectors[14].subVectors(i,e)).normalize();t.addVertex(e,a),t.addVertex(n,a),t.addVertex(r,a),t.addVertex(i,a),t.addTriangles(o,o+1,o+2,o+2,o+3,o)},t.prototype.findN3=function(t,e,n){for(var r=e.startIndex[t],i=e.endIndex[t],o=!1,a=r;a<i;a++)if("N3"===e.name[a]){n.set(e.x[a],e.y[a],e.z[a]),o=!0;break}return o},t.prototype.addStrandLine=function(t,n,r,i,o){if(this.findN3(o,i,this.tempVectors[3])){var a,s=this.tempVectors[0],u=this.tempVectors[1],c=r.vertex,l=r.normal,h=r.index,p=n.verticesDone,f=c.length,d=h.length,m=n.residueIndex*t.linearSegmentCount+(.5*t.linearSegmentCount+1|0),y=this.setVector(t.controlPoints,m,this.tempVectors[2]),v=this.tempVectors[3].sub(y),g=v.length();for(v.normalize(),n.translationMatrix.makeTranslation(y.x,y.y,y.z),n.scaleMatrix.makeScale(1,1,g),n.rotationMatrix.makeRotationAxis(new e.THREE.Vector3(-v.y,v.x,0),Math.acos(v.z)),n.translationMatrix.multiply(n.rotationMatrix).multiply(n.scaleMatrix),r.geometry.applyMatrix(n.translationMatrix),a=0;a<f;a+=3)s.set(c[a],c[a+1],c[a+2]),u.set(l[a],l[a+1],l[a+2]),n.addVertex(s,u);for(a=0;a<d;a+=3)n.addTriangle(p+h[a],p+h[a+1],p+h[a+2]);n.invMatrix.getInverse(n.translationMatrix),r.geometry.applyMatrix(n.invMatrix)}},t}();n.Builder=f}(r=n.Geometry||(n.Geometry={}))}(r=n.Cartoons||(n.Cartoons={}))}(n=e.Molecule||(e.Molecule={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){var r;!function(t){t[t.Default=0]="Default",t[t.AlphaTrace=1]="AlphaTrace"}(r=n.CartoonsModelType||(n.CartoonsModelType={})),n.DefaultCartoonsModelParameters={tessalation:3,drawingType:r.Default};var i=function(i){function o(){return i.apply(this,arguments)||this}return _(o,i),o.prototype.applySelectionInternal=function(t,n){for(var r=this.cartoons.vertexStateBuffer,i=r.array,o=this.cartoons.vertexMap,a=o.vertexRanges,s=!1,u=this.model.atoms.residueIndex,c=0,l=t.length;c<l;c++){var h=u[t[c]];for(c++;u[t[c]]===h;)c++;if(c--,o.elementMap.has(h)){var p=o.elementMap.get(h),f=o.elementRanges[2*p],d=o.elementRanges[2*p+1];if(f!==d)for(var m=f;m<d;m+=2){var y=a[m],v=a[m+1];s=e.Selection.applyActionToRange(i,y,v,n)||s}}}return!!s&&(r.needsUpdate=!0,!0)},o.prototype.getPickElements=function(t){for(var e=this.model.residues,n=e.atomStartIndex,r=e.atomEndIndex,i=[],o=n[t],a=r[t];o<a;o++)this.queryContext.hasAtom(o)&&i.push(o);return i},o.prototype.highlightElement=function(t,e){return this.applySelection([this.model.residues.atomStartIndex[t]],e?3:4)},o.prototype.highlightInternal=function(t){return e.Selection.applyActionToBuffer(this.cartoons.vertexStateBuffer,t?3:4)},o.prototype.applyColoring=function(t){for(var e=this.model.residues,n=e.atomStartIndex,r=e.atomEndIndex,i={r:.1,g:.1,b:.1},o={r:.1,g:.1,b:.1},a=this.cartoons.vertexMap,s=this.cartoons.geometry.attributes.color,u=s.array,c=a.vertexRanges,l=0,h=this.model.residues.count;l<h;l++){o.r=0,o.g=0,o.b=0;for(var p=0,f=n[l],d=r[l];f<d;f++)this.queryContext.hasAtom(f)&&(t.setElementColor(f,i),o.r+=i.r,o.g+=i.g,o.b+=i.b,p++);if(p){i.r=o.r/p,i.g=o.g/p,i.b=o.b/p;var m=a.elementMap.get(l),y=a.elementRanges[2*m],v=a.elementRanges[2*m+1];if(y!==v)for(var g=y;g<v;g+=2)for(var b=c[g],_=c[g+1],x=b;x<_;x++)u[3*x]=i.r,u[3*x+1]=i.g,u[3*x+2]=i.b}}s.needsUpdate=!0},o.prototype.applyThemeInternal=function(t){this.applyColoring(t),e.MaterialsHelper.updateMaterial(this.material,t,this.object)},o.prototype.createObjects=function(){return{main:new e.THREE.Mesh(this.cartoons.geometry,this.material),pick:new e.THREE.Mesh(this.cartoons.pickGeometry,this.pickMaterial)}},o.create=function(i,a){var s=this,u=a.model,c=a.queryContext,l=a.atomIndices,h=a.theme,p=a.params,f=a.props;return t.Core.computation(function(a){return v(s,void 0,void 0,function(){var s,d,m,y,v;return g(this,function(g){switch(g.label){case 0:return s=0,d=0,[4,a.updateProgress("Computing cartoons...")];case 1:switch(g.sent(),p=t.Core.Utils.extend({},p,n.DefaultCartoonsModelParameters),p.tessalation){case 0:s=1,d=2;break;case 1:s=4,d=3;break;case 2:s=6,d=5;break;case 3:s=10,d=8;break;case 4:s=12,d=10;break;case 5:s=16,d=14;break;default:s=18,d=16}return[4,n.Geometry.create(u,l,s,{radialSegmentCount:d,tessalation:p.tessalation},p.drawingType===r.AlphaTrace,a)];case 2:return m=g.sent(),y=new o,y.cartoons=m,y.queryContext=c,y.material=e.MaterialsHelper.getMeshMaterial(),y.pickMaterial=e.MaterialsHelper.getPickMaterial(),f&&(y.props=f),y.entity=i,y.cartoons.geometry.computeBoundingSphere(),y.centroid=y.cartoons.geometry.boundingSphere.center,y.radius=y.cartoons.geometry.boundingSphere.radius,v=y.createObjects(),y.object=v.main,y.pickObject=v.pick,y.pickBufferAttributes=[y.cartoons.pickGeometry.attributes.pColor],y.model=u,y.applyTheme(h),y.disposeList.push(y.cartoons,y.material,y.pickMaterial),[2,y]}})})})},o}(e.Model);n.Model=i}(r=n.Cartoons||(n.Cartoons={}))}(n=e.Molecule||(e.Molecule={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){t.DefaultBondColor={r:.6,g:.6,b:.6},t.DefaultElementColor={r:.6,g:.6,b:.6},t.DefaultElementColorMap=new Map,t.DefaultPallete=[],function(){for(var e=[["Ac",.43921,.67058,.98039],["Al",.74901,.65098,.65098],["Am",.32941,.36078,.94901],["Sb",.6196,.38823,.7098],["Ar",.50196,.8196,.89019],["As",.74117,.50196,.89019],["At",.45882,.3098,.27058],["Ba",0,.78823,0],["Bk",.54117,.3098,.89019],["Be",.76078,1,0],["Bi",.6196,.3098,.7098],["Bh",.87843,0,.2196],["B",1,.7098,.7098],["Br",.65098,.16078,.16078],["Cd",1,.85098,.56078],["Ca",.23921,1,0],["Cf",.63137,.21176,.83137],["C",.45,.45,.45],["Ce",1,1,.78039],["Cs",.34117,.09019,.56078],["Cl",.12156,.94117,.12156],["Cr",.54117,.6,.78039],["Co",.94117,.5647,.62745],["Cu",.78431,.50196,.2],["Cm",.47058,.36078,.89019],["D",.9,.9,.9],["Db",.8196,0,.3098],["Dy",.12156,1,.78039],["Es",.70196,.12156,.83137],["Er",0,.90196,.45882],["Eu",.38039,1,.78039],["Fm",.70196,.12156,.72941],["F",.70196,1,1],["Fr",.25882,0,.4],["Gd",.27058,1,.78039],["Ga",.76078,.56078,.56078],["Ge",.4,.56078,.56078],["Au",1,.8196,.13725],["Hf",.30196,.76078,1],["Hs",.90196,0,.18039],["He",.85098,1,1],["Ho",0,1,.61176],["H",.9,.9,.9],["In",.65098,.45882,.45098],["I",.58039,0,.58039],["Ir",.09019,.32941,.52941],["Fe",.698,.13,.13],["Kr",.36078,.72156,.8196],["La",.43921,.83137,1],["Lr",.78039,0,.4],["Pb",.34117,.34901,.38039],["Li",.8,.50196,1],["Lu",0,.67058,.14117],["Mg",.54117,1,0],["Mn",.61176,.47843,.78039],["Mt",.92156,0,.14901],["Md",.70196,.05098,.65098],["Hg",.72156,.72156,.81568],["Mo",.32941,.7098,.7098],["Nd",.78039,1,.78039],["Ne",.70196,.89019,.96078],["Np",0,.50196,1],["Ni",.31372,.81568,.31372],["Nb",.45098,.76078,.78823],["N",0,.5,1],["No",.74117,.05098,.52941],["Os",.14901,.4,.58823],["O",1,.3,.3],["Pd",0,.41176,.52156],["P",1,.50196,0],["Pt",.81568,.81568,.87843],["Pu",0,.4196,1],["Po",.67058,.36078,0],["K",.56078,.25098,.83137],["Pr",.85098,1,.78039],["Pm",.63921,1,.78039],["Pa",0,.63137,1],["Ra",0,.49019,0],["Rn",.25882,.5098,.58823],["Re",.14901,.49019,.67058],["Rh",.03921,.49019,.54901],["Rb",.43921,.18039,.69019],["Ru",.14117,.56078,.56078],["Rf",.8,0,.34901],["Sm",.56078,1,.78039],["Sc",.90196,.90196,.90196],["Sg",.85098,0,.27058],["Se",1,.63137,0],["Si",.94117,.78431,.62745],["Ag",.75294,.75294,.75294],["Na",.67058,.36078,.94901],["Sr",0,1,0],["S",.9,.775,.25],["Ta",.30196,.65098,1],["Tc",.23137,.6196,.6196],["Te",.83137,.47843,0],["Tb",.18823,1,.78039],["Tl",.65098,.32941,.30196],["Th",0,.72941,1],["Tm",0,.83137,.32156],["Sn",.4,.50196,.50196],["Ti",.74901,.76078,.78039],["W",.12941,.58039,.83921],["U",0,.56078,1],["V",.65098,.65098,.67058],["Xe",.25882,.6196,.69019],["Yb",0,.74901,.2196],["Y",.58039,1,1],["Zn",.49019,.50196,.69019],["Zr",.58039,.87843,.87843]],n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],a={r:i[1],g:i[2],b:i[3]};t.DefaultElementColorMap.set(o,a),t.DefaultElementColorMap.set(o.toUpperCase(),a),t.DefaultElementColorMap.set(o.toLowerCase(),a),t.DefaultPallete.push(a)}}()}(e=t.Colors||(t.Colors={}))}(e=t.Molecule||(t.Molecule={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){function r(n,r,o){var a=new e.THREE.IcosahedronGeometry(r,o),s=e.GeometryHelper.toSurface(a);return 0===n.x&&0===n.y&&0===n.z||t.Core.Geometry.Surface.transformImmediate(s,i.Matrix4.fromTranslation(i.Matrix4.empty(),[n.x,n.y,n.z])),s}var i=t.Core.Geometry.LinearAlgebra;n.createSphereSurface=r}(n=e.Primitive||(e.Primitive={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){function r(r){var o=this;return t.Core.computation(function(t){return v(o,void 0,void 0,function(){var o,a,s,u,c,l,h,u,p,f,d,m,y,v,b,_,x,w,C,S,E,T,u,M,A,P,k,P,k,P,k,R,P,k,P,k,O;return g(this,function(g){switch(g.label){case 0:return[4,t.updateProgress("Building surface...")];case 1:for(g.sent(),o=new Map,a=0,s=r;a<s.length;a++)u=s[a],"Sphere"!==u.type||o.has(u.tessalation||0)||o.set(u.tessalation||0,n.createSphereSurface({x:0,y:0,z:0},1,u.tessalation||0));for(c={vertexCount:0,triangleCount:0},l=0,h=r;l<h.length;l++)switch(u=h[l],u.type){case"Sphere":p=o.get(u.tessalation||0),c.vertexCount+=p.vertexCount,c.triangleCount+=p.triangleCount;break;case"Surface":c.vertexCount+=u.surface.vertexCount,c.triangleCount+=u.surface.triangleCount}for(f=new Float32Array(3*c.vertexCount),d=new Float32Array(3*c.vertexCount),m=new Uint32Array(3*c.triangleCount),y=new Int32Array(c.vertexCount),v=0,b=0,_=0,x=0,w=new e.THREE.Vector3,C=new e.THREE.Matrix4,E=0,T=r;E<T.length;E++){switch(u=T[E],M=void 0,A=v/3|0,u.type){case"Sphere":for(M=o.get(u.tessalation||0),S=M.vertices,P=0,k=3*M.vertexCount;P<k;P+=3)w.x=S[P],w.y=S[P+1],w.z=S[P+2],w.applyMatrix4(C.makeScale(u.radius,u.radius,u.radius)),w.applyMatrix4(C.makeTranslation(u.center.x,u.center.y,u.center.z)),f[v++]=w.x,f[v++]=w.y,f[v++]=w.z;break;case"Surface":for(M=u.surface,i.computeNormalsImmediate(M),S=M.vertices,P=0,k=S.length;P<k;P++)f[v++]=S[P]}for(S=M.normals,P=0,k=S.length;P<k;P++)d[b++]=S[P];for(R=M.triangleIndices,P=0,k=R.length;P<k;P++)m[_++]=A+R[P];for(P=0,k=M.vertexCount;P<k;P++)y[x++]=u.id}return O={vertices:f,vertexCount:c.vertexCount,triangleIndices:m,triangleCount:c.triangleCount,normals:d,annotation:y},[2,O]}})})})}var i=t.Core.Geometry.Surface,o=function(){function t(){this.shapes=[]}return t.prototype.add=function(t){return this.shapes.push(t),this},t.prototype.buildSurface=function(){return r(this.shapes)},t.create=function(){return new t},t}();n.Builder=o}(n=e.Primitive||(e.Primitive={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.getRandomColor=function(e){void 0===e&&(e=0);for(var n=0;;){n++;var r=t.randomMix({r:166/255,g:0,b:100/255},{r:1,g:1,b:0},{r:0,g:100/255,b:1},e),i=Math.abs(t.previous.r-r.r)+Math.abs(t.previous.g-r.g)+Math.abs(t.previous.b-r.b);if(i>100||10===n)return t.previous=r,r}},t.randomMix=function(t,e,n,r){var i=0|Math.floor(3*Math.random()),o=0===i?Math.random()*r:Math.random(),a=1===i?Math.random()*r:Math.random(),s=2===i?Math.random()*r:Math.random(),u=o+a+s;return o/=u,a/=u,s/=u,{r:o*t.r+a*e.r+s*n.r,g:o*t.g+a*e.g+s*n.g,b:o*t.b+a*e.b+s*n.b}},t.interpolate=function(t,e,n,r,i,o){var a=void 0!==o?o:{r:.1,g:.1,b:.1},s=(i-t)/(n-t);return a.r=e.r+(r.r-e.r)*s,a.g=e.g+(r.g-e.g)*s,a.b=e.b+(r.b-e.b)*s,a},t}();e.previous=e.randomMix({r:.75,g:0,b:.25},{r:1,g:.5,b:0},{r:0,g:.35,b:1},.5),t.Palette=e}(e=t.Utils||(t.Utils={}))}(e=t.Visualization||(t.Visualization={}))}(m||(m={}));var x;!function(t,e){x=e()}({},function(){function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:P(t)}function n(t){return a(t)?t:k(t)}function r(t){return s(t)?t:R(t)}function i(t){return o(t)&&!u(t)?t:O(t)}function o(t){return!(!t||!t[cn])}function a(t){return!(!t||!t[ln])}function s(t){return!(!t||!t[hn])}function u(t){return a(t)||s(t)}function c(t){return!(!t||!t[pn])}function l(t){return t.value=!1,t}function h(t){t&&(t.value=!0)}function p(){}function f(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(y)),t.size}function m(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?d(t)+e:e}function y(){return!0}function v(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function g(t,e){return _(t,e,0)}function b(t,e){return _(t,e,e)}function _(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function x(t){this.next=t}function w(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function C(){return{value:void 0,done:!0}}function S(t){return!!M(t)}function E(t){return t&&"function"==typeof t.next}function T(t){var e=M(t);return e&&e.call(t)}function M(t){var e=t&&(Cn&&t[Cn]||t[Sn]);if("function"==typeof e)return e}function A(t){return t&&"number"==typeof t.length}function P(t){return null===t||void 0===t?F():o(t)?t.toSeq():U(t)}function k(t){return null===t||void 0===t?F().toKeyedSeq():o(t)?a(t)?t.toSeq():t.fromEntrySeq():j(t)}function R(t){return null===t||void 0===t?F():o(t)?a(t)?t.entrySeq():t.toIndexedSeq():B(t)}function O(t){return(null===t||void 0===t?F():o(t)?a(t)?t.entrySeq():t:B(t)).toSetSeq()}function I(t){this._array=t,this.size=t.length}function N(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function D(t){this._iterable=t,this.size=t.length||t.size}function L(t){this._iterator=t,this._iteratorCache=[]}function V(t){return!(!t||!t[Tn])}function F(){return Mn||(Mn=new I([]))}function j(t){var e=Array.isArray(t)?new I(t).fromEntrySeq():E(t)?new L(t).fromEntrySeq():S(t)?new D(t).fromEntrySeq():"object"==typeof t?new N(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function B(t){var e=z(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function U(t){var e=z(t)||"object"==typeof t&&new N(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function z(t){return A(t)?new I(t):E(t)?new L(t):S(t)?new D(t):void 0}function H(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(e(s[1],r?s[0]:a,t)===!1)return a+1}return a}return t.__iterateUncached(e,n)}function G(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new x(function(){var t=i[n?o-a:a];return a++>o?C():w(e,r?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,n)}function q(t,e){return e?W(e,t,"",{"":t}):X(t)}function W(t,e,n,r){return Array.isArray(e)?t.call(r,n,R(e).map(function(n,r){return W(t,n,r,e)})):Y(e)?t.call(r,n,k(e).map(function(n,r){return W(t,n,r,e)})):e}function X(t){return Array.isArray(t)?R(t).map(X).toList():Y(t)?k(t).map(X).toMap():t}function Y(t){return t&&(t.constructor===Object||void 0===t.constructor)}function K(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function Z(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||a(t)!==a(e)||s(t)!==s(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!u(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&K(i[1],t)&&(n||K(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var l=t;t=e,e=l}var h=!0,p=e.__iterate(function(e,r){if(n?!t.has(e):i?!K(e,t.get(r,vn)):!K(t.get(r,vn),e))return h=!1,!1});return h&&t.size===p}function Q(t,e){if(!(this instanceof Q))return new Q(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(An)return An;An=this}}function $(t,e){if(!t)throw new Error(e)}function J(t,e,n){if(!(this instanceof J))return new J(t,e,n);if($(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Pn)return Pn;Pn=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return it(n)}if("string"===e)return t.length>Vn?at(t):st(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return ut(t);if("function"==typeof t.toString)return st(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function at(t){var e=Bn[t];return void 0===e&&(e=st(t),jn===Fn&&(jn=0,Bn={}),jn++,Bn[t]=e),e}function st(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function ut(t){var e;if(Nn&&(e=kn.get(t),void 0!==e))return e;if(e=t[Ln],void 0!==e)return e;if(!In){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ln],void 0!==e)return e;if(e=ct(t),void 0!==e)return e}if(e=++Dn,1073741824&Dn&&(Dn=0),Nn)kn.set(t,e);else{if(void 0!==On&&On(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(In)Object.defineProperty(t,Ln,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ln]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Ln]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function lt(t){$(t!==1/0,"Cannot perform this action with an infinite size.")}function ht(t){return null===t||void 0===t?wt():pt(t)&&!c(t)?t:wt().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function pt(t){return!(!t||!t[Un])}function ft(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function mt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function yt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function vt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function gt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&_t(t._root)}function bt(t,e){return w(t,e[0],e[1])}function _t(t,e){return{node:t,index:0,__prev:e}}function xt(t,e,n,r){var i=Object.create(zn);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function wt(){return Hn||(Hn=xt(0))}function Ct(t,e,n){var r,i;if(t._root){var o=l(gn),a=l(bn);if(r=St(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===vn?-1:1:0)}else{if(n===vn)return t;i=1,r=new ft(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?xt(i,r):wt()}function St(t,e,n,r,i,o,a,s){return t?t.update(e,n,r,i,o,a,s):o===vn?t:(h(s),h(a),new vt(e,r,[i,o]))}function Et(t){return t.constructor===vt||t.constructor===yt}function Tt(t,e,n,r,i){if(t.keyHash===r)return new yt(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&yn,s=(0===n?r:r>>>n)&yn,u=a===s?[Tt(t,e,n+dn,r,i)]:(o=new vt(e,r,i),a<s?[t,o]:[o,t]);return new dt(e,1<<a|1<<s,u)}function Mt(t,e,n,r){t||(t=new p);for(var i=new vt(t,ot(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function At(t,e,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==r&&(i|=u,a[o++]=l)}return new dt(t,i,a)}function Pt(t,e,n,r,i){for(var o=0,a=new Array(mn),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[r]=i,new mt(t,o+1,a)}function kt(t,e,r){for(var i=[],a=0;a<r.length;a++){var s=r[a],u=n(s);o(s)||(u=u.map(function(t){return q(t)})),i.push(u)}return It(t,e,i)}function Rt(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):K(t,e)?t:e}function Ot(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return K(e,i)?e:i}}function It(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,vn,function(t){return t===vn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function Nt(t,e,n,r){var i=t===vn,o=e.next();if(o.done){var a=i?n:t,s=r(a);return s===a?t:s}$(i||t&&t.set,"invalid keyPath");var u=o.value,c=i?vn:t.get(u,vn),l=Nt(c,e,n,r);return l===c?t:l===vn?t.remove(u):(i?wt():t).set(u,l)}function Dt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function Lt(t,e,n,r){var i=r?t:f(t);return i[e]=n,i}function Vt(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}function Ft(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}function jt(t){var e=Gt();if(null===t||void 0===t)return e;if(Bt(t))return t;var n=r(t),i=n.size;return 0===i?e:(lt(i),i>0&&i<mn?Ht(0,i,dn,null,new Ut(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function Bt(t){return!(!t||!t[Xn])}function Ut(t,e){this.array=t,this.ownerID=e}function zt(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===s?u&&u.array:t&&t.array,i=n>o?0:o-n,c=a-n;return c>mn&&(c=mn),function(){if(i===c)return Zn;var t=e?--c:i++;return r&&r[t]}}function i(t,r,i){var s,u=t&&t.array,c=i>o?0:o-i>>r,l=(a-i>>r)+1;return l>mn&&(l=mn),function(){for(;;){if(s){var t=s();if(t!==Zn)return t;s=null}if(c===l)return Zn;var o=e?--l:c++;s=n(u&&u[o],r-dn,i+(o<<r))}}}var o=t._origin,a=t._capacity,s=Qt(a),u=t._tail;return n(t._root,t._level,0)}function Ht(t,e,n,r,i,o,a){var s=Object.create(Yn);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Gt(){return Kn||(Kn=Ht(0,0,dn))}function qt(t,e,n){if(e=m(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Kt(t,e).set(0,n):Kt(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=l(bn);return e>=Qt(t._capacity)?r=Wt(r,t.__ownerID,0,e,n,o):i=Wt(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Ht(t._origin,t._capacity,t._level,i,r):t}function Wt(t,e,n,r,i,o){var a=r>>>n&yn,s=t&&a<t.array.length;if(!s&&void 0===i)return t;var u;if(n>0){var c=t&&t.array[a],l=Wt(c,e,n-dn,r,i,o);return l===c?t:(u=Xt(t,e),u.array[a]=l,u)}return s&&t.array[a]===i?t:(h(o),u=Xt(t,e),void 0===i&&a===u.array.length-1?u.array.pop():u.array[a]=i,u)}function Xt(t,e){return e&&t&&e===t.ownerID?t:new Ut(t?t.array.slice():[],e)}function Yt(t,e){if(e>=Qt(t._capacity))return t._tail;if(e<1<<t._level+dn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&yn],r-=dn;return n}}function Kt(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new p,i=t._origin,o=t._capacity,a=i+e,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return t;if(a>=s)return t.clear();
for(var u=t._level,c=t._root,l=0;a+l<0;)c=new Ut(c&&c.array.length?[void 0,c]:[],r),u+=dn,l+=1<<u;l&&(a+=l,i+=l,s+=l,o+=l);for(var h=Qt(o),f=Qt(s);f>=1<<u+dn;)c=new Ut(c&&c.array.length?[c]:[],r),u+=dn;var d=t._tail,m=f<h?Yt(t,s-1):f>h?new Ut([],r):d;if(d&&f>h&&a<o&&d.array.length){c=Xt(c,r);for(var y=c,v=u;v>dn;v-=dn){var g=h>>>v&yn;y=y.array[g]=Xt(y.array[g],r)}y.array[h>>>dn&yn]=d}if(s<o&&(m=m&&m.removeAfter(r,0,s)),a>=f)a-=f,s-=f,u=dn,c=null,m=m&&m.removeBefore(r,0,a);else if(a>i||f<h){for(l=0;c;){var b=a>>>u&yn;if(b!==f>>>u&yn)break;b&&(l+=(1<<u)*b),u-=dn,c=c.array[b]}c&&a>i&&(c=c.removeBefore(r,u,a-l)),c&&f<h&&(c=c.removeAfter(r,u,f-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=m,t.__hash=void 0,t.__altered=!0,t):Ht(a,s,u,c,m)}function Zt(t,e,n){for(var i=[],a=0,s=0;s<n.length;s++){var u=n[s],c=r(u);c.size>a&&(a=c.size),o(u)||(c=c.map(function(t){return q(t)})),i.push(c)}return a>t.size&&(t=t.setSize(a)),It(t,e,i)}function Qt(t){return t<mn?0:t-1>>>dn<<dn}function $t(t){return null===t||void 0===t?ee():Jt(t)?t:ee().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function Jt(t){return pt(t)&&c(t)}function te(t,e,n,r){var i=Object.create($t.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Qn||(Qn=te(wt(),Gt()))}function ne(t,e,n){var r,i,o=t._map,a=t._list,s=o.get(e),u=void 0!==s;if(n===vn){if(!u)return t;a.size>=mn&&a.size>=2*o.size?(i=a.filter(function(t,e){return void 0!==t&&s!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return t;r=o,i=a.set(s,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ae(t){this._iter=t,this.size=t.size}function se(t){var e=Ae(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Pe,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return e(n,t,r)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===wn){var r=t.__iterator(e,n);return new x(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===xn?_n:xn,n)},e}function ue(t,e,n){var r=Ae(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,vn);return o===vn?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,a){return r(e.call(n,t,i,a),i,o)!==!1},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(wn,i);return new x(function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return w(r,s,e.call(n,a[1],s,t),i)})},r}function ce(t,e){var n=Ae(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=se(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Pe,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function le(t,e,n,r){var i=Ae(t);return r&&(i.has=function(r){var i=t.get(r,vn);return i!==vn&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,vn);return o!==vn&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate(function(t,o,u){if(e.call(n,t,o,u))return s++,i(t,r?o:s-1,a)},o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(wn,o),s=0;return new x(function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return w(i,r?c:s++,l,o)}})},i}function he(t,e,n){var r=ht().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function pe(t,e,n){var r=a(t),i=(c(t)?$t():ht()).asMutable();t.__iterate(function(o,a){i.update(e.call(n,o,a,t),function(t){return t=t||[],t.push(r?[a,o]:o),t})});var o=Me(t);return i.map(function(e){return Se(t,o(e))})}function fe(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),v(e,n,i))return t;var o=g(e,i),a=b(n,i);if(o!==o||a!==a)return fe(t.toSeq().cacheResult(),e,n,r);var s,u=a-o;u===u&&(s=u<0?0:u);var c=Ae(t);return c.size=0===s?s:t.size&&s||void 0,!r&&V(t)&&s>=0&&(c.get=function(e,n){return e=m(this,e),e>=0&&e<s?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,u=!0,c=0;return t.__iterate(function(t,n){if(!u||!(u=a++<o))return c++,e(t,r?n:c-1,i)!==!1&&c!==s}),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),a=0,u=0;return new x(function(){for(;a++<o;)i.next();if(++u>s)return C();var t=i.next();return r||e===xn?t:e===_n?w(e,u-1,void 0,t):w(e,u-1,t.value[1],t)})},c}function de(t,e,n){var r=Ae(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate(function(t,i,s){return e.call(n,t,i,s)&&++a&&r(t,i,o)}),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(wn,i),s=!0;return new x(function(){if(!s)return C();var t=a.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?r===wn?t:w(r,u,c,t):(s=!1,C())})},r}function me(t,e,n,r){var i=Ae(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return t.__iterate(function(t,o,c){if(!s||!(s=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,a)}),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(wn,o),u=!0,c=0;return new x(function(){var t,o,l;do{if(t=s.next(),t.done)return r||i===xn?t:i===_n?w(i,c++,void 0,t):w(i,c++,t.value[1],t);var h=t.value;o=h[0],l=h[1],u&&(u=e.call(n,l,o,a))}while(u);return i===wn?t:w(i,o,l,t)})},i}function ye(t,e){var r=a(t),i=[t].concat(e).map(function(t){return o(t)?r&&(t=n(t)):t=r?j(t):B(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var u=i[0];if(u===t||r&&a(u)||s(t)&&s(u))return u}var c=new I(i);return r?c=c.toKeyedSeq():s(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function ve(t,e,n){var r=Ae(t);return r.__iterateUncached=function(r,i){function a(t,c){var l=this;t.__iterate(function(t,i){return(!e||c<e)&&o(t)?a(t,c+1):r(t,n?i:s++,l)===!1&&(u=!0),!u},i)}var s=0,u=!1;return a(t,0),s},r.__iteratorUncached=function(r,i){var a=t.__iterator(r,i),s=[],u=0;return new x(function(){for(;a;){var t=a.next();if(t.done===!1){var c=t.value;if(r===wn&&(c=c[1]),e&&!(s.length<e)||!o(c))return n?t:w(r,u++,c,t);s.push(a),a=c.__iterator(r,i)}else a=s.pop()}return C()})},r}function ge(t,e,n){var r=Me(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function be(t,e){var n=Ae(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||n(e,o++,i)!==!1)&&n(t,o++,i)!==!1},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(xn,r),a=0;return new x(function(){return(!i||a%2)&&(i=o.next(),i.done)?i:a%2?w(n,a++,e):w(n,a++,i.value,i)})},n}function _e(t,e,n){e||(e=ke);var r=a(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?k(o):s(t)?R(o):O(o)}function xe(t,e,n){if(e||(e=ke),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return we(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return we(e,t,n)?n:t})}function we(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Ce(t,n,r){var i=Ae(t);return i.size=new I(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(xn,e),i=0;!(n=r.next()).done&&t(n.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),T(i?t.reverse():t)}),a=0,s=!1;return new x(function(){var e;return s||(e=o.map(function(t){return t.next()}),s=e.some(function(t){return t.done})),s?C():w(t,a++,n.apply(null,e.map(function(t){return t.value})))})},i}function Se(t,e){return V(t)?e:t.constructor(e)}function Ee(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Te(t){return lt(t.size),d(t)}function Me(t){return a(t)?n:s(t)?r:i}function Ae(t){return Object.create((a(t)?k:s(t)?R:O).prototype)}function Pe(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):P.prototype.cacheResult.call(this)}function ke(t,e){return t>e?1:t<e?-1:0}function Re(t){var n=T(t);if(!n){if(!A(t))throw new TypeError("Expected iterable or array-like: "+t);n=T(e(t))}return n}function Oe(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);De(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=ht(o)},i=r.prototype=Object.create($n);return i.constructor=r,r}function Ie(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Ne(t){return t._name||t.constructor.name||"Record"}function De(t,e){try{e.forEach(Le.bind(void 0,t))}catch(t){}}function Le(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){$(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Ve(t){return null===t||void 0===t?Ue():Fe(t)&&!c(t)?t:Ue().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function Fe(t){return!(!t||!t[Jn])}function je(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Be(t,e){var n=Object.create(tr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ue(){return er||(er=Be(wt()))}function ze(t){return null===t||void 0===t?qe():He(t)?t:qe().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function He(t){return Fe(t)&&c(t)}function Ge(t,e){var n=Object.create(nr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function qe(){return rr||(rr=Ge(ee()))}function We(t){return null===t||void 0===t?Ke():Xe(t)?t:Ke().unshiftAll(t)}function Xe(t){return!(!t||!t[ir])}function Ye(t,e,n,r){var i=Object.create(or);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ke(){return ar||(ar=Ye(0))}function Ze(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Qe(t,e){return e}function $e(t,e){return[e,t]}function Je(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):t}function nn(){return f(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=a(t),r=e?1:0,i=t.__iterate(n?e?function(t,e){r=31*r+sn(ot(t),ot(e))|0}:function(t,e){r=r+sn(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0});return an(i,r)}function an(t,e){return e=Rn(e,3432918353),e=Rn(e<<15|e>>>-15,461845907),e=Rn(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Rn(e^e>>>16,2246822507),e=Rn(e^e>>>13,3266489909),e=it(e^e>>>16)}function sn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var un=Array.prototype.slice;t(n,e),t(r,e),t(i,e),e.isIterable=o,e.isKeyed=a,e.isIndexed=s,e.isAssociative=u,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=i;var cn="@@__IMMUTABLE_ITERABLE__@@",ln="@@__IMMUTABLE_KEYED__@@",hn="@@__IMMUTABLE_INDEXED__@@",pn="@@__IMMUTABLE_ORDERED__@@",fn="delete",dn=5,mn=1<<dn,yn=mn-1,vn={},gn={value:!1},bn={value:!1},_n=0,xn=1,wn=2,Cn="function"==typeof Symbol&&Symbol.iterator,Sn="@@iterator",En=Cn||Sn;x.prototype.toString=function(){return"[Iterator]"},x.KEYS=_n,x.VALUES=xn,x.ENTRIES=wn,x.prototype.inspect=x.prototype.toSource=function(){return this.toString()},x.prototype[En]=function(){return this},t(P,e),P.of=function(){return P(arguments)},P.prototype.toSeq=function(){return this},P.prototype.toString=function(){return this.__toString("Seq {","}")},P.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},P.prototype.__iterate=function(t,e){return H(this,t,e,!0)},P.prototype.__iterator=function(t,e){return G(this,t,e,!0)},t(k,P),k.prototype.toKeyedSeq=function(){return this},t(R,P),R.of=function(){return R(arguments)},R.prototype.toIndexedSeq=function(){return this},R.prototype.toString=function(){return this.__toString("Seq [","]")},R.prototype.__iterate=function(t,e){return H(this,t,e,!1)},R.prototype.__iterator=function(t,e){return G(this,t,e,!1)},t(O,P),O.of=function(){return O(arguments)},O.prototype.toSetSeq=function(){return this},P.isSeq=V,P.Keyed=k,P.Set=O,P.Indexed=R;var Tn="@@__IMMUTABLE_SEQ__@@";P.prototype[Tn]=!0,t(I,R),I.prototype.get=function(t,e){return this.has(t)?this._array[m(this,t)]:e},I.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(t(n[e?r-i:i],i,this)===!1)return i+1;return i},I.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new x(function(){return i>r?C():w(t,i,n[e?r-i++:i++])})},t(N,k),N.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},N.prototype.has=function(t){return this._object.hasOwnProperty(t)},N.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(t(n[a],a,this)===!1)return o+1}return o},N.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new x(function(){var a=r[e?i-o:o];return o++>i?C():w(t,a,n[a])})},N.prototype[pn]=!0,t(D,R),D.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=T(n),i=0;if(E(r))for(var o;!(o=r.next()).done&&t(o.value,i++,this)!==!1;);return i},D.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=T(n);if(!E(r))return new x(C);var i=0;return new x(function(){var e=r.next();return e.done?e:w(t,i++,e.value)})},t(L,R),L.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(t(r[i],i++,this)===!1)return i;for(var o;!(o=n.next()).done;){var a=o.value;if(r[i]=a,t(a,i++,this)===!1)break}return i},L.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new x(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return w(t,i,r[i++])})};var Mn;t(Q,R),Q.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Q.prototype.get=function(t,e){return this.has(t)?this._value:e},Q.prototype.includes=function(t){return K(this._value,t)},Q.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:new Q(this._value,b(e,n)-g(t,n))},Q.prototype.reverse=function(){return this},Q.prototype.indexOf=function(t){return K(this._value,t)?0:-1},Q.prototype.lastIndexOf=function(t){return K(this._value,t)?this.size:-1},Q.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(t(this._value,n,this)===!1)return n+1;return n},Q.prototype.__iterator=function(t,e){var n=this,r=0;return new x(function(){return r<n.size?w(t,r++,n._value):C()})},Q.prototype.equals=function(t){return t instanceof Q?K(this._value,t._value):Z(t)};var An;t(J,R),J.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},J.prototype.get=function(t,e){return this.has(t)?this._start+m(this,t)*this._step:e},J.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},J.prototype.slice=function(t,e){return v(t,e,this.size)?this:(t=g(t,this.size),e=b(e,this.size),e<=t?new J(0,0):new J(this.get(t,this._end),this.get(e,this._end),this._step))},J.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},J.prototype.lastIndexOf=function(t){return this.indexOf(t)},J.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(t(i,o,this)===!1)return o+1;i+=e?-r:r}return o},J.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new x(function(){var a=i;return i+=e?-r:r,o>n?C():w(t,o++,a)})},J.prototype.equals=function(t){return t instanceof J?this._start===t._start&&this._end===t._end&&this._step===t._step:Z(this,t)};var Pn;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var kn,Rn="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(t,e){t|=0,e|=0;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},On=Object.isExtensible,In=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Nn="function"==typeof WeakMap;Nn&&(kn=new WeakMap);var Dn=0,Ln="__immutablehash__";"function"==typeof Symbol&&(Ln=Symbol(Ln));var Vn=16,Fn=255,jn=0,Bn={};t(ht,et),ht.of=function(){var t=un.call(arguments,0);return wt().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},ht.prototype.toString=function(){return this.__toString("Map {","}")},ht.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ht.prototype.set=function(t,e){return Ct(this,t,e)},ht.prototype.setIn=function(t,e){return this.updateIn(t,vn,function(){return e})},ht.prototype.remove=function(t){return Ct(this,t,vn)},ht.prototype.deleteIn=function(t){return this.updateIn(t,function(){return vn})},ht.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ht.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=Nt(this,Re(t),e,n);return r===vn?void 0:r},ht.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):wt()},ht.prototype.merge=function(){return kt(this,void 0,arguments)},ht.prototype.mergeWith=function(t){var e=un.call(arguments,1);return kt(this,t,e)},ht.prototype.mergeIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,wt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ht.prototype.mergeDeep=function(){return kt(this,Rt,arguments)},ht.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return kt(this,Ot(t),e)},ht.prototype.mergeDeepIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,wt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ht.prototype.sort=function(t){return $t(_e(this,t))},ht.prototype.sortBy=function(t,e){return $t(_e(this,e,t))},ht.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ht.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new p)},ht.prototype.asImmutable=function(){return this.__ensureOwner()},ht.prototype.wasAltered=function(){return this.__altered},ht.prototype.__iterator=function(t,e){return new gt(this,t,e)},ht.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ht.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?xt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ht.isMap=pt;var Un="@@__IMMUTABLE_MAP__@@",zn=ht.prototype;zn[Un]=!0,zn[fn]=zn.remove,zn.removeIn=zn.deleteIn,ft.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(K(n,i[o][0]))return i[o][1];return r},ft.prototype.update=function(t,e,n,r,i,o,a){for(var s=i===vn,u=this.entries,c=0,l=u.length;c<l&&!K(r,u[c][0]);c++);var p=c<l;if(p?u[c][1]===i:s)return this;if(h(a),(s||!p)&&h(o),!s||1!==u.length){if(!p&&!s&&u.length>=Gn)return Mt(t,u,r,i);var d=t&&t===this.ownerID,m=d?u:f(u);return p?s?c===l-1?m.pop():m[c]=m.pop():m[c]=[r,i]:m.push([r,i]),d?(this.entries=m,this):new ft(t,m)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&yn),o=this.bitmap;return 0===(o&i)?r:this.nodes[Dt(o&i-1)].get(t+dn,e,n,r)},dt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=(0===e?n:n>>>e)&yn,u=1<<s,c=this.bitmap,l=0!==(c&u);if(!l&&i===vn)return this;var h=Dt(c&u-1),p=this.nodes,f=l?p[h]:void 0,d=St(f,t,e+dn,n,r,i,o,a);if(d===f)return this;if(!l&&d&&p.length>=qn)return Pt(t,p,c,s,d);if(l&&!d&&2===p.length&&Et(p[1^h]))return p[1^h];if(l&&d&&1===p.length&&Et(d))return d;var m=t&&t===this.ownerID,y=l?d?c:c^u:c|u,v=l?d?Lt(p,h,d,m):Ft(p,h,m):Vt(p,h,d,m);return m?(this.bitmap=y,this.nodes=v,this):new dt(t,y,v)},mt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&yn,o=this.nodes[i];return o?o.get(t+dn,e,n,r):r},mt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=(0===e?n:n>>>e)&yn,u=i===vn,c=this.nodes,l=c[s];if(u&&!l)return this;var h=St(l,t,e+dn,n,r,i,o,a);if(h===l)return this;var p=this.count;if(l){if(!h&&(p--,p<Wn))return At(t,c,p,s)}else p++;var f=t&&t===this.ownerID,d=Lt(c,s,h,f);return f?(this.count=p,this.nodes=d,this):new mt(t,p,d)},yt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(K(n,i[o][0]))return i[o][1];return r},yt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=i===vn;if(n!==this.keyHash)return s?this:(h(a),h(o),Tt(this,t,e,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!K(r,u[c][0]);c++);var p=c<l;if(p?u[c][1]===i:s)return this;if(h(a),(s||!p)&&h(o),s&&2===l)return new vt(t,this.keyHash,u[1^c]);var d=t&&t===this.ownerID,m=d?u:f(u);return p?s?c===l-1?m.pop():m[c]=m.pop():m[c]=[r,i]:m.push([r,i]),d?(this.entries=m,this):new yt(t,this.keyHash,m)},vt.prototype.get=function(t,e,n,r){return K(n,this.entry[0])?this.entry[1]:r},vt.prototype.update=function(t,e,n,r,i,o,a){var s=i===vn,u=K(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(h(a),s?void h(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new vt(t,this.keyHash,[r,i]):(h(o),Tt(this,t,e,ot(r),[r,i])))},ft.prototype.iterate=yt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1},dt.prototype.iterate=mt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&o.iterate(t,e)===!1)return!1}},vt.prototype.iterate=function(t,e){return t(this.entry)},t(gt,x),gt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return bt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return bt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return bt(t,o.entry);e=this._stack=_t(o,e)}continue}e=this._stack=this._stack.__prev}return C()};var Hn,Gn=mn/4,qn=mn/2,Wn=mn/4;t(jt,nt),jt.of=function(){return this(arguments)},jt.prototype.toString=function(){return this.__toString("List [","]")},jt.prototype.get=function(t,e){if(t=m(this,t),t>=0&&t<this.size){t+=this._origin;var n=Yt(this,t);return n&&n.array[t&yn]}return e},jt.prototype.set=function(t,e){return qt(this,t,e)},jt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},jt.prototype.insert=function(t,e){return this.splice(t,0,e)},jt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Gt()},jt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Kt(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},jt.prototype.pop=function(){return Kt(this,0,-1)},jt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Kt(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},jt.prototype.shift=function(){return Kt(this,1)},jt.prototype.merge=function(){return Zt(this,void 0,arguments)},jt.prototype.mergeWith=function(t){var e=un.call(arguments,1);return Zt(this,t,e)},jt.prototype.mergeDeep=function(){return Zt(this,Rt,arguments)},jt.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return Zt(this,Ot(t),e)},jt.prototype.setSize=function(t){return Kt(this,0,t)},jt.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:Kt(this,g(t,n),b(e,n))},jt.prototype.__iterator=function(t,e){var n=0,r=zt(this,e);return new x(function(){var e=r();return e===Zn?C():w(t,n++,e)})},jt.prototype.__iterate=function(t,e){for(var n,r=0,i=zt(this,e);(n=i())!==Zn&&t(n,r++,this)!==!1;);return r},jt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ht(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},jt.isList=Bt;var Xn="@@__IMMUTABLE_LIST__@@",Yn=jt.prototype;Yn[Xn]=!0,Yn[fn]=Yn.remove,Yn.setIn=zn.setIn,Yn.deleteIn=Yn.removeIn=zn.removeIn,Yn.update=zn.update,Yn.updateIn=zn.updateIn,Yn.mergeIn=zn.mergeIn,Yn.mergeDeepIn=zn.mergeDeepIn,Yn.withMutations=zn.withMutations,Yn.asMutable=zn.asMutable,Yn.asImmutable=zn.asImmutable,Yn.wasAltered=zn.wasAltered,Ut.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&yn;if(r>=this.array.length)return new Ut([],t);var i,o=0===r;if(e>0){var a=this.array[r];if(i=a&&a.removeBefore(t,e-dn,n),i===a&&o)return this}if(o&&!i)return this;var s=Xt(this,t);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},Ut.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&yn;if(r>=this.array.length)return this;var i;if(e>0){var o=this.array[r];if(i=o&&o.removeAfter(t,e-dn,n),i===o&&r===this.array.length-1)return this}var a=Xt(this,t);return a.array.splice(r+1),i&&(a.array[r]=i),a};var Kn,Zn={};t($t,ht),$t.of=function(){return this(arguments)},$t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},$t.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},$t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},$t.prototype.set=function(t,e){return ne(this,t,e)},$t.prototype.remove=function(t){return ne(this,t,vn)},$t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},$t.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},$t.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},$t.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},$t.isOrderedMap=Jt,$t.prototype[pn]=!0,$t.prototype[fn]=$t.prototype.remove;var Qn;t(re,k),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=ue(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Te(this):0,function(i){return t(i,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(xn,e),r=e?Te(this):0;return new x(function(){var i=n.next();return i.done?i:w(t,e?--r:r++,i.value,i)})},re.prototype[pn]=!0,t(ie,R),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(xn,e),r=0;return new x(function(){var e=n.next();return e.done?e:w(t,r++,e.value,e)})},t(oe,O),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(xn,e);return new x(function(){var e=n.next();return e.done?e:w(t,e.value,e.value,e)})},t(ae,k),ae.prototype.entrySeq=function(){return this._iter.toSeq()},ae.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Ee(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},ae.prototype.__iterator=function(t,e){var n=this._iter.__iterator(xn,e);return new x(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ee(r);var i=o(r);return w(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=re.prototype.cacheResult=oe.prototype.cacheResult=ae.prototype.cacheResult=Pe,t(Oe,et),Oe.prototype.toString=function(){return this.__toString(Ne(this)+" {","}")},Oe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Oe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Oe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Ie(this,wt()))},Oe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Ne(this));if(this._map&&!this._map.has(t)){var n=this._defaultValues[t];if(e===n)return this}var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:Ie(this,r)},Oe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Ie(this,e)},Oe.prototype.wasAltered=function(){return this._map.wasAltered()},Oe.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},Oe.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},Oe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Ie(this,e,t):(this.__ownerID=t,this._map=e,this)};var $n=Oe.prototype;$n[fn]=$n.remove,$n.deleteIn=$n.removeIn=zn.removeIn,$n.merge=zn.merge,$n.mergeWith=zn.mergeWith,$n.mergeIn=zn.mergeIn,$n.mergeDeep=zn.mergeDeep,$n.mergeDeepWith=zn.mergeDeepWith,$n.mergeDeepIn=zn.mergeDeepIn,$n.setIn=zn.setIn,$n.update=zn.update,$n.updateIn=zn.updateIn,$n.withMutations=zn.withMutations,$n.asMutable=zn.asMutable,$n.asImmutable=zn.asImmutable,t(Ve,rt),Ve.of=function(){return this(arguments)},Ve.fromKeys=function(t){return this(n(t).keySeq());
},Ve.prototype.toString=function(){return this.__toString("Set {","}")},Ve.prototype.has=function(t){return this._map.has(t)},Ve.prototype.add=function(t){return je(this,this._map.set(t,!0))},Ve.prototype.remove=function(t){return je(this,this._map.remove(t))},Ve.prototype.clear=function(){return je(this,this._map.clear())},Ve.prototype.union=function(){var t=un.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Ve.prototype.intersect=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Ve.prototype.subtract=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Ve.prototype.merge=function(){return this.union.apply(this,arguments)},Ve.prototype.mergeWith=function(t){var e=un.call(arguments,1);return this.union.apply(this,e)},Ve.prototype.sort=function(t){return ze(_e(this,t))},Ve.prototype.sortBy=function(t,e){return ze(_e(this,e,t))},Ve.prototype.wasAltered=function(){return this._map.wasAltered()},Ve.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Ve.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Ve.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Ve.isSet=Fe;var Jn="@@__IMMUTABLE_SET__@@",tr=Ve.prototype;tr[Jn]=!0,tr[fn]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=zn.withMutations,tr.asMutable=zn.asMutable,tr.asImmutable=zn.asImmutable,tr.__empty=Ue,tr.__make=Be;var er;t(ze,Ve),ze.of=function(){return this(arguments)},ze.fromKeys=function(t){return this(n(t).keySeq())},ze.prototype.toString=function(){return this.__toString("OrderedSet {","}")},ze.isOrderedSet=He;var nr=ze.prototype;nr[pn]=!0,nr.__empty=qe,nr.__make=Ge;var rr;t(We,nt),We.of=function(){return this(arguments)},We.prototype.toString=function(){return this.__toString("Stack [","]")},We.prototype.get=function(t,e){var n=this._head;for(t=m(this,t);n&&t--;)n=n.next;return n?n.value:e},We.prototype.peek=function(){return this._head&&this._head.value},We.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Ye(t,e)},We.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;lt(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Ye(e,n)},We.prototype.pop=function(){return this.slice(1)},We.prototype.unshift=function(){return this.push.apply(this,arguments)},We.prototype.unshiftAll=function(t){return this.pushAll(t)},We.prototype.shift=function(){return this.pop.apply(this,arguments)},We.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ke()},We.prototype.slice=function(t,e){if(v(t,e,this.size))return this;var n=g(t,this.size),r=b(e,this.size);if(r!==this.size)return nt.prototype.slice.call(this,t,e);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Ye(i,o)},We.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ye(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},We.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&t(r.value,n++,this)!==!1;)r=r.next;return n},We.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new x(function(){if(r){var e=r.value;return r=r.next,w(t,n++,e)}return C()})},We.isStack=Xe;var ir="@@__IMMUTABLE_STACK__@@",or=We.prototype;or[ir]=!0,or.withMutations=zn.withMutations,or.asMutable=zn.asMutable,or.asImmutable=zn.asImmutable,or.wasAltered=zn.wasAltered;var ar;e.Iterator=x,Ze(e,{toArray:function(){lt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,!0)},toMap:function(){return ht(this.toKeyedSeq())},toObject:function(){lt(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return $t(this.toKeyedSeq())},toOrderedSet:function(){return ze(a(this)?this.valueSeq():this)},toSet:function(){return Ve(a(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return We(a(this)?this.valueSeq():this)},toList:function(){return jt(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=un.call(arguments,0);return Se(this,ye(this,t))},includes:function(t){return this.some(function(e){return K(e,t)})},entries:function(){return this.__iterator(wn)},every:function(t,e){lt(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return Se(this,le(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate(function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1}),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return lt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){lt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(_n)},map:function(t,e){return Se(this,ue(this,t,e))},reduce:function(t,e,n){lt(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Se(this,ce(this,!0))},slice:function(t,e){return Se(this,fe(this,t,e,!0))},some:function(t,e){return!this.every(Je(t),e)},sort:function(t){return Se(this,_e(this,t))},values:function(){return this.__iterator(xn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return he(this,t,e)},equals:function(t){return Z(this,t)},entrySeq:function(){var t=this;if(t._cache)return new I(t._cache);var e=t.toSeq().map($e).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Je(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(y)},flatMap:function(t,e){return Se(this,ge(this,t,e))},flatten:function(t){return Se(this,ve(this,t,!0))},fromEntrySeq:function(){return new ae(this)},get:function(t,e){return this.find(function(e,n){return K(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=Re(t);!(n=i.next()).done;){var o=n.value;if(r=r&&r.get?r.get(o,vn):vn,r===vn)return e}return r},groupBy:function(t,e){return pe(this,t,e)},has:function(t){return this.get(t,vn)!==vn},hasIn:function(t){return this.getIn(t,vn)!==vn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keySeq:function(){return this.toSeq().map(Qe).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return xe(this,t)},maxBy:function(t,e){return xe(this,e,t)},min:function(t){return xe(this,t?tn(t):rn)},minBy:function(t,e){return xe(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Se(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Se(this,me(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Je(t),e)},sortBy:function(t,e){return Se(this,_e(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Se(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Se(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Je(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var sr=e.prototype;sr[cn]=!0,sr[En]=sr.values,sr.__toJS=sr.toArray,sr.__toStringMapper=en,sr.inspect=sr.toSource=function(){return this.toString()},sr.chain=sr.flatMap,sr.contains=sr.includes,function(){try{Object.defineProperty(sr,"length",{get:function(){if(!e.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(t.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Ze(n,{flip:function(){return Se(this,se(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return K(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return K(e,t)})},mapEntries:function(t,e){var n=this,r=0;return Se(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Se(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var ur=n.prototype;ur[ln]=!0,ur[En]=sr.entries,ur.__toJS=sr.toObject,ur.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Ze(r,{toKeyedSeq:function(){return new re(this,!1)},filter:function(t,e){return Se(this,le(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Se(this,ce(this,!1))},slice:function(t,e){return Se(this,fe(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=g(t,t<0?this.count():this.size);var r=this.slice(0,t);return Se(this,1===n?r:r.concat(f(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return Se(this,ve(this,t,!1))},get:function(t,e){return t=m(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return t=m(this,t),t>=0&&(void 0!==this.size?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Se(this,be(this,t))},interleave:function(){var t=[this].concat(f(arguments)),e=Ce(this.toSeq(),R.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Se(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Se(this,me(this,t,e,!1))},zip:function(){var t=[this].concat(f(arguments));return Se(this,Ce(this,nn,t))},zipWith:function(t){var e=f(arguments);return e[0]=this,Se(this,Ce(this,t,e))}}),r.prototype[hn]=!0,r.prototype[pn]=!0,Ze(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=sr.includes,i.prototype.contains=i.prototype.includes,Ze(k,n.prototype),Ze(R,r.prototype),Ze(O,i.prototype),Ze(et,n.prototype),Ze(nt,r.prototype),Ze(rt,i.prototype);var cr={Iterable:e,Seq:P,Collection:tt,Map:ht,OrderedMap:$t,List:jt,Stack:We,Set:Ve,OrderedSet:ze,Record:Oe,Range:J,Repeat:Q,is:K,fromJS:q};return cr});/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */
var w={};(function(){function t(t){throw t}function e(t,e){var n=t.split("."),r=T;!(n[0]in r)&&r.execScript&&r.execScript("var "+n[0]);for(var i;n.length&&(i=n.shift());)n.length||e===S?r=r[i]?r[i]:r[i]={}:r[i]=e}function n(e,n){this.index="number"==typeof n?n:0,this.m=0,this.buffer=e instanceof(M?Uint8Array:Array)?e:new(M?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&t(Error("invalid index")),this.buffer.length<=this.index&&this.f()}function r(t,e,n){var r,i="number"==typeof e?e:e=0,o="number"==typeof n?n:t.length;for(r=-1,i=7&o;i--;++e)r=r>>>8^D[255&(r^t[e])];for(i=o>>3;i--;e+=8)r=r>>>8^D[255&(r^t[e])],r=r>>>8^D[255&(r^t[e+1])],r=r>>>8^D[255&(r^t[e+2])],r=r>>>8^D[255&(r^t[e+3])],r=r>>>8^D[255&(r^t[e+4])],r=r>>>8^D[255&(r^t[e+5])],r=r>>>8^D[255&(r^t[e+6])],r=r>>>8^D[255&(r^t[e+7])];return(4294967295^r)>>>0}function i(){}function o(t){this.buffer=new(M?Uint16Array:Array)(2*t),this.length=0}function a(t){var e,n,r,i,o,a,s,u,c,l,h=t.length,p=0,f=Number.POSITIVE_INFINITY;for(u=0;u<h;++u)t[u]>p&&(p=t[u]),t[u]<f&&(f=t[u]);for(e=1<<p,n=new(M?Uint32Array:Array)(e),r=1,i=0,o=2;r<=p;){for(u=0;u<h;++u)if(t[u]===r){for(a=0,s=i,c=0;c<r;++c)a=a<<1|1&s,s>>=1;for(l=r<<16|u,c=a;c<e;c+=o)n[c]=l;++i}++r,i<<=1,o<<=1}return[n,p,f]}function s(t,e){this.k=V,this.I=0,this.input=M&&t instanceof Array?new Uint8Array(t):t,this.b=0,e&&(e.lazy&&(this.I=e.lazy),"number"==typeof e.compressionType&&(this.k=e.compressionType),e.outputBuffer&&(this.a=M&&e.outputBuffer instanceof Array?new Uint8Array(e.outputBuffer):e.outputBuffer),"number"==typeof e.outputIndex&&(this.b=e.outputIndex)),this.a||(this.a=new(M?Uint8Array:Array)(32768))}function u(t,e){this.length=t,this.Q=e}function c(e,n){function r(e,n){var r,i=e.Q,o=[],a=0;r=U[e.length],o[a++]=65535&r,o[a++]=r>>16&255,o[a++]=r>>24;var s;switch(E){case 1===i:s=[0,i-1,0];break;case 2===i:s=[1,i-2,0];break;case 3===i:s=[2,i-3,0];break;case 4===i:s=[3,i-4,0];break;case 6>=i:s=[4,i-5,1];break;case 8>=i:s=[5,i-7,1];break;case 12>=i:s=[6,i-9,2];break;case 16>=i:s=[7,i-13,2];break;case 24>=i:s=[8,i-17,3];break;case 32>=i:s=[9,i-25,3];break;case 48>=i:s=[10,i-33,4];break;case 64>=i:s=[11,i-49,4];break;case 96>=i:s=[12,i-65,5];break;case 128>=i:s=[13,i-97,5];break;case 192>=i:s=[14,i-129,6];break;case 256>=i:s=[15,i-193,6];break;case 384>=i:s=[16,i-257,7];break;case 512>=i:s=[17,i-385,7];break;case 768>=i:s=[18,i-513,8];break;case 1024>=i:s=[19,i-769,8];break;case 1536>=i:s=[20,i-1025,9];break;case 2048>=i:s=[21,i-1537,9];break;case 3072>=i:s=[22,i-2049,10];break;case 4096>=i:s=[23,i-3073,10];break;case 6144>=i:s=[24,i-4097,11];break;case 8192>=i:s=[25,i-6145,11];break;case 12288>=i:s=[26,i-8193,12];break;case 16384>=i:s=[27,i-12289,12];break;case 24576>=i:s=[28,i-16385,13];break;case 32768>=i:s=[29,i-24577,13];break;default:t("invalid distance")}r=s,o[a++]=r[0],o[a++]=r[1],o[a++]=r[2];var u,c;for(u=0,c=o.length;u<c;++u)m[y++]=o[u];g[o[0]]++,b[o[3]]++,v=e.length+n-1,p=null}var i,o,a,s,u,c,h,p,f,d={},m=M?new Uint16Array(2*n.length):[],y=0,v=0,g=new(M?Uint32Array:Array)(286),b=new(M?Uint32Array:Array)(30),_=e.I;if(!M){for(a=0;285>=a;)g[a++]=0;for(a=0;29>=a;)b[a++]=0}for(g[256]=1,i=0,o=n.length;i<o;++i){for(a=u=0,s=3;a<s&&i+a!==o;++a)u=u<<8|n[i+a];if(d[u]===S&&(d[u]=[]),c=d[u],!(0<v--)){for(;0<c.length&&32768<i-c[0];)c.shift();if(i+3>=o){for(p&&r(p,-1),a=0,s=o-i;a<s;++a)f=n[i+a],m[y++]=f,++g[f];break}0<c.length?(h=l(n,i,c),p?p.length<h.length?(f=n[i-1],m[y++]=f,++g[f],r(h,0)):r(p,-1):h.length<_?p=h:r(h,0)):p?r(p,-1):(f=n[i],m[y++]=f,++g[f])}c.push(i)}return m[y++]=256,g[256]++,e.W=g,e.V=b,M?m.subarray(0,y):m}function l(t,e,n){var r,i,o,a,s,c,l=0,h=t.length;a=0,c=n.length;t:for(;a<c;a++){if(r=n[c-a-1],o=3,3<l){for(s=l;3<s;s--)if(t[r+s-1]!==t[e+s-1])continue t;o=l}for(;258>o&&e+o<h&&t[r+o]===t[e+o];)++o;if(o>l&&(i=r,l=o),258===o)break}return new u(l,e-i)}function h(t,e){var n,r,i,a,s,u=t.length,c=new o(572),l=new(M?Uint8Array:Array)(u);if(!M)for(a=0;a<u;a++)l[a]=0;for(a=0;a<u;++a)0<t[a]&&c.push(a,t[a]);if(n=Array(c.length/2),r=new(M?Uint32Array:Array)(c.length/2),1===n.length)return l[c.pop().index]=1,l;for(a=0,s=c.length/2;a<s;++a)n[a]=c.pop(),r[a]=n[a].value;for(i=p(r,r.length,e),a=0,s=n.length;a<s;++a)l[n[a].index]=i[a];return l}function p(t,e,n){function r(t){var n=f[t][d[t]];n===e?(r(t+1),r(t+1)):--h[n],++d[t]}var i,o,a,s,u,c=new(M?Uint16Array:Array)(n),l=new(M?Uint8Array:Array)(n),h=new(M?Uint8Array:Array)(e),p=Array(n),f=Array(n),d=Array(n),m=(1<<n)-e,y=1<<n-1;for(c[n-1]=e,o=0;o<n;++o)m<y?l[o]=0:(l[o]=1,m-=y),m<<=1,c[n-2-o]=(c[n-1-o]/2|0)+e;for(c[0]=l[0],p[0]=Array(c[0]),f[0]=Array(c[0]),o=1;o<n;++o)c[o]>2*c[o-1]+l[o]&&(c[o]=2*c[o-1]+l[o]),p[o]=Array(c[o]),f[o]=Array(c[o]);for(i=0;i<e;++i)h[i]=n;for(a=0;a<c[n-1];++a)p[n-1][a]=t[a],f[n-1][a]=a;for(i=0;i<n;++i)d[i]=0;for(1===l[n-1]&&(--h[0],++d[n-1]),o=n-2;0<=o;--o){for(s=i=0,u=d[o+1],a=0;a<c[o];a++)s=p[o+1][u]+p[o+1][u+1],s>t[i]?(p[o][a]=s,f[o][a]=e,u+=2):(p[o][a]=t[i],f[o][a]=i,++i);d[o]=0,1===l[o]&&r(o)}return h}function f(t){var e,n,r,i,o=new(M?Uint16Array:Array)(t.length),a=[],s=[],u=0;for(e=0,n=t.length;e<n;e++)a[t[e]]=(0|a[t[e]])+1;for(e=1,n=16;e<=n;e++)s[e]=u,u+=0|a[e],u<<=1;for(e=0,n=t.length;e<n;e++)for(u=s[t[e]],s[t[e]]+=1,r=o[e]=0,i=t[e];r<i;r++)o[e]=o[e]<<1|1&u,u>>>=1;return o}function d(t,e){this.input=t,this.b=this.c=0,this.i={},e&&(e.flags&&(this.i=e.flags),"string"==typeof e.filename&&(this.filename=e.filename),"string"==typeof e.comment&&(this.A=e.comment),e.deflateOptions&&(this.l=e.deflateOptions)),this.l||(this.l={})}function m(e,n){switch(this.p=[],this.q=32768,this.e=this.j=this.c=this.u=0,this.input=M?new Uint8Array(e):e,this.w=!1,this.r=X,this.M=!1,!n&&(n={})||(n.index&&(this.c=n.index),n.bufferSize&&(this.q=n.bufferSize),n.bufferType&&(this.r=n.bufferType),n.resize&&(this.M=n.resize)),this.r){case W:this.b=32768,this.a=new(M?Uint8Array:Array)(32768+this.q+258);break;case X:this.b=0,this.a=new(M?Uint8Array:Array)(this.q),this.f=this.U,this.B=this.R,this.s=this.T;break;default:t(Error("invalid inflate mode"))}}function y(e,n){for(var r,i=e.j,o=e.e,a=e.input,s=e.c,u=a.length;o<n;)s>=u&&t(Error("input buffer is broken")),i|=a[s++]<<o,o+=8;return r=i&(1<<n)-1,e.j=i>>>n,e.e=o-n,e.c=s,r}function v(t,e){for(var n,r,i=t.j,o=t.e,a=t.input,s=t.c,u=a.length,c=e[0],l=e[1];o<l&&!(s>=u);)i|=a[s++]<<o,o+=8;return n=c[i&(1<<l)-1],r=n>>>16,t.j=i>>r,t.e=o-r,t.c=s,65535&n}function g(t){function e(t,e,n){var r,i,o,a=this.J;for(o=0;o<t;)switch(r=v(this,e)){case 16:for(i=3+y(this,2);i--;)n[o++]=a;break;case 17:for(i=3+y(this,3);i--;)n[o++]=0;a=0;break;case 18:for(i=11+y(this,7);i--;)n[o++]=0;a=0;break;default:a=n[o++]=r}return this.J=a,n}var n,r,i,o,s=y(t,5)+257,u=y(t,5)+1,c=y(t,4)+4,l=new(M?Uint8Array:Array)($.length);for(o=0;o<c;++o)l[$[o]]=y(t,3);if(!M)for(o=c,c=l.length;o<c;++o)l[$[o]]=0;n=a(l),r=new(M?Uint8Array:Array)(s),i=new(M?Uint8Array:Array)(u),t.J=0,t.s(a(e.call(t,s,n,r)),a(e.call(t,u,n,i)))}function b(t){this.input=t,this.c=0,this.t=[],this.D=!1}function _(t){if("string"==typeof t){var e,n,r=t.split("");for(e=0,n=r.length;e<n;e++)r[e]=(255&r[e].charCodeAt(0))>>>0;t=r}for(var i,o=1,a=0,s=t.length,u=0;0<s;){i=1024<s?1024:s,s-=i;do o+=t[u++],a+=o;while(--i);o%=65521,a%=65521}return(a<<16|o)>>>0}function x(e,n){var r,i;switch(this.input=e,this.c=0,!n&&(n={})||(n.index&&(this.c=n.index),n.verify&&(this.$=n.verify)),r=e[this.c++],i=e[this.c++],15&r){case ft:this.method=ft;break;default:t(Error("unsupported compression method"))}0!==((r<<8)+i)%31&&t(Error("invalid fcheck flag:"+((r<<8)+i)%31)),32&i&&t(Error("fdict flag is not supported")),this.L=new m(e,{index:this.c,bufferSize:n.bufferSize,bufferType:n.bufferType,resize:n.resize})}function w(t,e){this.input=t,this.a=new(M?Uint8Array:Array)(32768),this.k=dt.o;var n,r={};!e&&(e={})||"number"!=typeof e.compressionType||(this.k=e.compressionType);for(n in e)r[n]=e[n];r.outputBuffer=this.a,this.K=new s(this.input,r)}function C(t,n){var r,i,o,a;if(Object.keys)r=Object.keys(n);else for(i in r=[],o=0,n)r[o++]=i;for(o=0,a=r.length;o<a;++o)i=r[o],e(t+"."+i,n[i])}var S=void 0,E=!0,T=this,M="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;n.prototype.f=function(){var t,e=this.buffer,n=e.length,r=new(M?Uint8Array:Array)(n<<1);if(M)r.set(e);else for(t=0;t<n;++t)r[t]=e[t];return this.buffer=r},n.prototype.d=function(t,e,n){var r,i=this.buffer,o=this.index,a=this.m,s=i[o];if(n&&1<e&&(t=8<e?(I[255&t]<<24|I[t>>>8&255]<<16|I[t>>>16&255]<<8|I[t>>>24&255])>>32-e:I[t]>>8-e),8>e+a)s=s<<e|t,a+=e;else for(r=0;r<e;++r)s=s<<1|t>>e-r-1&1,8===++a&&(a=0,i[o++]=I[s],s=0,o===i.length&&(i=this.f()));i[o]=s,this.buffer=i,this.m=a,this.index=o},n.prototype.finish=function(){var t,e=this.buffer,n=this.index;return 0<this.m&&(e[n]<<=8-this.m,e[n]=I[e[n]],n++),M?t=e.subarray(0,n):(e.length=n,t=e),t};var A,P=new(M?Uint8Array:Array)(256);for(A=0;256>A;++A){for(var k=A,R=k,O=7,k=k>>>1;k;k>>>=1)R<<=1,R|=1&k,--O;P[A]=(R<<O&255)>>>0}var I=P,N=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],D=M?new Uint32Array(N):N;i.prototype.getName=function(){return this.name},i.prototype.getData=function(){return this.data},i.prototype.Y=function(){return this.Z},e("Zlib.GunzipMember",i),e("Zlib.GunzipMember.prototype.getName",i.prototype.getName),e("Zlib.GunzipMember.prototype.getData",i.prototype.getData),e("Zlib.GunzipMember.prototype.getMtime",i.prototype.Y),o.prototype.getParent=function(t){return 2*((t-2)/4|0)},o.prototype.push=function(t,e){var n,r,i,o=this.buffer;for(n=this.length,o[this.length++]=e,o[this.length++]=t;0<n&&(r=this.getParent(n),o[n]>o[r]);)i=o[n],o[n]=o[r],o[r]=i,i=o[n+1],o[n+1]=o[r+1],o[r+1]=i,n=r;return this.length},o.prototype.pop=function(){var t,e,n,r,i,o=this.buffer;for(e=o[0],t=o[1],this.length-=2,o[0]=o[this.length],o[1]=o[this.length+1],i=0;(r=2*i+2,!(r>=this.length))&&(r+2<this.length&&o[r+2]>o[r]&&(r+=2),o[r]>o[i]);)n=o[i],o[i]=o[r],o[r]=n,n=o[i+1],o[i+1]=o[r+1],o[r+1]=n,i=r;return{index:t,value:e,length:this.length}};var L,V=2,F={NONE:0,v:1,o:V,ba:3},j=[];for(L=0;288>L;L++)switch(E){case 143>=L:j.push([L+48,8]);break;case 255>=L:j.push([L-144+400,9]);break;case 279>=L:j.push([L-256+0,7]);break;case 287>=L:j.push([L-280+192,8]);break;default:t("invalid literal: "+L)}s.prototype.g=function(){var e,r,i,o,a=this.input;switch(this.k){case 0:for(i=0,o=a.length;i<o;){r=M?a.subarray(i,i+65535):a.slice(i,i+65535),i+=r.length;var s=r,u=i===o,l=S,p=S,d=S,m=S,y=S,v=this.a,g=this.b;if(M){for(v=new Uint8Array(this.a.buffer);v.length<=g+s.length+5;)v=new Uint8Array(v.length<<1);v.set(this.a)}if(l=u?1:0,v[g++]=0|l,p=s.length,d=~p+65536&65535,v[g++]=255&p,v[g++]=p>>>8&255,v[g++]=255&d,v[g++]=d>>>8&255,M)v.set(s,g),g+=s.length,v=v.subarray(0,g);else{for(m=0,y=s.length;m<y;++m)v[g++]=s[m];v.length=g}this.b=g,this.a=v}break;case 1:var b=new n(M?new Uint8Array(this.a.buffer):this.a,this.b);b.d(1,1,E),b.d(1,2,E);var _,x,w,C=c(this,a);for(_=0,x=C.length;_<x;_++)if(w=C[_],n.prototype.d.apply(b,j[w]),256<w)b.d(C[++_],C[++_],E),b.d(C[++_],5),b.d(C[++_],C[++_],E);else if(256===w)break;this.a=b.finish(),this.b=this.a.length;break;case V:var T,A,P,k,R,O,I,N,D,L,F,B,U,z,H,G=new n(M?new Uint8Array(this.a.buffer):this.a,this.b),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=Array(19);for(T=V,G.d(1,1,E),G.d(T,2,E),A=c(this,a),O=h(this.W,15),I=f(O),N=h(this.V,7),D=f(N),P=286;257<P&&0===O[P-1];P--);for(k=30;1<k&&0===N[k-1];k--);var X,Y,K,Z,Q,$,J=P,tt=k,et=new(M?Uint32Array:Array)(J+tt),nt=new(M?Uint32Array:Array)(316),rt=new(M?Uint8Array:Array)(19);for(X=Y=0;X<J;X++)et[Y++]=O[X];for(X=0;X<tt;X++)et[Y++]=N[X];if(!M)for(X=0,Z=rt.length;X<Z;++X)rt[X]=0;for(X=Q=0,Z=et.length;X<Z;X+=Y){for(Y=1;X+Y<Z&&et[X+Y]===et[X];++Y);if(K=Y,0===et[X])if(3>K)for(;0<K--;)nt[Q++]=0,rt[0]++;else for(;0<K;)$=138>K?K:138,$>K-3&&$<K&&($=K-3),10>=$?(nt[Q++]=17,nt[Q++]=$-3,rt[17]++):(nt[Q++]=18,nt[Q++]=$-11,rt[18]++),K-=$;else if(nt[Q++]=et[X],rt[et[X]]++,K--,3>K)for(;0<K--;)nt[Q++]=et[X],rt[et[X]]++;else for(;0<K;)$=6>K?K:6,$>K-3&&$<K&&($=K-3),nt[Q++]=16,nt[Q++]=$-3,rt[16]++,K-=$}for(e=M?nt.subarray(0,Q):nt.slice(0,Q),L=h(rt,7),z=0;19>z;z++)W[z]=L[q[z]];for(R=19;4<R&&0===W[R-1];R--);for(F=f(L),G.d(P-257,5,E),G.d(k-1,5,E),G.d(R-4,4,E),z=0;z<R;z++)G.d(W[z],3,E);for(z=0,H=e.length;z<H;z++)if(B=e[z],G.d(F[B],L[B],E),16<=B){switch(z++,B){case 16:U=2;break;case 17:U=3;break;case 18:U=7;break;default:t("invalid code: "+B)}G.d(e[z],U,E)}var it,ot,at,st,ut,ct,lt,ht,pt=[I,O],ft=[D,N];for(ut=pt[0],ct=pt[1],lt=ft[0],ht=ft[1],it=0,ot=A.length;it<ot;++it)if(at=A[it],G.d(ut[at],ct[at],E),256<at)G.d(A[++it],A[++it],E),st=A[++it],G.d(lt[st],ht[st],E),G.d(A[++it],A[++it],E);else if(256===at)break;this.a=G.finish(),this.b=this.a.length;break;default:t("invalid compression type")}return this.a};var B=function(){function e(e){switch(E){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case 12>=e:return[265,e-11,1];case 14>=e:return[266,e-13,1];case 16>=e:return[267,e-15,1];case 18>=e:return[268,e-17,1];case 22>=e:return[269,e-19,2];case 26>=e:return[270,e-23,2];case 30>=e:return[271,e-27,2];case 34>=e:return[272,e-31,2];case 42>=e:return[273,e-35,3];case 50>=e:return[274,e-43,3];case 58>=e:return[275,e-51,3];case 66>=e:return[276,e-59,3];case 82>=e:return[277,e-67,4];case 98>=e:return[278,e-83,4];case 114>=e:return[279,e-99,4];case 130>=e:return[280,e-115,4];case 162>=e:return[281,e-131,5];case 194>=e:return[282,e-163,5];case 226>=e:return[283,e-195,5];case 257>=e:return[284,e-227,5];case 258===e:return[285,e-258,0];default:t("invalid length: "+e)}}var n,r,i=[];for(n=3;258>=n;n++)r=e(n),i[n]=r[2]<<24|r[1]<<16|r[0];return i}(),U=M?new Uint32Array(B):B;d.prototype.g=function(){var t,e,n,i,o,a,u,c,l=new(M?Uint8Array:Array)(32768),h=0,p=this.input,f=this.c,d=this.filename,m=this.A;if(l[h++]=31,l[h++]=139,l[h++]=8,t=0,this.i.fname&&(t|=G),this.i.fcomment&&(t|=q),this.i.fhcrc&&(t|=H),l[h++]=t,e=(Date.now?Date.now():+new Date)/1e3|0,l[h++]=255&e,l[h++]=e>>>8&255,l[h++]=e>>>16&255,l[h++]=e>>>24&255,l[h++]=0,l[h++]=z,this.i.fname!==S){for(u=0,c=d.length;u<c;++u)a=d.charCodeAt(u),255<a&&(l[h++]=a>>>8&255),l[h++]=255&a;l[h++]=0}if(this.i.comment){for(u=0,c=m.length;u<c;++u)a=m.charCodeAt(u),255<a&&(l[h++]=a>>>8&255),l[h++]=255&a;l[h++]=0}return this.i.fhcrc&&(n=65535&r(l,0,h),l[h++]=255&n,l[h++]=n>>>8&255),this.l.outputBuffer=l,this.l.outputIndex=h,o=new s(p,this.l),l=o.g(),h=o.b,M&&(h+8>l.buffer.byteLength?(this.a=new Uint8Array(h+8),this.a.set(new Uint8Array(l.buffer)),l=this.a):l=new Uint8Array(l.buffer)),i=r(p,S,S),l[h++]=255&i,l[h++]=i>>>8&255,l[h++]=i>>>16&255,l[h++]=i>>>24&255,c=p.length,l[h++]=255&c,l[h++]=c>>>8&255,l[h++]=c>>>16&255,l[h++]=c>>>24&255,this.c=f,M&&h<l.length&&(this.a=l=l.subarray(0,h)),l};var z=255,H=2,G=8,q=16;e("Zlib.Gzip",d),e("Zlib.Gzip.prototype.compress",d.prototype.g);var W=0,X=1,Y={O:W,N:X};m.prototype.h=function(){for(;!this.w;){var e=y(this,3);switch(1&e&&(this.w=E),e>>>=1){case 0:var n=this.input,r=this.c,i=this.a,o=this.b,a=n.length,s=S,u=S,c=i.length,l=S;switch(this.e=this.j=0,r+1>=a&&t(Error("invalid uncompressed block header: LEN")),s=n[r++]|n[r++]<<8,r+1>=a&&t(Error("invalid uncompressed block header: NLEN")),u=n[r++]|n[r++]<<8,s===~u&&t(Error("invalid uncompressed block header: length verify")),r+s>n.length&&t(Error("input buffer is broken")),this.r){case W:for(;o+s>i.length;){if(l=c-o,s-=l,M)i.set(n.subarray(r,r+l),o),o+=l,r+=l;else for(;l--;)i[o++]=n[r++];this.b=o,i=this.f(),o=this.b}break;case X:for(;o+s>i.length;)i=this.f({F:2});break;default:t(Error("invalid inflate mode"))}if(M)i.set(n.subarray(r,r+s),o),o+=s,r+=s;else for(;s--;)i[o++]=n[r++];this.c=r,this.b=o,this.a=i;break;case 1:this.s(lt,pt);break;case 2:g(this);break;default:t(Error("unknown BTYPE: "+e))}}return this.B()};var K,Z,Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=M?new Uint16Array(Q):Q,J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],tt=M?new Uint16Array(J):J,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],nt=M?new Uint8Array(et):et,rt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],it=M?new Uint16Array(rt):rt,ot=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],at=M?new Uint8Array(ot):ot,st=new(M?Uint8Array:Array)(288);for(K=0,Z=st.length;K<Z;++K)st[K]=143>=K?8:255>=K?9:279>=K?7:8;var ut,ct,lt=a(st),ht=new(M?Uint8Array:Array)(30);for(ut=0,ct=ht.length;ut<ct;++ut)ht[ut]=5;var pt=a(ht);m.prototype.s=function(t,e){var n=this.a,r=this.b;this.C=t;for(var i,o,a,s,u=n.length-258;256!==(i=v(this,t));)if(256>i)r>=u&&(this.b=r,n=this.f(),r=this.b),n[r++]=i;else for(o=i-257,s=tt[o],0<nt[o]&&(s+=y(this,nt[o])),i=v(this,e),a=it[i],0<at[i]&&(a+=y(this,at[i])),r>=u&&(this.b=r,n=this.f(),r=this.b);s--;)n[r]=n[r++-a];for(;8<=this.e;)this.e-=8,this.c--;this.b=r},m.prototype.T=function(t,e){var n=this.a,r=this.b;this.C=t;for(var i,o,a,s,u=n.length;256!==(i=v(this,t));)if(256>i)r>=u&&(n=this.f(),u=n.length),n[r++]=i;else for(o=i-257,s=tt[o],0<nt[o]&&(s+=y(this,nt[o])),i=v(this,e),a=it[i],0<at[i]&&(a+=y(this,at[i])),r+s>u&&(n=this.f(),u=n.length);s--;)n[r]=n[r++-a];for(;8<=this.e;)this.e-=8,this.c--;this.b=r},m.prototype.f=function(){var t,e,n=new(M?Uint8Array:Array)(this.b-32768),r=this.b-32768,i=this.a;if(M)n.set(i.subarray(32768,n.length));else for(t=0,e=n.length;t<e;++t)n[t]=i[t+32768];if(this.p.push(n),this.u+=n.length,M)i.set(i.subarray(r,r+32768));else for(t=0;32768>t;++t)i[t]=i[r+t];return this.b=32768,i},m.prototype.U=function(t){var e,n,r,i,o=this.input.length/this.c+1|0,a=this.input,s=this.a;return t&&("number"==typeof t.F&&(o=t.F),"number"==typeof t.P&&(o+=t.P)),2>o?(n=(a.length-this.c)/this.C[2],i=258*(n/2)|0,r=i<s.length?s.length+i:s.length<<1):r=s.length*o,M?(e=new Uint8Array(r),e.set(s)):e=s,this.a=e},m.prototype.B=function(){var t,e,n,r,i,o=0,a=this.a,s=this.p,u=new(M?Uint8Array:Array)(this.u+(this.b-32768));if(0===s.length)return M?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(e=0,n=s.length;e<n;++e)for(t=s[e],r=0,i=t.length;r<i;++r)u[o++]=t[r];for(e=32768,n=this.b;e<n;++e)u[o++]=a[e];return this.p=[],this.buffer=u},m.prototype.R=function(){var t,e=this.b;return M?this.M?(t=new Uint8Array(e),t.set(this.a.subarray(0,e))):t=this.a.subarray(0,e):(this.a.length>e&&(this.a.length=e),t=this.a),this.buffer=t},b.prototype.X=function(){return this.D||this.h(),this.t.slice()},b.prototype.h=function(){for(var e=this.input.length;this.c<e;){var n=new i,o=S,a=S,s=S,u=S,c=S,l=S,h=S,p=S,f=S,d=this.input,y=this.c;switch(n.G=d[y++],n.H=d[y++],(31!==n.G||139!==n.H)&&t(Error("invalid file signature:"+n.G+","+n.H)),n.z=d[y++],n.z){case 8:break;default:t(Error("unknown compression method: "+n.z))}if(n.n=d[y++],p=d[y++]|d[y++]<<8|d[y++]<<16|d[y++]<<24,n.Z=new Date(1e3*p),n.fa=d[y++],n.ea=d[y++],0<(4&n.n)&&(n.aa=d[y++]|d[y++]<<8,y+=n.aa),0<(n.n&G)){for(h=[],l=0;0<(c=d[y++]);)h[l++]=String.fromCharCode(c);n.name=h.join("")}if(0<(n.n&q)){for(h=[],l=0;0<(c=d[y++]);)h[l++]=String.fromCharCode(c);n.A=h.join("")}0<(n.n&H)&&(n.S=65535&r(d,0,y),n.S!==(d[y++]|d[y++]<<8)&&t(Error("invalid header crc16"))),o=d[d.length-4]|d[d.length-3]<<8|d[d.length-2]<<16|d[d.length-1]<<24,d.length-y-4-4<512*o&&(u=o),a=new m(d,{index:y,bufferSize:u}),n.data=s=a.h(),y=a.c,n.ca=f=(d[y++]|d[y++]<<8|d[y++]<<16|d[y++]<<24)>>>0,r(s,S,S)!==f&&t(Error("invalid CRC-32 checksum: 0x"+r(s,S,S).toString(16)+" / 0x"+f.toString(16))),n.da=o=(d[y++]|d[y++]<<8|d[y++]<<16|d[y++]<<24)>>>0,(4294967295&s.length)!==o&&t(Error("invalid input size: "+(4294967295&s.length)+" / "+o)),this.t.push(n),this.c=y}this.D=E;var v,g,b,_=this.t,x=0,w=0;for(v=0,g=_.length;v<g;++v)w+=_[v].data.length;if(M)for(b=new Uint8Array(w),v=0;v<g;++v)b.set(_[v].data,x),x+=_[v].data.length;else{for(b=[],v=0;v<g;++v)b[v]=_[v].data;b=Array.prototype.concat.apply([],b)}return b},e("Zlib.Gunzip",b),e("Zlib.Gunzip.prototype.decompress",b.prototype.h),e("Zlib.Gunzip.prototype.getMembers",b.prototype.X),x.prototype.h=function(){var e,n,r=this.input;return e=this.L.h(),this.c=this.L.c,this.$&&(n=(r[this.c++]<<24|r[this.c++]<<16|r[this.c++]<<8|r[this.c++])>>>0,n!==_(e)&&t(Error("invalid adler-32 checksum"))),e};var ft=8,dt=F;w.prototype.g=function(){var e,n,r,i,o,a,s,u=0;switch(s=this.a,e=ft){case ft:n=Math.LOG2E*Math.log(32768)-8;break;default:t(Error("invalid compression method"))}switch(r=n<<4|e,s[u++]=r,e){case ft:switch(this.k){case dt.NONE:o=0;break;case dt.v:o=1;break;case dt.o:o=2;break;default:t(Error("unsupported compression type"))}break;default:t(Error("invalid compression method"))}return i=o<<6|0,s[u++]=i|31-(256*r+i)%31,a=_(this.input),this.K.b=u,s=this.K.g(),u=s.length,M&&(s=new Uint8Array(s.buffer),s.length<=u+4&&(this.a=new Uint8Array(s.length+4),this.a.set(s),s=this.a),s=s.subarray(0,u+4)),s[u++]=a>>24&255,s[u++]=a>>16&255,s[u++]=a>>8&255,s[u++]=255&a,s},e("Zlib.Inflate",x),e("Zlib.Inflate.prototype.decompress",x.prototype.h),C("Zlib.Inflate.BufferType",{ADAPTIVE:Y.N,BLOCK:Y.O}),e("Zlib.Deflate",w),e("Zlib.Deflate.compress",function(t,e){return new w(t,e).g()}),e("Zlib.Deflate.prototype.compress",w.prototype.g),C("Zlib.Deflate.CompressionType",{NONE:dt.NONE,FIXED:dt.v,DYNAMIC:dt.o})}).call(w);var m,C=w.Zlib,v=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},g=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},_=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){var e;!function(t){t.VERSION={number:"1.3.0",date:"Dec 18 2016"}}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){e.Immutable=x,e.Rx=t.Core.Rx,e.Zlib=C}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){function r(t){return p(t,!1)}function i(t){return p(t,!0)}function o(t,e){return p(t,"Binary"===e)}function a(t,e){return d(e,t,!1,!1)}function s(t,e){return d(e,t,!0,!1)}function u(t){return d(t.title,t.url,"Binary"===t.type,t.compression===m.Gzip)}function c(t){var e=new C.Gunzip(new Uint8Array(t));return e.decompress()}function l(e,n,r,i){return v(this,void 0,void 0,function(){var o,a;return g(this,function(s){switch(s.label){case 0:return o=i.target.result,r?[4,e.updateProgress("Decompressing...")]:[3,2];case 1:return s.sent(),a=c(o),n?[2,a.buffer]:[2,t.Core.Formats.CIF.Binary.MessagePack.utf8Read(a,0,a.length)];case 2:return[2,o];case 3:return[2]}})})}function h(e,n,r,i){return new t.Promise(function(i,o){r.onerror=function(t){var e=t.target.error;o(e?e:"Failed.")},r.onabort=function(){return o(t.Core.Computation.Aborted)},r.onprogress=function(t){t.lengthComputable?e.updateProgress(n,!0,t.loaded,t.total):e.updateProgress(n+" "+(t.loaded/1024/1024).toFixed(2)+" MB",!0)},r.onload=function(t){return i(t)}})}function p(n,r){var i=this;return e.Task.fromComputation("Open File","Background",t.Core.computation(function(t){return v(i,void 0,void 0,function(){var e,i,o,a;return g(this,function(s){switch(s.label){case 0:return e=new FileReader,i=/\.gz$/i.test(n.name),i||r?e.readAsArrayBuffer(n):e.readAsBinaryString(n),t.updateProgress("Opening file...",function(){return e.abort()}),[4,h(t,"Reading...",e,r)];case 1:return o=s.sent(),a=l(t,r,i,o),[2,a]}})})}))}function f(t,e,n,r){return v(this,void 0,void 0,function(){var i,o,a,s,u,c;return g(this,function(l){switch(l.label){case 0:return i=r.target,i.status>=200&&i.status<400?e?(o=r.target.response,y.deposit(r.target),n?[4,t.updateProgress("Decompressing...")]:[3,2]):[3,4]:[3,6];case 1:return l.sent(),a=new C.Gunzip(new Uint8Array(o)),s=a.decompress(),[2,s.buffer];case 2:return[2,o];case 3:return[3,5];case 4:return u=r.target.responseText,y.deposit(r.target),[2,u];case 5:return[3,7];case 6:throw c=i.statusText,y.deposit(r.target),c;case 7:return[2]}})})}function d(n,r,i,o){var a=this;return e.Task.fromComputation(n?n:"Download","Background",t.Core.computation(function(t){return v(a,void 0,void 0,function(){var e,n,a;return g(this,function(s){switch(s.label){case 0:if(!i&&o)throw"Decompress is only available when downloading binary data.";return e=y.get(),e.open("get",r,!0),e.responseType=i?"arraybuffer":"text",e.send(),t.updateProgress("Waiting for server...",function(){return e.abort()}),[4,h(t,"Downloading...",e,i)];case 1:return n=s.sent(),[4,f(t,i,o,n)];case 2:return a=s.sent(),[2,a]}})})}))}var m;!function(t){t[t.None=0]="None",t[t.Gzip=1]="Gzip"}(m=n.DataCompressionMethod||(n.DataCompressionMethod={})),n.readStringFromFile=r,n.readArrayBufferFromFile=i,n.readFromFile=o,n.ajaxGetString=a,n.ajaxGetArrayBuffer=s,n.ajaxGet=u;var y=function(){function t(){}return t.get=function(){return this.pool.length?this.pool.pop():new XMLHttpRequest},t.emptyFunc=function(){},t.deposit=function(e){this.pool.length<this.poolSize&&(e.onabort=t.emptyFunc,e.onerror=t.emptyFunc,e.onload=t.emptyFunc,e.onprogress=t.emptyFunc,this.pool.push())},t}();y.pool=[],y.poolSize=15}(n=e.Utils||(e.Utils={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(e){var n;!function(e){function n(t){return t&&"."!==t&&"?"!==t?t:null}function r(t){var e=t.match(o);if(e){var r=0|+e[1],i=n(e[2]),a=n(e[3]),s=n(e[4]);return{entityId:s,authSeqNumber:r,authAsymId:i,insCode:a}}}function i(e,n){void 0===n&&(n=",");var i=e.split(n).map(function(t){return r(t)}).filter(function(t){return!!t});return t.Core.Structure.Query.Builder.toQuery((o=t.Core.Structure.Query).residues.apply(o,i));var o}var o=/^\s*([1-9][0-9]*)\s+([_.;:""&<>()\/\{}'`~!@#$%A-Za-z0-9*|+-]+)(?:\s+i[:]([.]|[a-zA-Z0-9]))?(?:\s+e[:]([.]|[a-zA-Z0-9]+))?/;e.parseAuthResidueId=i}(n=e.Query||(e.Query={}))}(n=e.Utils||(e.Utils={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t,e,n){this.isError=t,this.value=e,this.error=n}return t.prototype.bind=function(t){return this.isError?this:t(this.value)},t}();t.ValueOrError=e,function(t){function e(e){return new t(!0,void 0,e)}function n(e){return new t(!0,e)}t.error=e,t.value=n}(e=t.ValueOrError||(t.ValueOrError={}))}(e=t.Query||(t.Query={}))}(e=t.Utils||(t.Utils={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){this.first=null,this.last=null}return t.prototype.addFirst=function(t){t.inList=!0,this.first&&(this.first.previous=t),t.next=this.first,this.first=t},t.prototype.addLast=function(t){null!=this.last&&(this.last.next=t),t.previous=this.last,this.last=t,null==this.first&&(this.first=t),t.inList=!0},t.prototype.remove=function(t){t.inList&&(t.inList=!1,null!==t.previous?t.previous.next=t.next:null===t.previous&&(this.first=t.next),null!==t.next?t.next.previous=t.previous:null===t.next&&(this.last=t.previous),t.next=null,t.previous=null)},t}();t.LinkedList=e}(e=t.Utils||(t.Utils={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){function e(t){return(t<10?"0":"")+t}function n(t){var n=t.getHours(),r=t.getMinutes(),i=t.getSeconds();return n+":"+e(r)+":"+e(i)}function r(t,e){var n=Math.pow(10,e);return Math.round(n*t)/n}function i(t){if(t.isIndeterminate)return t.message;var e=(100*t.current/t.max).toFixed(2);return t.message+" "+e+"%"}function o(){var t=(new Date).getTime();window.performance&&"function"==typeof window.performance.now&&(t+=performance.now());var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)});return e}t.formatTime=n,t.round=r,t.formatProgress=i,t.generateUUID=o}(e=t.Utils||(t.Utils={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){
function e(t){return r||(r=n()),function(t,e){return function(n){var r=e.get(t[n]);return void 0!==r?r:1}}(t.atoms.elementSymbol,r)}function n(){var t={H:1.1,He:1.4,Li:1.81,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Sc:2.16,Ti:1.87,V:1.79,Cr:1.89,Mn:1.97,Fe:1.94,Co:1.92,Ni:1.84,Cu:1.86,Zn:2.1,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.83,Kr:2.02,Rb:3.03,Sr:2.49,Y:2.19,Zr:1.86,Nb:2.07,Mo:2.09,Tc:2.09,Ru:2.07,Rh:1.95,Pd:2.02,Ag:2.03,Cd:2.3,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,La:2.4,Ce:2.35,Pr:2.39,Nd:2.29,Pm:2.36,Sm:2.29,Eu:2.33,Gd:2.37,Tb:2.21,Dy:2.29,Ho:2.16,Er:2.35,Tm:2.27,Yb:2.42,Lu:2.21,Hf:2.12,Ta:2.17,W:2.1,Re:2.17,Os:2.16,Ir:2.02,Pt:2.09,Au:2.17,Hg:2.09,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,Ac:2.6,Th:2.37,Pa:2.43,U:2.4,Np:2.21,Pu:2.43,Am:2.44,Cm:2.45,Bk:2.44,Cf:2.45,Es:2.45,Fm:2.45,Md:2.46,No:2.46,Lr:2.46},e=new Map;for(var n in t)e.set(n,t[n]),e.set(n.toUpperCase(),t[n]),e.set(n.toLowerCase(),t[n]);return e}var r=void 0;t.vdwRadiusFromElementSymbol=e}(e=t.Utils||(t.Utils={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(e){function n(e){return t.Core.Utils.extend({},e)}function r(t,e){if(!t)return!e;if(!e)return!1;var n=Object.keys(t);if(Object.keys(e).length!==n.length)return!1;for(var r=0,i=n;r<i.length;r++){var o=i[r];if(!u.call(t,o)||t[o]!==e[o])return!1}return!0}function i(t,e){if(!t)return!e;if(!e)return!1;var n=Object.keys(t);if(Object.keys(e).length!==n.length)return!1;for(var r=0,o=n;r<o.length;r++){var a=o[r];if(!u.call(t,a))return!1;var s=t[a],c=e[a];if("object"==typeof s&&"object"==typeof c){if(!i(s,c))return!1}else if(s!==c)return!1}return!0}function o(t){for(var e=1;e<arguments.length;e++)for(var n=arguments[e],r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];u.call(n,o)&&(t[o]=n[o])}return t}function a(t,r){for(var i=!1,o=0,a=Object.keys(r);o<a.length;o++){var s=a[o];if(u.call(r,s)&&r[s]!==t[s]){i=!0;break}}return i?e.assign(n(t),r):t}function s(t){for(var n=t,r=1;r<arguments.length;r++)if(arguments[r]&&(n=a(t,arguments[r]),n!==t)){for(var i=r+1;i<arguments.length;i++)n=e.assign(n,arguments[i]);break}return n}var u=Object.prototype.hasOwnProperty;e.shallowClone=n,e.shallowEqual=r,e.deepEqual=i,e.assign=Object.assign||o,e.merge=s}(n=e.Utils||(e.Utils={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(){this.LOG_DISPATCH_STREAM=!1,this.lanes=[];for(var n=0;n<=e.Lane.Task;n++)this.lanes.push(new t.Rx.Subject)}return e.prototype.dispatch=function(t){this.LOG_DISPATCH_STREAM&&console.log(t.type.name,e.Lane[t.type.lane],t.data),this.lanes[t.type.lane].onNext(t)},e.prototype.schedule=function(t,e,n){return void 0===n&&(n=1e3/31),setTimeout(function(){if(e)try{t.call(null)}catch(t){e.call(null,""+t)}else t.call(null)},n)},e.prototype.getStream=function(t){return this.lanes[t.lane].filter(function(e){return e.type===t})},e.prototype.finished=function(){this.lanes.forEach(function(t){return t.onCompleted()})},e}();e.Dispatcher=n,function(t){var e;!function(t){t[t.Slow=0]="Slow",t[t.Fast=1]="Fast",t[t.Log=2]="Log",t[t.Busy=3]="Busy",t[t.Transformer=4]="Transformer",t[t.Task=5]="Task"}(e=t.Lane||(t.Lane={}))}(n=e.Dispatcher||(e.Dispatcher={}))}(e=t.Service||(t.Service={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(t){this.context=t}return e.prototype.log=function(e){t.Event.Log.dispatch(this.context,e)},e.prototype.message=function(t){this.log({type:e.EntryType.Message,timestamp:new Date,message:t})},e.prototype.error=function(t){this.log({type:e.EntryType.Error,timestamp:new Date,message:t})},e.prototype.warning=function(t){this.log({type:e.EntryType.Warning,timestamp:new Date,message:t})},e.prototype.info=function(t){this.log({type:e.EntryType.Info,timestamp:new Date,message:t})},e}();e.Logger=n,function(t){var e;!function(t){t[t.Message=0]="Message",t[t.Error=1]="Error",t[t.Warning=2]="Warning",t[t.Info=3]="Info"}(e=t.EntryType||(t.EntryType={}))}(n=e.Logger||(e.Logger={}))}(e=t.Service||(t.Service={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){}(e=t.Service||(t.Service={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n=t.Core.Computation,r=function(){function t(t,e,n){this.name=t,this.type=e,this.computation=n,this.info={id:i++,name:t,type:e,reportTime:!1}}return Object.defineProperty(t.prototype,"id",{get:function(){return this.info.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reportTime",{get:function(){return this.info.reportTime},enumerable:!0,configurable:!0}),t.prototype.run=function(t){return this.runWithContext(t).result},t.prototype.runWithContext=function(e){return new t.Running(e,this.computation,this.info)},t.prototype.setReportTime=function(t){return this.info.reportTime=t,this},t}();e.Task=r;var i=0;!function(r){function i(e,n,i){return new r(e,n,t.Core.computation(i))}function o(t,e,i){return new r(t,e,n.resolve(i))}function a(t,e,i){return new r(t,e,n.reject(i))}function s(t,e,n){return new r(t,e,n)}function u(t){return t.then&&t.catch}var c=function(){function r(t,e,n){this.context=t,this.computation=e,this.info=n,this.run()}return r.prototype.tryAbort=function(){this.computationCtx.requestAbort()},r.prototype.progressUpdated=function(t){e.Event.Task.StateUpdated.dispatch(this.context,{taskId:this.info.id,type:this.info.type,name:this.info.name,message:e.Utils.formatProgress(t),abort:t.requestAbort})},r.prototype.resolved=function(){try{if(this.context.performance.end("task"+this.info.id),this.info.reportTime){var n=this.context.performance.time("task"+this.info.id);"Silent"!==this.info.type&&this.context.logger.info(this.info.name+" finished in "+t.Core.Utils.PerformanceMonitor.format(n)+".")}}finally{e.Event.Task.Completed.dispatch(this.context,this.info.id)}},r.prototype.rejected=function(t){this.context.performance.end("task"+this.info.id),this.context.performance.formatTime("task"+this.info.id);try{if("Silent"===this.info.type)t.warn?this.context.logger.warning("Warning ("+this.info.name+"): "+t.message):console.error("Error ("+this.info.name+"): "+t,t);else if(t.warn)this.context.logger.warning("Warning ("+this.info.name+"): "+t.message);else{var n=""+t;n.indexOf("Aborted")>=0?this.context.logger.info(this.info.name+": Aborted."):this.context.logger.error("Error ("+this.info.name+"): "+t)}}catch(t){console.log(t)}finally{e.Event.Task.Completed.dispatch(this.context,this.info.id)}},r.prototype.run=function(){var t=this;this.computationCtx=n.createContext(),this.computationCtx.progress.subscribe(function(e){return t.progressUpdated(e)}),e.Event.Task.Started.dispatch(this.context,this.info),this.context.performance.start("task"+this.info.id),this.result=this.computation.run(this.computationCtx),this.result.then(function(){return t.resolved()}).catch(function(e){return t.rejected(e)})},r}();r.Running=c,r.create=i,r.resolve=o,r.reject=a,r.fromComputation=s,r.isPromise=u}(r=e.Task||(e.Task={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){function e(t,e){return Object.create(n,{name:{writable:!1,configurable:!1,value:t},lane:{writable:!1,configurable:!1,value:e}})}var n={dispatch:function(t,e){t.dispatcher.dispatch({type:this,data:e})},getStream:function(t){return t.dispatcher.getStream(this)}};t.create=e}(e=t.Event||(t.Event={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n=t.Service.Dispatcher.Lane;e.Log=e.create("bs.Log",n.Log);var r;!function(t){t.LayoutChanged=e.create("bs.Common.LayoutChanged",n.Slow)}(r=e.Common||(e.Common={}));var i;!function(t){t.Started=e.create("bs.Tasks.Started",n.Task),t.Completed=e.create("bs.Tasks.Completed",n.Task),t.StateUpdated=e.create("bs.Tasks.StateUpdated",n.Busy)}(i=e.Task||(e.Task={}));var o;!function(t){t.NodeUpdated=e.create("bs.Tree.NodeUpdated",n.Slow),t.NodeAdded=e.create("bs.Tree.NodeAdded",n.Slow),t.NodeRemoved=e.create("bs.Tree.NodeRemoved",n.Slow),t.TransformStarted=e.create("bs.Tree.TransformStarted",n.Slow),t.TransformFinished=e.create("bs.Tree.TransformFinished",n.Slow),t.TransformerApply=e.create("bs.Tree.TransformerApplied",n.Transformer)}(o=e.Tree||(e.Tree={}));var a;!function(t){t.CurrentChanged=e.create("bs.Entity.CurrentChanged",n.Slow)}(a=e.Entity||(e.Entity={}));var s;!function(t){t.Highlight=e.create("bs.Visuals.HoverElement",n.Fast)}(s=e.Interactivity||(e.Interactivity={}));var u;!function(t){t.VisualHoverElement=e.create("bs.Visual.HoverElement",n.Fast),t.VisualSelectElement=e.create("bs.Visual.SelectElement",n.Fast),t.CameraChanged=e.create("bs.Visual.CameraChanged",n.Fast)}(u=e.Visual||(e.Visual={}));var c;!function(t){t.ModelHighlight=e.create("bs.Molecule.ModelHighlight",n.Fast),t.ModelSelect=e.create("bs.Molecule.ModelSelect",n.Fast)}(c=e.Molecule||(e.Molecule={}))}(e=t.Event||(t.Event={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r,i=e.Service.Dispatcher.Lane,o=e.Event.create;!function(t){t.RemoveNode=o("bs.cmd.Tree.RemoveNode",i.Slow),t.ApplyTransform=o("bs.cmd.Tree.ApplyTransform",i.Slow)}(r=n.Tree||(n.Tree={}));var a;!function(t){t.SetCurrent=o("bs.cmd.Entity.SetCurrentNode",i.Slow),t.ToggleExpanded=o("bs.cmd.Entity.ToggleExpanded",i.Slow),t.SetVisibility=o("bs.cmd.Entity.SetVisibility",i.Slow),t.Focus=o("bs.cmd.Entity.Focus",i.Slow),t.Highlight=o("bs.cmd.Entity.Highlight",i.Slow)}(a=n.Entity||(n.Entity={}));var s;!function(e){e.SetState=t.Bootstrap.Event.create("lm.cmd.Layout.SetState",i.Slow),e.SetViewportOptions=o("bs.cmd.Layout.SetViewportOptions",i.Slow)}(s=n.Layout||(n.Layout={}));var u;!function(t){t.FocusQuery=o("bs.cmd.Molecule.FocusQuery",i.Slow),t.Highlight=o("bs.cmd.Molecule.Highlight",i.Slow),t.CreateSelectInteraction=o("bs.cmd.Molecule.CreateSelectInteraction",i.Slow)}(u=n.Molecule||(n.Molecule={}));var c;!function(t){t.ResetScene=o("bs.cmd.Visual.ResetScene",i.Slow),t.ResetTheme=o("bs.cmd.Visual.ResetTheme",i.Slow),t.UpdateBasicTheme=o("bs.cmd.Visual.UpdateBasicTheme",i.Slow)}(c=n.Visual||(n.Visual={}));var l;!function(t){t.Show=o("bs.cmd.Toast.Show",i.Slow),t.Hide=o("bs.cmd.Toast.Hide",i.Slow)}(l=n.Toast||(n.Toast={}))}(n=e.Command||(e.Command={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(t,e){var n={version:0,refs:new Map,nodes:new Set,root:e,context:t};return e.parent=e,e.tree=n,n}function r(t){if(t.tree){var e=t.tree.refs.get(t.ref);e?e.push(t):t.tree.refs.set(t.ref,[t])}}function i(t){e.Node.forEach(t,function(t){return r(t)})}function o(t,e){var n=t.refs.get(e.ref);if(n){var r=n.indexOf(e);r<0||(n[r]=n[n.length-1],n.pop(),n.length||t.refs.delete(e.ref))}}function a(n){if(!n.parent)throw"Cannot add a node without a parent.";var r=n.parent.tree;e.Node.forEach(n,function(t){return t.tree=r}),e.Node.addChild(n.parent,n),i(n),t.Entity.nodeUpdated(n.parent),s(n)}function s(n){var r=n.tree.context;e.Node.forEachPreorder(n,function(e){t.Event.Tree.NodeAdded.dispatch(r,e)})}function u(n,r,o){e.Node.replaceChild(r.parent,r,o),h(n.context,r),e.Node.forEach(o,function(t){return t.tree=n}),i(o);for(var a=0,u=o.children;a<u.length;a++){var c=u[a];s(c)}t.Entity.nodeUpdated(o.parent),t.Event.Tree.NodeAdded.dispatch(n.context,o),n.context.currentEntity===r&&t.Entity.setCurrent(o)}function c(n){if(n){for(var r=void 0;n!==n.parent;)r=n,e.Node.update(n),n=n.parent;r&&t.Event.Tree.NodeUpdated.dispatch(n.tree.context,r)}}function l(n){var r=n.root.children;n.root.children=[],e.Node.update(n.root),t.Entity.nodeUpdated(n.root),n.refs.clear();for(var i=0,o=r;i<o.length;i++){var a=o[i];h(n.context,a)}t.Command.Entity.SetCurrent.dispatch(n.context,n.root)}function h(n,r){var i=n.currentEntity,a=!1;return e.Node.forEach(r,function(e){o(n.tree,e),t.Event.Tree.NodeRemoved.dispatch(n,e),e.tree=void 0,e===i&&(a=!0)}),a}function p(n){if(n&&n.tree){if(n.parent===n)return void l(n.tree);var r=e.Node.isHidden(n),i=n.index,o=n.parent,a=n.tree.context;e.Node.removeChild(o,n),t.Entity.nodeUpdated(o);var s=h(a,n);if(s&&!r){for(var u=!1,c=i;c>=0;c--)if(o.children[c]&&!e.Node.isHidden(o.children[c])){t.Command.Entity.SetCurrent.dispatch(a,o.children[c]),u=!0;break}u||t.Command.Entity.SetCurrent.dispatch(a,o)}n.transform.props.isBinding&&!o.children.length&&p(n.parent)}}e.create=n,e.add=a,e.update=u,e.updatePath=c,e.remove=p}(e=t.Tree||(t.Tree={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){function n(t,e){return t&&t.type===e}function r(t,e){if(!e)return!1;for(;;){if(t===e)return!0;if(t=t.parent,!t||t===t.parent)return!1}}function i(t,e){if(t)for(var r=t.parent;;){if(n(r,e))return r;if(r=r.parent,r.parent===r)return}}function o(t,e){if(t)for(var n=t;;){if(e.indexOf(n.type)>=0)return n;if(n=n.parent,n.parent===n)return e.indexOf(n.type)>=0?n:void 0}}function a(){return v++}function s(t){return t.version++,t}function u(e,n){var r=t.Utils.merge(e.props,n);return r===e.props?e:s(e)}function c(e,n){var r=t.Utils.merge(e.state,n);return r===e.state?e:(e.state=r,s(e))}function l(t,e){return e.index=t.children.length,t.children.push(e),s(t)}function h(t,e){for(var n=t.children,r=e.index,i=n.length-1;r<i;r++){var o=n[r+1];o.index--,n[r]=o}return n.pop(),s(t)}function p(t,e,n){return n?(n.index=e.index,t.children[n.index]=n,s(t)):h(t,e)}function f(t,e){for(var n=0,r=t.children;n<r.length;n++){var i=r[n];f(i,e)}e(t)}function d(t,e){e(t);for(var n=0,r=t.children;n<r.length;n++){var i=r[n];f(i,e)}}function m(t){var e=[];return f(t,function(t){return e.push(t)}),e}function y(t){if(t.isHidden)return!0;var e=t.parent;if(!e)return t.isHidden;for(;e.parent!==e;){if(e.isHidden)return!0;if(e=e.parent,!e)return!1}return!1}e.Null={},e.is=n,e.hasAncestor=r,e.findAncestor=i,e.findClosestNodeOfType=o;var v=0;e.createId=a,e.update=s,e.withProps=u,e.withState=c,e.addChild=l,e.removeChild=h,e.replaceChild=p,e.forEach=f,e.forEachPreorder=d,e.collect=m,e.isHidden=y}(n=e.Node||(e.Node={}))}(e=t.Tree||(t.Tree={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){function n(t,e){return r(t)(e)}function r(t){var n,r=t?t:e.root();return n=o(r)?r.compile():i(r)?e.byValue(r).compile():a(r)?r:e.byRef(r).compile()}function i(t){return void 0!==t.ref}function o(t){return void 0!==t.compile}function a(t){return"function"==typeof t}function s(t){return Object.create(x.BuilderPrototype,{compile:{writable:!1,configurable:!1,value:t}})}function u(){return s(function(){return function(t){return[t.root]}})}function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(function(){return function(e){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r],a=e.refs.get(o);if(a)for(var s=0,u=a;s<u.length;s++){var c=u[s];n.push(c)}}return n}})}function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(function(){return function(e){return t}})}function h(t,e){var n=r(t);return s(function(){return function(t){for(var r=[],i=0,o=n(t);i<o.length;i++)for(var a=o[i],s=0,u=e(a);s<u.length;s++){var c=u[s];r.push(c)}return r}})}function p(t,e){var n=r(t);return s(function(){return function(t){for(var r=[],i=0,o=n(t);i<o.length;i++){var a=o[i],s=e(a);s&&r.push(s)}return r}})}function f(t){var e=r(t);return s(function(){return function(t){for(var n=new Set,r=[],i=0,o=e(t);i<o.length;i++){var a=o[i];n.has(a.id)||(n.add(a.id),r.push(a))}return r}})}function d(t){var e=r(t);return s(function(){return function(t){return[e(t)[0]]}})}function m(t,e){return h(t,function(t){return e(t)?[t]:[]})}function y(e){return h(e,function(e){return t.Node.collect(e)})}function v(t){return h(t,function(t){return t.children})}function g(t,e){return m(t,function(t){return t.type===e})}function b(e,n){return f(p(e,function(e){return t.Node.findAncestor(e,n)}))}function _(t){return f(p(t,function(t){return t.parent}))}e.select=n,e.compile=r;var x;!function(t){function e(e,n){t.BuilderPrototype[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.call.apply(n,[void 0,this].concat(t))}}t.BuilderPrototype={},t.registerModifier=e}(x=e.Helpers||(e.Helpers={})),e.root=u,e.byRef=c,e.byValue=l,x.registerModifier("flatMap",h),e.flatMap=h,x.registerModifier("mapEntity",p),e.mapEntity=p,x.registerModifier("unique",f),e.unique=f,x.registerModifier("first",d),e.first=d,x.registerModifier("filter",m),e.filter=m,x.registerModifier("subtree",y),e.subtree=y,x.registerModifier("children",v),e.children=v,x.registerModifier("ofType",g),e.ofType=g,x.registerModifier("ancestorOfType",b),e.ancestorOfType=b,x.registerModifier("parent",_),e.parent=_}(e=t.Selection||(t.Selection={}))}(e=t.Tree||(t.Tree={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){function i(t,e,n){return new l(t,e,n)}function o(t,e,n,r){return i({id:t,name:t,description:"",from:e,to:n,validateParams:function(){},defaultParams:function(){return{}}},r)}function a(t,e,n,r,i){try{r(e)}finally{i&&("string"==typeof i?n.logger.error(i):setTimeout(function(){return i.call(null,n,t,e)},0))}}function s(t,e,r,i,o,a){return v(this,void 0,void 0,function(){var s;return g(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,n.Transform.apply(e,t.action).run()];case 1:u.sent();try{r(n.Node.Null)}finally{o&&("string"==typeof o?e.logger.message(o):setTimeout(function(){return o.call(null,e,t.context)},0))}return[3,3];case 2:s=u.sent();try{i(s)}finally{a&&("string"==typeof a?e.logger.error(a):setTimeout(function(){return a.call(null,e,t.context,s)},0))}return[3,3];case 3:return[2]}})})}function u(n,r,o,a){return i(n,function(i,u,c){return e.Task.create(n.name,"Background",function(e){return new t.Promise(function(t,e){try{var n=r(i,u,c);s({action:n,context:void 0},i,t,e,o,a)}catch(t){e(t)}})})})}function c(n,r,o,u){return i(n,function(i,c,l){return e.Task.create(n.name,"Background",function(n){return new t.Promise(function(t,n){try{var h=r(i,c,l);e.Task.isPromise(h)?h.then(function(e){return s(e,i,t,n,o,u)}).catch(function(t){return a(void 0,t,i,n,u)}):s(h,i,t,n,o,u)}catch(t){n(t)}})})})}var l=function(){function t(t,e,n){this.info=t,this.transform=e,this.updater=n}return t.prototype.getTarget=function(t){var e=this.info;return e.from.length?n.Node.findClosestNodeOfType(t,e.from):t},t.prototype.checkTypes=function(t,e){if(e.transformer!==this)return"The transform is calling an invalid transformer (got "+e.transformer.info.name+", expected "+this.info.name+")";var n=this.info;return n.from.length&&n.from.indexOf(t.type)<0?"Transform ("+n.name+"): type error, expected '"+n.from.map(function(t){return t.info.name}).join("/")+"', got '"+t.type.info.name+"'.":void 0},t.prototype.validateParams=function(t){var e=this.info;if(e.validateParams){var n=e.validateParams(t.params);if(n&&n.length>0)return"Invalid params: "+n.join(", ")+"."}},t.prototype.validate=function(t,n){var r=this.info;if(!t)return e.Task.reject(r.name,"Normal","Could not find a suitable node to apply the transformer to.");var i=this.checkTypes(t,n);if(i)return e.Task.reject(r.name,"Normal",i);var o=this.validateParams(n);return o?e.Task.reject(r.name,"Normal",o):void 0},t.prototype.apply=function(t,n,r){if(this.info.isComposed)return this.transform(t,n,r);var i=this.getTarget(n),o=this.validate(i,r);return o?o:(e.Event.Tree.TransformerApply.dispatch(t,{a:i,t:r}),this.transform(t,i,r))},t.prototype.update=function(t,n,r){var i=n.parent;if(this.info.isComposed&&!this.updater)return this.transform(t,i,r);if(this.updater){var o=this.validateParams(r);if(o)return e.Task.reject(this.info.name,"Normal",o);var a=this.updater(t,n,r);if(a)return a}return e.Event.Tree.TransformerApply.dispatch(t,{a:n.parent,t:r}),this.transform(t,i,r)},t.prototype.create=function(t,e){return n.Transform.create(t,e?e:{},this)},t}();r.create=i,r.internal=o,r.action=u,r.actionWithContext=c}(r=n.Transformer||(n.Transformer={}))}(n=e.Tree||(e.Tree={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){function i(t,n,r){var i=e.Utils.shallowClone(n);return i.ref||(i.ref=e.Utils.generateUUID()),new l(t,i,r)}function o(t){return!!t.selector}function a(t){return!!t.compile}function s(e,n,r){var i,s=this;try{i=o(n)?[n]:a(n)?n.compile():n}catch(e){return t.Core.Computation.reject(e)}return t.Core.computation(function(){return v(s,void 0,void 0,function(){var t,n,o,a,s,u,c,l;return g(this,function(h){switch(h.label){case 0:t=0,n=i,h.label=1;case 1:if(!(t<n.length))return[3,8];o=n[t],a=e.select(o.selector),s=0,u=a,h.label=2;case 2:if(!(s<u.length))return[3,7];c=u[s],h.label=3;case 3:return h.trys.push([3,5,,6]),[4,(r?o.transform.update(e,c):o.transform.apply(e,c)).run()];case 4:return h.sent(),[3,6];case 5:return l=h.sent(),[3,6];case 6:return s++,[3,2];case 7:return t++,[3,1];case 8:return[2]}})})})}function u(t,e){return s(t,e,!1)}function c(t,e){return s(t,e,!0)}var l=function(){function r(t,e,n){this.params=t,this.props=e,this.transformer=n,this.isUpdate=!1}return r.prototype.resolveAdd=function(t,e){return e===n.Node.Null?e:(e.ref=this.props.ref,this.props.isHidden&&(e.isHidden=!0),e.tree||(e.parent=t,n.add(e)),e)},r.prototype.resolveUpdate=function(t,e,r){if(r===n.Node.Null)return r;var i=e.parent;return r.ref=this.props.ref,r.parent=i,r.tag=e.tag,r.state=e.state,this.props.isHidden&&(r.isHidden=!0),n.update(t.tree,e,r),r},r.prototype.apply=function(n,r){var i=this;return t.Core.computation(function(o){return v(i,void 0,void 0,function(){var i=this;return g(this,function(o){return[2,new t.Promise(function(t,o){return v(i,void 0,void 0,function(){var i=this;return g(this,function(a){return e.Event.Tree.TransformStarted.dispatch(n,this),this.transformer.apply(n,r,this).run(n).then(function(o){t(i.resolveAdd(r,o)),e.Event.Tree.TransformFinished.dispatch(n,{transform:i})}).catch(function(t){o(t),e.Event.Tree.TransformFinished.dispatch(n,{transform:i,error:t})}),[2]})})})]})})})},r.prototype.update=function(n,r){var i=this;return t.Core.computation(function(o){return new t.Promise(function(t,o){i.isUpdate=!0,i.props.ref=r.transform.props.ref,e.Event.Tree.TransformStarted.dispatch(n,i),r.transform.props.isBinding&&(i.props.isBinding=!0),i.transformer.update(n,r,i).run(n).then(function(o){t(i.resolveUpdate(n,r,o)),e.Event.Tree.TransformFinished.dispatch(n,{transform:i})}).catch(function(t){o(t),e.Event.Tree.TransformFinished.dispatch(n,{transform:i,error:t})})})})},r}();r.create=i,r.execute=s,r.apply=u,r.update=c}(r=n.Transform||(n.Transform={}))}(n=e.Tree||(e.Tree={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(){return new n.Impl(void 0,[])}t.build=e;var n;!function(t){var e=function(){function t(t,e){this.last=t,this.transforms=e}return t.prototype.add=function(e,n,r,i){var o={selector:e,transform:n.create(r,i)};return this.transforms.push(o),this.last=o,new t(o,this.transforms)},t.prototype.then=function(e,n,r){if(!this.last)throw"Cannot 'then' on an empty builder";var i=e.create(n,r),o={selector:this.last.transform.props.ref,transform:i};return this.transforms.push(o),new t(o,this.transforms)},t.prototype.compile=function(){return this.transforms},t}();t.Impl=e}(n=t.Builder||(t.Builder={}))}(e=t.Transform||(t.Transform={}))}(e=t.Tree||(t.Tree={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){function e(t){return 0===t.kind||!t.source.tree}function n(t){return 1===t.kind&&!!t.source.tree}function r(t,e){if(!t&&!e)return!0;if(!t||!e)return!1;if(t.kind!==e.kind)return!1;if(0===t.kind)return!0;if(t.source!==e.source)return!1;var n=t.elements,r=e.elements;if(n.length!==r.length)return!1;for(var i=0,o=n.length;i<o;i++)if(n[i]!==r[i])return!1;return!0}function i(t,e){var n=t.elements,r=e.elements;if(n.length!==r.length)return!1;for(var i=0,o=n.length;i<o;i++)if(n[i]!==r[i])return!1;return!0}var o;!function(t){function e(t,e){return{kind:1,source:t,elements:e}}t.empty={kind:0},t.selection=e}(o=t.Info||(t.Info={})),t.isEmpty=e,t.isSelection=n,t.interactivityInfoEqual=r,t.interactivitySelectionElementsEqual=i}(e=t.Interactivity||(t.Interactivity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(e){var n=this;this.context=e,this.providers=[],this.empty=[],t.Event.Visual.VisualHoverElement.getStream(e).subscribe(function(r){return t.Event.Interactivity.Highlight.dispatch(e,n.getInfo(r.data))})}return e.prototype.addProvider=function(t){this.providers.push(t)},e.prototype.removeProvider=function(e){this.providers=this.providers.filter(function(t){return t!==e}),t.Event.Interactivity.Highlight.dispatch(this.context,[])},e.prototype.getInfo=function(t){if(!t)return this.empty;for(var e=[],n=0,r=this.providers;n<r.length;n++){var i=r[n],o=i.call(null,t);o&&e.push(o)}return e},e}();e.HighlightManager=n}(e=t.Interactivity||(t.Interactivity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){function r(t,e,n){for(var r,i,o,a,s=e.structure,u=s.atoms,c=u.residueIndex,l=u.chainIndex,h=u.entityIndex,p=u.name,f=u.authName,d=u.id,m=u.occupancy,y=u.tempFactor,v=u.elementSymbol,g=u.x,b=u.y,_=u.z,x=u.altLoc,w=s.residues,C=w.name,S=w.authName,E=w.seqNumber,T=w.authSeqNumber,M=w.insCode,A=w.isHet,P=s.chains,k=P.asymId,R=P.authAsymId,O=s.entities.entityId,I=-1,N=-1,D=-1,L=-1,V=function(){return r={index:N,entityId:O[N]}},F=function(){return i={index:D,asymId:k[D],authAsymId:R[D],entity:r}},j=function(){return o={index:L,name:C[L],authName:S[L],seqNumber:E[L],authSeqNumber:T[L],insCode:M[L],isHet:A[L],chain:i}},B=function(){return a={index:I,id:d[I],name:p[I],authName:f[I],elementSymbol:v[I],occupancy:m[I],tempFactor:y[I],x:g[I],y:b[I],z:_[I],altLoc:x[I],residue:o}},U=[],z=[],H=[],G=[],q=0;q<n.length;q++)I=n[q],e.hasAtom(I)&&(N!==h[I]&&(N=h[I],U.push(V())),D!==l[I]&&(D=l[I],z.push(F())),L!==c[I]&&(L=c[I],H.push(j())),G.push(B()));return{modelRef:t.ref,moleculeId:s.id,modelId:s.modelId,atoms:G,residues:H,chains:z,entities:U}}function i(n){if(!e.isEmpty(n)){var i=t.Utils.Molecule.findModelOrSelection(n.source);if(i){var o=t.Utils.Molecule.findQueryContext(i),a=t.Utils.Molecule.findModel(i);if(o&&a)return r(a,o,n.elements)}}}function o(e){var n=[];return 1!==e.occupancy&&n.push("occupancy "+t.Utils.round(e.occupancy,2)),e.altLoc&&n.push("alt. loc "+e.altLoc),n.length?" <small>["+n.join(", ")+"]</small>":""}function a(e){return"<span><b>"+e.name+" "+e.elementSymbol+" "+e.id+"</b>"+o(e)+" at ("+t.Utils.round(e.x,1)+", "+t.Utils.round(e.y,1)+", "+t.Utils.round(e.z,1)+")</span>"}function s(t){return"<span>"+t.name+" "+t.elementSymbol+" "+t.id+o(t)+"</span>"}function u(t){return"<span>"+t.authName+" "+t.chain.authAsymId+" "+t.authSeqNumber+(null!==t.insCode?" i: "+t.insCode:"")+"</span>"}function c(t){return"1"===t.modelId?"<span><small>["+t.moleculeId+"]</small></span>":"<span><small>["+t.moleculeId+":"+t.modelId+"]</small></span>"}function l(t){return t&&t.atoms.length?1===t.atoms.length?"<span>"+a(t.atoms[0])+" on <b><small>"+u(t.residues[0])+"</small></b> "+c(t)+"</span>":1===t.residues.length?"<span><b>"+u(t.residues[0])+"</b> "+c(t)+"</span>":"<span><small>"+t.atoms.length+" atoms on</small> <b>"+t.residues.length+" residues</b> "+c(t)+"</span>":""}function h(t){return t&&t.atoms.length?1===t.atoms.length?"<span><b>"+s(t.atoms[0])+"<b> "+c(t)+"</span>":1===t.residues.length?"<span><b>"+u(t.residues[0])+"</b> "+c(t)+"</span>":"<span><b>"+t.residues.length+" residues</b> "+c(t)+"</span>":""}function p(n){if(e.isEmpty(n))return!1;var r=t.Utils.Molecule.findModelOrSelection(n.source);return!!r}n.transformMoleculeAtomIndices=r,n.transformInteraction=i,n.formatInfo=l,n.formatInfoShort=h,n.isMoleculeModelInteractivity=p}(n=e.Molecule||(e.Molecule={}))}(e=t.Interactivity||(t.Interactivity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r=function(){function t(t,n){var r=this;this.context=t,this.scene=n,this.entries=new Map,this.originalThemes=new Map,e.Event.Tree.NodeAdded.getStream(t).subscribe(function(t){e.Entity.isClass(t.data,e.Entity.VisualClass)&&r.add(t.data)}),e.Event.Tree.NodeRemoved.getStream(t).subscribe(function(t){e.Entity.isClass(t.data,e.Entity.VisualClass)&&r.remove(t.data)}),e.Event.Tree.NodeUpdated.getStream(t).subscribe(function(t){if(e.Entity.isVisual(t.data)){var n=r.entries.get(t.data.id);if(n){var i=2!==n.state.visibility;n.props.model.getVisibility()!==i&&n.props.model.updateVisibility(i)}}}),e.Command.Visual.UpdateBasicTheme.getStream(t).subscribe(function(t){if(r.entries.get(t.data.visual.id)&&e.Entity.isVisual(t.data.visual)){var n=t.data.visual;r.originalThemes.get(n.id)||r.originalThemes.set(n.id,n.props.model.theme),n.props.model.applyTheme(t.data.theme)}}),e.Command.Molecule.Highlight.getStream(t).subscribe(function(t){return r.highlightMoleculeModel(t.data)}),e.Command.Visual.ResetTheme.getStream(t).subscribe(function(t){return r.resetThemesAndHighlight(t.data&&t.data.selection)})}return t.prototype.isEmpty=function(){return!this.entries.size},t.prototype.add=function(t){if(this.entries.has(t.id)||!t.props.model)return!1;this.entries.set(t.id,t),this.scene.scene.models.add(t.props.model,1===this.entries.size);var e=2!==t.state.visibility;return t.props.model.getVisibility()!==e&&t.props.model.updateVisibility(e),t.props.model.tag=t,!0},t.prototype.remove=function(t){return!!this.entries.has(t.id)&&(this.entries.delete(t.id),this.originalThemes.delete(t.id),this.scene.scene.models.removeAndDispose(t.props.model),t.props.model.tag=void 0,t.props.model=void 0,!0)},t.prototype.get=function(t){return this.entries.get(t)},t.prototype.resetThemesAndHighlight=function(t){var n=this;if(!t)return this.originalThemes.forEach(function(t,e){n.entries.get(e).props.model.applyTheme(t)}),this.originalThemes.clear(),this.entries.forEach(function(t){return t.props.model.highlight(!1)}),void this.scene.scene.forceRender();for(var r=this.context.select(t),i=0,o=r;i<o.length;i++){var a=o[i];if(e.Entity.isVisual(a)&&this.originalThemes.has(a.id)){var s=a,u=this.originalThemes.get(s.id);s.props.model.applyTheme(u),s.props.model.highlight(!1),this.originalThemes.delete(s.id)}}this.scene.scene.forceRender()},t.prototype.highlightMoleculeModel=function(t){var n=this,r=e.Utils.Molecule.findModel(t.model);if(!r)return void console.warn("Highlight: Trying to highlight a non-molecule model entity, ignoring...");var i=[];if(this.context.select(e.Tree.Selection.byValue(t.model).subtree()).forEach(function(t){e.Entity.isVisual(t)&&n.entries.get(t.id)&&i.push(t)}),i.length){var o=e.Utils.Molecule.getModelAndIndicesFromQuery(r,t.query);if(o&&o.indices.length)for(var a=t.isOn?3:4,s=0,u=i;s<u.length;s++){var c=u[s];c.props.model.applySelection(o.indices,a)}}},t}();n.DisplayList=r;var i=function(){function n(n,i,o){var a=this;this.context=i,this._destroyed=!1,this.cameraChanged=new e.Rx.Subject,this.cameraObserver=function(t){return a.cameraChanged.onNext(t)},this.models=new r(i,this),this.scene=new t.Visualization.Scene(n,o),this.scene.camera.observe(this.cameraObserver),this.scene.events.addEventListener("hover",function(t){return a.handleEvent(t,e.Event.Visual.VisualHoverElement)}),this.scene.events.addEventListener("select",function(t){return a.handleEvent(t,e.Event.Visual.VisualSelectElement)}),this.cameraChanged.throttle(1e3/30).subscribe(function(t){e.Event.Visual.CameraChanged.dispatch(a.context,t)}),e.Command.Entity.Focus.getStream(i).subscribe(function(t){
if(1===t.data.length){var n=t.data[0];e.Entity.isMoleculeSelection(n)?a.focusMoleculeModelSelection(n):e.Entity.isClass(n,e.Entity.VisualClass)&&a.scene.camera.focusOnModel(n.props.model)}else(r=a.scene.camera).focusOnModel.apply(r,t.data.filter(function(t){return e.Entity.isClass(t,e.Entity.VisualClass)}).map(function(t){return t.props.model}));var r}),e.Command.Entity.Highlight.getStream(i).subscribe(function(t){for(var n=0,r=t.data.entities;n<r.length;n++){var i=r[n];e.Entity.isClass(i,e.Entity.VisualClass)&&i.props.model&&i.props.model.highlight(t.data.isOn)}}),e.Command.Visual.ResetScene.getStream(i).subscribe(function(t){return a.resetScene()}),e.Command.Molecule.FocusQuery.getStream(i).subscribe(function(t){return a.focusMoleculeModelOnQuery(t.data)})}return n.prototype.resetScene=function(){this._destroyed||(e.Event.Visual.VisualSelectElement.dispatch(this.context,e.Interactivity.Info.empty),this.models.resetThemesAndHighlight(),this.scene.camera.reset())},Object.defineProperty(n.prototype,"camera",{get:function(){return this.scene.camera},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){this._destroyed||(this.scene.camera.stopObserving(this.cameraObserver),this.scene.destroy(),this.scene=void 0,this._destroyed=!0)},n.prototype.handleEvent=function(t,n){var r=t.data;r&&r.model&&r.elements?n.dispatch(this.context,e.Interactivity.Info.selection(r.model.tag,r.elements)):n.dispatch(this.context,e.Interactivity.Info.empty)},n.prototype.focusMoleculeModelSelection=function(t){if(!e.Tree.Node.is(t,e.Entity.Molecule.Selection))return void console.warn("Focus: Trying to focus on non-molecule selection, ignoring...");var n=e.Utils.Molecule.findModel(t);if(!n)return void console.warn("Focus: Molecule model for selection not found, ignoring...");var r={x:.1,y:.1,z:.1},i=e.Utils.Molecule.getCentroidAndRadius(n.props.model,t.props.indices,r);this.scene.camera.focusOnPoint(r,i)},n.prototype.focusMoleculeModelOnQuery=function(t){var n=e.Utils.Molecule.getModelAndIndicesFromQuery(t.model,t.query);if(n&&n.indices.length){var r={x:.1,y:.1,z:.1},i=e.Utils.Molecule.getCentroidAndRadius(n.model.props.model,n.indices,r);this.scene.camera.focusOnPoint(r,i)}},n}();n.SceneWrapper=i}(n=e.Visualization||(e.Visualization={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(t){function e(t){return t.taskType?t.taskType:"Normal"}function n(t){return t}t.getTaskType=e,t.create=n}(n=e.Style||(e.Style={}));var r;!function(e){function n(e,n){var r=e.colors||t.Immutable.Map();if(n.colors)for(var i=0,o=Object.keys(n.colors);i<o.length;i++){var a=o[i];r.set(a,n.colors[a])}var s=t.Utils.shallowClone(e);return s.colors=r,n.transparency&&(s.transparency=n.transparency),void 0!==n.interactive&&(s.interactive=n.interactive),s}function r(t){var e=new Map;return t.colors&&t.colors.forEach(function(t,n){return e.set(n,t)}),{colors:e,transparency:t.transparency,interactive:t.interactive,disableFog:t.disableFog}}e.mergeProps=n,e.getProps=r}(r=e.Theme||(e.Theme={}))}(e=t.Visualization||(t.Visualization={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){function r(t,e){return function(n){return e[t[n]]}}function i(t,n){return function(i,o){var a=e.Utils.Molecule.findModel(i).props.model,s=t(a),u=c.Theme.createPalleteMapping(r(s.index,s.property),n);return c.Theme.createMapping(u,o)}}function o(t,e){return e&&e.colors&&e.colors.set("Bond",e.colors.get("Uniform")),c.Theme.createUniform(e)}function a(t,n,i){return function(o,a){var s=e.Utils.Molecule.findModel(o).props.model,u=t(s),l=c.Theme.createColorMapMapping(r(u.index,u.property),n,i);return c.Theme.createMapping(l,a)}}function s(t,e){for(var n=t.residues.count,r={r:new Float32Array(n),g:new Float32Array(n),b:new Float32Array(n)},i=r.r,o=r.g,a=r.b,s=e(t),u=s.count,l=s.residueStartIndex,h=s.residueEndIndex,f=p.length-1,d=c.Color.fromHex(0),m=0;m<u;m++){var y=l[m],v=h[m],g=v-y,b=g-1;b<=1&&(b=1);for(var _=0;_<g;_++){var x=f*_/b,w=Math.floor(x),C=Math.ceil(x);c.Color.interpolate(p[w],p[C],x-w,d),i[y+_]=d.r,o[y+_]=d.g,a[y+_]=d.b}}return{r:i,g:o,b:a}}function u(t){return function(n,r){var i=e.Utils.Molecule.findModel(n).props.model,o=s(i,t),a=new h(i,o);return c.Theme.createMapping(a,r)}}var c=t.Visualization;n.UniformBaseColors=e.Immutable.Map({Uniform:c.Theme.Default.UniformColor,Highlight:c.Theme.Default.HighlightColor,Selection:c.Theme.Default.SelectionColor}),n.ModelVisualBaseColors=e.Immutable.Map({Bond:c.Molecule.Colors.DefaultBondColor,Highlight:c.Theme.Default.HighlightColor,Selection:c.Theme.Default.SelectionColor}),n.createPaletteThemeProvider=i,n.uniformThemeProvider=o,n.createColorMapThemeProvider=a;var l,h=function(){function t(t,e){var n=e.r,r=e.g,i=e.b;this.residueIndex=t.atoms.residueIndex,this.r=n,this.g=r,this.b=i}return t.prototype.getProperty=function(t){return this.residueIndex[t]},t.prototype.setColor=function(t,e){e.r=this.r[t],e.g=this.g[t],e.b=this.b[t]},t}(),p=[c.Color.fromHex(13378048),c.Color.fromHex(13399808),c.Color.fromHex(13412864),c.Color.fromHex(52224),c.Color.fromHex(43724),c.Color.fromHex(204),c.Color.fromHex(8989394),c.Color.fromHex(12025059)],f=e.Immutable.Map({Bond:c.Molecule.Colors.DefaultBondColor,Highlight:c.Color.fromHex(16777215),Selection:c.Color.fromHex(9863168)});!function(t){t.Themes=[{name:"Chain ID",description:"Color the surface by Chain ID.",colors:n.ModelVisualBaseColors,provider:i(function(t){return{index:t.atoms.residueIndex,property:t.residues.asymId}},c.Molecule.Colors.DefaultPallete)},{name:"Entity ID",description:"Color the surface by Entity ID.",colors:n.ModelVisualBaseColors,provider:i(function(t){return{index:t.atoms.residueIndex,property:t.residues.entityId}},c.Molecule.Colors.DefaultPallete)},{name:"Entity Type",description:"Color the surface by Entity Type.",colors:n.ModelVisualBaseColors,provider:i(function(t){return{index:t.atoms.entityIndex,property:t.entities.entityType}},c.Molecule.Colors.DefaultPallete)},{name:"Residue Name",description:"Color the surface by residue name.",colors:n.ModelVisualBaseColors,provider:i(function(t){return{index:t.atoms.residueIndex,property:t.residues.name}},c.Molecule.Colors.DefaultPallete)},{name:"Element Symbol",description:"Color the surface by atom elemnt symbol.",colors:n.ModelVisualBaseColors,provider:a(function(t){return{index:t.atoms.indices,property:t.atoms.elementSymbol}},c.Molecule.Colors.DefaultElementColorMap,c.Molecule.Colors.DefaultElementColor)},{name:"Rainbow (Chain)",description:"Color each chain using rainbow palette.",colors:f,provider:u(function(t){return t.chains})},{name:"Rainbow (Entity)",description:"Color each entity using rainbow palette.",colors:f,provider:u(function(t){return t.entities})},{name:"Uniform Color",description:"Same color everywhere.",colors:n.UniformBaseColors,provider:o}],t.CartoonThemeTemplate=t.Themes.filter(function(t){return"Chain ID"===t.name})[0],t.ElementSymbolThemeTemplate=t.Themes.filter(function(t){return"Element Symbol"===t.name})[0],t.SurfaceThemeTemplate=t.Themes.filter(function(t){return"Uniform Color"===t.name})[0],t.UniformThemeTemplate=t.Themes.filter(function(t){return"Uniform Color"===t.name})[0]}(l=n.Default||(n.Default={}))}(r=n.Molecule||(n.Molecule={}))}(n=e.Visualization||(e.Visualization={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){t.TypeDescriptions={Cartoons:{label:"Cartoon",shortLabel:"Cartoon"},Calpha:{label:"C-α Trace",shortLabel:"C-α"},BallsAndSticks:{label:"Balls and Sticks",shortLabel:"B'n'S"},VDWBalls:{label:"VDW Balls",shortLabel:"VDW"},Surface:{label:"Surface",shortLabel:"Surface"}},t.Types=["Cartoons","Calpha","BallsAndSticks","VDWBalls","Surface"],t.DetailTypes=["Automatic","Very Low","Low","Medium","High","Very High"];var e;!function(t){t.DetailParams={detail:"Automatic"},t.BallsAndSticksParams={useVDW:!0,vdwScaling:.22,atomRadius:.35,bondRadius:.09,detail:"Automatic"},t.SurfaceParams={probeRadius:1.4,density:1.1,smoothing:6,isWireframe:!1},t.Transparency={alpha:1,writeDepth:!1},t.ForType=function(){for(var e={Cartoons:{type:"Cartoons",params:{detail:"Automatic"},theme:{template:t.CartoonThemeTemplate,colors:t.CartoonThemeTemplate.colors,transparency:t.Transparency,interactive:!0}},Calpha:{type:"Calpha",params:{detail:"Automatic"},theme:{template:t.CartoonThemeTemplate,colors:t.CartoonThemeTemplate.colors,transparency:t.Transparency,interactive:!0}},BallsAndSticks:{type:"BallsAndSticks",params:t.BallsAndSticksParams,theme:{template:t.ElementSymbolThemeTemplate,colors:t.ElementSymbolThemeTemplate.colors,transparency:t.Transparency,interactive:!0}},VDWBalls:{type:"VDWBalls",params:{detail:"Automatic"},theme:{template:t.ElementSymbolThemeTemplate,colors:t.ElementSymbolThemeTemplate.colors,transparency:t.Transparency,interactive:!0}},Surface:{type:"Surface",params:t.SurfaceParams,theme:{template:t.SurfaceThemeTemplate,colors:t.SurfaceThemeTemplate.colors,transparency:{alpha:.33,writeDepth:!1},interactive:!0}}},n=new Map,r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];n.set(o,e[o])}return n}()}(e=t.Default||(t.Default={}))}(e=t.Molecule||(t.Molecule={}))}(e=t.Visualization||(t.Visualization={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){function i(t,e){if("Automatic"===t)return e<75e3?3:e<25e4?2:e<6e5?1:0;var n=r.DetailTypes.indexOf(t)-1;return Math.max(n,0)}function o(t,e){return{tessalation:t,drawingType:e?d.Cartoons.CartoonsModelType.AlphaTrace:d.Cartoons.CartoonsModelType.Default}}function a(t,n){if(!n.useVDW)return function(t){return function(){return t}}(n.atomRadius);var r=e.Utils.vdwRadiusFromElementSymbol(t);return function(t,e){return function(n){return t*e(n)}}(n.vdwScaling,r)}function s(t,e,n){return{tessalation:t,bondRadius:n.bondRadius,hideBonds:!1,atomRadius:a(e,n)}}function u(t,n){return{tessalation:t,bondRadius:0,hideBonds:!0,atomRadius:e.Utils.vdwRadiusFromElementSymbol(n)}}function c(t,n,r){var a=e.Utils.Molecule.findModel(t).props.model,c=e.Entity.isMoleculeModel(t)?t.props.model.atoms.indices:t.props.indices;if(c.length){var l=i(n.params.detail,c.length);switch(n.type){case"Cartoons":return d.Cartoons.Model.create(t,{model:a,atomIndices:c,theme:r,queryContext:e.Utils.Molecule.findQueryContext(t),params:o(l,!1)});case"Calpha":return d.Cartoons.Model.create(t,{model:a,atomIndices:c,theme:r,queryContext:e.Utils.Molecule.findQueryContext(t),params:o(l,!0)});case"BallsAndSticks":return f.Molecule.BallsAndSticks.Model.create(t,{model:a,atomIndices:c,theme:r,params:s(l,a,n.params)});case"VDWBalls":return f.Molecule.BallsAndSticks.Model.create(t,{model:a,atomIndices:c,theme:r,params:u(l,a)});default:return}}}function l(t,i,o){var a=this;return e.Task.create("Visual ("+t.props.label+")",n.Style.getTaskType(o),function(s){return v(a,void 0,void 0,function(){var a,u,l,h;return g(this,function(p){switch(p.label){case 0:return a=r.TypeDescriptions[o.type].label,[4,s.updateProgress("Creating "+a+"...")];case 1:if(p.sent(),u=o.theme.template.provider(e.Utils.Molecule.findModel(t),n.Theme.getProps(o.theme)),l=c(t,o,u),!l)throw"Invalid input parameters.";return[4,l.run(s)];case 2:return h=p.sent(),[2,e.Entity.Molecule.Visual.create(i,{label:a,model:h,style:o,isSelectable:!o.isNotSelectable})]}})})})}function h(r,i,o){var a=this;return e.Task.create("Molecular Surface ("+r.props.label+")",n.Style.getTaskType(o),function(s){return v(a,void 0,void 0,function(){var a,u,c,l,h,p,f;return g(this,function(d){switch(d.label){case 0:return a=e.Utils.Molecule.findModel(r).props.model,u=e.Entity.isMoleculeModel(r)?r.props.model.atoms.indices:r.props.indices,c=o.params,[4,t.Core.Geometry.MolecularSurface.computeMolecularSurfaceAsync({positions:a.atoms,atomIndices:u,parameters:{atomRadius:e.Utils.vdwRadiusFromElementSymbol(a),density:c.density,probeRadius:c.probeRadius,smoothingIterations:2*c.smoothing,interactive:!0}}).run(s)];case 1:return l=d.sent(),h=o.theme.template.provider(e.Utils.Molecule.findModel(r),n.Theme.getProps(o.theme)),[4,s.updateProgress("Creating visual...")];case 2:return d.sent(),[4,t.Visualization.Surface.Model.create(r,{surface:l.surface,theme:h,parameters:{isWireframe:o.params.isWireframe}}).run(s)];case 3:return p=d.sent(),f="Surface, "+e.Utils.round(c.probeRadius,2)+" Å probe",[2,e.Entity.Molecule.Visual.create(i,{label:f,model:p,style:o,isSelectable:!o.isNotSelectable})]}})})})}function p(t,e,n){return"Surface"===n.type?h(t,e,n):l(t,e,n)}var f=t.Visualization,d=t.Visualization.Molecule;r.create=p}(r=n.Molecule||(n.Molecule={}))}(n=e.Visualization||(e.Visualization={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){function i(e,n,r,i){for(var o=r[0]-n[0],a=r[1]-n[1],s=r[2]-n[2],u=[n,[n[0]+o,n[1],n[2]],[n[0],n[1]+a,n[2]],[n[0],n[1],n[2]+s],[n[0]+o,n[1]+a,n[2]],[n[0]+o,n[1],n[2]+s],[n[0],n[1]+a,n[2]+s],[n[0]+o,n[1]+a,n[2]+s]],c=e.dataDimensions.slice(0),l=[0,0,0],h=0,p=u;h<p.length;h++)for(var f=p[h],d=(new t.Visualization.THREE.Vector3).fromArray(f).applyMatrix4(i),m=[d.x,d.y,d.z],y=0;y<3;y++)c[y]=Math.max(0,Math.min(c[y],0|Math.floor(m[y]))),l[y]=Math.min(e.dataDimensions[y],Math.max(l[y],0|Math.ceil(m[y])));return{bottomLeft:c,topRight:l}}function o(o,s,u){var c=this,l="Background"===u.taskType?o.props.label:"Density Surface ("+o.props.label+")";return e.Task.create(l,n.Style.getTaskType(u),function(l){return v(c,void 0,void 0,function(){var c,h,p,f,d,m,y,v,b,_,x,w,C,S,E;return g(this,function(g){switch(g.label){case 0:if(c=u.params,h=e.Tree.Node.findClosestNodeOfType(o,[e.Entity.Density.Data]),!h)throw"Cannot create density visual on "+o.props.label;if(p=h.props.data,f=p.basis,d=(new t.Visualization.THREE.Matrix4).set(f.x[0],f.y[0],f.z[0],0,0,f.y[1],f.z[1],0,0,0,f.z[2],0,0,0,0,1),d.setPosition(new t.Visualization.THREE.Vector3(p.origin[0],p.origin[1],p.origin[2])),m=(new t.Visualization.THREE.Matrix4).getInverse(d),c.bottomLeft&&c.topRight?(b=i(p,c.bottomLeft,c.topRight,m),y=b.bottomLeft,v=b.topRight):(y=[0,0,0],v=p.dataDimensions),!(y[0]-v[0]&&y[1]-v[1]&&y[2]-v[2]))throw{warn:!0,message:"Empty box."};return _=void 0===c.isoValueType||c.isoValueType===r.IsoValueType.Sigma,x=_?p.valuesInfo.mean+p.valuesInfo.sigma*c.isoValue:c.isoValue,[4,a.MarchingCubes.compute({isoLevel:x,scalarField:p.data,bottomLeft:y,topRight:v}).run(l)];case 1:return w=g.sent(),[4,a.Surface.transform(w,d.elements).run(l)];case 2:return w=g.sent(),[4,a.Surface.laplacianSmooth(w,c.smoothing).run(l)];case 3:return w=g.sent(),C=u.theme.template.provider(h,n.Theme.getProps(u.theme)),[4,l.updateProgress("Creating visual...")];case 4:return g.sent(),[4,t.Visualization.Surface.Model.create(h,{surface:w,theme:C,parameters:{isWireframe:u.params.isWireframe}}).run(l)];case 5:return S=g.sent(),E="Surface, "+e.Utils.round(c.isoValue,2)+(_?" σ":""),[2,e.Entity.Density.Visual.create(s,{label:E,model:S,style:u,isSelectable:!u.isNotSelectable})]}})})})}var a=t.Core.Geometry;r.create=o}(r=n.Density||(n.Density={}))}(n=e.Visualization||(e.Visualization={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){var r;!function(t){t[t.Sigma=0]="Sigma",t[t.Absolute=1]="Absolute"}(r=n.IsoValueType||(n.IsoValueType={}));var i;!function(t){function e(t){var e=o.Theme.colors.set("Uniform",t.color);return{type:{},taskType:t.taskType,params:{isoValue:t.isoValue,isoValueType:t.isoValueType,smoothing:1,isWireframe:!!t.isWireframe},theme:{template:o.Theme,colors:e,transparency:t.transparency?t.transparency:o.Transparency,interactive:!1,disableFog:!!t.disableFog}}}t.create=e}(i=n.Style||(n.Style={}));var o;!function(n){function i(t,e){return o.Theme.createUniform(e)}n.Params={isoValue:0,isoValueType:r.Sigma,smoothing:1,isWireframe:!1};var o=t.Visualization,a=e.Immutable.Map({Uniform:o.Theme.Default.UniformColor,Highlight:o.Theme.Default.HighlightColor,Selection:o.Theme.Default.SelectionColor});n.Themes=[{name:"Uniform Color",description:"Same color everywhere.",colors:a,provider:i}],n.Transparency={alpha:1,writeDepth:!1},n.Theme=n.Themes[0],n.Style={type:{},params:n.Params,theme:{template:n.Theme,colors:n.Theme.colors,transparency:n.Transparency,interactive:!1,disableFog:!1}}}(o=n.Default||(n.Default={}))}(r=n.Density||(n.Density={}))}(n=e.Visualization||(e.Visualization={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(t,e){return t.type.info.typeClass===e}function r(t,e){return t.info.typeClass===e}function i(e,n){return new o(t.Utils.generateUUID(),e,n?n:{})}e.isClass=n,e.isTypeClass=r,e.RootClass="Root",e.GroupClass="Group",e.DataClass="Data",e.ObjectClass="Object",e.VisualClass="Visual",e.SelectionClass="Selection",e.ActionClass="Action",e.BehaviourClass="Behaviour";var o=function(){function e(t,e,n){this.id=t,this.info=e,this.traits=n}return e.prototype.create=function(e,n){var r={id:t.Tree.Node.createId(),version:0,index:0,ref:"undefined",tag:void 0,tree:void 0,props:n,state:{isCollapsed:!1,visibility:0},isHidden:!1,transform:e,parent:void 0,children:[],type:this};return t.Tree.Node.update(r)},e}();e.create=i}(e=t.Entity||(t.Entity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(e){e.tree&&(t.Event.Tree.NodeUpdated.dispatch(e.tree.context,e),e.tree.context.currentEntity===e&&t.Event.Entity.CurrentChanged.dispatch(e.tree.context,e))}function r(e){var r={isCollapsed:!e.state.isCollapsed};t.Tree.Node.withState(e,r),n(e)}function i(e){var r=e.tree.context.currentEntity;if(!(r===e||e&&e.isHidden)){for(var i=e.parent;i.parent!==i;){if(i.isHidden)return;i=i.parent}e.tree.context.currentEntity=e,r&&(t.Tree.Node.update(r),n(r)),e&&(t.Tree.Node.update(e),n(e)),t.Event.Entity.CurrentChanged.dispatch(e.tree.context,e),r&&t.Tree.updatePath(r),t.Tree.updatePath(e.parent)}}function o(e){if(e){for(var r=0,i=0,a=0,s=e.children;a<s.length;a++){var u=s[a],c=u.state.visibility;0===c?r++:2===c&&i++}var l;if(l=r===e.children.length?0:i===e.children.length?2:1,l!==e.state.visibility){var c={visibility:l};t.Tree.Node.withState(e,c),n(e)}e.parent!==e&&o(e.parent)}}function a(e,r){if(e){var i=r?0:2;t.Tree.Node.forEach(e,function(e){var r=e.state.visibility;if(r!==i){var o={visibility:i};t.Tree.Node.withState(e,o),n(e)}}),o(e.parent)}}e.nodeUpdated=n,e.toggleExpanded=r,e.setCurrent=i,e.updateVisibilityState=o,e.setVisibility=a}(e=t.Entity||(t.Entity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(t){return t&&t.type===u.Molecule}function r(t){return t&&t.type===u.Model}function i(t){return t&&t.type===u.Selection}function o(t){return t&&t.type.info.typeClass===e.VisualClass}e.isMolecule=n,e.isMoleculeModel=r,e.isMoleculeSelection=i,e.isVisual=o,e.RootTransform=t.Tree.Transform.create({},{},void 0),e.Root=e.create({name:"Root",typeClass:"Root",shortName:"R",description:"Where everything begins."}),e.Group=e.create({name:"Group",typeClass:"Group",shortName:"G",description:"A group on entities."}),e.Action=e.create({name:"Action",typeClass:"Action",shortName:"A",description:"Represents an action performed on the entity tree."});var a;!function(t){t.Types=["String","Binary"],t.String=e.create({name:"String Data",typeClass:"Data",shortName:"S_D",description:"A string."}),t.Binary=e.create({name:"Binary Data",typeClass:"Data",shortName:"B_D",description:"A binary blob."}),t.CifDictionary=e.create({name:"Cif Dictionary",typeClass:"Data",shortName:"CD",description:"Represents parsed CIF data."}),t.Json=e.create({name:"JSON Data",typeClass:"Data",shortName:"JS_D",description:"Represents JSON data."})}(a=e.Data||(e.Data={}));var s;!function(t){t.Surface=e.create({name:"Surface Visual",typeClass:"Visual",shortName:"V_S",description:"A surface visual."},{isFocusable:!0})}(s=e.Visual||(e.Visual={}));var u;!function(t){t.Molecule=e.create({name:"Molecule",typeClass:"Object",shortName:"M",description:"A molecule that might contain one or more models."}),t.Model=e.create({name:"Molecule Model",typeClass:"Object",shortName:"M_M",description:"A model of a molecule."}),t.Selection=e.create({name:"Molecule Model Selection",typeClass:"Selection",shortName:"S_M",description:"A selection of atoms."},{isFocusable:!0}),t.Visual=e.create({name:"Molecule Visual",typeClass:"Visual",shortName:"V_M",description:"A visual of a molecule."},{isFocusable:!0});var n;!function(t){t.Behaviour=e.create({name:"Coordinate Streaming",typeClass:"Behaviour",shortName:"CS",description:"Behaviour that downloads surrounding residues when an atom or residue is selected."})}(n=t.CoordinateStreaming||(t.CoordinateStreaming={}))}(u=e.Molecule||(e.Molecule={}));var c;!function(t){t.Data=e.create({name:"Density Data",typeClass:"Object",shortName:"DD",description:"Density data."}),t.Visual=e.create({name:"Density Visual",typeClass:"Visual",shortName:"V_DD",description:"A visual of density data."},{isFocusable:!0}),t.InteractiveSurface=e.create({name:"Interactive Surface",typeClass:"Behaviour",shortName:"B_IS",description:"Behaviour that creates an interactive surface when an atom or residue is selected."})}(c=e.Density||(e.Density={}))}(e=t.Entity||(t.Entity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(e){var n=this;this.data=new Map,t.Event.Tree.NodeRemoved.getStream(e).subscribe(function(t){return n.data.delete(t.data.id)})}return e.prototype.get=function(t,e){var n=this.data.get(t.id);if(n)return n[e]},e.prototype.set=function(t,e,n){var r=this.data.get(t.id);return r?r[e]=n:this.data.set(t.id,(i={},i[e]=n,i)),n;var i},e}();e.Cache=n,function(t){var e;!function(t){t.QueryContext="queryContext"}(e=t.Keys||(t.Keys={}))}(n=e.Cache||(e.Cache={}))}(e=t.Entity||(t.Entity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){var r=t.Tree.Transformer;n.Root=r.create({id:"root",name:"Root",description:"A transformer that always returns itself.",from:[e.Root],to:[e.Root],validateParams:function(){},defaultParams:function(){return{}}},function(e,n,r){return t.Task.resolve("Root","Silent",n)}),n.Fail=r.create({id:"fail",name:"Fail",description:"A transform that always fails.",from:[],to:[],validateParams:function(){},defaultParams:function(){return{title:"Error",message:"Unknown error."}}},function(e,n,r){return t.Task.reject(r.params.title,"Background",r.params.message)}),n.CreateGroup=r.create({id:"create-group",name:"Create Group",description:"A transformer that always returns itself.",from:[],to:[e.Group],validateParams:function(){},defaultParams:function(){return{}}},function(n,r,i){var o=e.Group.create(i,{label:i.params.label?i.params.label:"Group",description:i.params.description});if(i.params.isCollapsed){var a={isCollapsed:!0};o=t.Tree.Node.withState(o,a)}return t.Task.resolve("Group","Silent",o)})}(r=n.Basic||(n.Basic={}))}(n=e.Transformer||(e.Transformer={}))}(e=t.Entity||(t.Entity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){var i;!function(i){function o(o){return e.Tree.Transformer.action({id:"molecule-download-molecule-"+o.sourceId,name:"Molecule from "+o.name,description:o.description,from:[n.Root],to:[n.Action],defaultParams:function(e){return{id:o.defaultId,format:t.Core.Formats.Molecule.SupportedFormats.mmCIF}},validateParams:function(t){return t.id&&t.id.trim().length?void 0:["Enter "+(o.isFullUrl?"URL":"Id")]}},function(t,n,a){var s=o.specificFormat?o.specificFormat:a.params.format;return e.Tree.Transform.build().add(n,r.Data.Download,{url:o.urlTemplate(a.params.id.trim()),type:s.isBinary?"Binary":"String",id:a.params.id,description:o.name,title:"Molecule"}).then(i.CreateFromData,{format:o.specificFormat?o.specificFormat:a.params.format},{isBinding:!0}).then(i.CreateModel,{modelIndex:0},{isBinding:!1})})}var a=this;i.downloadMoleculeSource=o,i.OpenMoleculeFromFile=e.Tree.Transformer.action({id:"molecule-open-from-file",name:"Molecule from File",description:"Open a molecule from a file ("+t.Core.Formats.Molecule.SupportedFormats.All.map(function(t){return t.name}).join(", ")+").",from:[n.Root],to:[n.Action],defaultParams:function(t){return{file:void 0}},validateParams:function(e){return e.file?t.Core.Formats.FormatInfo.getFormat(e.file.name,t.Core.Formats.Molecule.SupportedFormats.All)?void 0:["Select a supported file format ("+[].concat(t.Core.Formats.Molecule.SupportedFormats.All.map(function(t){return t.extensions})).join(", ")+")."]:["Select a file"]}},function(n,o,a){var s=t.Core.Formats.FormatInfo.getFormat(a.params.file.name,t.Core.Formats.Molecule.SupportedFormats.All);return e.Tree.Transform.build().add(o,r.Data.OpenFile,{file:a.params.file,type:s.isBinary?"Binary":"String"}).then(i.CreateFromData,{format:s},{isBinding:!0}).then(i.CreateModel,{modelIndex:0},{isBinding:!1})}),i.CreateFromData=e.Tree.Transformer.create({id:"molecule-create-from-data",name:"Molecule",description:"Create a molecule from string or binary data.",from:[n.Data.String,n.Data.Binary],to:[n.Molecule.Molecule],defaultParams:function(e){return{format:t.Core.Formats.Molecule.SupportedFormats.mmCIF}}},function(t,r,i){return e.Task.create("Create Molecule ("+r.props.label+")","Silent",function(){return v(a,void 0,void 0,function(){var o,a,s,u;return g(this,function(c){switch(c.label){case 0:return[4,e.Task.fromComputation("Create Molecule ("+r.props.label+")","Normal",i.params.format.parse(r.props.data,{id:i.params.customId})).setReportTime(!0).run(t)];case 1:if(o=c.sent(),o.isError)throw o.toString();if(o.warnings&&o.warnings.length>0)for(a=0,s=o.warnings;a<s.length;a++)u=s[a],t.logger.warning(u);return[2,n.Molecule.Molecule.create(i,{label:o.result.id,molecule:o.result})]}})})})}),i.CreateFromMmCif=e.Tree.Transformer.create({id:"molecule-create-from-mmcif",name:"Molecule",description:"Create a molecule from a mmCIF data block.",from:[n.Data.CifDictionary],to:[n.Molecule.Molecule],defaultParams:function(t){return{blockIndex:0}}},function(r,i,o){return e.Task.create("Create Molecule ("+i.props.label+")","Normal",function(e){return v(a,void 0,void 0,function(){var r,a,s;return g(this,function(u){switch(u.label){case 0:return[4,e.updateProgress("Creating...")];case 1:if(u.sent(),r=0|o.params.blockIndex,a=i.props.dictionary.dataBlocks[r],!a)throw"The source contains only "+i.props.dictionary.dataBlocks.length+" data block(s), tried to access the "+(r+1)+"-th.";return s=t.Core.Formats.Molecule.mmCIF.ofDataBlock(a),[2,n.Molecule.Molecule.create(o,{label:s.id,molecule:s})]}})})}).setReportTime(!0)}),i.CreateModel=e.Tree.Transformer.create({id:"molecule-create-model",name:"Model",description:"Create a model of a molecule.",from:[n.Molecule.Molecule],to:[n.Molecule.Model],isUpdatable:!0,defaultParams:function(t){return{modelIndex:0}}},function(t,r,i){return e.Task.create("Create Model ("+r.props.label+")","Background",function(t){return v(a,void 0,void 0,function(){var t,e,o;return g(this,function(a){if(t=i.params,e=0|t.modelIndex,o=r.props.molecule.models[e],!o)throw"The molecule contains only "+r.props.molecule.models.length+" model(s), tried to access the "+(e+1)+"-th.";return[2,n.Molecule.Model.create(i,{label:"Model "+o.modelId,description:o.atoms.count+" atom"+(1!==o.atoms.count?"s":""),model:o})]})})})}),i.CreateSelection=e.Tree.Transformer.create({id:"molecule-create-selection",name:"Selection",description:"Create an atom selection.",from:[n.Molecule.Model,n.Molecule.Visual],to:[n.Molecule.Selection],isUpdatable:!0,defaultParams:function(t){return{queryString:t.settings.get("molecule.model.defaultQuery")||""}},validateParams:function(e){if(!(e.queryString||"").trim().length)return["Enter query"];try{return t.Core.Structure.Query.Builder.toQuery(e.queryString)&&void 0||void 0}catch(t){return[""+t]}}},function(r,i,o){return e.Task.create("Create Selection ("+i.props.label+")","Background",function(r){return v(a,void 0,void 0,function(){var r,a,s,u;return g(this,function(c){if(r=o.params,a=t.Core.Structure.Query.Builder.toQuery(r.queryString),s=o.params.inFullContext?e.Utils.Molecule.findModel(i).props.model.queryContext:e.Utils.Molecule.findQueryContext(i),u=a(s).unionAtomIndices(),!u.length)throw{warn:!0,message:"Empty selection"+(o.params.name?" ("+o.params.name+")":"")+"."};return[2,n.Molecule.Selection.create(o,{label:r.name?r.name:"Selection",description:u.length+" atom"+(1!==u.length?"s":""),indices:u})]})})}).setReportTime(!o.params.silent)}),i.CreateSelectionFromQuery=e.Tree.Transformer.create({id:"molecule-create-selection",name:"Selection",description:"Create an atom selection.",from:[n.Molecule.Model,n.Molecule.Visual],to:[n.Molecule.Selection],defaultParams:function(t){}},function(r,i,o){return e.Task.create("Create Selection ("+i.props.label+")","Background",function(r){return v(a,void 0,void 0,function(){var r,a,s,u;return g(this,function(c){if(r=o.params,a=t.Core.Structure.Query.Builder.toQuery(r.query),s=o.params.inFullContext?e.Utils.Molecule.findModel(i).props.model.queryContext:e.Utils.Molecule.findQueryContext(i),u=a(s).unionAtomIndices(),!u.length)throw{warn:!0,message:"Empty selection"+(o.params.name?" ("+o.params.name+")":"")+"."};return[2,n.Molecule.Selection.create(o,{label:r.name?r.name:"Selection",description:u.length+" atom"+(1!==u.length?"s":""),indices:u})]})})}).setReportTime(!o.params.silent)}),i.CreateAssembly=e.Tree.Transformer.create({id:"molecule-create-assemly",name:"Assembly",description:"Create an assembly of a molecule.",from:[n.Molecule.Model],to:[n.Molecule.Model],defaultParams:function(t,n){var r=e.Utils.Molecule.findModel(n),i={name:t.settings.get("molecule.model.defaultAssemblyName")||"1"},o=r.props.model.assemblyInfo;return o&&o.assemblies.length?o.assemblies.filter(function(t){return t.name===i.name})?i:(i.name=o.assemblies[0].name,i):i},isUpdatable:!0,isApplicable:function(t){return!!(t&&t.props.model.assemblyInfo&&t.props.model.assemblyInfo.assemblies.length)}},function(r,i,o){return e.Task.create("Create Model ("+i.props.label+")","Background",function(e){return v(a,void 0,void 0,function(){var r,a,s;return g(this,function(u){switch(u.label){case 0:if(r=i.props.model.assemblyInfo,!r||!r.assemblies.length)throw"Assembly info not available.";if(a=r.assemblies.filter(function(t){return t.name===o.params.name})[0],!a)throw"No assembly called '"+o.params.name+"' found.";return[4,e.updateProgress("Creating...")];case 1:return u.sent(),s=t.Core.Structure.buildAssembly(i.props.model,a),[2,n.Molecule.Model.create(o,{label:"Assembly "+a.name,description:s.atoms.count+" atom"+(1!==s.atoms.count?"s":""),model:s})]}})})})}),i.CreateSymmetryMates=e.Tree.Transformer.create({id:"molecule-create-symmetry-mates",name:"Crystal Symmetry",description:"Find crystal symmetry mates or interaction partners.",from:[n.Molecule.Model],to:[n.Molecule.Model],defaultParams:function(t){return{type:"Interaction",radius:5}},isUpdatable:!0,isApplicable:function(t){return!(!t||!t.props.model.symmetryInfo)}},function(r,i,o){return e.Task.create("Create Model ("+i.props.label+")","Background",function(r){return v(a,void 0,void 0,function(){var a,s,u;return g(this,function(c){switch(c.label){case 0:if(a=i.props.model.symmetryInfo,!a)throw"Spacegroup info info not available.";return s=Math.max(o.params.radius,0),[4,r.updateProgress("Creating...")];case 1:return c.sent(),u="Mates"===o.params.type?t.Core.Structure.buildSymmetryMates(i.props.model,s):t.Core.Structure.buildPivotGroupSymmetry(i.props.model,s),[2,n.Molecule.Model.create(o,{label:"Symmetry",model:u,description:u.atoms.count+" atom"+(1!==u.atoms.count?"s":"")+", "+o.params.type+" "+e.Utils.round(s,1)+" Å"})]}})})})}),i.ModelTransform3D=e.Tree.Transformer.create({
id:"molecule-model-transform3d",name:"Transform 3D",description:"Transform 3D coordinates of a model using a 4x4 matrix.",from:[n.Molecule.Model],to:[n.Molecule.Model],validateParams:function(t){return t&&t.transform&&16===t.transform.length?void 0:["Specify a 4x4 transform matrix."]},defaultParams:function(e,n){return{transform:t.Core.Geometry.LinearAlgebra.Matrix4.identity()}},isUpdatable:!1},function(r,i,o){return e.Task.create("Transform 3D ("+i.props.label+")","Normal",function(e){return v(a,void 0,void 0,function(){var r,a,s;return g(this,function(u){switch(u.label){case 0:return[4,e.updateProgress("Transforming...")];case 1:return u.sent(),r=i.props.model,a={t:o.params.transform,v:{x:0,y:0,z:0}},s=t.Core.Structure.MoleculeModel.withTransformedXYZ(r,a,function(e,n,r,i,o){var a=e.v;a.x=n,a.y=r,a.z=i,t.Core.Geometry.LinearAlgebra.Matrix4.transformVector3(o,a,e.t)}),[2,n.Molecule.Model.create(o,{label:i.props.label,description:o.params.description?o.params.description:"Transformed",model:s})]}})})})}),i.CreateVisual=e.Tree.Transformer.create({id:"molecule-create-visual",name:"Visual",description:"Create a visual of a molecule or a selection.",from:[n.Molecule.Model,n.Molecule.Selection],to:[n.Molecule.Visual],isUpdatable:!0,defaultParams:function(t){return{style:e.Visualization.Molecule.Default.ForType.get("Cartoons")}},validateParams:function(t){return t.style?void 0:["Specify Style"]},customController:function(t,n,r){return new e.Components.Transform.MoleculeVisual(t,n,r)}},function(t,n,r){var i=r.params;return e.Visualization.Molecule.create(n,r,i.style).setReportTime("Normal"===e.Visualization.Style.getTaskType(r.params.style))},function(t,r,i){var o=r.transform.params;if(o.style.type===i.params.style.type&&e.Utils.deepEqual(o.style.params,i.params.style.params)){var a=r.props.model;if(a){var s=e.Utils.Molecule.findModel(r.parent);if(s){var u=i.params.style.theme,c=u.template.provider(s,e.Visualization.Theme.getProps(u));return a.applyTheme(c),r.props.style=i.params.style,n.nodeUpdated(r),e.Task.resolve(i.transformer.info.name,"Background",e.Tree.Node.Null)}}}}),i.CreateMacromoleculeVisual=e.Tree.Transformer.action({id:"molecule-create-macromolecule-visual",name:"Macromolecule Visual",description:"Create a visual of a molecule that is split into polymer, HET, and water parts.",from:[n.Molecule.Model],to:[n.Action],validateParams:function(t){return t.polymer||t.het||t.water?void 0:["Select at least one component"]},defaultParams:function(t){return{polymer:!0,het:!0,water:!0}}},function(n,o,a){var s=e.Tree.Transform.build().add(o,r.Basic.CreateGroup,{label:"Group",description:"Macromolecule"},{ref:a.params.groupRef});if(a.params.polymer){var u=s.then(i.CreateSelectionFromQuery,{query:t.Core.Structure.Query.nonHetPolymer(),name:"Polymer",silent:!0},{isBinding:!0});u.then(i.CreateVisual,{style:e.Visualization.Molecule.Default.ForType.get("Cartoons")},{ref:a.params.polymerRef})}if(a.params.het){var c=s.then(i.CreateSelectionFromQuery,{query:t.Core.Structure.Query.hetGroups(),name:"HET",silent:!0},{isBinding:!0});c.then(i.CreateVisual,{style:e.Visualization.Molecule.Default.ForType.get("BallsAndSticks")},{ref:a.params.hetRef})}if(a.params.water){var l={type:"BallsAndSticks",params:{useVDW:!1,atomRadius:.23,bondRadius:.09,detail:"Automatic"},theme:{template:e.Visualization.Molecule.Default.ElementSymbolThemeTemplate,colors:e.Visualization.Molecule.Default.ElementSymbolThemeTemplate.colors,transparency:{alpha:.25}}},h=s.then(i.CreateSelectionFromQuery,{query:t.Core.Structure.Query.entities({type:"water"}),name:"Water",silent:!0},{isBinding:!0});h.then(i.CreateVisual,{style:l},{ref:a.params.waterRef})}return s})}(i=r.Molecule||(r.Molecule={}))}(r=n.Transformer||(n.Transformer={}))}(n=e.Entity||(e.Entity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){var i;!function(r){function i(t){return void 0===t||null===t?"String":"binary"===t.toLowerCase()?"Binary":"String"}function o(t){var n=void 0===t?e.Utils.DataCompressionMethod.None:t;return n!==e.Utils.DataCompressionMethod.None}var a=this;r.Download=e.Tree.Transformer.create({id:"data-download",name:"Download Data",description:"Downloads a string or binary data from the given URL (if the host server supports cross domain requests).",from:[n.Root],to:[n.Data.String,n.Data.Binary],validateParams:function(t){return t.url&&t.url.trim().length?t.type?"String"===t.type&&o(t.responseCompression)?["Decompression is only available for Binary data."]:void 0:["Specify type"]:["Enter URL"]},defaultParams:function(){return{id:"",description:"",type:"String",url:"",responseCompression:e.Utils.DataCompressionMethod.None}}},function(t,r,o){var s=o.params;return e.Task.create("Download","Silent",function(){return v(a,void 0,void 0,function(){var r;return g(this,function(a){switch(a.label){case 0:return[4,e.Utils.ajaxGet({url:s.url,type:i(s.type),compression:s.responseCompression,title:s.title}).setReportTime(!0).run(t)];case 1:return r=a.sent(),"String"===s.type?[2,n.Data.String.create(o,{label:s.id?s.id:s.url,description:s.description,data:r})]:[2,n.Data.Binary.create(o,{label:s.id?s.id:s.url,description:s.description,data:r})]}})})})}),r.OpenFile=e.Tree.Transformer.create({id:"data-open-file",name:"Open Data File",description:"Read a string or binary data from the selected file.",from:[n.Root],to:[n.Data.String,n.Data.Binary],validateParams:function(t){return t.file?void 0:["Select a file"]},defaultParams:function(){return{type:"String",file:void 0}}},function(t,r,o){return e.Task.create("Download","Silent",function(r){return v(a,void 0,void 0,function(){var r,a;return g(this,function(s){switch(s.label){case 0:return r=o.params,[4,e.Utils.readFromFile(r.file,i(r.type)).setReportTime(!0).run(t)];case 1:return a=s.sent(),"String"===r.type?[2,n.Data.String.create(o,{label:r.id?r.id:r.file.name,description:r.description,data:a})]:[2,n.Data.Binary.create(o,{label:r.id?r.id:r.file.name,description:r.description,data:a})]}})})})}),r.ParseCif=e.Tree.Transformer.create({id:"data-parse-cif",name:"CIF Dictionary",description:"Parse CIF dictionary from a string.",from:[n.Data.String],to:[n.Data.CifDictionary],defaultParams:function(){return{}}},function(r,i,o){return e.Task.create("CIF Parse ("+i.props.label+")","Normal",function(e){return v(a,void 0,void 0,function(){var r;return g(this,function(a){switch(a.label){case 0:return[4,e.updateProgress("Parsing...")];case 1:if(a.sent(),r=t.Core.Formats.CIF.Text.parse(i.props.data),r.isError)throw r.toString();return[2,n.Data.CifDictionary.create(o,{label:o.params.id?o.params.id:"CIF Dictionary",description:o.params.description,dictionary:r.result})]}})})}).setReportTime(!0)}),r.ParseBinaryCif=e.Tree.Transformer.create({id:"data-parse-binary-cif",name:"CIF Dictionary",description:"Parse CIF dictionary from BinaryCIF data.",from:[n.Data.Binary],to:[n.Data.CifDictionary],defaultParams:function(){return{}}},function(r,i,o){return e.Task.create("BinaryCIF Parse ("+i.props.label+")","Normal",function(e){return v(a,void 0,void 0,function(){var r;return g(this,function(a){switch(a.label){case 0:return[4,e.updateProgress("Parsing...")];case 1:if(a.sent(),r=t.Core.Formats.CIF.Binary.parse(i.props.data),r.isError)throw r.toString();return[2,n.Data.CifDictionary.create(o,{label:o.params.id?o.params.id:"CIF Dictionary",description:o.params.description,dictionary:r.result})]}})})}).setReportTime(!0)}),r.ParseJson=e.Tree.Transformer.create({id:"data-parse-json",name:"JSON",description:"Parse a string to JSON object.",from:[n.Data.String],to:[n.Data.Json],defaultParams:function(){return{}}},function(t,r,i){return e.Task.create("JSON Parse ("+r.props.label+")","Normal",function(t){return v(a,void 0,void 0,function(){var e;return g(this,function(o){switch(o.label){case 0:return[4,t.updateProgress("Parsing...")];case 1:return o.sent(),e=JSON.parse(r.props.data),[2,n.Data.Json.create(i,{label:i.params.id?i.params.id:"JSON Data",description:i.params.description,data:e})]}})})}).setReportTime(!0)}),r.FromData=e.Tree.Transformer.create({id:"data-from-data",name:"From Data",description:"Creates a data entity from string or binary data",from:[n.Root],to:[n.Data.String,n.Data.Binary],defaultParams:function(){}},function(t,r,i){var o=i.params.data,a=o instanceof ArrayBuffer?n.Data.Binary.create(i,{label:i.params.id?i.params.id:"Binary Data",description:i.params.description,data:o}):n.Data.String.create(i,{label:i.params.id?i.params.id:"String Data",description:i.params.description,data:o});return e.Task.resolve("From Data","Silent",a)})}(i=r.Data||(r.Data={}))}(r=n.Transformer||(n.Transformer={}))}(n=e.Entity||(e.Entity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){var i;!function(r){var i=this;r.ParseData=e.Tree.Transformer.create({id:"density-parse-binary",name:"Density Data",description:"Parse density from binary data.",from:[n.Data.String,n.Data.Binary],to:[n.Density.Data],isUpdatable:!0,defaultParams:function(){return{format:t.Core.Formats.Density.SupportedFormats.CCP4,normalize:!1}}},function(t,r,o){return e.Task.create("Create Density ("+r.props.label+")","Background",function(a){return v(i,void 0,void 0,function(){var i,a;return g(this,function(s){switch(s.label){case 0:return[4,e.Task.fromComputation("Parse Density ("+r.props.label+")","Normal",o.params.format.parse(r.props.data)).setReportTime(!0).run(t)];case 1:if(i=s.sent(),i.isError)throw i.toString();return o.params.normalize&&i.result.normalize(),a=n.Density.Data.create(o,{label:o.params.id?o.params.id:"Density Data",data:i.result,description:o.params.normalize?"Normalized":""}),[2,a]}})})})},function(r,o,a){return o.props.data.isNormalized===a.params.normalize?e.Task.resolve("Density","Background",e.Tree.Node.Null):e.Task.create("Update Density","Normal",function(e){return v(i,void 0,void 0,function(){var r;return g(this,function(i){switch(i.label){case 0:return[4,e.updateProgress("Updating...")];case 1:return i.sent(),r=o.props.data,r.isNormalized?t.Core.Formats.Density.Data.denormalize(r):t.Core.Formats.Density.Data.normalize(r),[2,n.Density.Data.create(a,{label:a.params.id?a.params.id:"Density Data",data:r,description:a.params.normalize?"Normalized":""})]}})})})}),r.CreateFromCif=e.Tree.Transformer.create({id:"density-create-from-cif",name:"Density Data",description:"Parse density from CIF data.",from:[n.Data.CifDictionary],to:[n.Density.Data],isUpdatable:!1,defaultParams:function(){return{blockIndex:0}}},function(r,o,a){return e.Task.create("Create Density","Normal",function(e){return v(i,void 0,void 0,function(){var r;return g(this,function(i){switch(i.label){case 0:return[4,e.updateProgress("Parsing...")];case 1:if(i.sent(),r=t.Core.Formats.Density.CIF.parse(o.props.dictionary.dataBlocks[a.params.blockIndex]),r.isError)throw r.toString();return[2,n.Density.Data.create(a,{label:a.params.id?a.params.id:"Density Data",data:r.result,description:r.result.attributes.name})]}})})}).setReportTime(!0)}),r.CreateFromData=e.Tree.Transformer.create({id:"density-create-from-data",name:"Density Data",description:"Create density from data.",from:[],to:[n.Density.Data],isUpdatable:!1,defaultParams:function(){return{}}},function(t,r,i){var o=n.Density.Data.create(i,{label:i.params.id?i.params.id:"Density Data",data:i.params.data,description:i.params.data.attributes.name});return e.Task.resolve("Create Density","Background",o)}),r.CreateVisual=e.Tree.Transformer.create({id:"density-create-visual",name:"Surface",description:"Create a surface from the density data.",from:[n.Density.Data],to:[n.Density.Visual],isUpdatable:!0,defaultParams:function(){return{style:e.Visualization.Density.Default.Style}},validateParams:function(t){return t.style?void 0:["Specify Style"]},customController:function(t,n,r){return new e.Components.Transform.DensityVisual(t,n,r)}},function(t,n,r){var i=r.params;return e.Visualization.Density.create(n,r,i.style).setReportTime("Normal"===e.Visualization.Style.getTaskType(r.params.style))},function(t,r,i){var o=r.transform.params;if(o.style.type===i.params.style.type&&e.Utils.deepEqual(o.style.params,i.params.style.params)){var a=e.Tree.Node.findClosestNodeOfType(r,[n.Density.Data]);if(a){var s=r.props.model;if(s){if(!e.Utils.deepEqual(o.style.theme,i.params.style.theme)){var u=i.params.style.theme,c=u.template.provider(a,e.Visualization.Theme.getProps(u));s.applyTheme(c),r.props.style.theme=u,n.nodeUpdated(r)}return e.Task.resolve(i.transformer.info.name,"Background",e.Tree.Node.Null)}}}}),r.CreateVisualBehaviour=e.Tree.Transformer.create({id:"density-create-visual-behaviour",name:"Interactive Surface",description:"Create a surface from the density data when a residue or atom is selected.",from:[n.Density.Data],to:[n.Density.InteractiveSurface],isUpdatable:!0,defaultParams:function(t){return{style:e.Visualization.Density.Default.Style,radius:t.settings.get("density.defaultVisualBehaviourRadius")||0,isoSigmaMin:-5,isoSigmaMax:5,minRadius:0,maxRadius:10,showFull:!1}},customController:function(t,n,r){return new e.Components.Transform.DensityVisual(t,n,r)}},function(t,r,i){var o=i.params,a=new e.Behaviour.Density.ShowDynamicDensity(t,{style:o.style,radius:o.radius,showFull:o.showFull}),s=void 0===o.style.params.isoValueType||o.style.params.isoValueType===e.Visualization.Density.IsoValueType.Sigma;return e.Task.resolve("Behaviour","Background",n.Density.InteractiveSurface.create(i,{label:(o.id?i.params.id:"Interactive")+", "+e.Utils.round(o.style.params.isoValue,2)+(s?" σ":""),behaviour:a}))},function(t,r,i){var o=r.transform.params,a=i.params;if(o.style.type===a.style.type&&e.Utils.deepEqual(o.style.params,a.style.params)&&o.isoSigmaMin===a.isoSigmaMin&&o.isoSigmaMax===a.isoSigmaMax&&o.minRadius===a.minRadius&&o.maxRadius===a.maxRadius&&o.radius===a.radius&&o.showFull===a.showFull){var s=e.Tree.Node.findClosestNodeOfType(r,[n.Density.Data]);if(s){var u=a.style.theme;return r.props.behaviour.updateTheme(u),n.nodeUpdated(r),e.Task.resolve(i.transformer.info.name,"Background",e.Tree.Node.Null)}}})}(i=r.Density||(r.Density={}))}(r=n.Transformer||(n.Transformer={}))}(n=e.Entity||(e.Entity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){var i;!function(i){var o;!function(o){var a=this;o.CreateBehaviour=e.Tree.Transformer.create({id:"streaming-create-behaviour",name:"Coordinate Streaming",description:"Enable coordinate data streaming for this molecule.",from:[n.Molecule.Model],to:[n.Molecule.CoordinateStreaming.Behaviour],defaultParams:function(t){return{server:t.settings.get("molecule.coordinateStreaming.defaultServer")||"",radius:t.settings.get("molecule.coordinateStreaming.defaultRadius")||0}}},function(t,r,i){return e.Task.resolve("Behaviour","Background",n.Molecule.CoordinateStreaming.Behaviour.create(i,{label:"Coordinate Streaming",behaviour:new e.Behaviour.Molecule.CoordinateStreaming(t,i.params.server,i.params.radius)}))}),o.CreateModel=e.Tree.Transformer.create({id:"streaming-create-model",name:"Streaming Model",description:"",from:[n.Molecule.CoordinateStreaming.Behaviour],to:[n.Molecule.Model],defaultParams:function(){}},function(r,i,o){return e.Task.create("Load","Silent",function(e){return v(a,void 0,void 0,function(){var e,r;return g(this,function(i){return e=t.Core.Formats.CIF.Binary.parse(o.params.data),e.isError?[2]:(r=t.Core.Formats.Molecule.mmCIF.ofDataBlock(e.result.dataBlocks[0]).models[0],o.params.transform&&t.Core.Structure.Operator.applyToModelUnsafe(o.params.transform,r),[2,n.Molecule.Model.create(o,{label:"part",model:r})])})})})}),o.InitStreaming=e.Tree.Transformer.action({id:"streaming-init",name:"Coordinate Streaming",description:"Download a smaller version of the molecule required to display cartoon representation and stream the rest of the coordinates as required.",from:[n.Root],to:[n.Action],validateParams:function(t){return(t.id||"").trim().length?(t.server||"").trim().length?void 0:["Specify server"]:["Enter id"]},defaultParams:function(t){return{id:t.settings.get("molecule.coordinateStreaming.defaultId")||"",server:t.settings.get("molecule.coordinateStreaming.defaultServer")||"",radius:t.settings.get("molecule.coordinateStreaming.defaultRadius")||0}}},function(t,n,a){return e.Tree.Transform.build().add(n,r.Data.Download,{url:e.Behaviour.Molecule.CoordinateStreaming.getBaseUrl(a.params.id,a.params.server),type:"Binary",id:a.params.id}).then(r.Data.ParseBinaryCif,{id:a.params.id},{isBinding:!0}).then(i.CreateFromMmCif,{blockIndex:0},{isBinding:!0}).then(i.CreateModel,{modelIndex:0},{isBinding:!1}).then(o.CreateBehaviour,{server:a.params.server,radius:a.params.radius})})}(o=i.CoordinateStreaming||(i.CoordinateStreaming={}))}(i=r.Molecule||(r.Molecule={}))}(r=n.Transformer||(n.Transformer={}))}(n=e.Entity||(e.Entity={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){function r(t){return e.Tree.Node.findClosestNodeOfType(t,f)}function i(t){return e.Tree.Node.findClosestNodeOfType(t,d)}function o(t){return e.Tree.Node.findClosestNodeOfType(t,m)}function a(n){var i=e.Tree.Node.findClosestNodeOfType(n,d);if(e.Entity.isMoleculeModel(i))return i.props.model.queryContext;var o=i.tree.context.entityCache,a=o.get(i,e.Entity.Cache.Keys.QueryContext);return a?a:(a=t.Core.Structure.Query.Context.ofAtomIndices(r(i).props.model,i.props.indices),o.set(i,e.Entity.Cache.Keys.QueryContext,a))}function s(t,e,n,r,i,o){for(var a=t.atoms,s=a.x,u=a.y,c=a.z,l=r.atoms.x,h=r.atoms.y,p=r.atoms.z,f=Number.POSITIVE_INFINITY,d=e;d<n;d++)for(var m=i;m<o;m++){var y=s[d]-l[m],v=u[d]-h[m],g=c[d]-p[m];f=Math.min(f,y*y+v*v+g*g)}return Math.sqrt(f)}function u(t,e,n,r){for(var i=t.atoms,o=i.x,a=i.y,s=i.z,u=n.atoms.x,c=n.atoms.y,l=n.atoms.z,h=Number.POSITIVE_INFINITY,p=0,f=e;p<f.length;p++)for(var d=f[p],m=0,y=r;m<y.length;m++){var v=y[m],g=o[d]-u[v],b=a[d]-c[v],_=s[d]-l[v];h=Math.min(h,g*g+b*b+_*_)}return Math.sqrt(h)}function c(e,n){var i=r(e);if(!i)return void console.warn("Could not find a model for query selection.");var o=a(e);try{var s=t.Core.Structure.Query.Builder.toQuery(n);return{model:i,indices:s(o).unionAtomIndices(),queryContext:o}}catch(t){return void console.error("Query Execution",t)}}function l(t,e){for(var n=t.atoms.residueIndex,r=[],i=t.residues.atomStartIndex[n[e]],o=t.residues.atomEndIndex[n[e]];i<o;i++)r.push(i);return r}function h(t,e,n){for(var r=t.atoms,i=r.x,o=r.y,a=r.z,s=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],u=[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE],c=0,l=e;c<l.length;c++){var h=l[c];s[0]=Math.min(i[h],s[0]),s[1]=Math.min(o[h],s[1]),s[2]=Math.min(a[h],s[2]),u[0]=Math.max(i[h],u[0]),u[1]=Math.max(o[h],u[1]),u[2]=Math.max(a[h],u[2])}return s[0]=s[0]-n,s[1]=s[1]-n,s[2]=s[2]-n,u[0]=u[0]+n,u[1]=u[1]+n,u[2]=u[2]+n,{bottomLeft:s,topRight:u}}function p(t,e,n){n.x=0,n.y=0,n.z=0;for(var r=t.atoms,i=r.x,o=r.y,a=r.z,s=0,u=e;s<u.length;s++){var c=u[s];n.x+=i[c],n.y+=o[c],n.z+=a[c]}var l=e.length;n.x/=l,n.y/=l,n.z/=l;for(var h=0,p=0,f=e;p<f.length;p++){var c=f[p],d=n.x-i[c],m=n.y-o[c],y=n.z-a[c];h=Math.max(h,d*d+m*m+y*y)}return Math.sqrt(h)}var f=[e.Entity.Molecule.Model];n.findModel=r;var d=[e.Entity.Molecule.Model,e.Entity.Molecule.Selection];n.findModelOrSelection=i;var m=[e.Entity.Molecule.Molecule];n.findMolecule=o,n.findQueryContext=a,n.getDistance=s,n.getDistanceSet=u,n.getModelAndIndicesFromQuery=c,n.getResidueIndices=l,n.getBox=h;var y=function(){function t(t){this.center={x:0,y:0,z:0},this.radiusSquared=0,this.count=0,this.x=t.atoms.x,this.y=t.atoms.y,this.z=t.atoms.z}return t.prototype.addAtom=function(t){this.count++,this.center.x+=this.x[t],this.center.y+=this.y[t],this.center.z+=this.z[t]},t.prototype.finishedAdding=function(){this.center.x/=this.count,this.center.y/=this.count,this.center.z/=this.count},t.prototype.radiusVisit=function(t){var e=this.center.x-this.x[t],n=this.center.y-this.y[t],r=this.center.z-this.z[t];this.radiusSquared=Math.max(this.radiusSquared,e*e+n*n+r*r)},t}();n.CentroidHelper=y,n.getCentroidAndRadius=p}(r=n.Molecule||(n.Molecule={}))}(n=e.Utils||(e.Utils={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(e){this.context=e,this.subjects={select:new t.Rx.BehaviorSubject(t.Interactivity.Info.empty),click:new t.Rx.BehaviorSubject(t.Interactivity.Info.empty),currentEntity:new t.Rx.BehaviorSubject(void 0)},this.select=this.subjects.select.distinctUntilChanged(function(t){return t},t.Interactivity.interactivityInfoEqual),this.click=this.subjects.click.distinctUntilChanged(function(t){return t},t.Interactivity.interactivityInfoEqual),this.currentEntity=this.subjects.currentEntity,this.init()}return e.prototype.init=function(){var e=this,n=t.Interactivity.Info.empty;t.Event.Tree.NodeRemoved.getStream(this.context).subscribe(function(r){t.Interactivity.isSelection(n)&&n.source===r.data&&(n=t.Interactivity.Info.empty,t.Event.Visual.VisualSelectElement.dispatch(e.context,n))}),t.Event.Visual.VisualSelectElement.getStream(this.context).subscribe(function(r){n=r.data,e.subjects.click.onNext(n),t.Interactivity.isSelection(n)&&t.Entity.isVisual(n.source)&&!n.source.props.isSelectable||e.subjects.select.onNext(n)}),t.Event.Entity.CurrentChanged.getStream(this.context).subscribe(function(t){return e.subjects.currentEntity.onNext(t.data)})},e}();e.Streams=n}(e=t.Behaviour||(t.Behaviour={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(e){t.Event.Tree.NodeAdded.getStream(e).subscribe(function(n){var r=n.data;r&&(r.transform.isUpdate||r.type.traits.isSilent)||t.Command.Entity.SetCurrent.dispatch(e,r)})}function r(e){t.Event.Tree.NodeAdded.getStream(e).subscribe(function(n){if(t.Tree.Node.is(n.data,t.Entity.Molecule.Model)&&!n.data.isHidden){var r=t.Entity.Transformer.Molecule.CreateMacromoleculeVisual.info.defaultParams(e,n.data);t.Command.Tree.ApplyTransform.dispatch(e,{node:n.data,transform:t.Entity.Transformer.Molecule.CreateMacromoleculeVisual.create(r)})}})}function i(e){t.Event.Tree.NodeAdded.getStream(e).subscribe(function(e){var n=e.data;if(t.Entity.isMoleculeSelection(n)&&t.Entity.isVisual(n.parent)){var r=n,i=n.parent;i.props.model.applySelection(r.props.indices,1)}}),t.Event.Tree.NodeRemoved.getStream(e).subscribe(function(e){var n=e.data;if(t.Entity.isMoleculeSelection(n)&&t.Entity.isVisual(n.parent)){var r=n,i=n.parent;i.props.model.applySelection(r.props.indices,2)}})}function o(e){var n=void 0,r=void 0;e.behaviours.click.subscribe(function(e){r&&(r.applySelection(n,2),r=void 0,n=void 0),!t.Interactivity.isEmpty(e)&&t.Entity.isVisual(e.source)&&(r=e.source.props.model,n=e.elements,r.applySelection(n,1))})}function a(e){var n=t.Interactivity.Info.empty;t.Event.Visual.VisualSelectElement.getStream(e).subscribe(function(r){return t.Interactivity.isEmpty(r.data)||t.Interactivity.isEmpty(n)?void(n=r.data):void((t.Tree.Node.hasAncestor(n.source,r.data.source)||t.Tree.Node.hasAncestor(r.data.source,n.source))&&t.Interactivity.interactivitySelectionElementsEqual(r.data,n)?(n=t.Interactivity.Info.empty,setTimeout(function(){return t.Event.Visual.VisualSelectElement.dispatch(e,t.Interactivity.Info.empty)},0)):n=r.data)})}function s(e,n){var r=t.Utils.Molecule.findModel(n.source).props.model;if(r){var i=n.elements;1===n.elements.length&&(i=t.Utils.Molecule.getResidueIndices(r,n.elements[0]));var o=t.Utils.Molecule.getCentroidAndRadius(r,i,l);if(1===n.elements.length){var a=n.elements[0];l.x=r.atoms.x[a],l.y=r.atoms.y[a],l.z=r.atoms.z[a]}e.scene.camera.focusOnPoint(l,Math.max(o,7))}}function u(e,n){if(!t.Interactivity.isEmpty(n)&&"Visual"===n.source.type.info.typeClass){var r=n.source,i=r.props.model;if(i){var o=i.getBoundingSphereOfSelection(n.elements);o?e.scene.camera.focusOnPoint(o.center,Math.max(o.radius,7)):e.scene.camera.focusOnModel(i)}}}function c(e){e.behaviours.click.subscribe(function(n){t.Interactivity.Molecule.isMoleculeModelInteractivity(n)?s(e,n):u(e,n)})}e.SetEntityToCurrentWhenAdded=n,e.CreateVisualWhenModelIsAdded=r,e.ApplySelectionToVisual=i,e.ApplyInteractivitySelection=o,e.UnselectElementOnRepeatedClick=a;var l={x:0,y:0,z:0};e.FocusCameraOnSelect=c}(e=t.Behaviour||(t.Behaviour={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){function r(n){return function(r){function i(){o&&(e.Command.Tree.RemoveNode.dispatch(r,o),o=void 0,u=void 0)}var o=void 0,u=void 0,c={type:"BallsAndSticks",taskType:"Silent",params:{useVDW:!0,vdwScaling:.25,bondRadius:.13,detail:"Automatic"},theme:{template:e.Visualization.Molecule.Default.ElementSymbolThemeTemplate,colors:e.Visualization.Molecule.Default.ElementSymbolThemeTemplate.colors.set("Bond",t.Visualization.Theme.Default.SelectionColor),transparency:{alpha:.4}},isNotSelectable:!0},l={type:"BallsAndSticks",taskType:"Silent",params:{useVDW:!1,atomRadius:.15,bondRadius:.07,detail:"Automatic"},theme:{template:e.Visualization.Molecule.Default.UniformThemeTemplate,colors:e.Visualization.Molecule.Default.UniformThemeTemplate.colors.set("Uniform",{r:.4,g:.4,b:.4}),transparency:{alpha:.75}},isNotSelectable:!0};r.behaviours.click.subscribe(function(t){if(e.Interactivity.isEmpty(t))return void i();if(t.source.ref===u){var h=e.Utils.Molecule.findModel(t.source);if(!h)return;var p=a.atomsFromIndices(t.elements);return void setTimeout(e.Command.Molecule.CreateSelectInteraction.dispatch(r,{entity:h,query:p}),0)}var f=!e.Entity.isVisual(t.source)||t.source.props.isSelectable;if(f&&(i(),!e.Interactivity.isEmpty(t)&&e.Utils.Molecule.findModelOrSelection(t.source))){var d=a.atomsFromIndices(t.elements).wholeResidues(),m=a.atomsFromIndices(t.elements).wholeResidues().ambientResidues(n),y=e.Utils.generateUUID(),v=e.Tree.Transform.build().add(t.source,s.Basic.CreateGroup,{label:"Interaction"},{ref:y,isHidden:!0});o=y,u=e.Utils.generateUUID(),v.then(s.Molecule.CreateSelectionFromQuery,{query:m,name:"Ambience",silent:!0,inFullContext:!0},{isBinding:!0}).then(s.Molecule.CreateVisual,{style:l},{ref:u}),v.then(s.Molecule.CreateSelectionFromQuery,{query:d,name:"Ligand",silent:!0,inFullContext:!0},{isBinding:!0}).then(s.Molecule.CreateVisual,{style:c}),e.Tree.Transform.apply(r,v).run()}})}}function i(t){t.highlight.addProvider(function(t){if(e.Interactivity.Molecule.isMoleculeModelInteractivity(t)){var n=e.Interactivity.Molecule.transformInteraction(t);return e.Interactivity.Molecule.formatInfo(n)}})}function o(t){var n=e.Interactivity.Info.empty,r=void 0,i=void 0;t.behaviours.click.subscribe(function(t){if(e.Interactivity.Molecule.isMoleculeModelInteractivity(t)){n=t;var o=e.Utils.Molecule.findModel(t.source);o?(i=o.props.model,r=e.Interactivity.Molecule.formatInfoShort(e.Interactivity.Molecule.transformInteraction(t))):(n=e.Interactivity.Info.empty,i=void 0,r=void 0)}else n=e.Interactivity.Info.empty,i=void 0,r=void 0}),t.highlight.addProvider(function(t){if(e.Interactivity.Molecule.isMoleculeModelInteractivity(t)&&!e.Interactivity.isEmpty(n)){var o=e.Utils.Molecule.findModel(t.source);if(o){var a=e.Utils.Molecule.getDistanceSet(i,n.elements,o.props.model,t.elements);if(!(a<1e-4))return"<span><b>"+e.Utils.round(a,2)+" Å</b> from <b>"+r+"</b></span>"}}})}var a=t.Core.Structure.Query,s=e.Entity.Transformer;n.ShowInteractionOnSelect=r,n.HighlightElementInfo=i,n.DistanceToLastClickedElement=o}(r=n.Molecule||(n.Molecule={}))}(n=e.Behaviour||(e.Behaviour={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){var n="__ShowDynamicDensity-toast",r=function(){function e(e,n){this.context=e,this.params=n,this.obs=[],this.ref=t.Utils.generateUUID()}return e.prototype.remove=function(){var e=this.getVisual();e&&t.Tree.remove(e)},e.prototype.getVisual=function(){return this.context.select(this.ref)[0]},e.prototype.update=function(e){if(!this.params.showFull&&!t.Interactivity.Molecule.isMoleculeModelInteractivity(e))return void this.remove();t.Command.Toast.Hide.dispatch(this.context,{key:n});var r=t.Utils.shallowClone(this.params.style);if(r.params=t.Utils.shallowClone(r.params),this.params.showFull)r.params.bottomLeft=void 0,r.params.topRight=void 0,r.taskType="Normal";else{var i=e,o=t.Utils.Molecule.findModel(i.source),a=i.elements,s=o.props.model;1===i.elements.length&&(a=t.Utils.Molecule.getResidueIndices(s,i.elements[0]));var u=t.Utils.Molecule.getBox(s,a,this.params.radius);r.params.bottomLeft=u.bottomLeft,r.params.topRight=u.topRight,r.taskType="Silent"}var c,l=this.getVisual();if(l)c=t.Entity.Transformer.Density.CreateVisual.create({style:r},{ref:this.ref,isHidden:!0}).update(this.context,l);else{var h=t.Entity.Transformer.Density.CreateVisual.create({style:r},{ref:this.ref,isHidden:!0});h.isUpdate=!0,c=h.apply(this.context,this.behaviour)}c.run()},e.prototype.updateTheme=function(e){if(this.params.style.theme=e,this.behaviour){var n=this.getVisual();if(n){var r=t.Tree.Node.findClosestNodeOfType(this.behaviour,[t.Entity.Density.Data]),i=e.template.provider(r,t.Visualization.Theme.getProps(e));n.props.model.applyTheme(i)}}},e.prototype.dispose=function(){this.remove(),t.Command.Toast.Hide.dispatch(this.context,{key:n});for(var e=0,r=this.obs;e<r.length;e++){var i=r[e];i.dispose()}this.obs=[]},e.prototype.register=function(e){var r=this;this.behaviour=e,this.params.showFull||t.Command.Toast.Show.dispatch(this.context,{key:n,title:"Density",message:"Click on a residue or an atom to view the data.",timeoutMs:3e4}),this.obs.push(this.context.behaviours.select.subscribe(function(t){r.update(t)}))},e}();e.ShowDynamicDensity=r}(n=e.Density||(e.Density={}))}(e=t.Behaviour||(t.Behaviour={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){var r=e.Entity.Transformer,i=function(){function n(t,r,i){void 0===i&&(i=5),this.context=t,this.radius=i,this.obs=[],this.target=void 0,this.behaviour=void 0,this.ref=e.Utils.generateUUID(),this.download=void 0,this.cache=new n.Cache(100),this.style={type:"BallsAndSticks",taskType:"Silent",params:{useVDW:!0,vdwScaling:.17,bondRadius:.07,detail:"Automatic"},theme:{template:e.Visualization.Molecule.Default.ElementSymbolThemeTemplate,colors:e.Visualization.Molecule.Default.ElementSymbolThemeTemplate.colors,transparency:{alpha:1}},isNotSelectable:!0},this.server=n.normalizeServerName(r)}return n.prototype.remove=function(){this.download&&(this.download.tryAbort(),this.download=void 0),e.Command.Tree.RemoveNode.dispatch(this.context,this.ref)},n.prototype.isApplicable=function(t){return!!e.Interactivity.Molecule.isMoleculeModelInteractivity(t)&&e.Tree.Node.hasAncestor(t.source,this.target)},n.prototype.update=function(n){var r=this;if(this.remove(),this.isApplicable(n)){var i=e.Utils.Molecule.findModel(n.source).props.model,o=i.atoms.residueIndex[n.elements[0]],a=i.residues,s=a.authAsymId[o],u=void 0;if(i.source===t.Core.Structure.MoleculeModelSource.Computed){var c=i.parent,l=a.chainIndex[o],h=i.chains.sourceChainIndex[l];s=c.chains.authAsymId[h],u=i.operators[i.chains.operatorIndex[l]].matrix}var p=this.server+"/"+(i.id.toLocaleLowerCase()+"/ambientResidues?")+("modelId="+encodeURIComponent(i.modelId)+"&")+("entityId="+encodeURIComponent(a.entityId[o])+"&")+("authAsymId="+encodeURIComponent(s)+"&")+("authSeqNumber="+encodeURIComponent(""+a.authSeqNumber[o])+"&")+("insCode="+encodeURIComponent(null!==a.insCode[o]?a.insCode[o]:"")+"&")+("radius="+encodeURIComponent(""+this.radius)+"&")+"atomSitesOnly=1&encoding=bcif&lowPrecisionCoords=1";this.download=e.Utils.ajaxGetArrayBuffer(p).runWithContext(this.context);var f=this.cache.get(p);f?this.create(f,u):(this.context.performance.start(this.ref),this.download.result.then(function(t){r.cache.add(p,t),r.context.performance.end(r.ref),r.context.logger.info("Streaming done in "+r.context.performance.formatTime(r.ref)),
r.create(t,u)}).catch(function(){r.context.performance.end(r.ref)}))}},n.prototype.create=function(t,n){var i=e.Tree.Transform.build().add(this.behaviour,e.Entity.Transformer.Molecule.CoordinateStreaming.CreateModel,{data:t,transform:n},{ref:this.ref,isHidden:!0}).then(r.Molecule.CreateVisual,{style:this.style});e.Tree.Transform.apply(this.context,i).run()},n.prototype.dispose=function(){this.remove();for(var t=0,e=this.obs;t<e.length;t++){var n=e[t];n.dispose()}this.obs=[]},n.prototype.register=function(t){var e=this;this.behaviour=t,this.target=t.parent,this.obs.push(this.context.behaviours.select.subscribe(function(t){return e.update(t)}))},n}();n.CoordinateStreaming=i,function(t){function n(t){return"/"!==t[t.length-1]?t:t.length>0?t.substr(0,t.length-1):t}function r(t,e){return n(e)+"/"+t.trim().toLocaleLowerCase()+"/cartoon?encoding=bcif&lowPrecisionCoords=1"}t.normalizeServerName=n,t.getBaseUrl=r;var i=function(){function t(t,e){this.key=t,this.data=e,this.previous=null,this.next=null}return t}();t.CacheEntry=i;var o=function(){function t(t){this.size=t,this.count=0,this.entries=new e.Utils.LinkedList,t<1&&(t=1)}return t.prototype.get=function(t){for(var e=this.entries.first;e;e=e.next)if(e.key===t)return e.data},t.prototype.add=function(t,e){this.count>this.size&&this.entries.remove(this.entries.first);var n=new i(t,e);return this.entries.addLast(n),e},t}();t.Cache=o}(i=n.CoordinateStreaming||(n.CoordinateStreaming={}))}(r=n.Molecule||(n.Molecule={}))}(n=e.Behaviour||(e.Behaviour={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(t,e,n,r,i,o,a){if(i.transformer===n)try{var s=window[a],u=o(i.params,r);s&&"undefined"!=typeof u&&s("send","event",e,u,t.id)}catch(t){}}function r(t,e){return t.format.name}function i(t){return t.url}function o(t){return t.queryString}function a(e,n){if(!t.Tree.Node.isHidden(n)){var r=t.Utils.Molecule.findModel(n);if(r)return r.props.model.id+" $(name)$ "+e.name}}function s(e,n){if(!t.Tree.Node.isHidden(n)){var r=t.Utils.Molecule.findModel(n);if(r)return r.props.model.id+" $(type)$ "+e.type+" $(radius)$ "+e.radius}}function u(e,n){var r=t.Utils.Molecule.findModel(n);if(r)return r.props.model.id+" $(server)$ "+e.server}function c(e,n){if(!t.Tree.Node.isHidden(n))return e.style.type}function l(t){return"$(format)$ "+t.format}function h(t,e){return t.queryString}function p(e,p){return void 0===p&&(p="default"),function(f){var d="ga-"+f.id+"-"+p;try{!function(t,e,n,r,i,o,a){t.GoogleAnalyticsObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*+new Date,o=e.createElement(n),a=e.getElementsByTagName(n)[0],o.async=1,o.src=r,a.parentNode.insertBefore(o,a)}(window,document,"script","https://www.google-analytics.com/analytics.js",d),window[d]("create",e,"auto"),setTimeout(function(){try{var t=window[d];t&&t("send","event","Loaded","contextId",f.id)}catch(t){}},1e3)}catch(t){}t.Event.Tree.TransformerApply.getStream(f).subscribe(function(e){n(f,"Download",t.Entity.Transformer.Data.Download,e.data.a,e.data.t,i,d),n(f,"Create Molecule From Data",t.Entity.Transformer.Molecule.CreateFromData,e.data.a,e.data.t,r,d),n(f,"Create Model Selecion",t.Entity.Transformer.Molecule.CreateSelection,e.data.a,e.data.t,o,d),n(f,"Create Assembly",t.Entity.Transformer.Molecule.CreateAssembly,e.data.a,e.data.t,a,d),n(f,"Create Symmetry",t.Entity.Transformer.Molecule.CreateSymmetryMates,e.data.a,e.data.t,s,d),n(f,"Create Visual",t.Entity.Transformer.Molecule.CreateVisual,e.data.a,e.data.t,c,d),n(f,"Coordinate Streaming",t.Entity.Transformer.Molecule.CoordinateStreaming.CreateBehaviour,e.data.a,e.data.t,u,d),n(f,"Parse Density",t.Entity.Transformer.Density.ParseData,e.data.a,e.data.t,l,d),n(f,"Create Model Selection",t.Entity.Transformer.Molecule.CreateSelection,e.data.a,e.data.t,h,d)})}}e.GoogleAnalytics=p}(e=t.Behaviour||(t.Behaviour={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(e,n){this.context=e,this._state=new t.Rx.Subject,this._latestState=void 0,this._latestState=n}return Object.defineProperty(e.prototype,"dispatcher",{get:function(){return this.context.dispatcher},enumerable:!0,configurable:!0}),e.prototype.setState=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.Utils.merge.apply(t.Utils,[this._latestState].concat(e));r!==this._latestState&&(this._latestState=r,this._state.onNext(r))},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latestState",{get:function(){return this._latestState},enumerable:!0,configurable:!0}),e}();e.Component=n}(e=t.Components||(t.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(){for(var t=[],e=0;e<=r.Root;e++)t.push(new o(r[e].toLowerCase()));return t}var r;!function(t){t[t.Main=0]="Main",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.Left=4]="Left",t[t.Root=5]="Root"}(r=e.LayoutRegion||(e.LayoutRegion={}));var i;!function(t){t[t.Outside=0]="Outside",t[t.Landscape=1]="Landscape",t[t.Portrait=2]="Portrait"}(i=e.CollapsedControlsLayout||(e.CollapsedControlsLayout={}));var o=function(){function t(t){this.cssClass=t,this.components=[]}return t}();e.LayoutTarget=o,e.makeEmptyTargets=n;var a=function(e){function n(n,r,o){var a=e.call(this,n,{isExpanded:!1,hideControls:!1,collapsedControlsLayout:i.Outside,hiddenRegions:[]})||this;return a.targets=r,a.root=o,a.rootState=void 0,t.Command.Layout.SetState.getStream(a.context).subscribe(function(t){return a.update(t.data)}),a.expandedViewport=document.createElement("meta"),a.expandedViewport.name="viewport",a.expandedViewport.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",a}return _(n,e),n.prototype.update=function(e){var n=this,r=!!this.latestState.isExpanded;this.setState(e),"boolean"==typeof e.isExpanded&&e.isExpanded!==r&&this.handleExpand(),this.dispatcher.schedule(function(){return t.Event.Common.LayoutChanged.dispatch(n.context,{})})},n.prototype.getScrollElement=function(){return document.scrollingElement?document.scrollingElement:document.documentElement?document.documentElement:document.body},n.prototype.handleExpand=function(){try{var t=document.getElementsByTagName("body")[0],e=document.getElementsByTagName("head")[0];if(!t||!e)return;if(this.latestState.isExpanded){for(var n=e.children,r=!1,i=[],o=0;o<n.length;o++)n[o]===this.expandedViewport?r=!0:"viewport"===(n[o].name||"").toLowerCase()&&i.push(n[o]);for(var a=0,s=i;a<s.length;a++){var u=s[a];e.removeChild(u)}r||e.appendChild(this.expandedViewport);var c=t.style,l=this.getScrollElement(),h=l.scrollLeft,p=l.scrollTop;this.rootState={top:c.top,bottom:c.bottom,right:c.right,left:c.left,scrollTop:p,scrollLeft:h,position:c.position,overflow:c.overflow,viewports:i,zindex:this.root.style.zIndex,width:c.width,height:c.height,maxWidth:c.maxWidth,maxHeight:c.maxHeight,margin:c.margin,marginLeft:c.marginLeft,marginRight:c.marginRight,marginTop:c.marginTop,marginBottom:c.marginBottom},c.overflow="hidden",c.position="fixed",c.top="0",c.bottom="0",c.right="0",c.left="0",c.width="100%",c.height="100%",c.maxWidth="100%",c.maxHeight="100%",c.margin="0",c.marginLeft="0",c.marginRight="0",c.marginTop="0",c.marginBottom="0",this.root.style.zIndex="100000"}else{for(var n=e.children,o=0;o<n.length;o++)if(n[o]===this.expandedViewport){e.removeChild(this.expandedViewport);break}if(this.rootState){for(var c=t.style,f=this.rootState,d=0,m=f.viewports;d<m.length;d++){var u=m[d];e.appendChild(u)}c.top=f.top,c.bottom=f.bottom,c.left=f.left,c.right=f.right,c.width=f.width,c.height=f.height,c.maxWidth=f.maxWidth,c.maxHeight=f.maxHeight,c.margin=f.margin,c.marginLeft=f.marginLeft,c.marginRight=f.marginRight,c.marginTop=f.marginTop,c.marginBottom=f.marginBottom,c.position=f.position,c.overflow=f.overflow;var l=this.getScrollElement();l.scrollTop=f.scrollTop,l.scrollLeft=f.scrollLeft,this.rootState=void 0,this.root.style.zIndex=f.zindex}}}catch(t){this.context.logger.error("Layout change error, you might have to reload the page."),console.log("Layout change error, you might have to reload the page.",t)}},n}(e.Component);e.Layout=a}(e=t.Components||(t.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){var i=function(n){function r(t,r,i){var o=n.call(this,t,{params:r.info.defaultParams(t,i),canApply:!1,isBusy:!1,issues:void 0,parametersAutoUpdating:!1,isDirty:!1})||this;return o.transformer=r,o.entity=i,o.updateTimeout=new e.Rx.Subject,o.timeout=e.Rx.Observable.timer(50),o.never=e.Rx.Observable.never(),o.anchorParams=o.latestState.params,o.updateParams(o.anchorParams),o.updateTimeout.flatMapLatest(function(t){return t}).forEach(function(){return o.apply()}),o}return _(r,n),r.prototype._update=function(){this.isUpdate&&!this.latestState.isBusy&&this.updateTimeout&&(this.updateTimeout.onNext(this.timeout),this.setState({parametersAutoUpdating:!0}))},r.prototype._reset=function(){this.setState({parametersAutoUpdating:!1}),this.updateTimeout&&this.updateTimeout.onNext(this.never)},r.prototype._updateParams=function(t){var n=e.Utils.merge(this.latestState.params,t);if(this.transformer.info.validateParams){var r=this.transformer.info.validateParams(n);if(r&&r.length>0)return void this.setState({params:n,issues:r,canApply:!1})}var i=!e.Utils.deepEqual(this.anchorParams,n);this.setState({params:n,isDirty:i,issues:void 0,canApply:!0})},r.prototype.updateParams=function(t){this._reset(),this._updateParams(t)},r.prototype.autoUpdateParams=function(t){this._update(),this._updateParams(t)},Object.defineProperty(r.prototype,"isUpdate",{get:function(){return this.transformer===this.entity.transform.transformer},enumerable:!0,configurable:!0}),r.prototype.apply=function(){var e=this;if(this._reset(),!this.latestState.isBusy){var n=this.transformer.create(this.latestState.params);this.anchorParams=this.latestState.params,this.setState({isDirty:!1,isBusy:!0});try{var r=this.isUpdate?n.update(this.context,this.entity):n.apply(this.context,this.entity),i=r.run();return i.then(function(){return e.setState({isBusy:!1})}).catch(function(){return e.setState({isBusy:!1})}),i}catch(e){return this.setState({isBusy:!1}),t.Core.Computation.reject(e)}}},r.prototype.setParams=function(t){this._reset(),this.anchorParams=t,this.updateParams(t)},r}(n.Component);r.Controller=i}(r=n.Transform||(n.Transform={}))}(n=e.Components||(e.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r=function(e){function n(n){var r=e.call(this,n,{update:void 0,transforms:[]})||this;return r.update(),t.Event.Entity.CurrentChanged.getStream(n).subscribe(function(){return r.update()}),r}return _(n,e),n.prototype.update=function(){if(!this.context.currentEntity)return void this.setState({transforms:[]});var t=this.context.currentEntity,e=this.context.transforms,n=void 0;t.transform.transformer&&t.transform.transformer.info.isUpdatable&&(n=e.getController(t.transform.transformer,t));for(var r=[],i=0,o=this.context.transforms.getBySourceType(t.type);i<o.length;i++){var a=o[i];if(!a.info.isApplicable||a.info.isApplicable(t)){var s=e.getController(a,t);s&&r.push(s)}}this.setState({update:n,transforms:r})},n}(e.Component);n.View=r}(n=e.Transform||(e.Transform={}))}(e=t.Components||(t.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(){return e.apply(this,arguments)||this}return _(n,e),n.prototype.updateTemplate=function(t,e){var n=e.get(t),r=this.latestState&&this.latestState.params.style.theme,i=n.params,o=r||this.getThemeInstance(n.theme.template),a={type:n.type,params:i,theme:o};this.autoUpdateParams({style:a})},n.prototype.updateStyleParams=function(e){var n=t.Utils.shallowClone(this.latestState.params.style);n.params=t.Utils.merge(n.params,e),this.autoUpdateParams({style:n})},n.prototype.updateStyleTheme=function(e){var n=t.Utils.shallowClone(this.latestState.params.style);n.theme=t.Utils.merge(n.theme,e),this.autoUpdateParams({style:n})},n.prototype.updateThemeColor=function(e,n){var r=this.latestState.params.style.theme;if(r){var i=r.colors;i||(i=t.Immutable.Map()),i=i.set(e,n),this.updateStyleTheme({colors:i})}},n.prototype.updateThemeTransparency=function(t){var e=this.latestState.params.style.theme;e&&this.updateStyleTheme({transparency:t})},n.prototype.getThemeInstance=function(e){var n=this.latestState.params.style.theme,r=t.Visualization.Molecule.Default.ForType.get(this.latestState.params.style.type).theme.transparency;if(!n)return{template:e,colors:e.colors,transparency:r};var i=e.colors;n.colors&&i&&(i=i.withMutations(function(t){n.colors.forEach(function(e,n){t.has(n)&&t.set(n,e)})}));var o=n.transparency?n.transparency:r;return{template:e,colors:i,transparency:o}},n.prototype.updateThemeDefinition=function(t){this.updateStyleTheme(this.getThemeInstance(t))},n}(e.Controller);e.MoleculeVisual=n;var r=function(e){function n(){return e.apply(this,arguments)||this}return _(n,e),n.prototype.cloneStyle=function(e){return t.Utils.shallowClone(this.latestState.params[e||"style"])},n.prototype.getStyle=function(t){return this.latestState.params[t||"style"]},n.prototype.setStyle=function(t,e){this.autoUpdateParams((n={},n[e||"style"]=t,n));var n},n.prototype.updateStyleParams=function(e,n){var r=this.cloneStyle(n);r.params=t.Utils.merge(r.params,e),this.setStyle(r,n)},n.prototype.updateStyleTheme=function(e,n){var r=this.cloneStyle(n);r.theme=t.Utils.merge(r.theme,e),this.setStyle(r,n)},n.prototype.updateThemeColor=function(e,n,r){var i=this.getStyle(r).theme;if(i){var o=i.colors;o||(o=t.Immutable.Map()),o=o.set(e,n),this.updateStyleTheme({colors:o},r)}},n.prototype.updateThemeTransparency=function(t,e){var n=this.getStyle(e).theme;n&&this.updateStyleTheme({transparency:t},e)},n.prototype.getThemeInstance=function(e,n){var r=this.getStyle(n).theme,i=t.Visualization.Density.Default.Transparency;if(!r)return{template:e,colors:e.colors,transparency:i};var o=e.colors;r.colors&&o&&(o=o.withMutations(function(t){r.colors.forEach(function(e,n){t.has(n)&&t.set(n,e)})}));var a=r.transparency?r.transparency:i;return{template:e,colors:o,transparency:a}},n.prototype.updateThemeDefinition=function(t,e){this.updateStyleTheme(this.getThemeInstance(t,e),e)},n}(e.Controller);e.DensityVisual=r}(n=e.Transform||(e.Transform={}))}(e=t.Components||(t.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r=function(e){function n(n,r,i){var o=e.call(this,n,{controller:void 0})||this;return o.selector=r,o.header=i,t.Event.Tree.NodeAdded.getStream(n).subscribe(function(){return o.added()}),t.Event.Tree.NodeRemoved.getStream(n).subscribe(function(t){return o.removed(t.data)}),o}return _(n,e),n.prototype.removed=function(t){if(this.latestState.controller){var e=this.latestState.controller.entity;e===t&&this.setState({controller:void 0})}},n.prototype.added=function(){var t=this.context.select(this.selector),e=t[0];if(e&&e.transform){var n=this.context.transforms.getController(e.transform.transformer,e);n&&this.setState({controller:n})}},n}(e.Component);n.Updater=r}(n=e.Transform||(e.Transform={}))}(e=t.Components||(t.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r=function(e){function n(n,r,i,o){var a=e.call(this,n,{controller:void 0})||this;return a.selector=r,a.transformer=i,a.header=o,t.Event.Tree.NodeAdded.getStream(n).subscribe(function(){return a.added()}),t.Event.Tree.NodeRemoved.getStream(n).subscribe(function(t){return a.removed(t.data)}),a}return _(n,e),n.prototype.removed=function(t){if(this.latestState.controller){var e=this.latestState.controller.entity;e===t&&this.setState({controller:void 0})}},n.prototype.added=function(){var t=this.context.select(this.selector),e=t[0];if(e){var n=this.context.transforms.getController(this.transformer,e);n&&this.setState({controller:n})}},n}(e.Component);n.Action=r}(n=e.Transform||(e.Transform={}))}(e=t.Components||(t.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r=function(e){function n(n){var r=e.call(this,n,{entries:t.Immutable.List()})||this;return t.Event.Log.getStream(r.context).subscribe(function(t){return r.setState({entries:r.latestState.entries.push(t.data)})}),r}return _(n,e),n}(e.Component);n.Log=r}(n=e.Context||(e.Context={}))}(e=t.Components||(t.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r=function(e){function n(n){var r=e.call(this,n,{entries:t.Immutable.Map()})||this;return r.serialNumber=0,r.serialId=0,t.Command.Toast.Show.getStream(r.context).subscribe(function(t){return r.show(t.data)}),t.Command.Toast.Hide.getStream(r.context).subscribe(function(t){return r.hide(r.findByKey(t.data.key))}),r}return _(n,e),n.prototype.findByKey=function(t){return this.latestState.entries.find(function(e){return!!e&&e.key===t})},n.prototype.show=function(t){var e,n=this,r=this.latestState.entries,i=void 0,o=++this.serialId;t.key&&(i=this.findByKey(t.key))?(void 0!==i.timeout&&clearTimeout(i.timeout),e=i.serialNumber,r=r.remove(i.id)):e=++this.serialNumber,i={id:o,serialNumber:e,key:t.key,title:t.title,message:t.message,timeout:this.timeout(o,t.timeoutMs),hide:function(){return n.hideId(o)}},r=r.set(o,i),this.setState({entries:r})},n.prototype.timeout=function(t,e){var n=this;if(void 0!==e)return e<0&&(e=500),setTimeout(function(){var e=n.latestState.entries.get(t);e.timeout=void 0,n.hide(e)},e)},n.prototype.hideId=function(t){this.hide(this.latestState.entries.get(t))},n.prototype.hide=function(t){if(t){void 0!==t.timeout&&clearTimeout(t.timeout),t.hide=void 0;var e=this.latestState.entries;e=e.delete(t.id),this.setState({entries:e})}},n}(e.Component);n.Toast=r}(n=e.Context||(e.Context={}))}(e=t.Components||(t.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r=function(e){function n(n,r){var i=e.call(this,n,{tasks:t.Immutable.Map()})||this;return i.type=r,t.Event.Task.StateUpdated.getStream(i.context).subscribe(function(t){return i.updated(t.data)}),t.Event.Task.Started.getStream(i.context).filter(function(t){return t.data.type===r}).subscribe(function(t){return i.started(t.data)}),t.Event.Task.Completed.getStream(i.context).subscribe(function(t){return i.completed(t.data)}),i}return _(n,e),n.prototype.updated=function(t){var e=t.type===this.type,n=this.latestState.tasks;return e?(n=n.set(t.taskId,{name:t.name,message:t.message,abort:t.abort}),void this.setState({tasks:n})):void(n.has(t.taskId)&&(n=n.delete(t.taskId),this.setState({tasks:n})))},n.prototype.started=function(t){this.setState({tasks:this.latestState.tasks.set(t.id,{name:t.name,message:"Running..."})})},n.prototype.completed=function(t){this.latestState.tasks.has(t)&&this.setState({tasks:this.latestState.tasks.delete(t)})},n}(e.Component);n.TaskWatcher=r}(n=e.Context||(e.Context={}))}(e=t.Components||(t.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r=function(e){function n(n){var r=e.call(this,n,{info:[]})||this;return t.Event.Interactivity.Highlight.getStream(r.context).subscribe(function(t){return r.setState({info:t.data})}),r}return _(n,e),n}(e.Component);n.HighlightInfo=r}(n=e.Visualization||(e.Visualization={}))}(e=t.Components||(t.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){var i=t.Visualization,o=function(n){function r(t){var r=n.call(this,t,e.Utils.shallowClone(i.DefaultSceneOptions))||this;return e.Event.Common.LayoutChanged.getStream(r.context).subscribe(function(t){r._scene&&r._scene.scene.resized()}),e.Command.Layout.SetViewportOptions.getStream(r.context).subscribe(function(t){return r.setState(t.data)}),r.state.throttle(1e3/30).subscribe(function(t){r.scene.scene.updateOptions(t)}),r}return _(r,n),Object.defineProperty(r.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),r.prototype.init=function(n){if(!t.Visualization.checkWebGL())return!1;try{return this._scene=new e.Visualization.SceneWrapper(n,this.context,this.latestState),this.context.scene=this._scene,!0}catch(t){return!1}},r.prototype.destroy=function(){this._scene&&(this._scene.destroy(),this._scene=null)},r}(n.Component);r.Viewport=o}(r=n.Visualization||(n.Visualization={}))}(n=e.Components||(e.Components={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n=function(){function t(){this.settings=new Map}return t.prototype.set=function(t,e){this.settings.set(t,e)},t.prototype.get=function(t){return this.settings.get(t)},t}();e.Settings=n;var r=function(){function r(r){this.plugin=r,this.id=e.Utils.generateUUID(),this.dispatcher=new e.Service.Dispatcher,this.logger=new e.Service.Logger(this),this.performance=new t.Core.Utils.PerformanceMonitor,this.scene=void 0,this.tree=e.Tree.create(this,e.Entity.Root.create(e.Entity.RootTransform,{label:"Root Entity"})),this.currentEntity=void 0,this.transforms=new e.TransformManager(this),this.entityCache=new e.Entity.Cache(this),this.viewport=new e.Components.Visualization.Viewport(this),this.highlight=new e.Interactivity.HighlightManager(this),this.behaviours=new e.Behaviour.Streams(this),this.settings=new n,e.initEventsAndCommands(this)}return r.prototype.createLayout=function(t,n){this.layout=new e.Components.Layout(this,t,n)},r.prototype.select=function(t){return e.Tree.Selection.select(t,this.tree)},r}();e.Context=r}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(t){}(e=t.Plugin||(t.Plugin={}))}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){function e(e,n){if(!t.Utils.Molecule.findModelOrSelection(n.entity))return void console.warn("Select: Trying to create a selection event on a non-molecule related entity, ignoring...");var r=t.Utils.Molecule.getModelAndIndicesFromQuery(n.entity,n.query);r&&r.indices.length&&t.Event.Visual.VisualSelectElement.dispatch(e,t.Interactivity.Info.selection(n.entity,r.indices))}function n(n){t.Command.Entity.SetCurrent.getStream(n).subscribe(function(e){return t.Entity.setCurrent(e.data)}),t.Command.Entity.SetVisibility.getStream(n).subscribe(function(e){return t.Entity.setVisibility(e.data.entity,e.data.visible)}),t.Command.Entity.ToggleExpanded.getStream(n).subscribe(function(e){return t.Entity.toggleExpanded(e.data)}),t.Command.Tree.RemoveNode.getStream(n).subscribe(function(e){return n.select(e.data).forEach(function(e){return t.Tree.remove(e)})}),t.Command.Tree.ApplyTransform.getStream(n).subscribe(function(t){(t.data.isUpdate?t.data.transform.update(n,t.data.node):t.data.transform.apply(n,t.data.node)).run()}),t.Event.Tree.NodeAdded.getStream(n).subscribe(function(e){var n=e.data.parent.state.visibility,r=2!==n;if(t.Entity.setVisibility(e.data,r),t.Entity.isClass(e.data,t.Entity.BehaviourClass)){var i=e.data;i.props.behaviour.register(i)}}),t.Event.Tree.NodeRemoved.getStream(n).subscribe(function(e){if(t.Entity.updateVisibilityState(e.data.parent),t.Entity.isClass(e.data,t.Entity.BehaviourClass)){var n=e.data;n.props.behaviour.dispose()}}),t.Event.Visual.VisualHoverElement.getStream(n).distinctUntilChanged(function(t){return t.data},t.Interactivity.interactivityInfoEqual).map(function(e){return t.Interactivity.Molecule.transformInteraction(e.data)}).distinctUntilChanged(function(t){return t},function(t,e){return t===e}).subscribe(function(e){return t.Event.Molecule.ModelHighlight.dispatch(n,e)}),t.Event.Visual.VisualSelectElement.getStream(n).distinctUntilChanged(function(t){return t.data},t.Interactivity.interactivityInfoEqual).map(function(e){return t.Interactivity.Molecule.transformInteraction(e.data)}).distinctUntilChanged(function(t){return t},function(t,e){return t===e}).subscribe(function(e){return t.Event.Molecule.ModelSelect.dispatch(n,e)}),t.Command.Molecule.CreateSelectInteraction.getStream(n).subscribe(function(t){return e(n,t.data)})}t.initEventsAndCommands=n}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e=function(){function e(e){var n=this;this.context=e,this.controllerCache=new Map,this.state=new Map,this.byId=new Map,this.bySourceType=new Map,this.byTargetType=new Map,t.Event.Tree.NodeRemoved.getStream(e).subscribe(function(t){n.controllerCache.delete(t.data.id),n.state.delete(t.data.id)})}return e.prototype.addType=function(t,e,n){var r=n.get(t.id);r?r.push(e):n.set(t.id,[e])},e.prototype.getController=function(e,n){if(!n)return void console.warn("Trying to get contoller for undefined entity.");if(!this.byId.get(e.info.id))return void console.warn("Trying to get contoller for unregistered transform ("+e.info.id+").");var r=this.controllerCache.get(n.id);r||(r=new Map,this.controllerCache.set(n.id,r));var i=r.get(e.info.id);if(i)return i;var o=e.info.customController;i=o?o(this.context,e,n):new t.Components.Transform.Controller(this.context,e,n);var a=this.context.plugin&&this.context.plugin.getTransformerInfo(e);return a&&a.initiallyCollapsed?this.hasPersistentState(e,n,"isExpanded")||this.setPersistentState(e,n,"isExpanded",!1):this.hasPersistentState(e,n,"isExpanded")||this.setPersistentState(e,n,"isExpanded",!0),n.transform.transformer===e&&i.setParams(n.transform.params),r.set(e.info.id,i),i},e.prototype.getBySourceType=function(t){return this.bySourceType.get(t.id)||[]},e.prototype.getByTargetType=function(t){return this.byTargetType.get(t.id)||[]},e.prototype.add=function(t){if(this.byId.has(t.info.id))throw"Transformer with id '"+t.info.id+"' is has already been added. Pick another id.";this.byId.set(t.info.id,t);for(var e=0,n=t.info.from;e<n.length;e++){var r=n[e];this.addType(r,t,this.bySourceType)}for(var i=0,o=t.info.to;i<o.length;i++){var r=o[i];this.addType(r,t,this.byTargetType)}},e.prototype.hasPersistentState=function(t,e,n){var r=this.state.get(e.id);if(!r)return!1;var i=r.get(t.info.id);return!(!i||!i.has(n))},e.prototype.getPersistentState=function(t,e,n,r){var i=this.state.get(e.id);if(!i)return r;var o=i.get(t.info.id);return o&&o.has(n)?o.get(n):r},e.prototype.setPersistentState=function(t,e,n,r){var i=this.state.get(e.id);i||(i=new Map,this.state.set(e.id,i));var o=i.get(t.info.id);o||(o=new Map,i.set(t.info.id,o));var a=o.get(n);return o.set(n,r),a!==r},e}();t.TransformManager=e}(e=t.Bootstrap||(t.Bootstrap={}))}(m||(m={}));var S={};!function(t){function e(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=p.p+""+t+"."+_+".hot-update.js",e.appendChild(n)}function n(t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var e=new XMLHttpRequest,n=p.p+""+_+".hot-update.json";e.open("GET",n,!0),e.timeout=1e4,e.send(null)}catch(e){return t(e)}e.onreadystatechange=function(){if(4===e.readyState)if(0===e.status)t(new Error("Manifest request to "+n+" timed out."));else if(404===e.status)t();else if(200!==e.status&&304!==e.status)t(new Error("Manifest request to "+n+" failed."));else{try{var r=JSON.parse(e.responseText)}catch(e){return void t(e)}t(null,r)}}}function r(t){function e(t,e){"ready"===S&&o("prepare"),T++,p.e(t,function(){function n(){T--,"prepare"===S&&(M[t]||c(t),0===T&&0===E&&l())}try{e.call(null,r)}finally{n()}})}var n=k[t];if(!n)return p;var r=function(e){return n.hot.active?k[e]?(k[e].parents.indexOf(t)<0&&k[e].parents.push(t),n.children.indexOf(e)<0&&n.children.push(e)):w=[t]:(console.warn("[HMR] unexpected require("+e+") from disposed module "+t),w=[]),p(e)};for(var i in p)Object.prototype.hasOwnProperty.call(p,i)&&(m?Object.defineProperty(r,i,function(t){return{configurable:!0,enumerable:!0,get:function(){return p[t]},set:function(e){p[t]=e}}}(i)):r[i]=p[i]);return m?Object.defineProperty(r,"e",{enumerable:!0,value:e}):r.e=e,r}function i(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(t,n){if("undefined"==typeof t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n;else e._acceptedDependencies[t]=n},decline:function(t){if("undefined"==typeof t)e._selfDeclined=!0;else if("number"==typeof t)e._declinedDependencies[t]=!0;else for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:s,apply:h,status:function(t){return t?void C.push(t):S},addStatusHandler:function(t){C.push(t)},removeStatusHandler:function(t){var e=C.indexOf(t);e>=0&&C.splice(e,1)},data:x[t]};return e}function o(t){S=t;for(var e=0;e<C.length;e++)C[e].call(null,t)}function a(t){var e=+t+""===t;return e?+t:t}function s(t,e){if("idle"!==S)throw new Error("check() is only allowed in idle status");"function"==typeof t?(b=!1,e=t):(b=t,e=e||function(t){if(t)throw t}),o("check"),n(function(t,n){if(t)return e(t);if(!n)return o("idle"),void e(null,null);A={},P={},M={};for(var r=0;r<n.c.length;r++)P[n.c[r]]=!0;g=n.h,o("prepare"),y=e,v={};var i=0;c(i),"prepare"===S&&0===T&&0===E&&l()})}function u(t,e){if(P[t]&&A[t]){A[t]=!1;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(v[n]=e[n]);0===--E&&0===T&&l()}}function c(t){P[t]?(A[t]=!0,E++,e(t)):M[t]=!0}function l(){o("ready");var t=y;if(y=null,t)if(b)h(b,t);else{var e=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&e.push(a(n));t(null,e)}}function h(e,n){function r(t){for(var e=[t],n={},r=e.slice();r.length>0;){var o=r.pop(),t=k[o];if(t&&!t.hot._selfAccepted){if(t.hot._selfDeclined)return new Error("Aborted because of self decline: "+o);if(0===o)return;for(var a=0;a<t.parents.length;a++){var s=t.parents[a],u=k[s];if(u.hot._declinedDependencies[o])return new Error("Aborted because of declined dependency: "+o+" in "+s);e.indexOf(s)>=0||(u.hot._acceptedDependencies[o]?(n[s]||(n[s]=[]),i(n[s],[o])):(delete n[s],e.push(s),r.push(s)))}}}return[e,n]}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}}if("ready"!==S)throw new Error("apply() is only allowed in ready status");"function"==typeof e?(n=e,e={}):e&&"object"==typeof e?n=n||function(t){if(t)throw t}:(e={},n=n||function(t){if(t)throw t});var s={},u=[],c={};for(var l in v)if(Object.prototype.hasOwnProperty.call(v,l)){var h=a(l),f=r(h);if(!f){if(e.ignoreUnaccepted)continue;return o("abort"),n(new Error("Aborted because "+h+" is not accepted"))}if(f instanceof Error)return o("abort"),n(f);c[h]=v[h],i(u,f[0]);for(var h in f[1])Object.prototype.hasOwnProperty.call(f[1],h)&&(s[h]||(s[h]=[]),i(s[h],f[1][h]))}for(var d=[],m=0;m<u.length;m++){var h=u[m];k[h]&&k[h].hot._selfAccepted&&d.push({module:h,errorHandler:k[h].hot._selfAccepted})}o("dispose");for(var y=u.slice();y.length>0;){var h=y.pop(),b=k[h];if(b){for(var C={},E=b.hot._disposeHandlers,T=0;T<E.length;T++){var M=E[T];M(C)}x[h]=C,b.hot.active=!1,delete k[h];for(var T=0;T<b.children.length;T++){var A=k[b.children[T]];if(A){var P=A.parents.indexOf(h);P>=0&&A.parents.splice(P,1)}}}}for(var h in s)if(Object.prototype.hasOwnProperty.call(s,h))for(var b=k[h],R=s[h],T=0;T<R.length;T++){var O=R[T],P=b.children.indexOf(O);
P>=0&&b.children.splice(P,1)}o("apply"),_=g;for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(t[h]=c[h]);var I=null;for(var h in s)if(Object.prototype.hasOwnProperty.call(s,h)){for(var b=k[h],R=s[h],N=[],m=0;m<R.length;m++){var O=R[m],M=b.hot._acceptedDependencies[O];N.indexOf(M)>=0||N.push(M)}for(var m=0;m<N.length;m++){var M=N[m];try{M(s)}catch(t){I||(I=t)}}}for(var m=0;m<d.length;m++){var D=d[m],h=D.module;w=[h];try{p(h)}catch(t){if("function"==typeof D.errorHandler)try{D.errorHandler(t)}catch(t){I||(I=t)}else I||(I=t)}}return I?(o("fail"),n(I)):(o("idle"),void n(null,u))}function p(e){if(k[e])return k[e].exports;var n=k[e]={exports:{},id:e,loaded:!1,hot:i(e),parents:w,children:[]};return t[e].call(n.exports,n,n.exports,r(e)),n.loaded=!0,n.exports}var f={},d=f.webpackHotUpdate;f.webpackHotUpdate=function(t,e){u(t,e),d&&d(t,e)};var m=!1;try{Object.defineProperty({},"x",{get:function(){}}),m=!0}catch(t){}var y,v,g,b=!0,_="cac23860c44b0ba80f83",x={},w=[],C=[],S="idle",E=0,T=0,M={},A={},P={},k={};return p.m=t,p.c=k,p.p="build/",p.h=function(){return _},r(0)(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}var i=n(2),o=r(i);S.ChromePicker=o.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Chrome=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(3),l=r(c),h=n(4),p=r(h),f=n(15),d=n(29),m=r(d),y=n(30),v=r(y),g=n(17),b=r(g),_=n(31),x=r(_),w=e.Chrome=function(t){function e(){for(var t,n,r,a,s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return i(this,e),n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.shouldComponentUpdate=b.default.bind(r,r,arguments[0],arguments[1]),r.handleChange=function(t){r.props.onChange(t)},a=n,o(r,a)}return a(e,t),u(e,[{key:"classes",value:function(){return{default:{picker:{width:"100%"},saturation:{width:"100%",height:"48px",position:"relative",borderRadius:"0px",overflow:"hidden"},Saturation:{radius:"0px"},body:{padding:"0"},controls:{marginTop:"1px",display:"block"},swatch:{marginTop:"0px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{Absolute:"0 0 0 0",zIndex:2,borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+this.props.rgb.r+", "+this.props.rgb.g+", "+this.props.rgb.b+", "+this.props.rgb.a+")"},hue:{height:"16px",position:"relative",width:"100%"},Hue:{radius:"0"},colors:{marginTop:"1px",display:"flex",flexDirection:"row"}}}}},{key:"render",value:function(){var t=[];if(this.props.colors)for(var e=0;e<this.props.colors.length;e++){var n=this.props.colors[e];t.push(l.default.createElement(x.default,{key:n,color:n,active:n.replace("#","").toLowerCase()==this.props.hex,onClick:this.handleChange}))}return l.default.createElement("div",{style:this.styles().picker},l.default.createElement("div",{style:this.styles().saturation},l.default.createElement(f.Saturation,s({},this.styles().Saturation,this.props,{pointer:v.default,onChange:this.handleChange}))),l.default.createElement("div",{style:this.styles().body},l.default.createElement("div",{style:this.styles().hue},l.default.createElement(f.Hue,s({},this.styles().Hue,this.props,{pointer:m.default,onChange:this.handleChange}))),l.default.createElement("div",{style:this.styles().colors},t)))}}]),e}(p.default.Component);w.defaultProps={colors:["#000000","#808080","#FFFFFF","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#E20F2E"]},e.default=(0,f.ColorWrap)(w)},function(t,e){t.exports=c},function(t,e,n){t.exports={Component:n(5),inline:n(6),mixin:{css:n(6)}}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;t=c,e=o,n=a,r=!0,s=c=void 0}},s=n(3),u=n(6),c=function(t){function e(){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"css",value:function(t){return u.call(this,t)}},{key:"styles",value:function(){return this.css()}}]),e}(s.Component);c.contextTypes={mixins:s.PropTypes.object},t.exports=c},function(t,e,n){var r=n(7),i=n(8),o=n(9);t.exports=function(t){var e=this;o=n(9);var a=[];if(!this.classes)throw console.warn("Define this.classes on `"+this.constructor.name+"`");i(this.classes());var s=function(t,n){e.classes()[t]?a.push(e.classes()[t]):t&&n&&n.warn===!0&&console.warn("The `"+t+"` css class does not exist on `"+e.constructor.name+"`")};s("default");for(var u in this.props){var c=this.props[u];r(c)||(c===!0?(s(u),s(u+"-true")):s(c?u+"-"+c:u+"-false"))}if(this.props&&this.props.activeBounds)for(var l=0;l<this.props.activeBounds.length;l++){var h=this.props.activeBounds[l];s(h)}for(var p in t){var f=t[p];f===!0&&s(p,{warn:!0})}var d={};return this.context&&this.context.mixins&&(d=this.context.mixins),o(a,d)}},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var r=n(7);t.exports=function(t){for(var e in t){var n=t[e];if(r(n))for(var i in n){var o=n[i];r(o)||console.warn("Make sure the value of the element `"+e+"` is an object of css. You passed it `"+n+"`")}else console.warn("Make sure the value of `"+e+"` is an object of html elements. You passed it `"+n+"`")}}},function(t,e,n){var r=n(10),i=n(14);t.exports=function(t,e){var n=r(t);return i(n,e)}},function(t,e,n){var r=n(11),i=n(7),o=n(13);t.exports=function(t){return i(t)&&!o(t)?t:1===t.length?t[0]:r.recursive.apply(void 0,t)}},function(t,e,n){(function(t){!function(e){function n(t,e){if("object"!==i(t))return e;for(var r in e)"object"===i(t[r])&&"object"===i(e[r])?t[r]=n(t[r],e[r]):t[r]=e[r];return t}function r(t,e,r){var a=r[0],s=r.length;(t||"object"!==i(a))&&(a={});for(var u=0;u<s;++u){var c=r[u],l=i(c);if("object"===l)for(var h in c){var p=t?o.clone(c[h]):c[h];e?a[h]=n(a[h],p):a[h]=p}}return a}function i(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}var o=function(t){return r(t===!0,!1,arguments)},a="merge";o.recursive=function(t){return r(t===!0,!0,arguments)},o.clone=function(t){var e,n,r=t,a=i(t);if("array"===a)for(r=[],n=t.length,e=0;e<n;++e)r[e]=o.clone(t[e]);else if("object"===a){r={};for(e in t)r[e]=o.clone(t[e])}return r},e?t.exports=o:window[a]=o}("object"==typeof t&&t&&"object"==typeof t.exports&&t.exports)}).call(e,n(12)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(7),i=n(13),o=n(11),a={borderRadius:function(t){return null!==t?{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}:void 0},boxShadow:function(t){return null!==t?{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}:void 0},userSelect:function(t){return null!==t?{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}:void 0},flex:function(t){return null!==t?{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}:void 0},flexBasis:function(t){return null!==t?{WebkitFlexBasis:t,flexBasis:t}:void 0},justifyContent:function(t){return null!==t?{WebkitJustifyContent:t,justifyContent:t}:void 0},transition:function(t){return null!==t?{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}:void 0},transform:function(t){return null!==t?{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}:void 0},Absolute:function(t){if(null!==t){var e=t.split(" ");return{position:"absolute",top:e[0],right:e[1],bottom:e[2],left:e[3]}}},Extend:function(t,e){var n=e[t];return n?n:void 0}},s=function t(e,n,s){var u=o(n,a),c={};for(var l in e){var h=e[l];if(r(h)&&!i(h))c[l]=t(h,n,e);else if(u[l]){var p=u[l](h,s);for(var f in p){var d=p[f];c[f]=d}}else c[l]=h}return c};t.exports=function(t,e,n){return s(t,e,n)}},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(16);Object.defineProperty(e,"Alpha",{enumerable:!0,get:function(){return r(i).default}});var o=n(20);Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function(){return r(o).default}});var a=n(21);Object.defineProperty(e,"Hue",{enumerable:!0,get:function(){return r(a).default}});var s=n(22);Object.defineProperty(e,"Saturation",{enumerable:!0,get:function(){return r(s).default}});var u=n(24);Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function(){return r(u).default}})},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Alpha=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),c=r(u),l=n(4),h=r(l),p=n(17),f=r(p),d=n(20),m=r(d),y=e.Alpha=function(t){function e(){for(var t,n,r,a,s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return i(this,e),n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.shouldComponentUpdate=f.default.bind(r,r,arguments[0],arguments[1]),r.handleChange=function(t,e){!e&&t.preventDefault();var n,i=r.refs.container,o=i.clientWidth,a=(t.pageX||t.touches[0].pageX)-(i.getBoundingClientRect().left+window.pageXOffset);n=a<0?0:a>o?1:Math.round(100*a/o)/100,r.props.a!==n&&r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:n,source:"rgb"})},r.handleMouseDown=function(t){r.handleChange(t,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},a=n,o(r,a)}return a(e,t),s(e,[{key:"classes",value:function(){return{default:{alpha:{Absolute:"0 0 0 0",borderRadius:this.props.radius},checkboard:{Absolute:"0 0 0 0",overflow:"hidden"},gradient:{Absolute:"0 0 0 0",background:"linear-gradient(to right, rgba("+this.props.rgb.r+", "+this.props.rgb.g+", "+this.props.rgb.b+", 0) 0%, rgba("+this.props.rgb.r+", "+this.props.rgb.g+", "+this.props.rgb.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",zIndex:"2",height:"100%",margin:"0 3px"},pointer:{zIndex:"2",position:"absolute",left:100*this.props.rgb.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}}}}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var t=c.default.createElement("div",{style:this.styles().slider});return this.props.pointer&&(t=c.default.createElement(this.props.pointer,this.props)),c.default.createElement("div",{style:this.styles().alpha},c.default.createElement("div",{style:this.styles().checkboard},c.default.createElement(m.default,null)),c.default.createElement("div",{style:this.styles().gradient}),c.default.createElement("div",{style:this.styles().container,ref:"container",onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},c.default.createElement("div",{style:this.styles().pointer,ref:"pointer"},t)))}}]),e}(h.default.Component);e.default=y},function(t,e,n){t.exports=n(18)},function(t,e,n){function r(t,e,n){return!i(t.props,e)||!i(t.state,n)}var i=n(19);t.exports=r},function(t,e){function n(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var o=r.bind(e),a=0;a<n.length;a++)if(!o(n[a])||t[n[a]]!==e[n[a]])return!1;return!0}var r=Object.prototype.hasOwnProperty;t.exports=n},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n){if("undefined"==typeof document)return null;var r=document.createElement("canvas");r.width=r.height=2*n;var i=r.getContext("2d");return i?(i.fillStyle=t,i.fillRect(0,0,r.width,r.height),i.fillStyle=e,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),r.toDataURL()):null}function u(t,e,n){var r=t+","+e+","+n;if(y[r])return y[r];var i=s(t,e,n);return y[r]=i,i}Object.defineProperty(e,"__esModule",{value:!0}),e.Checkboard=void 0;var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(3),h=r(l),p=n(4),f=r(p),d=n(17),m=r(d),y={},v=e.Checkboard=function(t){function e(){for(var t,n,r,a,s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return i(this,e),n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.shouldComponentUpdate=m.default.bind(r,r,arguments[0],arguments[1]),a=n,o(r,a)}return a(e,t),c(e,[{key:"classes",value:function(){var t=u(this.props.white,this.props.grey,this.props.size);return{default:{grid:{Absolute:"0 0 0 0",background:"url("+t+") center left"}}}}},{key:"render",value:function(){return h.default.createElement("div",{style:this.styles().grid,ref:"grid"})}}]),e}(f.default.Component);v.defaultProps={size:8,white:"#fff",grey:"#e6e6e6"},e.default=v},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Hue=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),c=r(u),l=n(4),h=r(l),p=n(17),f=r(p),d=e.Hue=function(t){function e(){for(var t,n,r,a,s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return i(this,e),n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.shouldComponentUpdate=f.default.bind(r,r,arguments[0],arguments[1]),r.handleChange=function(t,e){!e&&t.preventDefault();var n=r.refs.container,i=n.clientWidth,o=n.clientHeight,a=(t.pageX||t.touches&&t.touches[0].pageX||0)-(n.getBoundingClientRect().left+window.pageXOffset),s=(t.pageY||t.touches&&t.touches[0].pageY||0)-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===r.props.direction){var u;if(s<0)u=359;else if(s>o)u=0;else{var c=-(100*s/o)+100;u=360*c/100}r.props.hsl.h!==u&&r.props.onChange({h:u,s:r.props.hsl.s,l:r.props.hsl.l,a:r.props.hsl.a,source:"rgb"})}else{var u;if(a<0)u=0;else if(a>i)u=359;else{var c=100*a/i;u=360*c/100}r.props.hsl.h!==u&&r.props.onChange({h:u,s:r.props.hsl.s,l:r.props.hsl.l,a:r.props.hsl.a,source:"rgb"})}},r.handleMouseDown=function(t){r.handleChange(t,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},a=n,o(r,a)}return a(e,t),s(e,[{key:"classes",value:function(){return{default:{hue:{Absolute:"0 0 0 0",background:"linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{margin:"0 2px",position:"relative",height:"100%"},pointer:{zIndex:"2",position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},"direction-vertical":{hue:{background:"linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)"},pointer:{left:"0",top:-(100*this.props.hsl.h/360)+100+"%"}}}}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=c.default.createElement("div",{style:this.styles().slider});return this.props.pointer&&(t=c.default.createElement(this.props.pointer,this.props)),c.default.createElement("div",{style:this.styles().hue},c.default.createElement("div",{style:this.styles().container,ref:"container",onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},c.default.createElement("div",{style:this.styles().pointer,ref:"pointer"},t)))}}]),e}(h.default.Component);e.default=d},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Saturation=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),c=r(u),l=n(4),h=r(l),p=n(23),f=r(p),d=n(17),m=r(d),y=e.Saturation=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.shouldComponentUpdate=m.default.bind(n,n,arguments[0],arguments[1]),n.handleChange=function(t,e){!e&&t.preventDefault();var r=n.refs.container,i=r.clientWidth,o=r.clientHeight,a=(t.pageX||t.touches[0].pageX)-(r.getBoundingClientRect().left+window.pageXOffset),s=(t.pageY||t.touches[0].pageY)-(r.getBoundingClientRect().top+window.pageYOffset);a<0?a=0:a>i?a=i:s<0?s=0:s>o&&(s=o);var u=100*a/i,c=-(100*s/o)+100;n.throttle(n.props.onChange,{h:n.props.hsl.h,s:u,v:c,a:n.props.hsl.a,source:"rgb"})},n.handleMouseDown=function(t){n.handleChange(t,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,f.default)(function(t,e){t(e)},50),n}return a(e,t),s(e,[{key:"classes",value:function(){return{default:{color:{Absolute:"0 0 0 0",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{Absolute:"0 0 0 0",background:"linear-gradient(to right, #fff, rgba(255,255,255,0))"},black:{Absolute:"0 0 0 0",background:"linear-gradient(to top, #000, rgba(0,0,0,0))",boxShadow:this.props.shadow},pointer:{position:"absolute",top:-(100*this.props.hsv.v)+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3), 0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}}}}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=c.default.createElement("div",{style:this.styles().circle});return this.props.pointer&&(t=c.default.createElement(this.props.pointer,this.props)),c.default.createElement("div",{style:this.styles().color,ref:"container",onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},c.default.createElement("div",{style:this.styles().white},c.default.createElement("div",{style:this.styles().black}),c.default.createElement("div",{style:this.styles().pointer,ref:"pointer"},t)))}}]),e}(h.default.Component);e.default=y},function(t,e){(function(e){function n(t,e,n){function r(e){var n=m,r=y;return m=y=void 0,S=e,g=t.apply(r,n)}function o(t){return S=t,b=setTimeout(l,e),E?r(t):g}function a(t){var n=t-_,r=t-S,i=e-n;return T?w(i,v-r):i}function c(t){var n=t-_,r=t-S;return void 0===_||n>=e||n<0||T&&r>=v}function l(){var t=C();return c(t)?h(t):void(b=setTimeout(l,a(t)))}function h(t){return b=void 0,M&&m?r(t):(m=y=void 0,g)}function p(){void 0!==b&&clearTimeout(b),S=0,m=_=y=b=void 0}function f(){return void 0===b?g:h(C())}function d(){var t=C(),n=c(t);if(m=arguments,y=this,_=t,n){if(void 0===b)return o(_);if(T)return b=setTimeout(l,e),r(_)}return void 0===b&&(b=setTimeout(l,e)),g}var m,y,v,g,b,_,S=0,E=!1,T=!1,M=!0;if("function"!=typeof t)throw new TypeError(u);return e=s(e)||0,i(n)&&(E=!!n.leading,T="maxWait"in n,v=T?x(s(n.maxWait)||0,e):v,M="trailing"in n?!!n.trailing:M),d.cancel=p,d.flush=f,d}function r(t,e,r){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError(u);return i(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),n(t,e,{leading:o,maxWait:e,trailing:a})}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){return!!t&&"object"==typeof t}function a(t){return"symbol"==typeof t||o(t)&&_.call(t)==l}function s(t){if("number"==typeof t)return t;if(a(t))return c;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(h,"");var n=f.test(t);return n||d.test(t)?m(t.slice(2),n?2:8):p.test(t)?c:+t}var u="Expected a function",c=NaN,l="[object Symbol]",h=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,d=/^0o[0-7]+$/i,m=parseInt,y="object"==typeof e&&e&&e.Object===Object&&e,v="object"==typeof self&&self&&self.Object===Object&&self,g=y||v||Function("return this")(),b=Object.prototype,_=b.toString,x=Math.max,w=Math.min,C=function(){return g.Date.now()};t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorWrap=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(3),l=r(c),h=n(11),p=r(h),f=n(25),d=(r(f),n(26)),m=r(d),y=n(27),v=r(y),g=n(17),b=r(g),_=e.ColorWrap=function(t){var e=function(e){function n(t){i(this,n);var e=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.shouldComponentUpdate=b.default.bind(e,e,arguments[0],arguments[1]),e.handleChange=function(t){if(t=v.default.simpleCheckForValidColor(t)){var n=v.default.toState(t,t.h||e.state.oldHue);e.setState(n),e.props.onChangeComplete&&e.debounce(e.props.onChangeComplete,n),e.props.onChange&&e.props.onChange(n)}},e.state=(0,p.default)(v.default.toState(t.color,0),{visible:t.display}),e.debounce=(0,m.default)(function(t,e){t(e)},100),e}return a(n,e),u(n,[{key:"componentWillReceiveProps",value:function(t){this.setState((0,p.default)(v.default.toState(t.color,this.state.oldHue),{visible:t.display}))}},{key:"render",value:function(){return l.default.createElement(t,s({},this.props,this.state,{onChange:this.handleChange}))}}]),n}(l.default.Component);return e.defaultProps={color:{h:250,s:.5,l:.2,a:1}},e};e.default=_},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function r(t,e){return function(n){return t(e(n))}}function i(t){return!!t&&"object"==typeof t}function o(t){if(!i(t)||p.call(t)!=a||n(t))return!1;var e=f(t);if(null===e)return!0;var r=l.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==h}var a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,h=c.call(Object),p=u.toString,f=r(Object.getPrototypeOf,Object);t.exports=o},function(t,e){(function(e){function n(t,e,n){function i(e){var n=m,r=y;return m=y=void 0,S=e,g=t.apply(r,n)}function o(t){return S=t,b=setTimeout(l,e),E?i(t):g}function u(t){var n=t-C,r=t-S,i=e-n;return T?x(i,v-r):i}function c(t){var n=t-C,r=t-S;return void 0===C||n>=e||n<0||T&&r>=v}function l(){var t=w();return c(t)?h(t):void(b=setTimeout(l,u(t)))}function h(t){return b=void 0,M&&m?i(t):(m=y=void 0,g)}function p(){void 0!==b&&clearTimeout(b),S=0,m=C=y=b=void 0}function f(){return void 0===b?g:h(w())}function d(){var t=w(),n=c(t);if(m=arguments,y=this,C=t,n){if(void 0===b)return o(C);if(T)return b=setTimeout(l,e),i(C)}return void 0===b&&(b=setTimeout(l,e)),g}var m,y,v,g,b,C,S=0,E=!1,T=!1,M=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,r(n)&&(E=!!n.leading,T="maxWait"in n,v=T?_(a(n.maxWait)||0,e):v,M="trailing"in n?!!n.trailing:M),d.cancel=p,d.flush=f,d}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){return!!t&&"object"==typeof t}function o(t){return"symbol"==typeof t||i(t)&&b.call(t)==c}function a(t){if("number"==typeof t)return t;if(o(t))return u;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=p.test(t);return n||f.test(t)?d(t.slice(2),n?2:8):h.test(t)?u:+t}var s="Expected a function",u=NaN,c="[object Symbol]",l=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,f=/^0o[0-7]+$/i,d=parseInt,m="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),g=Object.prototype,b=g.toString,_=Math.max,x=Math.min,w=function(){return v.Date.now()};t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=r(i);e.default={simpleCheckForValidColor:function(t){for(var e=["r","g","b","a","h","s","a","v"],n=0,r=0,i=0;i<e.length;i++){var o=e[i];t[o]&&(n++,isNaN(t[o])||r++)}if(n===r)return t},toState:function(t,e){var n=t.hex?(0,o.default)(t.hex):(0,o.default)(t),r=n.toHsl(),i=n.toHsv();return 0===r.s&&(r.h=e||0,i.h=e||0),{hsl:r,hex:"#"+n.toHex(),rgb:n.toRgb(),hsv:i,oldHue:t.h||e||r.h,source:t.source}},isValidHex:function(t){return(0,o.default)(t).isValid()}}},function(t,e,n){var r;!function(){function i(t,e){if(t=t?t:"",e=e||{},t instanceof i)return t;if(!(this instanceof i))return new i(t,e);var n=o(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=H(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=n.ok,this._tc_id=U++}function o(t){var e={r:0,g:0,b:0},n=1,r=!1,i=!1;return"string"==typeof t&&(t=V(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=a(t.r,t.g,t.b),r=!0,i="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=N(t.s,1),t.v=N(t.v,1),e=l(t.h,t.s,t.v),r=!0,i="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=N(t.s),t.l=N(t.l),e=u(t.h,t.s,t.l),r=!0,i="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=M(n),{ok:r,format:t.format||i,r:G(255,q(e.r,0)),g:G(255,q(e.g,0)),b:G(255,q(e.b,0)),a:n}}function a(t,e,n){return{r:255*A(t,255),g:255*A(e,255),b:255*A(n,255)}}function s(t,e,n){t=A(t,255),e=A(e,255),n=A(n,255);var r,i,o=q(t,e,n),a=G(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,l:s}}function u(t,e,n){function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var i,o,a;if(t=A(t,360),e=A(e,100),
n=A(n,100),0===e)i=o=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;i=r(u,s,t+1/3),o=r(u,s,t),a=r(u,s,t-1/3)}return{r:255*i,g:255*o,b:255*a}}function c(t,e,n){t=A(t,255),e=A(e,255),n=A(n,255);var r,i,o=q(t,e,n),a=G(t,e,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,v:s}}function l(t,e,n){t=6*A(t,360),e=A(e,100),n=A(n,100);var r=z.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=r%6,c=[n,a,o,o,s,n][u],l=[s,n,n,a,o,o][u],h=[o,o,s,n,n,a][u];return{r:255*c,g:255*l,b:255*h}}function h(t,e,n,r){var i=[I(H(t).toString(16)),I(H(e).toString(16)),I(H(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function p(t,e,n,r){var i=[I(D(r)),I(H(t).toString(16)),I(H(e).toString(16)),I(H(n).toString(16))];return i.join("")}function f(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.s-=e/100,n.s=P(n.s),i(n)}function d(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.s+=e/100,n.s=P(n.s),i(n)}function m(t){return i(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.l+=e/100,n.l=P(n.l),i(n)}function v(t,e){e=0===e?0:e||10;var n=i(t).toRgb();return n.r=q(0,G(255,n.r-H(255*-(e/100)))),n.g=q(0,G(255,n.g-H(255*-(e/100)))),n.b=q(0,G(255,n.b-H(255*-(e/100)))),i(n)}function g(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.l-=e/100,n.l=P(n.l),i(n)}function b(t,e){var n=i(t).toHsl(),r=(H(n.h)+e)%360;return n.h=r<0?360+r:r,i(n)}function _(t){var e=i(t).toHsl();return e.h=(e.h+180)%360,i(e)}function x(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+120)%360,s:e.s,l:e.l}),i({h:(n+240)%360,s:e.s,l:e.l})]}function w(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+90)%360,s:e.s,l:e.l}),i({h:(n+180)%360,s:e.s,l:e.l}),i({h:(n+270)%360,s:e.s,l:e.l})]}function C(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+72)%360,s:e.s,l:e.l}),i({h:(n+216)%360,s:e.s,l:e.l})]}function S(t,e,n){e=e||6,n=n||30;var r=i(t).toHsl(),o=360/n,a=[i(t)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,a.push(i(r));return a}function E(t,e){e=e||6;for(var n=i(t).toHsv(),r=n.h,o=n.s,a=n.v,s=[],u=1/e;e--;)s.push(i({h:r,s:o,v:a})),a=(a+u)%1;return s}function T(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function M(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function A(t,e){R(t)&&(t="100%");var n=O(t);return t=G(e,q(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),z.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function P(t){return G(1,q(0,t))}function k(t){return parseInt(t,16)}function R(t){return"string"==typeof t&&t.indexOf(".")!=-1&&1===parseFloat(t)}function O(t){return"string"==typeof t&&t.indexOf("%")!=-1}function I(t){return 1==t.length?"0"+t:""+t}function N(t,e){return e=e||100,t<=1&&(t=t*e+"%"),t}function D(t){return Math.round(255*parseFloat(t)).toString(16)}function L(t){return k(t)/255}function V(t){t=t.replace(j,"").replace(B,"").toLowerCase();var e=!1;if(X[t])t=X[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=K.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=K.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=K.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=K.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=K.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=K.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=K.hex8.exec(t))?{a:L(n[1]),r:k(n[2]),g:k(n[3]),b:k(n[4]),format:e?"name":"hex8"}:(n=K.hex6.exec(t))?{r:k(n[1]),g:k(n[2]),b:k(n[3]),format:e?"name":"hex"}:!!(n=K.hex3.exec(t))&&{r:k(n[1]+""+n[1]),g:k(n[2]+""+n[2]),b:k(n[3]+""+n[3]),format:e?"name":"hex"}}function F(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var j=/^[\s,#]+/,B=/\s+$/,U=0,z=Math,H=z.round,G=z.min,q=z.max,W=z.random;i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r,i,o,a=this.toRgb();return t=a.r/255,e=a.g/255,n=a.b/255,r=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),i=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*r+.7152*i+.0722*o},setAlpha:function(t){return this._a=M(t),this._roundA=H(100*this._a)/100,this},toHsv:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=c(this._r,this._g,this._b),e=H(360*t.h),n=H(100*t.s),r=H(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=s(this._r,this._g,this._b),e=H(360*t.h),n=H(100*t.s),r=H(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return h(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return p(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(100*A(this._r,255))+"%",g:H(100*A(this._g,255))+"%",b:H(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+H(100*A(this._r,255))+"%, "+H(100*A(this._g,255))+"%, "+H(100*A(this._b,255))+"%)":"rgba("+H(100*A(this._r,255))+"%, "+H(100*A(this._g,255))+"%, "+H(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Y[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+p(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var o=i(t);n=o.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(g,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},i.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&("a"===r?n[r]=t[r]:n[r]=N(t[r]));t=n}return i(t,e)},i.equals=function(t,e){return!(!t||!e)&&i(t).toRgbString()==i(e).toRgbString()},i.random=function(){return i.fromRatio({r:W(),g:W(),b:W()})},i.mix=function(t,e,n){n=0===n?0:n||50;var r,o=i(t).toRgb(),a=i(e).toRgb(),s=n/100,u=2*s-1,c=a.a-o.a;r=u*c==-1?u:(u+c)/(1+u*c),r=(r+1)/2;var l=1-r,h={r:a.r*r+o.r*l,g:a.g*r+o.g*l,b:a.b*r+o.b*l,a:a.a*s+o.a*(1-s)};return i(h)},i.readability=function(t,e){var n=i(t),r=i(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},i.isReadable=function(t,e,n){var r,o,a=i.readability(t,e);switch(o=!1,r=F(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},i.mostReadable=function(t,e,n){var r,o,a,s,u=null,c=0;n=n||{},o=n.includeFallbackColors,a=n.level,s=n.size;for(var l=0;l<e.length;l++)r=i.readability(t,e[l]),r>c&&(c=r,u=i(e[l]));return i.isReadable(t,u,{level:a,size:s})||!o?u:(n.includeFallbackColors=!1,i.mostReadable(t,["#fff","#000"],n))};var X=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Y=i.hexNames=T(X),K=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof t&&t.exports?t.exports=i:(r=function(){return i}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))}()},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChromePointer=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),c=r(u),l=n(4),h=r(l),p=n(17),f=r(p),d=e.ChromePointer=function(t){function e(){for(var t,n,r,a,s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return i(this,e),n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.shouldComponentUpdate=f.default.bind(r,r,arguments[0],arguments[1]),a=n,o(r,a)}return a(e,t),s(e,[{key:"classes",value:function(){return{default:{picker:{width:"10px",height:"16px",borderRadius:"5px",transform:"translate(-5px, 0px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}}}},{key:"render",value:function(){return c.default.createElement("div",{style:this.styles().picker})}}]),e}(h.default.Component);e.default=d},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChromePointerCircle=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),c=r(u),l=n(4),h=r(l),p=n(17),f=r(p),d=e.ChromePointerCircle=function(t){function e(){for(var t,n,r,a,s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return i(this,e),n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.shouldComponentUpdate=f.default.bind(r,r,arguments[0],arguments[1]),a=n,o(r,a)}return a(e,t),s(e,[{key:"classes",value:function(){return{default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}}}},{key:"render",value:function(){return c.default.createElement("div",{style:this.styles().picker})}}]),e}(h.default.Component);e.default=d},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.CompactColor=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),c=r(u),l=n(4),h=r(l),p=n(17),f=r(p),d=e.CompactColor=function(t){function e(){for(var t,n,r,a,s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return i(this,e),n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.shouldComponentUpdate=f.default.bind(r,r,arguments[0],arguments[1]),r.handleClick=function(){r.props.onClick({hex:r.props.color})},a=n,o(r,a)}return a(e,t),s(e,[{key:"classes",value:function(){return{default:{color:{background:this.props.color,height:"15px",cursor:"pointer",flexGrow:"1"}}}}},{key:"render",value:function(){return c.default.createElement("div",{style:this.styles().color,ref:"color",onClick:this.handleClick})}}]),e}(h.default.Component);e.default=d}]);var E;!function(){var t={},e={};!function(r){if("object"==typeof t&&"undefined"!=typeof e)e.exports=r(c);else{a=[n(922)],o=r,s="function"==typeof o?o.apply(t,a):o,!(void 0!==s&&(e.exports=s))}}(function(t){return t.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}),E=e.exports}();var m,_=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};!function(t){var e;!function(t){t.VERSION={number:"1.2.11",date:"Dec 16 2016"}}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(t){t.React=c,t.ReactDOM=E;var e;!function(t){}(e=t.Controls||(t.Controls={})),e.ChromePickerHelper=S.ChromePicker}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){function r(t){return 13===t.keyCode||13===t.charCode}function i(t){return e.React.createElement("div",{className:"lm-control-row lm-options-group",title:t.title},e.React.createElement("span",null,t.label),e.React.createElement("div",null,e.React.createElement(n.TextBox,{placeholder:t.placeholder,onChange:t.onChange,value:t.value,onKeyPress:function(e){r(e)&&t.onEnter&&t.onEnter.call(null,e)}})))}var o=t.Bootstrap.Utils.shallowEqual,a=function(t){function e(){return t.apply(this,arguments)||this}return _(e,t),e.prototype.shouldComponentUpdate=function(t,e){return!o(this.props,t)||!o(this.state,e)},e}(e.React.Component);n.Pure=a;var s=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.render=function(){var t=this.props,n="lm-btn";t.size&&"normal"!==t.size&&(n+=" lm-btn-"+t.size),t.asBlock&&(n+=" lm-btn-block"),n+=t.disabled?" lm-btn-"+(t.disabledStyle||t.style||"default"):t.active?" lm-btn-"+(t.activeStyle||t.style||"default"):" lm-btn-"+(t.style||"default"),t.customClass&&(n+=" "+t.customClass);var r=void 0;return t.icon&&(r=t.active&&t.activeIcon?e.React.createElement("span",{className:"lm-icon lm-icon-"+t.activeIcon}):e.React.createElement("span",{className:"lm-icon lm-icon-"+t.icon})),e.React.createElement("button",{title:t.title,className:n,style:t.customStyle,disabled:t.disabled,onClick:function(e){t.onClick.call(null,e),e.target.blur()}},r,t.children)},n}(a);n.Button=s,n.TextBox=function(t){return e.React.createElement("input",{type:"text",className:"lm-form-control",placeholder:t.placeholder,value:t.value,defaultValue:t.defaultValue,onBlur:function(e){t.onBlur&&t.onBlur.call(null,e)},onChange:function(e){return t.onChange.call(null,e.target.value)},onKeyPress:t.onKeyPress})},n.isEnter=r,n.TextBoxGroup=i,n.CommitButton=function(t){return e.React.createElement("div",{style:{marginTop:"1px"}},e.React.createElement("button",{onClick:function(e){t.action(),e.target.blur()},className:"lm-btn lm-btn-block lm-btn-commit lm-btn-commit-"+(t.isOn?"on":"off"),disabled:!t.isOn,title:t.title},e.React.createElement("span",{className:"lm-icon lm-icon-"+(t.isOn?"ok":"cross")}),t.isOn?e.React.createElement("b",null,t.on):t.off?t.off:t.on))},n.Toggle=function(t){return e.React.createElement("div",{className:"lm-control-row lm-toggle-button",title:t.title},e.React.createElement("span",null,t.label),e.React.createElement("div",null,e.React.createElement("button",{onClick:function(e){t.onChange.call(null,!t.value),e.target.blur()}},e.React.createElement("span",{className:"lm-icon lm-icon-"+(t.value?"ok":"off")})," ",t.value?"On":"Off")))},n.ControlGroupExpander=function(t){return e.React.createElement(n.Button,{style:"link",title:(t.isExpanded?"Less":"More")+" options",onClick:function(){return t.onChange.call(null,!t.isExpanded)},icon:t.isExpanded?"minus":"plus",customClass:"lm-conrol-group-expander"})},n.RowText=function(t){return e.React.createElement("div",{className:"lm-control-row lm-row-text",title:t.title},e.React.createElement("span",null,t.label),e.React.createElement("div",null,t.value))},n.HelpBox=function(t){return e.React.createElement("div",{className:"lm-help-row"},e.React.createElement("span",null,t.title),e.React.createElement("div",null,t.content))}}(n=e.Controls||(e.Controls={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(n){var r=n.caption?n.caption:function(t){return t};return t.React.createElement("div",{className:"lm-control-row lm-options-group",title:n.title},t.React.createElement("span",null,n.label),t.React.createElement("div",null,t.React.createElement(e.OptionsBox,{options:n.options,caption:r,current:n.current,onChange:n.onChange})))}var r=function(e){function n(){var t=e.apply(this,arguments)||this;return t.current=void 0,t}return _(n,e),n.prototype.get=function(t){var e=this.props.options;return"undefined"!=typeof e.get?e.get(t):e[t]},n.prototype.render=function(){var e=this,n=this.props.caption,r=this.props.options.indexOf(this.props.current);return r<0&&(r=0),t.React.createElement("select",{title:this.props.title,value:r.toString(),className:"lm-form-control",onChange:function(t){e.current=e.get(+t.target.value),e.props.onChange(e.current)}},this.props.options.map(function(e,i){return t.React.createElement("option",{key:i,value:""+i,selected:i===r},n(e))}))},n}(t.React.Component);e.OptionsBox=r,e.OptionsGroup=n}(e=t.Controls||(t.Controls={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.header=function(){var n=this,r=this.props.isExpanded,i=this.props.title?this.props.title:this.props.header,o=r?"collapse":"expand",a=t.React.createElement("div",{className:"lm-panel-description lm-panel-description-"+(this.props.topRightAction?"with-action":"standalone"),onClick:function(){return n.props.onExpand.call(null,!n.props.isExpanded)}},t.React.createElement("span",{className:"lm-icon lm-icon-info"}),t.React.createElement("div",{className:"lm-panel-description-content"},t.React.createElement("span",{className:"lm-icon lm-icon-info"}),this.props.description));return t.React.createElement("div",{className:"lm-panel-header"},a,this.props.topRightAction,t.React.createElement("div",{className:"lm-panel-expander-wrapper"},t.React.createElement(e.Button,{title:i,onClick:function(){return n.props.onExpand.call(null,!n.props.isExpanded)},icon:o,customClass:"lm-panel-expander",style:"link"},this.props.badge,this.props.header)))},r.prototype.render=function(){var e="lm-panel"+(this.props.className?" "+this.props.className:"")+(this.props.isExpanded?" lm-panel-expanded":" lm-panel-collapsed");return t.React.createElement("div",{className:e},this.header(),t.React.createElement("div",{className:"lm-panel-body",style:{display:this.props.isExpanded?"block":"none"}},this.props.children))},r}(t.React.Component);e.Panel=n,e.ExpandableGroup=function(e){return t.React.createElement("div",{className:"lm-control-group"},e.select,e.colorStripe?t.React.createElement("div",{className:"lm-expandable-group-color-stripe",style:{backgroundColor:"rgb("+(255*e.colorStripe.r|0)+", "+(255*e.colorStripe.g|0)+", "+(255*e.colorStripe.b|0)+")"}}):void 0,e.options.length>0?e.expander:void 0,e.options.length>0?t.React.createElement("div",{style:{display:e.isExpanded?"block":"none"},className:"lm-control-subgroup"},e.options):void 0)}}(e=t.Controls||(t.Controls={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(t){for(var e=[],r={}.hasOwnProperty,i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o))e.push(n.apply(null,o));else if("object"===a)for(var s in o)r.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}function r(){}function i(t){return t.touches.length>1||"touchend"===t.type.toLowerCase()&&t.touches.length>0}function o(t,e){return t?e.touches[0].clientY:e.touches[0].pageX}function a(t,e){return t?e.clientY:e.pageX}function s(t,e){var n=e.getBoundingClientRect();return t?n.top+.5*n.height:n.left+.5*n.width}function u(t){t.stopPropagation(),t.preventDefault()}function c(t,e,n,r,i,o){var a=Object.keys(e).map(parseFloat);if(n)for(var s=i;s<=o;s+=r)a.indexOf(s)>=0||a.push(s);return a}var l=function(n){function r(){var t=n.apply(this,arguments)||this;return t.state={value:"0"},t.firedValue=NaN,t}return _(r,n),r.prototype.componentWillMount=function(){this.setState({value:""+this.props.value})},r.prototype.componentWillReceiveProps=function(t){this.setState({value:""+t.value})},r.prototype.updateValue=function(t){var e=+t;e<this.props.min?(e=this.props.min,t=""+e):e>this.props.max&&(e=this.props.max,t=""+e),this.setState({value:t})},r.prototype.fire=function(){var t=+this.state.value;isNaN(t)&&(t=this.props.value),t!==this.props.value&&this.firedValue!==t&&(this.firedValue=t,this.props.onChange.call(null,t))},r.prototype.render=function(){var n=this,r=this.props.step;return void 0===r&&(r=1),t.React.createElement("div",{className:"lm-control-row lm-slider",title:this.props.title},t.React.createElement("span",null,this.props.label),t.React.createElement("div",null,t.React.createElement("div",null,t.React.createElement("div",null,t.React.createElement(p,{min:this.props.min,max:this.props.max,step:r,value:+this.state.value,onChange:function(t){return n.setState({value:""+t})},onAfterChange:function(t){return n.fire()}}))),t.React.createElement("div",null,t.React.createElement(e.TextBox,{value:this.state.value,onChange:function(t){return n.updateValue(t)},onBlur:function(){return n.fire()},onKeyPress:function(t){e.isEnter(t)&&n.fire()}}))))},r}(t.React.Component);e.Slider=l;var h=function(e){function n(){return e.apply(this,arguments)||this}return _(n,e),n.prototype.render=function(){var e=this.props,n=e.className,r=e.tipFormatter,i=e.vertical,o=e.offset,a=e.value,s=e.index,u=i?{bottom:o+"%"}:{left:o+"%"};return t.React.createElement("div",{className:n,style:u,title:r(a,s)})},n}(t.React.Component);e.Handle=h;var p=function(e){function c(t){var n=e.call(this,t)||this;n.dragOffset=0,n.startPosition=0,n.startValue=0,n._getPointsCache=void 0,n.eventHandlers={touchmove:function(t){return n.onTouchMove(t)},touchend:function(t){return n.end("touch")},mousemove:function(t){return n.onMouseMove(t)},mouseup:function(t){return n.end("mouse")}};var r,i=t.range,o=t.min,a=t.max,s=i?Array.apply(null,Array(+i+1)).map(function(){return o}):o,u="defaultValue"in t?t.defaultValue:s,c=void 0!==t.value?t.value:u,l=(i?c:[o,c]).map(function(t){return n.trimAlignValue(t)});return r=i&&l[0]===l[l.length-1]&&l[0]===a?0:l.length-1,n.state={handle:null,recent:r,bounds:l},n}return _(c,e),c.prototype.componentWillReceiveProps=function(t){var e=this;if("value"in t||"min"in t||"max"in t){var n=this.state.bounds;if(t.range){var r=t.value||n,i=r.map(function(n){return e.trimAlignValue(n,t)});if(i.every(function(t,e){return t===n[e]}))return;this.setState({bounds:i}),n.some(function(n){return e.isValueOutOfBounds(n,t)})&&this.props.onChange(i)}else{var r=void 0!==t.value?t.value:n[1],o=this.trimAlignValue(r,t);if(o===n[1]&&n[0]===t.min)return;this.setState({bounds:[t.min,o]}),this.isValueOutOfBounds(n[1],t)&&this.props.onChange(o)}}},c.prototype.onChange=function(t){var e=this.props,n=!("value"in e);n?this.setState(t):void 0!==t.handle&&this.setState({handle:t.handle});var r=T({},this.state,t),i=e.range?r.bounds:r.bounds[1];e.onChange(i)},c.prototype.onMouseDown=function(t){if(0===t.button){var e=a(this.props.vertical,t);if(this.isEventFromHandle(t)){var n=s(this.props.vertical,t.target);this.dragOffset=e-n,e=n}else this.dragOffset=0;this.onStart(e),this.addDocumentEvents("mouse"),u(t)}},c.prototype.onMouseMove=function(t){var e=a(this.props.vertical,t);this.onMove(t,e-this.dragOffset)},c.prototype.onMove=function(t,e){u(t);var n=this.props,r=this.state,i=e-this.startPosition;i=this.props.vertical?-i:i;var o=i/this.getSliderLength()*(n.max-n.min),a=this.trimAlignValue(this.startValue+o),s=r.bounds[r.handle];if(a!==s){var c=r.bounds.slice();c[r.handle]=a;var l=r.handle;if(n.pushable!==!1){var h=r.bounds[l];this.pushSurroundingHandles(c,l,h)}else n.allowCross&&(c.sort(function(t,e){return t-e}),l=c.indexOf(a));this.onChange({handle:l,bounds:c})}},c.prototype.onStart=function(t){var e=this.props;e.onBeforeChange(this.getValue());var n=this.calcValueByPos(t);this.startValue=n,this.startPosition=t;var r=this.state,i=r.bounds,o=1;if(this.props.range){for(var a=0,s=1;s<i.length-1;++s)n>i[s]&&(a=s);Math.abs(i[a+1]-n)<Math.abs(i[a]-n)&&(a+=1),o=a;var u=i[a+1]===i[a];u&&(o=r.recent),u&&n!==i[a+1]&&(o=n<i[a+1]?a:a+1)}this.setState({handle:o,recent:o});var c=r.bounds[o];if(n!==c){var l=r.bounds.slice();l[o]=n,this.onChange({bounds:l})}},c.prototype.onTouchMove=function(t){if(i(t))return void this.end("touch");var e=o(this.props.vertical,t);this.onMove(t,e-this.dragOffset)},c.prototype.onTouchStart=function(t){if(!i(t)){var e=o(this.props.vertical,t);if(this.isEventFromHandle(t)){var n=s(this.props.vertical,t.target);this.dragOffset=e-n,e=n}else this.dragOffset=0;this.onStart(e),this.addDocumentEvents("touch"),u(t)}},c.prototype.getPoints=function(){var t=this.props,e=t.marks,n=t.step,r=t.min,i=t.max,o=this._getPointsCache;if(!o||o.marks!==e||o.step!==n){var a=T({},e);if(null!==n)for(var s=r;s<=i;s+=n)a[s]=s;var u=Object.keys(a).map(parseFloat);u.sort(function(t,e){return t-e}),this._getPointsCache={marks:e,step:n,points:u}}return this._getPointsCache.points},c.prototype.getPrecision=function(t){var e=t.toString(),n=0;return e.indexOf(".")>=0&&(n=e.length-e.indexOf(".")-1),n},c.prototype.getSliderLength=function(){var t=this.refs.slider;return t?this.props.vertical?t.clientHeight:t.clientWidth:0},c.prototype.getSliderStart=function(){var t=this.refs.slider,e=t.getBoundingClientRect();return this.props.vertical?e.top:e.left},c.prototype.getValue=function(){var t=this.state.bounds;return this.props.range?t:t[1]},c.prototype.addDocumentEvents=function(t){"touch"===t?(document.addEventListener("touchmove",this.eventHandlers.touchmove),
document.addEventListener("touchend",this.eventHandlers.touchend)):"mouse"===t&&(document.addEventListener("mousemove",this.eventHandlers.mousemove),document.addEventListener("mouseup",this.eventHandlers.mouseup))},c.prototype.calcOffset=function(t){var e=this.props,n=e.min,r=e.max,i=(t-n)/(r-n);return 100*i},c.prototype.calcValue=function(t){var e=this.props,n=e.vertical,r=e.min,i=e.max,o=Math.abs(t/this.getSliderLength()),a=n?(1-o)*(i-r)+r:o*(i-r)+r;return a},c.prototype.calcValueByPos=function(t){var e=t-this.getSliderStart(),n=this.trimAlignValue(this.calcValue(e));return n},c.prototype.end=function(t){this.removeEvents(t),this.props.onAfterChange(this.getValue()),this.setState({handle:null})},c.prototype.isEventFromHandle=function(e){var n=this;return this.state.bounds.some(function(r,i){return n.refs["handle-"+i]&&e.target===t.ReactDOM.findDOMNode(n.refs["handle-"+i])})},c.prototype.isValueOutOfBounds=function(t,e){return t<e.min||t>e.max},c.prototype.pushHandle=function(t,e,n,r){for(var i=t[e],o=t[e];n*(o-i)<r;){if(!this.pushHandleOnePoint(t,e,n))return t[e]=i,!1;o=t[e]}return!0},c.prototype.pushHandleOnePoint=function(t,e,n){var r=this.getPoints(),i=r.indexOf(t[e]),o=i+n;if(o>=r.length||o<0)return!1;var a=e+n,s=r[o],u=this.props.pushable,c=n*(t[a]-s);return!!this.pushHandle(t,a,n,+u-c)&&(t[e]=s,!0)},c.prototype.pushSurroundingHandles=function(t,e,n){var r=this.props.pushable,i=t[e],o=0;if(t[e+1]-i<r?o=1:i-t[e-1]<r&&(o=-1),0!==o){var a=e+o,s=o*(t[a]-i);this.pushHandle(t,a,o,+r-s)||(t[e]=n)}},c.prototype.removeEvents=function(t){"touch"===t?(document.removeEventListener("touchmove",this.eventHandlers.touchmove),document.removeEventListener("touchend",this.eventHandlers.touchend)):"mouse"===t&&(document.removeEventListener("mousemove",this.eventHandlers.mousemove),document.removeEventListener("mouseup",this.eventHandlers.mouseup))},c.prototype.trimAlignValue=function(t,e){var n=this.state||{},r=n.handle,i=n.bounds,o=T({},this.props,e||{}),a=o.marks,s=o.step,u=o.min,c=o.max,l=o.allowCross,h=t;h<=u&&(h=u),h>=c&&(h=c),!l&&null!=r&&r>0&&h<=i[r-1]&&(h=i[r-1]),!l&&null!=r&&r<i.length-1&&h>=i[r+1]&&(h=i[r+1]);var p=Object.keys(a).map(parseFloat);if(null!==s){var f=Math.round((h-u)/s)*s+u;p.push(f)}var d=p.map(function(t){return Math.abs(h-t)}),m=p[d.indexOf(Math.min.apply(Math,d))];return null!==s?parseFloat(m.toFixed(this.getPrecision(s))):m},c.prototype.render=function(){var e=this,i=this.state,o=i.handle,a=i.bounds,s=this.props,u=s.className,c=s.prefixCls,l=s.disabled,h=s.vertical,p=s.dots,m=s.included,y=s.range,v=s.step,g=s.marks,b=s.max,_=s.min,x=s.tipFormatter,w=s.children,C=this.props.handle,S=a.map(function(t){return e.calcOffset(t)}),E=c+"-handle",M=a.map(function(t,e){return n((r={},r[E]=!0,r[E+"-"+(e+1)]=!0,r[E+"-lower"]=0===e,r[E+"-upper"]=e===a.length-1,r));var r}),A=null===v||null===x,P={prefixCls:c,noTip:A,tipFormatter:x,vertical:h},k=a.map(function(e,n){return t.React.cloneElement(C,T({},P,{className:M[n],value:e,offset:S[n],dragging:o===n,index:n,key:n,ref:"handle-"+n}))});y||k.shift();var R=m||y,O=[],I=n((N={},N[c]=!0,N[c+"-with-marks"]=Object.keys(g).length,N[c+"-disabled"]=l,N[c+"-vertical"]=this.props.vertical,N[u]=!!u,N));return t.React.createElement("div",{ref:"slider",className:I,onTouchStart:l?r:this.onTouchStart.bind(this),onMouseDown:l?r:this.onMouseDown.bind(this)},t.React.createElement("div",{className:c+"-rail"}),O,t.React.createElement(d,{prefixCls:c,vertical:h,marks:g,dots:p,step:v,included:R,lowerBound:a[0],upperBound:a[a.length-1],max:b,min:_}),k,t.React.createElement(f,{className:c+"-mark",vertical:h,marks:g,included:R,lowerBound:a[0],upperBound:a[a.length-1],max:b,min:_}),w);var N},c}(t.React.Component);p.defaultProps={prefixCls:"lm-slider-base",className:"",min:0,max:100,step:1,marks:{},handle:t.React.createElement(h,{className:"",vertical:!1,offset:0,tipFormatter:function(t){return t},value:0,index:0}),onBeforeChange:r,onChange:r,onAfterChange:r,tipFormatter:function(t,e){return t},included:!0,disabled:!1,dots:!1,range:!1,vertical:!1,allowCross:!0,pushable:!1},e.SliderBase=p;var f=function(e){var r=e.className,i=e.vertical,o=e.marks,a=e.included,s=e.upperBound,u=e.lowerBound,c=e.max,l=e.min,h=Object.keys(o),p=h.length,f=100/(p-1),d=.9*f,m=c-l,y=h.map(parseFloat).sort(function(t,e){return t-e}).map(function(e){var c=!a&&e===s||a&&e<=s&&e>=u,h=n((x={},x[r+"-text"]=!0,x[r+"-text-active"]=c,x)),p={marginBottom:"-50%",bottom:(e-l)/m*100+"%"},f={width:d+"%",marginLeft:-d/2+"%",left:(e-l)/m*100+"%"},y=i?p:f,v=o[e],g="object"==typeof v&&!t.React.isValidElement(v),b=g?v.label:v,_=g?T({},y,v.style):y;return t.React.createElement("span",{className:h,style:_,key:e},b);var x});return t.React.createElement("div",{className:r},y)},d=function(e){var r=e.prefixCls,i=e.vertical,o=e.marks,a=e.dots,s=e.step,u=e.included,l=e.lowerBound,h=e.upperBound,p=e.max,f=e.min,d=p-f,m=c(i,o,a,s,f,p).map(function(e){var o=Math.abs(e-f)/d*100+"%",a=i?{bottom:o}:{left:o},s=!u&&e===h||u&&e<=h&&e>=l,c=n((p={},p[r+"-dot"]=!0,p[r+"-dot-active"]=s,p));return t.React.createElement("span",{className:c,style:a,key:e});var p});return t.React.createElement("div",{className:r+"-step"},m)}}(e=t.Controls||(t.Controls={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r=t.Bootstrap.Utils.shallowEqual,i=function(t){function i(){return t.apply(this,arguments)||this}return _(i,t),i.prototype.shouldComponentUpdate=function(t,e,n){return!r(this.props,t)},i.prototype.render=function(){var t=this,r=this.props.color,i=r.r,o=void 0===i?1:i,a=r.g,s=void 0===a?1:a,u=r.b,c=void 0===u?1:u,l={a:1,r:255*o,g:255*s,b:255*c},h=function(e){return t.props.onChange({r:e.rgb.r/255,g:e.rgb.g/255,b:e.rgb.b/255})},p=e.React.createElement(n.ChromePickerHelper,{color:l,onChangeComplete:h});return e.React.createElement("div",{className:"lm-color-picker"},p)},i}(e.React.Component);n.ColorPicker=i;var o=function(t){function r(){var e=t.apply(this,arguments)||this;return e.state={isExpanded:!1},e}return _(r,t),r.prototype.render=function(){var t=this,r=this.state.isExpanded?e.React.createElement(i,T({},this.props)):void 0,o=this.props.color,a=this.props.position?this.props.position:"above";return e.React.createElement("div",{className:"lm-control-row lm-toggle-color-picker lm-toggle-color-picker-"+a,onMouseLeave:function(){return t.setState({isExpanded:!1})}},e.React.createElement("span",null,this.props.label),e.React.createElement("div",null,e.React.createElement(n.Button,{onClick:function(){t.setState({isExpanded:!t.state.isExpanded})},asBlock:!0,customStyle:{backgroundColor:"rgb("+(255*o.r|0)+", "+(255*o.g|0)+", "+(255*o.b|0)+")",color:"rgb("+(255*(1-o.r)|0)+","+(255*(1-o.g)|0)+","+(255*(1-o.b)|0)+")"}})),r)},r}(e.React.Component);n.ToggleColorPicker=o}(n=e.Controls||(e.Controls={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){function n(n){return t.React.createElement("div",{className:"lm-control-row"},t.React.createElement(e.TextBox,{placeholder:"Enter query...",onChange:n.onChange,value:n.value,onKeyPress:function(t){e.isEnter(t)&&n.onEnter&&n.onEnter.call(null,t)}}))}e.QueryEditor=n}(e=t.Controls||(t.Controls={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r=t.Bootstrap.Utils.shallowEqual,i=function(e){function n(){return e.apply(this,arguments)||this}return _(n,e),n.prototype.update=function(e){var n=t.Bootstrap.Utils.merge(this.props.state,e);n!==this.props.state&&this.props.onChange(n)},n.prototype.shouldComponentUpdate=function(t,e){return!r(this.props,t)||!r(this.state,e)},n}(e.React.Component);n.PureView=i;var o=function(t){function e(){var e=t.apply(this,arguments)||this;return e.subs=[],e}return _(e,t),e.prototype.subscribe=function(t,e){var n=t.subscribe(e);return this.subs.push(n),n},e.prototype.unsubscribe=function(t){for(var e=this.subs.indexOf(t),n=e;n<this.subs.length-1;n++)this.subs[n]=this.subs[n+1];t.dispose(),this.subs.pop()},e.prototype.componentWillUnmount=function(){for(var t=0,e=this.subs;t<e.length;t++){var n=e[t];n.dispose()}this.subs=[]},e}(e.React.Component);n.Component=o;var a=function(t){function e(){var e=t.apply(this,arguments)||this;return e.subs=[],e}return _(e,t),e.prototype.subscribe=function(t,e){var n=t.subscribe(e);return this.subs.push(n),n},e.prototype.unsubscribe=function(t){for(var e=this.subs.indexOf(t),n=e;n<this.subs.length-1;n++)this.subs[n]=this.subs[n+1];t.dispose(),this.subs.pop()},e.prototype.componentWillUnmount=function(){for(var t=0,e=this.subs;t<e.length;t++){var n=e[t];n.dispose()}this.subs=[]},e}(e.React.Component);n.ObserverView=a;var s=function(t){function e(){return t.apply(this,arguments)||this}return _(e,t),Object.defineProperty(e.prototype,"controller",{get:function(){return this.props.controller},enumerable:!0,configurable:!0}),e.prototype.componentWillMount=function(){var t=this;this.subscribe(this.controller.state,function(e){t.forceUpdate()})},e}(a);n.View=s}(n=e.Views||(e.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r=t.Bootstrap.Components.LayoutRegion,i=function(n){function i(){return n.apply(this,arguments)||this}return _(i,n),i.prototype.renderTarget=function(t){for(var n=[],r=[],i=0,o=t.components;i<o.length;i++){var a=o[i];a.isStatic?n.push(e.React.createElement(a.view,{controller:a.controller})):r.push(e.React.createElement(a.view,{controller:a.controller}))}return e.React.createElement("div",{className:"lm-layout-region lm-layout-"+t.cssClass},n.length?e.React.createElement("div",{className:"lm-layout-static"},n):void 0,r.length?e.React.createElement("div",{className:"lm-layout-scrollable"},r):void 0)},i.prototype.render=function(){var n,i="",o=this.controller.latestState;if(o.isExpanded)n="lm-layout-expanded";else switch(n="lm-layout-standard ",o.collapsedControlsLayout){case t.Bootstrap.Components.CollapsedControlsLayout.Outside:n+="lm-layout-standard-outside";break;case t.Bootstrap.Components.CollapsedControlsLayout.Landscape:n+="lm-layout-standard-landscape";break;case t.Bootstrap.Components.CollapsedControlsLayout.Portrait:n+="lm-layout-standard-portrait";break;default:n+="lm-layout-standard-outside"}var a=this.controller.targets,s=[this.renderTarget(a[r.Main])],u=o.hiddenRegions||[],c=a[r.Top];o.hideControls||!c.components.length||u.indexOf(r.Top)>=0?i+=" lm-layout-hide-top":s.push(this.renderTarget(c)),c=a[r.Right],o.hideControls||!c.components.length||u.indexOf(r.Right)>=0?i+=" lm-layout-hide-right":s.push(this.renderTarget(c)),c=a[r.Bottom],o.hideControls||!c.components.length||u.indexOf(r.Bottom)>=0?i+=" lm-layout-hide-bottom":s.push(this.renderTarget(c)),c=a[r.Left],o.hideControls||!c.components.length||u.indexOf(r.Left)>=0?i+=" lm-layout-hide-left":s.push(this.renderTarget(c));var l=a[r.Root].components.map(function(t){return e.React.createElement(t.view,{controller:t.controller})});return e.React.createElement("div",{className:"lm-plugin"},e.React.createElement("div",{className:"lm-plugin-content "+n},e.React.createElement("div",{className:i},s,l)))},i}(n.View);n.Layout=i}(n=e.Views||(e.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){var i=function(t){function r(){return t.apply(this,arguments)||this}return _(r,t),Object.defineProperty(r.prototype,"params",{get:function(){return this.controller.latestState.params},enumerable:!0,configurable:!0}),r.prototype.updateParams=function(t){this.controller.updateParams(t)},r.prototype.autoUpdateParams=function(t){this.controller.autoUpdateParams(t)},r.prototype.getPersistentState=function(t,e){return this.controller.context.transforms.getPersistentState(this.controller.transformer,this.transformSourceEntity,t,e)},r.prototype.setPersistentState=function(t,e){this.controller.context.transforms.setPersistentState(this.controller.transformer,this.transformSourceEntity,t,e)&&this.forceUpdate()},Object.defineProperty(r.prototype,"transformSourceEntity",{get:function(){return this.isUpdate?this.controller.entity.parent:this.controller.entity},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isUpdate",{get:function(){return this.controller.isUpdate},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canApply",{get:function(){var t=this.controller.latestState,e=t.canApply&&(!this.isUpdate||t.isDirty)&&!t.isBusy;return!(e&&this.isUpdate&&t.parametersAutoUpdating)&&e},enumerable:!0,configurable:!0}),r.prototype.applyEnter=function(t){this.canApply&&(t.target.blur(),this.controller.apply())},r.prototype.render=function(){var t=this,r=this.isUpdate,i=this.controller.latestState,o=i.issues,a=o&&o.length,s=i.isBusy,u=s?"Working...":r&&!a?"Nothing to update":o?o[0]:void 0,c=this.controller.transformer.info,l=e.React.createElement(e.Controls.CommitButton,{action:function(){return t.controller.apply()},isOn:this.canApply,title:o&&o.length?o[0]:this.canApply&&r?"An update will remove all child nodes.":void 0,on:r?"Update":this.props.isAction?"Apply":"Add",off:u}),h=this.canApply||a,p=this.props.customHeader?this.props.customHeader:(r?"Update ":"")+c.name,f=this.getPersistentState("isExpanded",!0);return e.React.createElement("div",{className:"lm-transformer-wrapper"},e.React.createElement(e.Controls.Panel,{header:p,badge:this.props.hideBadge?void 0:e.React.createElement(n.Entity.Badge,{type:c.to[0].info}),className:"lm-control lm-transformer lm-panel-"+c.to[0].info.typeClass,key:c.id,title:c.description,isExpanded:f,onExpand:function(e){t.setPersistentState("isExpanded",e)},description:this.controller.transformer.info.description,topRightAction:this.props.showVisibilityIcon?e.React.createElement(n.Entity.VisibilityControl,{entity:this.controller.entity}):void 0},this.renderControls(),h?l:void 0))},r}(n.View);r.ControllerBase=i;var o=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.renderControls=function(){return e.React.createElement("div",null)},n}(r.ControllerBase);r.Empty=o;var a=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.render=function(){var t=this.controller.context,n=t.plugin,r=this.controller.latestState,i=r.transforms,o=i.map(function(t){var r=n.getTransformerInfo(t.transformer).view;return e.React.createElement(r,{controller:t,key:t.transformer.info.id+"-"+t.entity.id})});if(r.update){var a=n.getTransformerInfo(r.update.transformer).view;o.push(e.React.createElement(a,{controller:r.update,key:r.update.transformer.info.id+"-"+r.update.entity.id}))}return e.React.createElement("div",{className:"lm-transform-view"},o)},n}(n.View);r.View=a,r.TransparencyControl=function(t){var n=t.definition.alpha;return e.React.createElement(e.Controls.Slider,{label:"Opacity",onChange:function(e){return t.onChange({alpha:e,writeDepth:t.definition.writeDepth})},min:0,max:1,step:.01,value:n})};var s=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.componentWillMount=function(){var e=this;n.prototype.componentWillMount.call(this),this.subscribe(t.Bootstrap.Event.Tree.NodeUpdated.getStream(this.controller.context),function(t){var n=e.controller.latestState.controller,r=n&&n.entity;t.data===r&&e.forceUpdate()})},r.prototype.render=function(){var t=this.controller.latestState.controller;if(!t)return e.React.createElement("div",{className:"lm-empty-control"});var n=this.controller.context,r=n.plugin,i=r.getTransformerInfo(t.transformer).view;return i?e.React.createElement(i,{controller:t,key:t.transformer.info.id+"-"+t.entity.id,customHeader:this.controller.header,hideBadge:!0,showVisibilityIcon:!0}):(console.warn("Count not find view for updater ("+t.transformer.info.id+"), please register it."),e.React.createElement("div",{className:"lm-empty-control"}))},r}(n.View);r.Updater=s;var u=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.render=function(){var t=this.controller.latestState.controller;if(!t)return e.React.createElement("div",{className:"lm-empty-control"});var n=this.controller.context,r=n.plugin,i=r.getTransformerInfo(t.transformer).view;return i?e.React.createElement(i,{controller:t,key:t.transformer.info.id+"-"+t.entity.id,customHeader:this.controller.header,hideBadge:!0,isAction:!0}):(console.warn("Count not find view for updater ("+t.transformer.info.id+"), please register it."),e.React.createElement("div",{className:"lm-empty-control"}))},n}(n.View);r.Action=u}(r=n.Transform||(n.Transform={}))}(n=e.Views||(e.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){var r;!function(r){var i=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.renderControls=function(){var n=this,r=this.params;return e.React.createElement("div",null,e.React.createElement(e.Controls.OptionsGroup,{options:t.Bootstrap.Entity.Data.Types,caption:function(t){return t},current:r.type,onChange:function(e){return n.updateParams({type:e,responseCompression:t.Bootstrap.Utils.DataCompressionMethod.None})},label:"Type"}),"Binary"===r.type?e.React.createElement(e.Controls.OptionsGroup,{options:["None","Gzip"],caption:function(t){return t},current:r.responseCompression===t.Bootstrap.Utils.DataCompressionMethod.Gzip?"Gzip":"None",onChange:function(e){return n.updateParams({responseCompression:"None"===e?t.Bootstrap.Utils.DataCompressionMethod.None:t.Bootstrap.Utils.DataCompressionMethod.Gzip})},label:"Compression",title:'Specify the compression of the data. Usually only appliable if you downloading "raw" files.'}):void 0,e.React.createElement(e.Controls.TextBoxGroup,{value:r.url,onChange:function(t){return n.updateParams({url:t})},label:"URL",onEnter:function(t){return n.applyEnter(t)},placeholder:"Enter URL..."}))},r}(n.ControllerBase);r.Download=i;var o=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.renderControls=function(){var n=this,r=this.params,i=this.controller.latestState;return e.React.createElement("div",null,e.React.createElement(e.Controls.OptionsGroup,{options:t.Bootstrap.Entity.Data.Types,caption:function(t){return t},current:r.type,onChange:function(t){return n.updateParams({type:t})},label:"Type"}),e.React.createElement("div",{className:"lm-btn lm-btn-block lm-btn-action lm-loader-lm-btn-file",style:{marginTop:"1px"}},r.file?r.file.name:"Select a file..."," ",e.React.createElement("input",{disabled:i.isBusy,type:"file",onChange:function(t){return n.updateParams({file:t.target.files[0]})},multiple:!1})))},r}(n.ControllerBase);r.OpenFile=o;var a=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.renderControls=function(){var t=this,n=this.params;return e.React.createElement("div",null,e.React.createElement(e.Controls.TextBoxGroup,{value:n.id,onChange:function(e){return t.updateParams({id:e})},label:"Id",onEnter:function(e){return t.applyEnter(e)},placeholder:"Enter PDB id..."}))},n}(n.ControllerBase);r.WithIdField=a;var s=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.renderControls=function(){var t=this,n=this.params;return e.React.createElement("div",null,e.React.createElement(e.Controls.TextBoxGroup,{value:n.id,onChange:function(e){return t.updateParams({id:e})},label:"URL",onEnter:function(e){return t.applyEnter(e)},placeholder:"Enter URL..."}))},n}(n.ControllerBase);r.WithUrlIdField=s}(r=n.Data||(n.Data={}))}(r=n.Transform||(n.Transform={}))}(n=e.Views||(e.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){var r;!function(r){var i=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.renderControls=function(){var n=this,r=this.params;return e.React.createElement("div",null,e.React.createElement(e.Controls.OptionsGroup,{options:t.Core.Formats.Molecule.SupportedFormats.All,caption:function(t){return t.name},current:r.format,onChange:function(t){return n.updateParams({format:t})},label:"Format"}))},r}(n.ControllerBase);r.CreateFromData=i;var o=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.renderControls=function(){var n=this,r=this.params;return e.React.createElement("div",null,e.React.createElement(e.Controls.OptionsGroup,{options:t.Core.Formats.Molecule.SupportedFormats.All,caption:function(t){return t.name},current:r.format,onChange:function(t){return n.updateParams({format:t})},label:"Format"}),e.React.createElement(e.Controls.TextBoxGroup,{value:r.id,onChange:function(t){return n.updateParams({id:t})},label:"URL",onEnter:function(t){return n.applyEnter(t)},placeholder:"Enter url..."}))},r}(n.ControllerBase);r.DownloadFromUrl=o;var a=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.renderControls=function(){var n=this,r=this.params,i=this.controller.latestState,o=t.Core.Formats.FormatInfo.formatFileFilters(t.Core.Formats.Molecule.SupportedFormats.All);return e.React.createElement("div",null,e.React.createElement("div",{className:"lm-btn lm-btn-block lm-btn-action lm-loader-lm-btn-file",style:{marginTop:"1px"}},r.file?r.file.name:"Select a file..."," ",e.React.createElement("input",{disabled:i.isBusy,type:"file",accept:o,onChange:function(t){return n.updateParams({file:t.target.files[0]})},multiple:!1})))},r}(n.ControllerBase);r.OpenFile=a;var s=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.renderControls=function(){var t=this,n=this.params;return e.React.createElement("div",null,e.React.createElement(e.Controls.TextBoxGroup,{value:n.id,onChange:function(e){return t.updateParams({id:e})},label:"Id",onEnter:function(e){return t.applyEnter(e)},placeholder:"Enter pdb id..."}),e.React.createElement(e.Controls.TextBoxGroup,{value:n.server,onChange:function(e){return t.updateParams({server:e})},label:"Server",onEnter:function(e){return t.applyEnter(e)},placeholder:"Server url..."}))},n}(n.ControllerBase);r.InitCoordinateStreaming=s;var u=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.renderControls=function(){var t=this,n=this.transformSourceEntity,r=n.props.dictionary.dataBlocks.map(function(t,e){return{b:t.header,i:e}});return e.React.createElement("div",null,e.React.createElement(e.Controls.OptionsGroup,{options:r,caption:function(t){return t.b},current:r[this.params.blockIndex],onChange:function(e){return t.updateParams({blockIndex:e.i})},label:"Source"}))},n}(n.ControllerBase);r.CreateFromMmCif=u;var c=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.renderControls=function(){var t=this,n=this.transformSourceEntity.props.molecule.models.length;return e.React.createElement("div",null,e.React.createElement(e.Controls.Slider,{label:"Index",onChange:function(e){return t.updateParams({modelIndex:e-1})},min:1,max:n,step:1,value:(0|this.params.modelIndex)+1,title:"Index of the model."}))},n}(n.ControllerBase);r.CreateModel=c;var l=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.renderControls=function(){var n=this,r=this.params,i=t.Bootstrap.Utils.Molecule.findModel(this.transformSourceEntity),o=i.props.model.assemblyInfo;if(o){var a=o.assemblies.map(function(t){return t.name});return e.React.createElement("div",null,e.React.createElement(e.Controls.OptionsGroup,{options:a,current:r.name,onChange:function(t){return n.updateParams({name:t})},label:"Name"}))}},r}(n.ControllerBase);r.CreateAssembly=l;var h=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.renderControls=function(){var t=this,n=this.params,r=["Mates","Interaction"];return e.React.createElement("div",null,e.React.createElement(e.Controls.OptionsGroup,{options:r,current:n.type,onChange:function(e){return t.updateParams({type:e})},label:"Type",title:"Mates: copies whole asymetric unit. Interaction: Includes only residues that are no more than `radius` from the asymetric unit."}),e.React.createElement(e.Controls.Slider,{label:"Radius",onChange:function(e){return t.updateParams({radius:e})},min:0,max:25,step:.1,value:n.radius,title:"Interaction radius."}))},n}(n.ControllerBase);r.CreateSymmetryMates=h;var p=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.renderControls=function(){var t=this,n=this.params;return e.React.createElement("div",null,e.React.createElement(e.Controls.TextBoxGroup,{value:n.name,onChange:function(e){return t.updateParams({name:e})},label:"Name",onEnter:function(e){return t.applyEnter(e)},placeholder:"Optional name..."}),e.React.createElement(e.Controls.QueryEditor,{value:n.queryString,onChange:function(e){return t.updateParams({queryString:e})},onEnter:function(e){return t.applyEnter(e)}}))},n}(n.ControllerBase);r.CreateSelection=p;var f=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.renderControls=function(){var t=this,n=this.params;return e.React.createElement("div",null,e.React.createElement(e.Controls.Toggle,{onChange:function(e){return t.updateParams({polymer:e})},value:n.polymer,label:"Polymer"}),e.React.createElement(e.Controls.Toggle,{onChange:function(e){return t.updateParams({het:e})},value:n.het,label:"HET"}),e.React.createElement(e.Controls.Toggle,{onChange:function(e){return t.updateParams({water:e})},value:n.water,label:"Water"}))},n}(n.ControllerBase);r.CreateMacromoleculeVisual=f;var d=function(r){function i(){return r.apply(this,arguments)||this}return _(i,r),i.prototype.detail=function(){var n=this,r=this.params.style.params;return[e.React.createElement(e.Controls.OptionsGroup,{options:t.Bootstrap.Visualization.Molecule.DetailTypes,caption:function(t){return t},current:r.detail,onChange:function(t){return n.controller.updateStyleParams({detail:t})},label:"Detail"})]},i.prototype.ballsAndSticks=function(){var n=this,r=this.params.style.params,i=[];return i.push(e.React.createElement(e.Controls.Toggle,{title:"Scale atoms using their VDW radius.",onChange:function(t){return n.controller.updateStyleParams({useVDW:t})},value:r.useVDW,label:"VDW"})),r.useVDW?i.push(e.React.createElement(e.Controls.Slider,{label:"Scale",onChange:function(t){return n.controller.updateStyleParams({vdwScaling:t})},min:.1,max:1,step:.01,value:r.vdwScaling,title:"VDW scale factor."})):i.push(e.React.createElement(e.Controls.Slider,{label:"Atom Rds",onChange:function(t){return n.controller.updateStyleParams({atomRadius:t})},min:.05,max:2,step:.01,value:r.atomRadius,title:"Atom Radius"})),i.push(e.React.createElement(e.Controls.Slider,{label:"Bond Rds",onChange:function(t){return n.controller.updateStyleParams({bondRadius:t})},min:.05,max:1,step:.01,value:r.bondRadius,title:"Bond Radius"})),i.push(e.React.createElement(e.Controls.OptionsGroup,{options:t.Bootstrap.Visualization.Molecule.DetailTypes,caption:function(t){return t},current:r.detail,onChange:function(t){return n.controller.updateStyleParams({detail:t})},label:"Detail"})),i},i.prototype.surface=function(){var t=this,n=this.params.style.params;return[e.React.createElement(e.Controls.Slider,{label:"Probe Radius",onChange:function(e){return t.controller.updateStyleParams({probeRadius:e})},min:0,max:6,step:.1,value:n.probeRadius}),e.React.createElement(e.Controls.Slider,{label:"Smoothing",onChange:function(e){return t.controller.updateStyleParams({smoothing:e})},min:0,max:10,step:1,value:n.smoothing,title:"Number of laplacian smoothing itrations."}),e.React.createElement(e.Controls.Slider,{label:"Detail",onChange:function(e){return t.controller.updateStyleParams({density:e})},min:.3,max:3,step:.1,value:n.density,title:"Determines the size of a grid cell."}),e.React.createElement(e.Controls.Toggle,{onChange:function(e){return t.controller.updateStyleParams({isWireframe:e})},value:n.isWireframe,label:"Wireframe"})]},i.prototype.createColors=function(){var t=this,r=this.params.style.theme,i="BallsAndSticks"===this.params.style.type,o=r.colors.filter(function(t,e){return!!i||"Bond"!==e}).map(function(n,r){return e.React.createElement(e.Controls.ToggleColorPicker,{key:r,label:r,color:n,onChange:function(e){return t.controller.updateThemeColor(r,e)}})}).toArray();return o.push(e.React.createElement(n.TransparencyControl,{definition:r.transparency,onChange:function(e){return t.controller.updateThemeTransparency(e)}})),o},i.prototype.renderControls=function(){var n,r=this,i=this.params;switch(i.style.type){case"Surface":n=this.surface();break;case"BallsAndSticks":n=this.ballsAndSticks();break;default:n=this.detail()}var o=function(e){return t.Bootstrap.Visualization.Molecule.TypeDescriptions[e]},a=this.getPersistentState("showTypeOptions",!1),s=this.getPersistentState("showThemeOptions",!1);return e.React.createElement("div",null,e.React.createElement(e.Controls.ExpandableGroup,{select:e.React.createElement(e.Controls.OptionsGroup,{options:t.Bootstrap.Visualization.Molecule.Types,caption:function(t){return o(t).label},current:i.style.type,onChange:function(e){return r.controller.updateTemplate(e,t.Bootstrap.Visualization.Molecule.Default.ForType)},label:"Type"}),expander:e.React.createElement(e.Controls.ControlGroupExpander,{isExpanded:a,onChange:function(t){return r.setPersistentState("showTypeOptions",t)}}),options:n,isExpanded:a}),e.React.createElement(e.Controls.ExpandableGroup,{select:e.React.createElement(e.Controls.OptionsGroup,{options:t.Bootstrap.Visualization.Molecule.Default.Themes,caption:function(t){return t.name},current:i.style.theme.template,onChange:function(t){return r.controller.updateThemeDefinition(t)},label:"Coloring"}),expander:e.React.createElement(e.Controls.ControlGroupExpander,{isExpanded:s,onChange:function(t){return r.setPersistentState("showThemeOptions",t)}}),options:this.createColors(),isExpanded:s}))},i}(n.ControllerBase);r.CreateVisual=d}(r=n.Molecule||(n.Molecule={}))}(r=n.Transform||(n.Transform={}))}(n=e.Views||(e.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(n){var r;!function(r){function i(t,e,n,r){var i=(e-t.valuesInfo.mean)/t.valuesInfo.sigma;return i>r?r:i<n?n:i}function o(t,e){var n=t.valuesInfo.mean+e*t.valuesInfo.sigma;return n>t.valuesInfo.max?t.valuesInfo.max:n<t.valuesInfo.min?t.valuesInfo.min:n}var a=function(n){return e.React.createElement(e.Controls.ExpandableGroup,{select:e.React.createElement(e.Controls.Slider,{label:n.isSigma?"Iso Value (σ)":"Iso Value",onChange:n.onChangeValue,min:n.min,max:n.max,value:n.value,step:.001}),expander:e.React.createElement(e.Controls.ControlGroupExpander,{isExpanded:n.view.getPersistentState("showIsoValueType",!1),onChange:function(t){return n.view.setPersistentState("showIsoValueType",t)}}),options:[e.React.createElement(e.Controls.Toggle,{onChange:function(e){return n.onChangeType(e?t.Bootstrap.Visualization.Density.IsoValueType.Sigma:t.Bootstrap.Visualization.Density.IsoValueType.Absolute)},value:n.isSigma,label:"Relative (σ)"})],isExpanded:n.view.getPersistentState("showIsoValueType",!1)})},s=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.renderControls=function(){var n=this,r=this.params,i=r.normalize,o=t.Bootstrap.Utils.round;if(this.isUpdate){var a=this.controller.entity.props.data;return e.React.createElement("div",null,e.React.createElement(e.Controls.RowText,{label:"Format",value:r.format.name}),e.React.createElement(e.Controls.RowText,{label:"Sigma",value:o(a.valuesInfo.sigma,3)}),e.React.createElement(e.Controls.RowText,{label:"Mean",value:o(a.valuesInfo.mean,3)}),e.React.createElement(e.Controls.RowText,{label:"Value Range",value:"["+o(a.valuesInfo.min,3)+", "+o(a.valuesInfo.max,3)+"]"}),e.React.createElement(e.Controls.Toggle,{onChange:function(t){return n.controller.updateParams({normalize:t})},value:i,label:"Normalized"
}))}return e.React.createElement("div",null,e.React.createElement(e.Controls.OptionsGroup,{options:t.Core.Formats.Density.SupportedFormats.All,caption:function(t){return t.name},current:r.format,onChange:function(t){return n.updateParams({format:t})},label:"Format"}),e.React.createElement(e.Controls.Toggle,{onChange:function(t){return n.controller.updateParams({normalize:t})},value:i,label:"Normalized"}))},r}(n.ControllerBase);r.ParseData=s;var u=function(r){function s(){return r.apply(this,arguments)||this}return _(s,r),s.prototype.surface=function(){var n=this,r=t.Bootstrap.Tree.Node.findClosestNodeOfType(this.transformSourceEntity,[t.Bootstrap.Entity.Density.Data]),s=this.params.style.params,u=s.isoValueType!==t.Bootstrap.Visualization.Density.IsoValueType.Absolute;return e.React.createElement(a,{view:this,onChangeValue:function(t){return n.controller.updateStyleParams({isoValue:t})},onChangeType:function(e){e!==s.isoValueType&&(e===t.Bootstrap.Visualization.Density.IsoValueType.Absolute?n.controller.updateStyleParams({isoValue:o(r.props.data,s.isoValue),isoValueType:e}):n.controller.updateStyleParams({isoValue:i(r.props.data,s.isoValue,-5,5),isoValueType:e}))},min:u?-5:r.props.data.valuesInfo.min,max:u?5:r.props.data.valuesInfo.max,isSigma:s.isoValueType!==t.Bootstrap.Visualization.Density.IsoValueType.Absolute,value:s.isoValue})},s.prototype.colors=function(){var t=this,r=this.params.style.params,i=this.params.style.theme,o=i.colors.get("Uniform"),a=e.React.createElement(e.Controls.ToggleColorPicker,{key:"Uniform",label:"Color",color:o,onChange:function(e){return t.controller.updateThemeColor("Uniform",e)}}),s=[];s.push(e.React.createElement(n.TransparencyControl,{definition:i.transparency,onChange:function(e){return t.controller.updateThemeTransparency(e)}})),s.push(e.React.createElement(e.Controls.Toggle,{onChange:function(e){return t.controller.updateStyleParams({isWireframe:e})},value:r.isWireframe,label:"Wireframe"}));var u=this.getPersistentState("showThemeOptions",!1);return e.React.createElement(e.Controls.ExpandableGroup,{select:a,expander:e.React.createElement(e.Controls.ControlGroupExpander,{isExpanded:u,onChange:function(e){return t.setPersistentState("showThemeOptions",e)}}),options:s,isExpanded:u})},s.prototype.renderControls=function(){return e.React.createElement("div",null,this.surface(),this.colors())},s}(n.ControllerBase);r.CreateVisual=u;var c=function(r){function s(){return r.apply(this,arguments)||this}return _(s,r),s.prototype.surface=function(){var n=this,r=t.Bootstrap.Tree.Node.findClosestNodeOfType(this.transformSourceEntity,[t.Bootstrap.Entity.Density.Data]),s=this.params,u=s.style.params,c=u.isoValueType!==t.Bootstrap.Visualization.Density.IsoValueType.Absolute;return e.React.createElement(a,{view:this,onChangeValue:function(t){return n.controller.updateStyleParams({isoValue:t})},onChangeType:function(e){e!==u.isoValueType&&(e===t.Bootstrap.Visualization.Density.IsoValueType.Absolute?n.controller.updateStyleParams({isoValue:o(r.props.data,u.isoValue),isoValueType:e}):n.controller.updateStyleParams({isoValue:i(r.props.data,u.isoValue,s.isoSigmaMin,s.isoSigmaMax),isoValueType:e}))},min:c?s.isoSigmaMin:r.props.data.valuesInfo.min,max:c?s.isoSigmaMax:r.props.data.valuesInfo.max,isSigma:u.isoValueType!==t.Bootstrap.Visualization.Density.IsoValueType.Absolute,value:u.isoValue})},s.prototype.colors=function(){var t=this,r=this.params.style.params,i=this.params.style.theme,o=i.colors.get("Uniform"),a=e.React.createElement(e.Controls.ToggleColorPicker,{key:"Uniform",label:"Color",color:o,onChange:function(e){return t.controller.updateThemeColor("Uniform",e)}}),s=[];s.push(e.React.createElement(n.TransparencyControl,{definition:i.transparency,onChange:function(e){return t.controller.updateThemeTransparency(e)}})),s.push(e.React.createElement(e.Controls.Toggle,{onChange:function(e){return t.controller.updateStyleParams({isWireframe:e})},value:r.isWireframe,label:"Wireframe"}));var u=this.getPersistentState("showThemeOptions",!1);return e.React.createElement(e.Controls.ExpandableGroup,{select:a,expander:e.React.createElement(e.Controls.ControlGroupExpander,{isExpanded:u,onChange:function(e){return t.setPersistentState("showThemeOptions",e)}}),options:s,isExpanded:u})},s.prototype.show=function(){var t=this,n="Around Selection",r="Everything",i=this.params;return e.React.createElement(e.Controls.OptionsGroup,{options:[n,r],caption:function(t){return t},current:i.showFull?r:n,onChange:function(e){return t.autoUpdateParams({showFull:e===r})},label:"Show"})},s.prototype.renderControls=function(){var t=this,n=this.params;return e.React.createElement("div",null,this.surface(),this.colors(),this.show(),n.showFull?void 0:e.React.createElement(e.Controls.Slider,{label:"Radius",onChange:function(e){return t.autoUpdateParams({radius:e})},min:void 0!==n.minRadius?n.minRadius:0,max:void 0!==n.maxRadius?n.maxRadius:10,step:.005,value:n.radius}))},s}(n.ControllerBase);r.CreateVisualBehaviour=c}(r=n.Density||(n.Density={}))}(r=n.Transform||(n.Transform={}))}(n=e.Views||(e.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){var i=t.Bootstrap.Service.Logger.EntryType,o=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.componentWillMount=function(){var e=this;n.prototype.componentWillMount.call(this),this.subscribe(t.Bootstrap.Event.Common.LayoutChanged.getStream(this.controller.context),function(){return e.scrollToBottom()})},r.prototype.componentDidUpdate=function(){this.scrollToBottom()},r.prototype.scrollToBottom=function(){var t=this.refs.log;t&&(t.scrollTop=t.scrollHeight-t.clientHeight-1)},r.prototype.render=function(){var n=this.controller.latestState.entries;return e.React.createElement("div",{className:"lm-log-wrap"},e.React.createElement("div",{className:"lm-log",ref:"log"},e.React.createElement("ul",{className:"lm-list-unstyled"},n.map(function(n,r,o){var a,s=n;switch(s.type){case i.Message:a=e.React.createElement("div",{className:"lm-log-entry"},s.message);break;case i.Error:a=e.React.createElement("div",{className:"lm-log-entry"},e.React.createElement("span",{className:"label label-danger"},"Error")," ",s.message);break;case i.Warning:a=e.React.createElement("div",{className:"lm-log-entry"},e.React.createElement("span",{className:"label label-warning"},"Warning")," ",s.message);break;case i.Info:a=e.React.createElement("div",{className:"lm-log-entry"},e.React.createElement("span",{className:"label label-info"},"Info")," ",s.message)}var u=t.Bootstrap.Utils.formatTime(s.timestamp);return e.React.createElement("li",{key:r},e.React.createElement("div",{className:"lm-log-entry-badge lm-log-entry-"+i[s.type].toLowerCase()}),e.React.createElement("div",{className:"lm-log-timestamp"},u),e.React.createElement("div",{className:"lm-log-entry"},s.message))}))))},r}(n.View);r.Log=o}(r=n.Context||(n.Context={}))}(n=e.Views||(e.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r=function(e){function n(){return e.apply(this,arguments)||this}return _(n,e),n.prototype.render=function(){var e=this.props.info;return t.React.createElement("div",{className:"lm-task-state"},t.React.createElement("div",null,e.abort?t.React.createElement(t.Controls.Button,{onClick:function(){return e.abort.call(null)},style:"remove",icon:"abort",title:"Abort",customClass:"lm-btn-icon"}):void 0,t.React.createElement("div",null,e.name,": ",e.message)))},n}(t.React.Component),i=function(e){function n(){return e.apply(this,arguments)||this}return _(n,e),n.prototype.render=function(){var e=this.controller.latestState;if(!e.tasks.count())return t.React.createElement("div",{className:"lm-empty-control"});var n=[];return e.tasks.forEach(function(e,i){return n.push(t.React.createElement(r,{key:i,info:e}))}),t.React.createElement("div",{className:"lm-overlay"},t.React.createElement("div",{className:"lm-overlay-background"}),t.React.createElement("div",{className:"lm-overlay-content-wrap"},t.React.createElement("div",{className:"lm-overlay-content"},t.React.createElement("div",null,n))))},n}(e.View);n.Overlay=i;var o=function(e){function n(){return e.apply(this,arguments)||this}return _(n,e),n.prototype.render=function(){var e=this.controller.latestState;if(!e.tasks.count())return t.React.createElement("div",{className:"lm-empty-control"});var n=[];return e.tasks.forEach(function(e,i){return n.push(t.React.createElement(r,{key:i,info:e,isSmall:!0}))}),t.React.createElement("div",{className:"lm-background-tasks"},n)},n}(e.View);n.BackgroundTasks=o}(n=e.Context||(e.Context={}))}(e=t.Views||(t.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(t){var e;!function(e){var n;!function(n){var r=function(e){function n(){return e.apply(this,arguments)||this}return _(n,e),n.prototype.hide=function(){var t=this.props.entry;(t.hide||function(){}).call(null)},n.prototype.render=function(){var e=this,n=this.props.entry,r="string"==typeof n.message?t.React.createElement("div",{dangerouslySetInnerHTML:{__html:n.message}}):t.React.createElement("div",null,n.message);return t.React.createElement("div",{className:"lm-toast-entry"},t.React.createElement("div",{className:"lm-toast-title",onClick:function(){return e.hide()}},n.title),t.React.createElement("div",{className:"lm-toast-message"},r),t.React.createElement("div",{className:"lm-toast-clear"}),t.React.createElement("div",{className:"lm-toast-hide"},t.React.createElement(t.Controls.Button,{onClick:function(){return e.hide()},style:"link",icon:"abort",title:"Hide",customClass:"lm-btn-icon"})))},n}(t.React.Component),i=function(e){function n(){return e.apply(this,arguments)||this}return _(n,e),n.prototype.render=function(){var e=this.controller.latestState;if(!e.entries.count())return t.React.createElement("div",{className:"lm-empty-control"});var n=[];e.entries.forEach(function(t,e){return n.push(t)}),n.sort(function(t,e){return t.serialNumber-e.serialNumber});var i=n.map(function(e){return t.React.createElement(r,{key:e.serialNumber,entry:e})});return t.React.createElement("div",{className:"lm-toast-container"},t.React.createElement("div",null,i))},n}(e.View);n.Toast=i}(n=e.Context||(e.Context={}))}(e=t.Views||(t.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){t.Bootstrap.Entity;r.VisibilityControl=function(n){var r,i,o=n.entity,a=function(){t.Bootstrap.Command.Entity.SetVisibility.dispatch(o.tree.context,{entity:o,visible:0!==o.state.visibility})},s=o.state.visibility;return 0===s?(r="full",i="Hide"):2===s?(r="none",i="Show"):(r="partial",i="Show"),e.React.createElement(e.Controls.Button,{title:i,onClick:a,icon:"visual-visibility",style:"link",customClass:"lm-entity-tree-entry-toggle-visible lm-entity-tree-entry-toggle-visible-"+r})};var i=function(n){function i(){var t=n.apply(this,arguments)||this;return t.renderedVersion=-1,t}return _(i,n),i.prototype.ensureVisible=function(){if(this.ctx.currentEntity===this.props.node){var t=this.refs.root;this.props.tree.scrollIntoView(t)}},i.prototype.componentDidMount=function(){this.ensureVisible()},i.prototype.componentDidUpdate=function(){this.ensureVisible()},Object.defineProperty(i.prototype,"node",{get:function(){return this.props.node},enumerable:!0,configurable:!0}),i.prototype.shouldComponentUpdate=function(t,e,n){return this.node.version!==this.renderedVersion},i.prototype.componentWillMount=function(){var e=this;this.ctx=this.props.node.tree.context;var n=this.node;this.subscribe(t.Bootstrap.Event.Tree.NodeUpdated.getStream(this.ctx),function(r){r.data===n&&(n.version!==e.renderedVersion&&e.forceUpdate(),e.ctx.currentEntity===n&&e.isFullyBound()&&setTimeout(t.Bootstrap.Command.Entity.SetCurrent.dispatch(e.ctx,n.children[0]),0))})},i.prototype.highlight=function(e){var n=this.node;t.Bootstrap.Command.Entity.Highlight.dispatch(this.ctx,{entities:this.ctx.select(t.Bootstrap.Tree.Selection.byValue(n).subtree()),isOn:e})},i.prototype.row=function(n){var i=this,o=this.props.node,a=o.props,s=o.parent===o,u=a.label;return a.description&&(u+=" ("+a.description+")"),e.React.createElement("div",{className:"lm-entity-tree-entry-body"+(this.ctx.currentEntity===o?" lm-entity-tree-entry-current":"")+(this.isOnCurrentPath()?" lm-entity-tree-entry-current-path":""),ref:"root"},e.React.createElement(r.Badge,{type:o.type.info}),e.React.createElement("div",{className:"lm-entity-tree-entry-label-wrap"},e.React.createElement(e.Controls.Button,{onClick:function(){return t.Bootstrap.Command.Entity.SetCurrent.dispatch(i.ctx,o)},customClass:"lm-entity-tree-entry-label",style:"link",title:u},e.React.createElement("span",null,a.label,e.React.createElement("span",{className:"lm-entity-tree-entry-label-tag"},a.description?" "+a.description:void 0)))),!s||n?e.React.createElement(e.Controls.Button,{title:"Remove",onClick:function(){return t.Bootstrap.Command.Tree.RemoveNode.dispatch(o.tree.context,o)},icon:"remove",style:"link",customClass:"lm-entity-tree-entry-remove"}):void 0,s&&!n?void 0:e.React.createElement(r.VisibilityControl,{entity:o}))},i.prototype.renderFlat=function(){for(var t=this.node,n=[],r=0,o=t.children;r<o.length;r++){var a=o[r];n.push(e.React.createElement(i,{key:a.id,node:a,tree:this.props.tree}))}return e.React.createElement("div",{key:t.id},n)},i.prototype.isFullyBound=function(){for(var t=!0,e=0,n=this.node.children;e<n.length;e++){var r=n[e];if(!r.transform.props.isBinding){t=!1;break}}return t&&1===this.node.children.length},i.prototype.isOnCurrentPath=function(){if(!this.ctx.currentEntity)return!1;for(var t=this.ctx.currentEntity.parent,e=this.node;t.parent!==t;){if(t===e)return!0;t=t.parent}return!1},i.prototype.render=function(){var n=this,r=this.node;this.renderedVersion=r.version;var o=r.parent===r;if(this.isFullyBound())return this.renderFlat();for(var a=r.state,s=0,u=[],c=0,l=r.children;c<l.length;c++){var h=l[c];h.isHidden||(o||u.push(e.React.createElement(i,{key:h.id,node:h,tree:this.props.tree})),s++)}var p;u.length?p=a.isCollapsed?e.React.createElement(e.Controls.Button,{style:"link",title:"Expand",onClick:function(){return t.Bootstrap.Command.Entity.ToggleExpanded.dispatch(n.ctx,r)},icon:"expand",customClass:"lm-entity-tree-entry-toggle-group"}):e.React.createElement(e.Controls.Button,{style:"link",title:"Collapse",onClick:function(){return t.Bootstrap.Command.Entity.ToggleExpanded.dispatch(n.ctx,r)},icon:"collapse",customClass:"lm-entity-tree-entry-toggle-group"}):0===r.state.visibility&&r.type.traits.isFocusable&&(p=e.React.createElement(e.Controls.Button,{style:"link",icon:"focus-on-visual",title:"Focus",onClick:function(){return t.Bootstrap.Command.Entity.Focus.dispatch(n.ctx,n.ctx.select(r))},customClass:"lm-entity-tree-entry-toggle-group"}));var f=e.React.createElement("div",{className:"lm-entity-tree-entry",onMouseEnter:function(){return n.highlight(!0)},onMouseLeave:function(){return n.highlight(!1)},onTouchStart:function(){return setTimeout(function(){return n.highlight(!0)},1e3/30)},onTouchCancel:function(){return setTimeout(function(){return n.highlight(!1)},1e3/30)},onTouchEnd:function(){return setTimeout(function(){return n.highlight(!1)},1e3/30)}},p,this.row(s));return e.React.createElement("div",{key:r.id,className:o?"lm-entity-tree-root":""},f,e.React.createElement("div",{className:"lm-entity-tree-children-wrap",style:{display:a.isCollapsed?"none":"block"}},u))},i}(n.ObserverView),o=function(n){function o(){var t=n.apply(this,arguments)||this;return t.renderedVersion=-1,t.splash=r.SplashInfo.Info(),t}return _(o,n),o.prototype.scrollIntoView=function(t){var e=this.refs.chilren;if(e&&t)try{var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=e.scrollTop;if(r.top<n.top){var o=n.top-r.top;e.scrollTop=i-o}else if(r.bottom>n.bottom){var o=r.bottom-n.bottom;e.scrollTop=i+o}}catch(t){}},o.prototype.componentWillMount=function(){var e=this,n=this.controller.context.tree.root,r=n.tree.context;this.subscribe(t.Bootstrap.Event.Tree.NodeUpdated.getStream(r),function(t){t.data===n&&n.version!==e.renderedVersion&&e.forceUpdate()})},o.prototype.render=function(){var t=this.controller.context.tree.root;this.renderedVersion=t.version;for(var n=[],r=0,o=t.children;r<o.length;r++){var a=o[r];a.isHidden||n.push(e.React.createElement(i,{key:a.id,node:a,tree:this}))}return e.React.createElement("div",{className:"lm-entity-tree",ref:"root"},e.React.createElement(i,{key:t.id,node:t,tree:this}),e.React.createElement("div",{className:"lm-entity-tree-children"},n.length?n:this.splash))},o}(n.View);r.Tree=o}(r=n.Entity||(n.Entity={}))}(n=e.Views||(e.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){r.Remove=function(n){return e.React.createElement(e.Controls.Button,{onClick:function(){t.Bootstrap.Command.Tree.RemoveNode.dispatch(n.entity.tree.context,n.entity),n.onRemove.call(null)},style:"link",icon:"remove",customClass:"lm-remove-entity lm-btn-icon"})};var i=function(n){function r(){return n.apply(this,arguments)||this}return _(r,n),r.prototype.shouldComponentUpdate=function(t,e,n){return this.props.type!==t.type},r.prototype.part=function(t,n,r,i){switch(r){case 0:return i.push(e.React.createElement("span",null,t.substr(0,n))),i;case 1:return i.push(e.React.createElement("sub",null,t.substr(0,n))),i;default:return i.push(e.React.createElement("sup",null,t.substr(0,n))),i}},r.prototype.split=function(t,e,n){if(t.length){for(var r=0;r<t.length;r++){if("_"===t[r])return void this.split(t.substr(r+1),1,this.part(t,r,e,n));if("^"===t[r])return void this.split(t.substr(r+1),2,this.part(t,r,e,n))}this.part(t,t.length,e,n)}},r.prototype.createBadge=function(t){var e=[];return this.split(t,0,e),e},r.prototype.render=function(){var n=this.props.type;return e.React.createElement("div",{className:"lm-entity-badge lm-entity-badge-"+this.props.type.typeClass,title:n.name},e.React.createElement("div",null,n===t.Bootstrap.Entity.Root.info?void 0:this.createBadge(n.shortName)))},r}(e.React.Component);r.Badge=i;var o=function(n){function o(){var t=n.apply(this,arguments)||this;return t.state={current:void 0},t}return _(o,n),o.prototype.componentWillMount=function(){var e=this;n.prototype.componentWillMount.call(this),this.state.current=this.controller.context.currentEntity,this.subscribe(t.Bootstrap.Event.Entity.CurrentChanged.getStream(this.controller.context),function(t){e.setState({current:t.data})})},o.prototype.render=function(){var t=this;if(!this.state.current)return e.React.createElement("div",{className:"lm-entity-info"},e.React.createElement("div",null,e.React.createElement("span",null,this.controller.appName)));var n=this.state.current;return e.React.createElement("div",{className:"lm-entity-info",title:n.props.label+" "+(n.props.description?n.props.description:"")},e.React.createElement("div",null,e.React.createElement(i,{type:n.type.info}),e.React.createElement("span",null,n.props.label,e.React.createElement("span",null,n.props.description)),n.parent!==n||n.children.length?e.React.createElement(r.Remove,{entity:n,onRemove:function(){return t.forceUpdate()}}):void 0))},o}(n.View);r.CurrentEntityControl=o;var a;!function(t){t.General=function(){return e.React.createElement("div",{className:"lm-entity-splash-general"},e.React.createElement("div",null),e.React.createElement("span",{className:"lm-icon lm-icon-info"}),"The application operates on an entity tree structure that can be manipulated using the controls on the panel to the right.")};var n=function(t){function n(){var e=t.apply(this,arguments)||this;return e.state={isExpanded:!1},e}return _(n,t),n.prototype.render=function(){var t=this;return e.React.createElement("div",{className:"lm-entity-splash-class lm-entity-splash-class-"+(this.state.isExpanded?"expanded":"collapsed")},e.React.createElement("div",{onClick:function(){return t.setState({isExpanded:!t.state.isExpanded})}},e.React.createElement("div",null),e.React.createElement("div",{className:"lm-entity-badge-"+this.props.cls})," ",e.React.createElement("span",null,this.props.cls)),e.React.createElement("div",null,this.props.desc))},n}(e.React.Component);t.Info=function(){return e.React.createElement("div",{className:"lm-entity-splash"},e.React.createElement(t.General,null),e.React.createElement(n,{cls:"Root",desc:"The root entity represents the starting point of all actions."}),e.React.createElement(n,{cls:"Action",desc:"Represents a composition of one of more changes to the entity tree."}),e.React.createElement(n,{cls:"Data",desc:"Low level data, for example a string or a CIF dictionary."}),e.React.createElement(n,{cls:"Object",desc:"A more complex structure obtained from low level data. For example a molecule."}),e.React.createElement(n,{cls:"Visual",desc:"A visual representation of an object."}),e.React.createElement(n,{cls:"Selection",desc:"A description of a substructure of an object or a visual."}),e.React.createElement(n,{cls:"Behaviour",desc:"Represents a dynamic behavior of the program. For example creating electron density surface when the selection changes."}),e.React.createElement(n,{cls:"Group",desc:"A collection of related entities."}))}}(a=r.SplashInfo||(r.SplashInfo={}))}(r=n.Entity||(n.Entity={}))}(n=e.Views||(e.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){var r;!function(r){var i=function(n){function r(){var t=n.apply(this,arguments)||this;return t.state={showSceneOptions:!1,showHelp:!1},t}return _(r,n),r.prototype.help=function(){return e.React.createElement("div",{className:"lm-viewport-controls-scene-options lm-control"},e.React.createElement(e.Controls.HelpBox,{title:"Rotate",content:e.React.createElement("div",null,e.React.createElement("div",null,"Left button"),e.React.createElement("div",null,"One finger touch"))}),e.React.createElement(e.Controls.HelpBox,{title:"Zoom",content:e.React.createElement("div",null,e.React.createElement("div",null,"Right button"),e.React.createElement("div",null,"Pinch"))}),e.React.createElement(e.Controls.HelpBox,{title:"Move",content:e.React.createElement("div",null,e.React.createElement("div",null,"Middle button"),e.React.createElement("div",null,"Two finger touch"))}),e.React.createElement(e.Controls.HelpBox,{title:"Slab",content:e.React.createElement("div",null,e.React.createElement("div",null,"Mouse wheel"),e.React.createElement("div",null,"Three finger touch"))}))},r.prototype.render=function(){var n,r=this,i=this.controller.latestState,o=this.controller.context.layout,a=o.latestState;this.state.showSceneOptions?n=e.React.createElement("div",{className:"lm-viewport-controls-scene-options lm-control"},e.React.createElement(e.Controls.Toggle,{onChange:function(t){return r.controller.setState({enableFog:t})},value:i.enableFog,label:"Fog"}),e.React.createElement(e.Controls.Slider,{label:"FOV",min:30,max:90,onChange:function(t){return r.controller.setState({cameraFOV:t})},value:i.cameraFOV}),e.React.createElement(e.Controls.ToggleColorPicker,{color:i.clearColor,label:"Background",position:"below",onChange:function(t){return r.controller.setState({clearColor:t})}})):this.state.showHelp&&(n=this.help());var s=!a.hideControls;return e.React.createElement("div",{className:"lm-viewport-controls",onMouseLeave:function(){return r.setState({showSceneOptions:!1,showHelp:!1})}},e.React.createElement("div",{className:"lm-viewport-controls-buttons"},e.React.createElement(e.Controls.Button,{style:"link",active:this.state.showHelp,customClass:"lm-btn-link-toggle-"+(this.state.showHelp?"on":"off"),icon:"help-circle",onClick:function(t){return r.setState({showHelp:!r.state.showHelp,showSceneOptions:!1})},title:"Controls Help"}),e.React.createElement(e.Controls.Button,{style:"link",active:this.state.showSceneOptions,customClass:"lm-btn-link-toggle-"+(this.state.showSceneOptions?"on":"off"),icon:"settings",onClick:function(t){return r.setState({showSceneOptions:!r.state.showSceneOptions,showHelp:!1})},title:"Scene Options"}),e.React.createElement(e.Controls.Button,{style:"link",icon:"screenshot",onClick:function(t){window.open(r.controller.scene.scene.screenshotAsDataURL(),"_blank")},title:"Screenshot"}),e.React.createElement(e.Controls.Button,{onClick:function(){o.update({hideControls:s}),r.forceUpdate()},icon:"tools",title:s?"Hide Controls":"Show Controls",active:s,customClass:"lm-btn-link-toggle-"+(s?"on":"off"),style:"link"}),e.React.createElement(e.Controls.Button,{onClick:function(){return o.update({isExpanded:!a.isExpanded})},icon:"expand-layout",title:a.isExpanded?"Collapse":"Expand",active:a.isExpanded,customClass:"lm-btn-link-toggle-"+(a.isExpanded?"on":"off"),style:"link"}),e.React.createElement(e.Controls.Button,{style:"link",icon:"reset-scene",onClick:function(e){return t.Bootstrap.Command.Visual.ResetScene.dispatch(r.controller.context,void 0)},title:"Reset scene"})),n)},r}(n.View);r.ViewportControls=i;var o=function(t){function n(){return t.apply(this,arguments)||this}return _(n,t),n.prototype.render=function(){var t=this.controller.latestState,n=t.info;if(!n.length)return e.React.createElement("div",{className:"lm-empty-control"});var r={__html:n.join(", ")};return e.React.createElement("div",{className:"lm-highlight-info"},e.React.createElement("div",{dangerouslySetInnerHTML:r}))},n}(n.View);r.HighlightInfo=o,r.Logo=function(){return e.React.createElement("div",{className:"lm-logo"},e.React.createElement("div",null,e.React.createElement("div",null,e.React.createElement("div",null),e.React.createElement("div",{className:"lm-logo-image"}))))};var a=function(n){function o(){var t=n.apply(this,arguments)||this;return t.state={noWebGl:!1,showLogo:!0},t}return _(o,n),o.prototype.componentDidMount=function(){this.controller.init(this.refs["host-3d"])||this.setState({noWebGl:!0}),this.handleLogo()},o.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this),this.controller.destroy()},o.prototype.renderMissing=function(){return e.React.createElement("div",{className:"lm-no-webgl"},e.React.createElement("div",null,e.React.createElement("p",null,e.React.createElement("b",null,"WebGL does not seem to be available.")),e.React.createElement("p",null,"This can be caused by an outdated browser, graphics card driver issue, or bad weather. Sometimes, just restarting the browser helps."),e.React.createElement("p",null,"For a list of supported browsers, refer to ",e.React.createElement("a",{href:"http://caniuse.com/#feat=webgl",target:"_blank"},"http://caniuse.com/#feat=webgl"),".")))},o.prototype.handleLogo=function(){var e=this;this.subscribe(t.Bootstrap.Event.Tree.NodeAdded.getStream(this.controller.context),function(n){t.Bootstrap.Entity.isClass(n.data,t.Bootstrap.Entity.VisualClass)&&setTimeout(function(){return e.setState({showLogo:e.getShowLogo()})},0)}),this.subscribe(t.Bootstrap.Event.Tree.NodeRemoved.getStream(this.controller.context),function(n){t.Bootstrap.Entity.isClass(n.data,t.Bootstrap.Entity.VisualClass)&&setTimeout(function(){return e.setState({showLogo:e.getShowLogo()})},0)})},o.prototype.getShowLogo=function(){try{return this.controller.context.viewport.scene.models.isEmpty()}catch(t){return!0}},o.prototype.render=function(){return this.state.noWebGl?this.renderMissing():e.React.createElement("div",{className:"lm-viewport"},e.React.createElement("div",{ref:"host-3d",className:"lm-viewport-host3d"}),this.state.showLogo?e.React.createElement(r.Logo,null):void 0,e.React.createElement(i,{controller:this.controller}))},o}(n.View);r.Viewport=a}(r=n.Visualization||(n.Visualization={}))}(n=e.Views||(e.Views={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){var n;!function(n){function r(t,e,n){return function(r,i){return function(o){return{key:t,controller:e(o),region:r,view:n,isStatic:i}}}}n.create=r;var i=function(t){function e(e,n,r){var i=t.call(this,e,{})||this;return i.appName=n,i.appVersion=r,i}return _(e,t),e}(t.Bootstrap.Components.Component);n.AppInfo=i;var o;!function(n){n.Log=r("Context.Log",function(e){return new t.Bootstrap.Components.Context.Log(e)},e.Views.Context.Log),n.Toast=r("Context.Toast",function(e){return new t.Bootstrap.Components.Context.Toast(e)},e.Views.Context.Toast),n.Overlay=r("Context.Overlay",function(e){return new t.Bootstrap.Components.Context.TaskWatcher(e,"Normal")},e.Views.Context.Overlay),n.BackgroundTasks=r("Context.BackgroundTasks",function(e){return new t.Bootstrap.Components.Context.TaskWatcher(e,"Background")},e.Views.Context.BackgroundTasks)}(o=n.Context||(n.Context={}));var a;!function(n){n.View=r("Transform.View",function(e){return new t.Bootstrap.Components.Transform.View(e)},e.Views.Transform.View)}(a=n.Transform||(n.Transform={}));var s;!function(t){t.Current=function(t,n){return r("EntityInfo",function(e){return new i(e,t,n)},e.Views.Entity.CurrentEntityControl)}}(s=n.Entity||(n.Entity={}));var u;!function(n){n.Viewport=r("Viewport",function(e){return new t.Bootstrap.Components.Visualization.Viewport(e)},e.Views.Visualization.Viewport),n.HighlightInfo=r("HighlightInfo",function(e){return new t.Bootstrap.Components.Visualization.HighlightInfo(e)},e.Views.Visualization.HighlightInfo)}(u=n.Visualization||(n.Visualization={}))}(n=e.Components||(e.Components={}))}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){e.Context=t.Bootstrap.Context;var n=t.Bootstrap.Components.LayoutRegion,r=function(){function r(n,r){this.spec=n,this.target=r,this.componentMap=new Map,this.transformersInfo=new Map,this.context=new t.Bootstrap.Context(this),this.init(),e.ReactDOM.render(e.React.createElement(this.spec.layoutView,{controller:this.context.layout}),r),t.Bootstrap.Command.Entity.SetCurrent.dispatch(this.context,this.context.tree.root)}return r.prototype.compose=function(){for(var e=0,n=Object.keys(this.spec.settings);e<n.length;e++){var r=n[e];Object.prototype.hasOwnProperty.call(this.spec.settings,r)&&this.context.settings.set(r,this.spec.settings[r])}for(var i=t.Bootstrap.Components.makeEmptyTargets(),o=0,a=this.spec.behaviours||[];o<a.length;o++){var s=a[o];s(this.context)}for(var u=0,c=this.spec.transforms;u<c.length;u++){var l=c[u];this.context.transforms.add(l.transformer),this.transformersInfo.set(l.transformer.info.id,l)}for(var h=0,p=this.spec.components;h<p.length;h++){var f=p[h],d=f(this.context);if(this.componentMap.has(d.key))throw"Component with key '"+d.key+"' was already added. Fix your spec.";i[d.region].components.push(d),this.componentMap.set(d.key,d)}return i},r.prototype.getTransformerInfo=function(t){return this.transformersInfo.get(t.info.id)},r.prototype.destroy=function(){this.context.dispatcher.finished(),e.ReactDOM.unmountComponentAtNode(this.target),this.context=void 0,this.componentMap=void 0,this.spec=void 0,this.target=void 0},r.prototype.init=function(){var e=this.compose();this.spec.tree&&e[this.spec.tree.region].components.push({key:"lm-internal-tree",controller:new t.Bootstrap.Components.Component(this.context,{}),region:this.spec.tree.region,view:this.spec.tree.view,isStatic:!0}),e[n.Main].components.push({key:"lm-internal-viewport",controller:this.context.viewport,region:n.Main,view:this.spec.viewport.view,isStatic:!0}),this.context.createLayout(e,this.target)},r}();e.Instance=r}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;!function(t){var e;!function(e){function n(){return{settings:{"molecule.model.defaultQuery":"residues({ name: 'ALA' })","molecule.model.defaultAssemblyName":"1","molecule.coordinateStreaming.defaultId":"1jj2","molecule.coordinateStreaming.defaultServer":"https://webchemdev.ncbr.muni.cz/CoordinateServer","molecule.coordinateStreaming.defaultRadius":10,"density.defaultVisualBehaviourRadius":5},transforms:[{transformer:i.Molecule.CoordinateStreaming.InitStreaming,view:e.Views.Transform.Molecule.InitCoordinateStreaming,initiallyCollapsed:!0},{transformer:r.DownloadMolecule,
view:e.Views.Transform.Data.WithUrlIdField,initiallyCollapsed:!0},{transformer:i.Molecule.OpenMoleculeFromFile,view:e.Views.Transform.Molecule.OpenFile,initiallyCollapsed:!0},{transformer:i.Data.Download,view:e.Views.Transform.Data.Download,initiallyCollapsed:!0},{transformer:i.Data.OpenFile,view:e.Views.Transform.Data.OpenFile,initiallyCollapsed:!0},{transformer:i.Molecule.CreateFromData,view:e.Views.Transform.Molecule.CreateFromData},{transformer:i.Data.ParseCif,view:e.Views.Transform.Empty},{transformer:i.Density.ParseData,view:e.Views.Transform.Density.ParseData},{transformer:i.Molecule.CreateFromMmCif,view:e.Views.Transform.Molecule.CreateFromMmCif},{transformer:i.Molecule.CreateModel,view:e.Views.Transform.Molecule.CreateModel,initiallyCollapsed:!0},{transformer:i.Molecule.CreateSelection,view:e.Views.Transform.Molecule.CreateSelection,initiallyCollapsed:!0},{transformer:i.Molecule.CreateAssembly,view:e.Views.Transform.Molecule.CreateAssembly,initiallyCollapsed:!0},{transformer:i.Molecule.CreateSymmetryMates,view:e.Views.Transform.Molecule.CreateSymmetryMates,initiallyCollapsed:!0},{transformer:i.Molecule.CreateMacromoleculeVisual,view:e.Views.Transform.Empty},{transformer:i.Molecule.CreateVisual,view:e.Views.Transform.Molecule.CreateVisual},{transformer:i.Density.CreateVisual,view:e.Views.Transform.Density.CreateVisual},{transformer:i.Density.CreateVisualBehaviour,view:e.Views.Transform.Density.CreateVisualBehaviour},{transformer:i.Molecule.CoordinateStreaming.CreateBehaviour,view:e.Views.Transform.Empty,initiallyCollapsed:!0}],behaviours:[t.Bootstrap.Behaviour.SetEntityToCurrentWhenAdded,t.Bootstrap.Behaviour.FocusCameraOnSelect,t.Bootstrap.Behaviour.ApplySelectionToVisual,t.Bootstrap.Behaviour.ApplyInteractivitySelection,t.Bootstrap.Behaviour.UnselectElementOnRepeatedClick,t.Bootstrap.Behaviour.Molecule.HighlightElementInfo,t.Bootstrap.Behaviour.Molecule.DistanceToLastClickedElement,t.Bootstrap.Behaviour.Molecule.ShowInteractionOnSelect(5)],components:[e.Components.Visualization.HighlightInfo(o.Main,!0),e.Components.Entity.Current("LiteMol",e.VERSION.number)(o.Right,!0),e.Components.Transform.View(o.Right),e.Components.Context.Log(o.Bottom,!0),e.Components.Context.Overlay(o.Root),e.Components.Context.Toast(o.Main,!0),e.Components.Context.BackgroundTasks(o.Main,!0)],viewport:{view:e.Views.Visualization.Viewport,controlsView:e.Views.Visualization.ViewportControls},layoutView:e.Views.Layout,tree:{region:o.Left,view:e.Views.Entity.Tree}}}var r,i=t.Bootstrap.Entity.Transformer;!function(t){t.DownloadMolecule=i.Molecule.downloadMoleculeSource({sourceId:"url-molecule",name:"URL",description:"Download a molecule from the specified URL (if the host server supports cross domain requests).",defaultId:"https://webchemdev.ncbr.muni.cz/CoordinateServer/1tqn/cartoon",urlTemplate:function(t){return t},isFullUrl:!0})}(r=e.DataSources||(e.DataSources={}));var o=t.Bootstrap.Components.LayoutRegion;e.getDefaultSpecification=n}(e=t.Plugin||(t.Plugin={}))}(m||(m={}));var m;return function(t){var e;!function(e){function n(t){return new o(t)}var r=t.Bootstrap.Entity,i=r.Transformer,o=function(){function n(n){var r=n.customSpecification?n.customSpecification:e.getDefaultSpecification();n.customSpecification||r.behaviours.push(t.Bootstrap.Behaviour.GoogleAnalytics(n.analyticsId?n.analyticsId:"UA-77062725-1"));var i;if(i=n.target instanceof HTMLElement?n.target:document.querySelector(n.target),!i)throw new Error("options.target cannot be undefined.");this._instance=new e.Instance(r,i),n.viewportBackground&&this.setViewportBackground(n.viewportBackground),n.layoutState&&this.setLayoutState(n.layoutState)}return Object.defineProperty(n.prototype,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return this._instance.context},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return this._instance.context.tree.root},enumerable:!0,configurable:!0}),n.prototype.command=function(t,e){t.dispatch(this.context,e)},n.prototype.selectEntities=function(t){return this.context.select(t)},n.prototype.subscribe=function(t,e){return t.getStream(this.context).subscribe(e)},n.prototype.createTransform=function(){return t.Bootstrap.Tree.Transform.build()},n.prototype.applyTransform=function(e){var n=this.context;return t.Bootstrap.Tree.Transform.apply(n,e).run()},n.prototype.clear=function(){this.command(t.Bootstrap.Command.Tree.RemoveNode,this.root)},n.prototype.setViewportBackground=function(e){t.Visualization.Color.isColor(e)?this.command(t.Bootstrap.Command.Layout.SetViewportOptions,{clearColor:e}):this.command(t.Bootstrap.Command.Layout.SetViewportOptions,{clearColor:t.Visualization.Color.fromHexString(e)})},n.prototype.setLayoutState=function(e){this.command(t.Bootstrap.Command.Layout.SetState,e)},n.prototype.loadMolecule=function(e){var n=this.createTransform();if(!e.url&&!e.data)throw new Error("Please specify either url or data");var o=t.Core.Formats.Molecule.SupportedFormats.mmCIF;if(e.format)if(t.Core.Formats.FormatInfo.is(e.format))o=e.format;else{var a=t.Core.Formats.FormatInfo.fromShortcut(t.Core.Formats.Molecule.SupportedFormats.All,e.format);if(!a)throw new Error("'"+e.format+"' is not a supported format.");o=a}var s=e.data?n.add(this.root,r.Transformer.Data.FromData,{data:e.data,id:e.id}):n.add(this.root,i.Data.Download,{url:e.url,type:o.isBinary?"Binary":"String",id:e.id,title:"Molecule"});return s.then(i.Molecule.CreateFromData,{format:o,customId:e.id},{isBinding:!0,ref:e.moleculeRef}).then(i.Molecule.CreateModel,{modelIndex:0},{isBinding:!1,ref:e.modelRef}).then(i.Molecule.CreateMacromoleculeVisual,{polymer:!0,het:!0,water:!0}),this.applyTransform(s)},n.prototype.destroy=function(){this._instance&&(this._instance.destroy(),this._instance=void 0)},n}();e.Controller=o,e.create=n}(e=t.Plugin||(t.Plugin={}))}(m||(m={})),m};if("object"==typeof i&&"object"==typeof i.exports)i.exports=c();else{a=[n],s=function(t){return c()}.apply(e,a),!(void 0!==s&&(i.exports=s))}}).call(e,n(284),n(41),n(1192)(t))},function(t,e,n){e.__esModule=!0,e.default=n(820)},,,,,function(t,e){t.exports=""},function(t,e){t.exports='@import "//www.ebi.ac.uk/gxa/resources/css/customized-bootstrap-3.3.5.css";'},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=".selected{background-color:#adff2f}"},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports="div#networkContainer{\n  /*!*position:absolute;*!*/\n  /*!*bottom:0px;*!*/\n  /*!*top:0px;*!*/height:300px\n  /*!*margin: 8px;*!*/\n  /*!*margin-right:35%;*!*/\n  /*!*width: 150px;*!*/\n  /*!*padding: 10px;*!*/}"},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports=""},function(t,e){t.exports='@import "//cdn-images.mailchimp.com/embedcode/slim-10_7.css";#mc_embed_signup{background:#fff;clear:left;font:14px Helvetica,Arial,sans-serif}input#mce-EMAIL.email{width:100%!important}input#mc-embedded-subscribe.button{width:100%!important;background-color:#007c82}'},function(t,e){t.exports=".tile{height:140px;min-width:180px;margin-bottom:1em;border-radius:15px}.menu-blue{background-color:#005c82}.menu-gold{background-color:#bca04d}"},function(t,e){t.exports="h3{border-bottom:2px solid #000}"},function(t,e){t.exports=""},function(t,e){t.exports=""},,,function(t,e){t.exports='<div data-sticky-container>\n  <div id="local-masthead" data-sticky data-sticky-on="large" data-top-anchor="180" data-btm-anchor="300000">\n    <header>\n\n      <div id="global-masthead" class="clearfix">\n        <!--This has to be one line and no newline characters-->\n        <a href="//www.ebi.ac.uk/" title="Go to the EMBL-EBI homepage"><span class="ebi-logo"></span></a>\n\n        <nav>\n          <div class="row">\n            <ul id="global-nav" class="menu">\n              <!-- set active class as appropriate -->\n              <li id="home-mobile" class=""><a href="//www.ebi.ac.uk"></a></li>\n              <li id="home" class="active"><a href="//www.ebi.ac.uk"><i class="icon icon-generic" data-icon="H"></i>\n                EMBL-EBI</a></li>\n              <li id="services"><a href="//www.ebi.ac.uk/services"><i class="icon icon-generic" data-icon="("></i>\n                Services</a></li>\n              <li id="research"><a href="//www.ebi.ac.uk/research"><i class="icon icon-generic" data-icon=")"></i>\n                Research</a></li>\n              <li id="training"><a href="//www.ebi.ac.uk/training"><i class="icon icon-generic" data-icon="t"></i>\n                Training</a></li>\n              <li id="about"><a href="//www.ebi.ac.uk/about"><i class="icon icon-generic" data-icon="i"></i> About\n                us</a></li>\n              <li id="search">\n                <a data-toggle="search-global-dropdown"><i class="icon icon-functional" data-icon="1"></i>\n                  <span class="show-for-small-only">Search</span></a>\n                <div id="search-global-dropdown" class="dropdown-pane" data-dropdown data-options="closeOnClick:true;">\n                  <form id="global-search" name="global-search" action="/ebisearch/search.ebi" method="GET">\n                    <fieldset>\n                      <div class="input-group">\n                        <input type="text" name="query" id="global-searchbox" class="input-group-field"\n                               placeholder="Search all of EMBL-EBI">\n                        <div class="input-group-button">\n                          <input type="submit" name="submit" value="Search" class="button">\n                          <input type="hidden" name="db" value="allebi" checked="checked">\n                          <input type="hidden" name="requestFrom" value="global-masthead" checked="checked">\n                        </div>\n                      </div>\n                    </fieldset>\n                  </form>\n                </div>\n              </li>\n              <li class="float-right show-for-medium embl-selector">\n                <button class="button float-right" type="button" data-toggle="embl-dropdown">Hinxton</button>\n                <!-- The dropdown menu will be programatically added by script.js -->\n              </li>\n            </ul>\n          </div>\n        </nav>\n\n      </div>\n\n      <div class="masthead row">\n\n        <!-- local-title -->\n        <div class="columns medium-12" id="local-title">\n          <h1>\n            <a routerLink="/home" title="Back to [service-name] homepage">\n              <img src="assets/images/logo.png" style="width: 43px; height: 63px;">\n              Complex Portal\n            </a>\n            <i style="float: right; color: red" class="icon icon-generic" data-icon="&gt;"></i>\n          </h1>\n\n        </div>\n        <!-- /local-title -->\n\n        <!-- local-nav -->\n        <nav>\n          <ul class="dropdown menu float-left" data-description="navigational">\n            <li><a routerLink="/home">Home</a></li>\n            <li><a href="http://www.ebi.ac.uk/intact/complex/help/" target="_blank">Help</a></li>\n            <li><a href="http://www.ebi.ac.uk/intact/complex/about/" target="_blank">About</a></li>\n            <li><a href="https://github.com/Complex-Portal/complex-portal-view/issues" target="_blank">Issues</a></li>\n            <!--<li><a routerLink="/favorites">Favorites</a></li>-->\n          </ul>\n        </nav>\n        <!-- /local-nav -->\n\n      </div>\n\n    </header>\n\n  </div>\n</div>\n\n\n<div id="content" role="main" class="row">\n\n  <!-- Suggested layout containers -->\n  <section>\n    <router-outlet></router-outlet>\n  </section>\n  <!-- End suggested layout containers -->\n\n</div>\n'},function(t,e){t.exports='<section>\n  <div id="main-content-area">\n    <div class="row">\n      <div class="columns medium-12" *ngIf="complexDetails && complexMIJSON">\n        <div class="columns medium-12">\n          <app-complex-header [complexName]="complexDetails.name"\n                              [complexSpecies]="complexDetails.species"></app-complex-header>\n        </div>\n        <div class="columns medium-12">\n          <div class="columns medium-6 no-pad-left no-pad-right">\n            <app-complex-viewer [complexAC]="complexDetails.ac" [complexMIJSON]="complexMIJSON"></app-complex-viewer>\n          </div>\n          <div class="columns medium-6">\n            <app-complex-participants [participants]="complexDetails.participants"></app-complex-participants>\n          </div>\n          <div class="columns medium-12 ">\n            <app-complex-function *ngIf="complexDetails.functions && complexDetails.crossReferences"\n                                  [functionDescription]="complexDetails.functions"\n                                  [crossReferences]="complexDetails.crossReferences"\n                                  [synonyms]="complexDetails.synonyms"\n                                  [systematicName]="complexDetails.systematicName"></app-complex-function>\n          </div>\n          <div class="columns medium-12" *ngIf="complexDetails.crossReferences">\n            <app-complex-properties [propertiesDescription]="complexDetails.properties"\n                                    [crossReferences]="complexDetails.crossReferences"></app-complex-properties>\n          </div>\n          <div class="columns medium-12"\n               *ngIf="complexDetails.crossReferences && complexDetails.participants && complexDetails.species">\n            <app-complex-expression [gxa]="gxa" [participants]="complexDetails.participants"\n                                    [complexSpecies]="complexDetails.species"\n                                    [crossReferences]="complexDetails.crossReferences"></app-complex-expression>\n          </div>\n          <div class="columns medium-12" *ngIf="complexDetails.diseases && complexDetails.diseases.length !== 0">\n            <app-complex-disease [diseaseDescriptions]="complexDetails.diseases"\n                                 [crossReferences]="complexDetails.crossReferences"></app-complex-disease>\n          </div>\n        </div>\n        <div class="columns medium-12">\n          <div class="columns medium-10">\n\n          </div>\n          <div class="columns medium-2">\n              <h5>Curated by: {{complexDetails.institution}}</h5>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12">\n    <h5>ChEMBL Cross References</h5>\n    <table class="hover">\n      <thead>\n      <th>Identifier</th>\n      </thead>\n      <tbody>\n      <tr *ngFor="let crossReference of crossReferences">\n        <td>\n          <a href="{{crossReference.url}}" target="_blank">{{crossReference.identifier}}\n            <i class="icon icon-generic small" data-icon="x"></i></a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12 no-pad-left">\n    <h4>Diseases and Pathologyls</h4>\n    <div id="description" class="columns medium-12 no-pad-left" *ngIf="diseaseDescriptions">\n      <app-disease-description [diseaseDescriptions]="diseaseDescriptions"></app-disease-description>\n    </div>\n    <div id="efoXRefs" class="columns medium-6 no-pad-left" *ngIf="efoXRefs">\n      <app-efo-crossreferences [crossReferences]="efoXRefs"></app-efo-crossreferences>\n    </div>\n    <div id="chemblXRefs" class="columns medium-6 no-pad-left" *ngIf="chemblXRefs">\n      <app-chembl-crossreference [crossReferences]="chemblXRefs"></app-chembl-crossreference>\n    </div>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12">\n    <ul class="no-bullet" *ngFor="let diseaseDescription of diseaseDescriptions">\n      <li>{{diseaseDescription}}</li>\n    </ul>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12">\n    <h5>EFO Cross References</h5>\n    <table class="hover">\n      <thead>\n      <th>Identifier</th>\n      <th>Name</th>\n      </thead>\n      <tbody>\n      <tr *ngFor="let crossReference of crossReferences">\n        <td>\n          <a href="{{crossReference.searchURL}}" target="_blank">{{crossReference.identifier}}\n            <i class="icon icon-generic small" data-icon="x"></i></a>\n        </td>\n        <td>\n          {{crossReference.description}}\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <h4>Expression</h4>\n  <div class="columns medium-12">\n    <app-gxa-heatmap *ngIf="gxa && gxaParamsQueries" [gxa]="gxa" [gxaParamsQueries]="gxaParamsQueries"\n                     [complexSpecies]="complexSpecies"></app-gxa-heatmap>\n  </div>\n  <div class="columns medium-12">\n    <app-go-celluar-crossreference *ngIf="goCellularXRefs"\n                                   [crossReferences]="goCellularXRefs"></app-go-celluar-crossreference>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12 no-pad-left">\n    <h5>Go Component Terms</h5>\n    <table class="hover">\n      <thead>\n      <th>Identifier</th>\n      <th>Description</th>\n      </thead>\n      <tbody>\n      <tr *ngFor="let crossReference of crossReferences">\n        <td>\n          <a href="http://www.ebi.ac.uk/QuickGO-Beta/term/{{crossReference.identifier}}" target="_blank">{{crossReference.identifier}}\n            <i class="icon icon-generic small" data-icon="x"></i></a>\n        </td>\n        <td>{{crossReference.description}}</td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row" [hidden]="!isLoaded">\n  <h5>GXA Heatmap</h5>\n  <div class="column medium-12">\n    <div id="heatmapContainer"></div>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <h4>Function</h4>\n  <div id="description" class="columns medium-12 no-pad-left" *ngIf="functionDescription">\n    <app-function-description [functionDescription]="functionDescription"></app-function-description>\n  </div>\n  <div id="goXRefs" class="columns medium-12 no-pad-left" *ngIf="goXRefs">\n    <app-go-crossreferences [crossReferences]="goXRefs"></app-go-crossreferences>\n  </div>\n  <div id="reactomeXRefs" class="columns medium-12" *ngIf="reactomeXRefs">\n    <app-reactome-crossreferences [crossReferences]="reactomeXRefs"></app-reactome-crossreferences>\n  </div>\n  <div id="pubmedXRefs" class="columns medium-12 no-pad-left" *ngIf="pubmedXRefs">\n    <app-euro-pmc-crossreferences [crossReferences]="pubmedXRefs"></app-euro-pmc-crossreferences>\n  </div>\n  <div id="intenzXRefs" class="columns medium-4 no-pad-left" *ngIf="intenzXRefs">\n    <app-intenz-crossreferences [crossReferences]="intenzXRefs"></app-intenz-crossreferences>\n  </div>\n  <div id="synonyms" class="columns medium-4 no-pad-left" *ngIf="synonyms">\n    <app-synonyms [synonyms]="synonyms"></app-synonyms>\n  </div>\n  <div id="systematicName" class="columns medium-4 no-pad-left" *ngIf="systematicName">\n    <app-systematic-name [systematicName]="systematicName"></app-systematic-name>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row" *ngIf="isDataLoaded">\n  <div class="columns medium-12 margin-top-medium">\n    <h5>Additional Reading</h5>\n    <table class="hover">\n      <thead>\n      <th>Identifier</th>\n      <th>Title</th>\n      <th>Author(s)</th>\n      </thead>\n      <tbody>\n      <tr *ngFor="let publication of publications">\n        <td><a href="{{publication.url}}" target="_blank">{{publication.id}} <i class="icon icon-generic small" data-icon="x"></i></a></td>\n        <td>{{publication.title}}</td>\n        <td>{{publication.authors}}</td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12">\n    <p>{{functionDescription}}</p>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12">\n    <h5>GO Cross References</h5>\n    <table class="hover">\n      <thead>\n      <th>Type</th>\n      <th>Identifier</th>\n      <th>Description</th>\n      </thead>\n      <tbody>\n      <tr *ngFor="let crossReference of crossReferences">\n        <td>{{crossReference.qualifier}}</td>\n        <td>\n          <a href="http://www.ebi.ac.uk/QuickGO-Beta/term/{{crossReference.identifier}}" target="_blank">{{crossReference.identifier}}\n            <i class="icon icon-generic small" data-icon="x"></i></a>\n        </td>\n        <td>{{crossReference.description}}</td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12">\n    <h5>IntEnz Cross References</h5>\n    <table class="hover">\n      <thead>\n      <th>Identifier</th>\n      </thead>\n      <tbody>\n      <tr *ngFor="let crossReference of crossReferences">\n        <td>\n          <a href="{{crossReference.searchURL}}" target="_blank">{{crossReference.identifier}} <i\n            class="icon icon-generic small" data-icon="x"></i></a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'},function(t,e){t.exports="<p>\n  ligands works!\n</p>\n"},function(t,e){t.exports='<div class="row" *ngIf="isDataLoaded">\n  <div class="cloumns medium-12">\n    <h5>Pathways</h5>\n    <table class="hover">\n      <thead>\n      <th>Complex Identifier</th>\n      <th>Complex Name</th>\n      <th>Pathway Identifier</th>\n      </thead>\n      <tbody>\n      <tr *ngFor="let reactomeComplex of getSortedKeys(reactomeComplexes)">\n        <td><a (click)="selectComplexWithFirstPathway(reactomeComplex)">{{reactomeComplex}}</a></td>\n        <td>{{reactomeComplexes[reactomeComplex].name}}</td>\n        <td>\n          <ul>\n            <li *ngFor="let reactomePathway of reactomeComplexes[reactomeComplex].pathways">\n              <a (click)="selectComplexByPathway(reactomeComplex, reactomePathway)">{{reactomePathway}}</a>\n            </li>\n          </ul>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n    <div class="columns medium-12 callout" *ngIf="!selectedComplex && !selectedPathway">\n      <h5>Please select a complex or pathway identifier from the Reactome rross references table, to be able to see the\n        diagram!</h5>\n    </div>\n    <div class="columns medium-12" *ngIf="selectedComplex && selectedPathway">\n      <app-reactome-diagram [reactomeComplexe]="reactomeComplexes" [reactomePathways]="reactomePathways"\n                            [selectedComplex]="selectedComplex"\n                            [selectedPathway]="selectedPathway"></app-reactome-diagram>\n    </div>\n  </div>\n</div>\n\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12">\n    <div class="columns medium-7">\n      <div id="diagramHolder"></div>\n    </div>\n    <div class="columns medium-5">\n      <div class="columns medium-12">\n        <h5>Selected Complex:</h5>\n        <p>\n          <b>Stable Identifier: </b><a\n          href="http://www.reactome.org/content/detail/{{reactomeComplexe[selectedComplex].id}}" target="_blank">{{reactomeComplexe[selectedComplex].id}}\n          <i class="icon icon-generic small" data-icon="x"></i></a><br>\n          <b>Name: </b>{{reactomeComplexe[selectedComplex].name}}\n        </p>\n      </div>\n      <div class="columns medium-12">\n        <h5>Selected Pathway:</h5>\n        <p>\n          <b>Stable Identifier: </b><a\n          href="http://www.reactome.org/content/detail/{{reactomePathways[selectedPathway].id}}" target="_blank">{{reactomePathways[selectedPathway].id}}\n          <i class="icon icon-generic small" data-icon="x"></i></a><br>\n          <b>Name: </b>{{reactomePathways[selectedPathway].name}}\n        </p>\n      </div>\n      <div class="columns medium-12">\n        <a href="{{getReactomeURL()}}" target="_blank">Open in Reactome <i class="icon icon-generic small"\n                                                                           data-icon="x"></i></a>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12">\n    <h5>Synonyms</h5>\n    <ul>\n      <li *ngFor="let synonym of synonyms">\n        {{synonym}}\n      </li>\n    </ul>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12">\n    <h5>Systematic Name</h5>\n    <ul class="no-bullet">\n      <li>\n        {{systematicName}}\n      </li>\n    </ul>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12" style="background-color: #91bdbe">\n    <div class="columns medium-9 no-pad-left">\n      <h3>{{complexName}}</h3>\n      <h5>{{complexSpecies}}</h5>\n    </div>\n    <div class="columns medium-3">\n\n    </div>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row" *ngIf="participants">\n  <div class="columns medium-12 no-pad-right">\n    <h4>Participants ({{participants.length}})</h4>\n\n    <table class="hover" style="max-height: 370px; overflow-y: scroll; display: block;">\n      <thead>\n      <th>Legend</th>\n      <th>Description</th>\n      <th>Stoichiometry</th>\n      </thead>\n      <tbody>\n      <tr *ngFor="let participant of participants">\n        <td>\n          <app-participant-legend [interactorType]="participant.interactorType"></app-participant-legend>\n        </td>\n        <td>\n          <app-participant-description [participant]="participant"></app-participant-description>\n        </td>\n        <td>\n          <app-participant-stochiometry [stochiometry]="participant.stochiometry"></app-participant-stochiometry>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="columns medium-12 no-pad-right no-pad-left"><b>{{participant.interactorType}} - {{participant.name}} ({{participant.bioRole}})</b></div>\n<div class="columns medium-12 no-pad-right no-pad-left"><a href="{{participant.identifierLink}}" target="_blank">{{participant.identifier}} <i class="icon icon-generic small" data-icon="x"></i></a></div>\n<div class="columns medium-12 no-pad-right no-pad-left">{{participant.description}}</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12" style="text-align: center; vertical-align: middle;">\n    <img style="max-width: 50%; min-width: 30px" src="{{legendElementURL}}">\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12" style="text-align: center; vertical-align: middle;">\n    <p class="badge" *ngIf="customizedStochiometry">{{customizedStochiometry}}</p>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <h4>Properties</h4>\n  <div id="description" class="columns medium-12" *ngIf="propertiesDescription">\n    <app-properties-description [propertiesDescription]="propertiesDescription"></app-properties-description>\n  </div>\n  <div id="pdbXRefs" class="columns medium-12" *ngIf="pdbXRefs">\n    <app-pdb-crossreferences [crossReferences]="pdbXRefs"></app-pdb-crossreferences>\n  </div>\n</div>\n\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12">\n    <div id="litemol" style="width: 100%; height: 427px; margin-top: 10px; position: relative"></div>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row" *ngIf="isDataLoaded">\n  <div class="cloumns medium-12 no-pad-left">\n    <h5>3D Structure</h5>\n    <div class="columns medium-8 no-pad-left">\n      <app-litmol-viewer *ngIf="selectedXRef" [selectedXRef]="selectedXRef"></app-litmol-viewer>\n    </div>\n    <div class="columns medium-4">\n      <table class="hover">\n        <thead>\n        <th>Identifier</th>\n        </thead>\n        <tbody style="height: 400px; overflow-y: scroll; display: block;">\n        <tr *ngFor="let crossReference of crossReferences">\n          <td>\n            <a (click)="selectXRef(crossReference.identifier)">{{crossReference.identifier}}</a>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12 no-pad-left">\n    <p>{{propertiesDescription}}</p>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row padding-top-small">\n  <div class="columns medium-12 no-pad-left">\n    <div class="columns small-3 medium-3 no-pad-left">\n      <a class="button expanded" (click)="onExpandAll()">Expand All</a>\n    </div>\n    <div class="columns small-3 medium-3 no-pad-left">\n      <a class="button expanded" (click)="downloadAsSVG()">Export SVG</a>\n    </div>\n    <div class="columns small-3 medium-3 no-pad-left">\n      <a class="button expanded" (click)="onReset()">Reset</a>\n    </div>\n    <div class="columns small-3 medium-3 no-pad-left no-pad-right">\n      <a class="button expanded">Enlarge</a>\n    </div>\n    <select (change)="onChangeAnnotation($event.target.value)">\n      <option value="MI features" selected=\'selected\'>MI features</option>\n      <option value="UniprotKB">UniprotKB</option>\n      <option value="SuperFamily">SuperFamily</option>\n      <option value="Interactor">Interactor</option>\n      <option value="None">None</option>\n    </select>\n  </div>\n  <div class="columns medium-12 no-pad-left">\n    <div *ngIf="complexMIJSON">\n      <div id="networkContainer"></div>\n    </div>\n  </div>\n</div>\n\n'},function(t,e){t.exports='<div class="filters row">\n  <div class="columns medium-6"><h3>Filters</h3></div>\n  <div class="columns medium-6">\n    <div *ngIf="anyFiltersSelected()">\n      <a class="button" (click)="resetAllFilters()"><i class="icon icon-functional" data-icon="d"></i> Reset filters</a>\n    </div>\n  </div>\n  <div class="columns medium-12">\n    <div *ngIf="facets.species_f">\n      <b>Species</b>\n      <ul class="no-bullet">\n        <li *ngFor="let facet of facets.species_f">\n          <div [ngSwitch]="isSelected(facet.name, spicesFilter)">\n            <div *ngSwitchCase="true">\n              <input type="checkbox" #filter value="{{facet.name}}"\n                     (change)="changeSpeciesFilter(filter.value, filter.checked)" checked> {{facet.name}}\n              ({{facet.count}})\n            </div>\n            <div *ngSwitchDefault>\n              <input type="checkbox" #filter value="{{facet.name}}"\n                     (change)="changeSpeciesFilter(filter.value, filter.checked)"> {{facet.name}} ({{facet.count}})\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n\n    <div *ngIf="facets.pbiorole_f">\n      <b>Biological Role</b>\n      <ul class="no-bullet">\n        <li *ngFor="let facet of facets.pbiorole_f">\n          <div [ngSwitch]="isSelected(facet.name, bioRoleFilter)">\n            <div *ngSwitchCase="true">\n              <input type="checkbox" #filter value="{{facet.name}}"\n                     (change)="changeBiologicalRoleFilter(filter.value, filter.checked)" checked> {{facet.name}}\n              ({{facet.count}})\n            </div>\n            <div *ngSwitchDefault>\n              <input type="checkbox" #filter value="{{facet.name}}"\n                     (change)="changeBiologicalRoleFilter(filter.value, filter.checked)"> {{facet.name}}\n              ({{facet.count}})\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n\n\n    <div *ngIf="facets.ptype_f">\n      <b>Interactor Type</b>\n      <ul class="no-bullet">\n        <li *ngFor="let facet of facets.ptype_f">\n          <div [ngSwitch]="isSelected(facet.name, interactorTypeFilter)">\n            <div *ngSwitchCase="true">\n              <input type="checkbox" #filter value="{{facet.name}}"\n                     (change)="changeInteractorTyoeFilter(filter.value, filter.checked)" checked> {{facet.name}}\n              ({{facet.count}})\n            </div>\n            <div *ngSwitchDefault>\n              <input type="checkbox" #filter value="{{facet.name}}"\n                     (change)="changeInteractorTyoeFilter(filter.value, filter.checked)"> {{facet.name}}\n              ({{facet.count}})\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div *ngIf="!facets.species_f && !facets.pbiorole_f && !facets.ptype_f">\n      <h6>No filters available</h6>\n    </div>\n  </div>\n</div>\n';
},function(t,e){t.exports='<ul class="no-bullet">\n  <li *ngFor="let complex of complexSearch.elements">\n    <h3><a [routerLink]="[\'/complex\', complex.complexAC]">{{complex.complexName}}</a></h3>\n    <div class="description" style="background-color: white">\n      <p><b>Complex AC:</b> {{complex.complexAC}} / <b>Organism:</b> ({{complex.organismName}})<br>\n        <b>Description:</b>\n        {{complex.description.substr(0,250)}}<a [routerLink]="[\'/complex\', complex.complexAC]">...</a></p>\n    </div>\n  </li>\n</ul>\n'},function(t,e){t.exports='<div>\n  <h5 class="text-center">{{currentPageIndex}} of {{lastPageIndex}}</h5>\n  <ul class="pagination text-center" role="navigation" aria-label="Pagination">\n    <li class="arrow unavailable" *ngIf="currentPageIndex != 1" aria-disabled="true"><a (click)="getPreviousPage()">&laquo; Previous</a></li>\n    <ng-container *ngFor="let index of pagination">\n      <li *ngIf="index[1] == \'true\'" class="current"><span class="show-for-sr">You\'re on page</span>{{index[0]}}</li>\n      <li *ngIf="index[1] == \'false\'"><a (click)="getPage(index[0])">{{index[0]}}</a></li>\n    </ng-container>\n    <li class="arrow" *ngIf="currentPageIndex != lastPageIndex"><a (click)="getNextPage()">Next &raquo;</a></li>\n  </ul>\n</div>\n'},function(t,e){t.exports='<div class="row" *ngIf="complexSearch && (complexSearch.totalNumberOfResults !== 0)">\n  <h3>Total number of results: {{complexSearch.totalNumberOfResults}} </h3>\n  <div class="columns medium-4">\n    <app-complex-filter *ngIf="spicesFilter && bioRoleFilter && interactorTypeFilter" [spicesFilter]="spicesFilter"\n                        [bioRoleFilter]="bioRoleFilter"\n                        [interactorTypeFilter]="interactorTypeFilter" [facets]="complexSearch.facets"\n                        (onResetAllFilters)="onResetAllFilters($event)"\n                        (onSpicesFilterChanged)="onSpicesFilterChanged($event)"\n                        (onBiologicalRoleFilterChanged)="onBiologicalRoleFilterChanged($event)"\n                        (onInteractorTyoeFilterChanged)="onInteractorTyoeFilterChanged($event)">\n      Loading ...\n    </app-complex-filter>\n  </div>\n  <div class="columns medium-8">\n    <app-complex-paginator [currentPageIndex]="currentPageIndex" [lastPageIndex]="lastPageIndex"\n                           (onPageChange)="onPageChange($event)"></app-complex-paginator>\n    <app-complex-list [complexSearch]="complexSearch">Loading ...</app-complex-list>\n    <app-complex-paginator [currentPageIndex]="currentPageIndex"\n                           [lastPageIndex]="lastPageIndex"></app-complex-paginator>\n  </div>\n</div>\n<div class="row" *ngIf="complexSearch && complexSearch.totalNumberOfResults === 0">\n  <div class="columns medium-12 callout alert">\n    <h3>We couldn\'t find anything matching you search query: <b>{{query}}</b></h3>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12">\n    <h2>Downloads</h2>\n    <h3>Complex Portal is released monthly and all data is in PSI-MI 2.5 format. See the PSI website for a detailed\n      format\n      description.</h3>\n    <ul>\n      <li class="icon-bullet"><span class="icon icon-generic" data-icon="*"></span> All Complex Portal data and software\n        is freely available to all users, academic or commercial, under the terms of the Apache License, Version 2.0\n      </li>\n    </ul>\n    <div class="callout columns medium-4">\n      <dl>\n        <h4>Latest PSI-MI 2.5 format</h4>\n        <dd><p>Available <a href="ftp://ftp.ebi.ac.uk/pub/databases/intact/complex/current/psi25/" target="_blank"\n                            class="readmore">here</a></p></dd>\n      </dl>\n    </div> <!-- /callout -->\n    <div class="callout columns medium-4">\n      <dl>\n        <h4>Latest PSI-MI 3.0 format</h4>\n        <dd><p>Available <a href="ftp://ftp.ebi.ac.uk/pub/databases/intact/complex/current/psi25/" target="_blank"\n                            class="readmore">here</a></p></dd>\n      </dl>\n    </div> <!-- /callout -->\n    <div class="callout columns medium-4">\n      <dl>\n        <h4>Latest ComplexTAB format</h4>\n        <dd><p>Available <a href="ftp://ftp.ebi.ac.uk/pub/databases/intact/complex/current/complextab/" target="_blank"\n                            class="readmore">here</a></p></dd>\n      </dl>\n    </div> <!-- /callout -->\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="row">\n  <table>\n    <tbody>\n    <tr>\n      <td><img src="assets/images/contributors/imex_acg_s.png"></td>\n      <td><img src="assets/images/contributors/Ceitec.png"></td>\n      <td><img src="assets/images/contributors/matrixdb.png"></td>\n      <td><img src="assets/images/contributors/Mint.png"></td>\n      <td><img src="assets/images/contributors/SGD.png"></td>\n      <td><img src="assets/images/contributors/uniprot.png"></td>\n    </tr>\n    </tbody>\n  </table>\n</div>\n'},function(t,e){t.exports='<section>\n  <!-- Your menu structure should make a breadcrumb redundant, but if a breadcrumb is needed uncomment the below -->\n  <!--<nav aria-label="You are here:" role="navigation">-->\n    <!--<ul class="breadcrumbs">-->\n      <!--<li>-->\n        <!--<span class="show-for-sr">Current: </span> Complex Portal-->\n      <!--</li>-->\n    <!--</ul>-->\n  <!--</nav>-->\n  <div id="main-content-area">\n    <div class="row">\n      <div class="columns medium-9">\n        <div class="columns medium-12 no-pad-left">\n          <h5>\n            The Complex Portal is a manually curated, encyclopaedic resource of macromolecular complexes from a number\n            of\n            key model organisms. All data is freely available for search and download. To perform a search for\n            macromolecular complexes use the search box below.\n          </h5>\n        </div>\n        <div class="columns medium-12">\n          <app-search></app-search>\n          <app-examples-large></app-examples-large>\n        </div>\n        <div class="columns medium-12 no-pad-left">\n          <app-tile-menu></app-tile-menu>\n        </div>\n        <div class="columns medium-12 no-pad-left">\n          <app-contributors-display></app-contributors-display>\n        </div>\n      </div>\n      <div class="columns medium-3">\n        <div class="columns medium-12">\n          <app-newsletter-subscription></app-newsletter-subscription>\n        </div>\n        <div class="columns medium-12">\n          <app-twitter-display></app-twitter-display>\n        </div>\n      </div>\n    </div>\n    <!--<div class="row">-->\n      <!--<div class="columns medium-12">-->\n      <!--</div>-->\n    <!--</div>-->\n  </div>\n</section>\n'},function(t,e){t.exports='<div id="mc_embed_signup">\n  <form ngNoForm action="//ebi.us9.list-manage.com/subscribe/post?u=d50725c1556266fd605025eaf&id=91a036cbb0" method="post"\n        id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>\n    <div id="mc_embed_signup_scroll">\n      <h3><i class="icon icon-generic" data-icon="m"></i>Newsletter</h3>\n      <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>\n      <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->\n      <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text"\n                                                                                name="b_d50725c1556266fd605025eaf_91a036cbb0"\n                                                                                tabindex="-1" value=""></div>\n      <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"\n                                class="button"></div>\n    </div>\n  </form>\n</div>\n'},function(t,e){t.exports='<div class="row no-pad-left small-up-1 medium-up-2 large-up-4 margin-top-xlarge" data-equalizer>\n  <div class="column">\n    <a class="column white-color text-center tile ebi-background" [routerLink]="[\'/download\']" data-equalizer-watch>\n      <h3 class="icon icon-functional" data-icon="="></h3>\n      <h4>Download</h4>\n    </a>\n  </div>\n  <div class="column">\n    <a class="column white-color text-center tile ebi-background" (click)="featureNotAvailableYet()" data-equalizer-watch>\n      <h3 class="icon icon-species" data-icon="H"></h3>\n      <h4>Organisms</h4>\n    </a>\n  </div>\n  <div class="column">\n    <a class="column white-color text-center tile ebi-background" (click)="featureNotAvailableYet()" data-equalizer-watch>\n      <h3 class="icon icon-functional" data-icon="h"></h3>\n      <h4>Ontology</h4>\n    </a>\n  </div>\n  <div class="column">\n    <a class="column white-color text-center tile ebi-background" (click)="featureNotAvailableYet()" data-equalizer-watch>\n      <h3 class="icon icon-functional" data-icon="*"></h3>\n      <h4>Pathways</h4>\n    </a>\n  </div>\n  <div class="column">\n    <a class="column white-color text-center tile menu-gold" href="//www.ebi.ac.uk/support/intact" target="_blank" data-equalizer-watch>\n      <h3 class="icon icon-generic" data-icon="\\"></h3>\n      <h4>Request Complex</h4>\n    </a>\n  </div>\n  <div class="column">\n    <a class="column white-color text-center tile menu-blue" href="http://www.ebi.ac.uk/intact/resources/training" data-equalizer-watch>\n      <h3 class="icon icon-generic" data-icon="A"></h3>\n      <h4>Training</h4>\n    </a>\n  </div>\n  <div class="column">\n    <a class="column white-color text-center tile menu-blue" href="http://www.ebi.ac.uk/intact/complex/documentation/" data-equalizer-watch>\n      <h3 class="icon icon-generic" data-icon="?"></h3>\n      <h4>Documentation</h4>\n    </a>\n  </div>\n  <div class="column">\n    <a class="column white-color text-center tile menu-blue" data-open="citeModal" data-equalizer-watch>\n      <h3 class="icon icon-generic" data-icon="P"></h3>\n      <h4>Citation</h4>\n    </a>\n    <div class="reveal" id="citeModal" data-reveal>\n      <h2>Citing Complex Portal</h2>\n      <p class="lead">The complex portal - an encyclopaedia of macromolecular complexes.</p>\n      <p>Meldal BH et al [PMID: 25313161]</p>\n      <p>Nucl. Acids Res. (2014) doi: 10.1093/nar/gku975</p>\n      <a class="button" href="//europepmc.org/abstract/MED/25313161" target="_blank">Abstract</a>\n      <a class="button" href="//nar.oxfordjournals.org/content/early/2014/10/13/nar.gku975.long" target="_blank">Full Text</a>\n      <button class="close-button" data-close aria-label="Close modal" type="button">\n        <span aria-hidden="true">&times;</span>\n      </button>\n    </div>\n  </div>\n</div>\n'},function(t,e){t.exports='<h3><i class="icon icon-generic" data-icon="N"></i>News</h3>\n<a class="twitter-timeline" data-lang="en" data-height="400" data-theme="light" data-tweet-limit="3"\n   data-chrome="nofooter noheader noborders" data-link-color="#007c82" href="https://twitter.com/intact_project">Tweets\n  by IntAct</a>\n'},function(t,e){t.exports='<div class="row no-pad-left">\n  <div class="columns callout medium-12 margin-bottom-none">\n    <h5><i class="icon icon-generic padding-right-medium" data-icon="?"></i>Examples:</h5>\n    <div class="columns medium-6">\n      <ul>\n        <li>GO term(s): <a [routerLink]="[\'/search\']" [queryParams]="{query: \'GO:0016491\'}" >GO:0016491</a></li>\n        <li>Gene name(s): <a [routerLink]="[\'/search\']" [queryParams]="{query: \'Ndc80\'}">Ndc80</a></li>\n        <li>UniProt AC(s): <a [routerLink]="[\'/search\']" [queryParams]="{query: \'Q05471\'}">Q05471</a></li>\n      </ul>\n    </div>\n    <div class="columns medium-6 no-pad-left">\n      <ul>\n        <li>Protein name(s): <a [routerLink]="[\'/search\']" [queryParams]="{query: \'PCNA\'}">PCNA</a></li>\n        <li>Complex AC: <a [routerLink]="[\'/search\']" [queryParams]="{query: \'EBI-9008420\'}">EBI-9008420</a></li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n'},function(t,e){t.exports='<div class="row">\n  <div class="columns medium-12 no-pad-left">\n    <!-- local-search -->\n    <!-- if you do not have a local-search, delete the following form -->\n    <form id="local-search" name="local-search" action="[search-action]" method="post">\n      <h4>Search in Complex Portal</h4>\n      <fieldset>\n        <div class="input-group">\n          <input type="text" name="first" rows="2" #query id="local-searchbox"\n                 placeholder="GO term(s), Gene name(s), UniProt AC(s), Protein name(s), Protein name(s), Complex AC">\n          <div class="input-group-button">\n            <input type="button" name="submit" value="1" (click)="search(query.value)"\n                   class="button icon icon-functional">\n          </div>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</div>\n'},function(t,e,n){"use strict";function r(t){var e=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+t).replace(e,function(t){return n[t]});return"$"+r}function i(t){var e=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===t[0]&&"$"===t[1]?t.substring(2):t.substring(1);return(""+r).replace(e,function(t){return n[t]})}var o={escape:r,unescape:i};t.exports=o},function(t,e,n){"use strict";var r=n(136),i=(n(135),function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)}),o=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},a=function(t,e,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,t,e,n),i}return new r(t,e,n)},s=function(t,e,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,t,e,n,r),o}return new i(t,e,n,r)},u=function(t){var e=this;t instanceof e?void 0:r("25"),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},c=10,l=i,h=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||l,n.poolSize||(n.poolSize=c),n.release=u,n},p={addPoolingTo:h,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s};t.exports=p},function(t,e,n){"use strict";var r=n(193),i=n(913),o=n(285),a=n(918),s=n(914),u=n(915),c=n(101),l=n(916),h=n(919),p=n(920),f=(n(84),c.createElement),d=c.createFactory,m=c.cloneElement,y=r,v={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:p},Component:o,PureComponent:a,createElement:f,cloneElement:m,isValidElement:c.isValidElement,PropTypes:l,createClass:s.createClass,createFactory:d,createMixin:function(t){return t},DOM:u,version:h,__spread:y};t.exports=v},function(t,e,n){"use strict";function r(t){return(""+t).replace(_,"$&/")}function i(t,e){this.func=t,this.context=e,this.count=0}function o(t,e,n){var r=t.func,i=t.context;r.call(i,e,t.count++)}function a(t,e,n){if(null==t)return t;var r=i.getPooled(e,n);v(t,o,r),i.release(r)}function s(t,e,n,r){this.result=t,this.keyPrefix=e,this.func=n,this.context=r,this.count=0}function u(t,e,n){var i=t.result,o=t.keyPrefix,a=t.func,s=t.context,u=a.call(s,e,t.count++);Array.isArray(u)?c(u,i,n,y.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,o+(!u.key||e&&e.key===u.key?"":r(u.key)+"/")+n)),i.push(u))}function c(t,e,n,i,o){var a="";null!=n&&(a=r(n)+"/");var c=s.getPooled(e,a,i,o);v(t,u,c),s.release(c)}function l(t,e,n){if(null==t)return t;var r=[];return c(t,r,null,e,n),r}function h(t,e,n){return null}function p(t,e){return v(t,h,null)}function f(t){var e=[];return c(t,e,null,y.thatReturnsArgument),e}var d=n(911),m=n(101),y=n(282),v=n(921),g=d.twoArgumentPooler,b=d.fourArgumentPooler,_=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(i,g),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(s,b);var x={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:p,toArray:f};t.exports=x},function(t,e,n){"use strict";function r(t){return t}function i(t,e){var n=_.hasOwnProperty(e)?_[e]:null;w.hasOwnProperty(e)&&("OVERRIDE_BASE"!==n?p("73",e):void 0),t&&("DEFINE_MANY"!==n&&"DEFINE_MANY_MERGED"!==n?p("74",e):void 0)}function o(t,e){if(e){"function"==typeof e?p("75"):void 0,m.isValidElement(e)?p("76"):void 0;var n=t.prototype,r=n.__reactAutoBindPairs;e.hasOwnProperty(g)&&x.mixins(t,e.mixins);for(var o in e)if(e.hasOwnProperty(o)&&o!==g){var a=e[o],s=n.hasOwnProperty(o);if(i(s,o),x.hasOwnProperty(o))x[o](t,a);else{var l=_.hasOwnProperty(o),h="function"==typeof a,f=h&&!l&&!s&&e.autobind!==!1;if(f)r.push(o,a),n[o]=a;else if(s){var d=_[o];!l||"DEFINE_MANY_MERGED"!==d&&"DEFINE_MANY"!==d?p("77",d,o):void 0,"DEFINE_MANY_MERGED"===d?n[o]=u(n[o],a):"DEFINE_MANY"===d&&(n[o]=c(n[o],a))}else n[o]=a}}}else;}function a(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var i=n in x;i?p("78",n):void 0;var o=n in t;o?p("79",n):void 0,t[n]=r}}}function s(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:p("80");for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?p("81",n):void 0,t[n]=e[n]);return t}function u(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return s(i,n),s(i,r),i}}function c(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function l(t,e){var n=e.bind(t);return n}function h(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t[r]=l(t,i)}}var p=n(136),f=n(193),d=n(285),m=n(101),y=(n(441),n(286)),v=n(283),g=(n(135),n(84),"mixins"),b=[],_={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},x={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)o(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=f({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=f({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=u(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=f({},t.propTypes,e)},statics:function(t,e){a(t,e)},autobind:function(){}},w={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},C=function(){};f(C.prototype,d.prototype,w);var S={createClass:function(t){var e=r(function(t,n,r){this.__reactAutoBindPairs.length&&h(this),this.props=t,this.context=n,this.refs=v,this.updater=r||y,this.state=null;var i=this.getInitialState?this.getInitialState():null;"object"!=typeof i||Array.isArray(i)?p("82",e.displayName||"ReactCompositeComponent"):void 0,this.state=i});e.prototype=new C,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],b.forEach(o.bind(null,e)),o(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:p("83");for(var n in _)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){b.push(t)}}};t.exports=S},function(t,e,n){"use strict";var r=n(101),i=r.createFactory,o={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};t.exports=o},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function i(t){this.message=t,this.stack=""}function o(t){function e(e,n,r,o,a,s,u){o=o||T,s=s||r;if(null==n[r]){var c=w[a];return e?new i(null===n[r]?"The "+c+" `"+s+"` is marked as required "+("in `"+o+"`, but its value is `null`."):"The "+c+" `"+s+"` is marked as required in "+("`"+o+"`, but its value is `undefined`.")):null}return t(n,r,o,a,s)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function a(t){function e(e,n,r,o,a,s){var u=e[n],c=g(u);if(c!==t){var l=w[o],h=b(u);return new i("Invalid "+l+" `"+a+"` of type "+("`"+h+"` supplied to `"+r+"`, expected ")+("`"+t+"`."))}return null}return o(e)}function s(){return o(S.thatReturns(null))}function u(t){function e(e,n,r,o,a){if("function"!=typeof t)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s)){var u=w[o],c=g(s);return new i("Invalid "+u+" `"+a+"` of type "+("`"+c+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<s.length;l++){var h=t(s,l,r,o,a+"["+l+"]",C);if(h instanceof Error)return h}return null}return o(e)}function c(){function t(t,e,n,r,o){var a=t[e];if(!x.isValidElement(a)){var s=w[r],u=g(a);return new i("Invalid "+s+" `"+o+"` of type "+("`"+u+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return o(t)}function l(t){function e(e,n,r,o,a){if(!(e[n]instanceof t)){var s=w[o],u=t.name||T,c=_(e[n]);return new i("Invalid "+s+" `"+a+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return o(e)}function h(t){function e(e,n,o,a,s){for(var u=e[n],c=0;c<t.length;c++)if(r(u,t[c]))return null;var l=w[a],h=JSON.stringify(t);return new i("Invalid "+l+" `"+s+"` of value `"+u+"` "+("supplied to `"+o+"`, expected one of "+h+"."))}return Array.isArray(t)?o(e):S.thatReturnsNull}function p(t){function e(e,n,r,o,a){if("function"!=typeof t)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=e[n],u=g(s);if("object"!==u){var c=w[o];return new i("Invalid "+c+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var l in s)if(s.hasOwnProperty(l)){var h=t(s,l,r,o,a+"."+l,C);if(h instanceof Error)return h}return null}return o(e)}function f(t){function e(e,n,r,o,a){for(var s=0;s<t.length;s++){var u=t[s];if(null==u(e,n,r,o,a,C))return null}var c=w[o];return new i("Invalid "+c+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(t)?o(e):S.thatReturnsNull}function d(){function t(t,e,n,r,o){if(!y(t[e])){var a=w[r];return new i("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(t)}function m(t){function e(e,n,r,o,a){var s=e[n],u=g(s);if("object"!==u){var c=w[o];return new i("Invalid "+c+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in t){var h=t[l];if(h){var p=h(s,l,r,o,a+"."+l,C);if(p)return p}}return null}return o(e)}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||x.isValidElement(t))return!0;var e=E(t);if(!e)return!1;var n,r=e.call(t);if(e!==t.entries){for(;!(n=r.next()).done;)if(!y(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!y(i[1]))return!1}return!0;default:return!1}}function v(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function g(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":v(e,t)?"symbol":e}function b(t){var e=g(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function _(t){return t.constructor&&t.constructor.name?t.constructor.name:T}var x=n(101),w=n(441),C=n(917),S=n(282),E=n(443),T=(n(84),"<<anonymous>>"),M={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:u,element:c(),instanceOf:l,node:d(),objectOf:p,oneOf:h,oneOfType:f,shape:m};i.prototype=Error.prototype,t.exports=M},function(t,e,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=r},function(t,e,n){"use strict";function r(t,e,n){this.props=t,this.context=e,this.refs=u,this.updater=n||s}function i(){}var o=n(193),a=n(285),s=n(286),u=n(283);i.prototype=a.prototype,r.prototype=new i,r.prototype.constructor=r,o(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,t.exports=r},function(t,e,n){"use strict";t.exports="15.4.2"},function(t,e,n){"use strict";function r(t){return o.isValidElement(t)?void 0:i("143"),t}var i=n(136),o=n(101);n(135);t.exports=r},function(t,e,n){"use strict";function r(t,e){return t&&"object"==typeof t&&null!=t.key?c.escape(t.key):e.toString(36)}function i(t,e,n,o){var p=typeof t;if("undefined"!==p&&"boolean"!==p||(t=null),null===t||"string"===p||"number"===p||"object"===p&&t.$$typeof===s)return n(o,t,""===e?l+r(t,0):e),1;var f,d,m=0,y=""===e?l:e+h;if(Array.isArray(t))for(var v=0;v<t.length;v++)f=t[v],d=y+r(f,v),m+=i(f,d,n,o);else{var g=u(t);if(g){var b,_=g.call(t);if(g!==t.entries)for(var x=0;!(b=_.next()).done;)f=b.value,d=y+r(f,x++),m+=i(f,d,n,o);else for(;!(b=_.next()).done;){var w=b.value;w&&(f=w[1],d=y+c.escape(w[0])+h+r(f,0),m+=i(f,d,n,o))}}else if("object"===p){var C="",S=String(t);a("31","[object Object]"===S?"object with keys {"+Object.keys(t).join(", ")+"}":S,C)}}return m}function o(t,e,n){return null==t?0:i(t,"",e,n)}var a=n(136),s=(n(439),n(440)),u=n(443),c=(n(135),n(910)),l=(n(84),"."),h=":";t.exports=o},function(t,e,n){"use strict";t.exports=n(912)},function(t,e){t.exports=function(t){this.ok=!1,this.alpha=1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,a=i.exec(t);if(a){var s=o(a);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=new Array,r=0;r<n.length;r++)for(var i=n[r].example,o=0;o<i.length;o++)t[t.length]=i[o];for(var a in e)t[t.length]=a;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(var r=0;r<t.length;r++)try{
var u=document.createElement("li"),c=new RGBColor(t[r]),l=document.createElement("div");l.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; color:"+c.toHex(),l.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[r]+" -> "+c.toRGB()+" -> "+c.toHex());u.appendChild(l),u.appendChild(h),s.appendChild(u)}catch(t){}return s}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(3),o=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);e.InnerSubscriber=o},function(t,e,n){"use strict";var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=r},function(t,e,n){"use strict";var r=n(1),i=n(1070);r.Observable.bindCallback=i.bindCallback},function(t,e,n){"use strict";var r=n(1),i=n(1071);r.Observable.bindNodeCallback=i.bindNodeCallback},function(t,e,n){"use strict";var r=n(1),i=n(1072);r.Observable.combineLatest=i.combineLatest},function(t,e,n){"use strict";var r=n(1),i=n(1073);r.Observable.concat=i.concat},function(t,e,n){"use strict";var r=n(1),i=n(1074);r.Observable.defer=i.defer},function(t,e,n){"use strict";var r=n(1),i=n(1076);r.Observable.ajax=i.ajax},function(t,e,n){"use strict";var r=n(1),i=n(1077);r.Observable.webSocket=i.webSocket},function(t,e,n){"use strict";var r=n(1),i=n(1078);r.Observable.empty=i.empty},function(t,e,n){"use strict";var r=n(1),i=n(1079);r.Observable.forkJoin=i.forkJoin},function(t,e,n){"use strict";var r=n(1),i=n(196);r.Observable.from=i.from},function(t,e,n){"use strict";var r=n(1),i=n(1080);r.Observable.fromEvent=i.fromEvent},function(t,e,n){"use strict";var r=n(1),i=n(1081);r.Observable.fromEventPattern=i.fromEventPattern},function(t,e,n){"use strict";var r=n(1),i=n(197);r.Observable.fromPromise=i.fromPromise},function(t,e,n){"use strict";var r=n(1),i=n(1060);r.Observable.generate=i.GenerateObservable.create},function(t,e,n){"use strict";var r=n(1),i=n(1082);r.Observable.if=i._if},function(t,e,n){"use strict";var r=n(1),i=n(1083);r.Observable.interval=i.interval},function(t,e,n){"use strict";var r=n(1),i=n(1084);r.Observable.merge=i.merge},function(t,e,n){"use strict";var r=n(1),i=n(1085);r.Observable.never=i.never},function(t,e,n){"use strict";var r=n(1),i=n(85);r.Observable.of=i.of},function(t,e,n){"use strict";var r=n(1),i=n(456);r.Observable.onErrorResumeNext=i.onErrorResumeNextStatic},function(t,e,n){"use strict";var r=n(1),i=n(1086);r.Observable.pairs=i.pairs},function(t,e,n){"use strict";var r=n(1),i=n(457);r.Observable.race=i.raceStatic},function(t,e,n){"use strict";var r=n(1),i=n(1087);r.Observable.range=i.range},function(t,e,n){"use strict";var r=n(1),i=n(1088);r.Observable.throw=i._throw},function(t,e,n){"use strict";var r=n(1),i=n(1089);r.Observable.timer=i.timer},function(t,e,n){"use strict";var r=n(1),i=n(1090);r.Observable.using=i.using},function(t,e,n){"use strict";var r=n(1),i=n(1091);r.Observable.zip=i.zip},function(t,e,n){"use strict";var r=n(1),i=n(1092);r.Observable.prototype.audit=i.audit},function(t,e,n){"use strict";var r=n(1),i=n(1093);r.Observable.prototype.auditTime=i.auditTime},function(t,e,n){"use strict";var r=n(1),i=n(1094);r.Observable.prototype.buffer=i.buffer},function(t,e,n){"use strict";var r=n(1),i=n(1095);r.Observable.prototype.bufferCount=i.bufferCount},function(t,e,n){"use strict";var r=n(1),i=n(1096);r.Observable.prototype.bufferTime=i.bufferTime},function(t,e,n){"use strict";var r=n(1),i=n(1097);r.Observable.prototype.bufferToggle=i.bufferToggle},function(t,e,n){"use strict";var r=n(1),i=n(1098);r.Observable.prototype.bufferWhen=i.bufferWhen},function(t,e,n){"use strict";var r=n(1),i=n(288);r.Observable.prototype.catch=i._catch,r.Observable.prototype._catch=i._catch},function(t,e,n){"use strict";var r=n(1),i=n(1099);r.Observable.prototype.combineAll=i.combineAll},function(t,e,n){"use strict";var r=n(1),i=n(289);r.Observable.prototype.combineLatest=i.combineLatest},function(t,e,n){"use strict";var r=n(1),i=n(290);r.Observable.prototype.concat=i.concat},function(t,e,n){"use strict";var r=n(1),i=n(291);r.Observable.prototype.concatAll=i.concatAll},function(t,e,n){"use strict";var r=n(1),i=n(292);r.Observable.prototype.concatMap=i.concatMap},function(t,e,n){"use strict";var r=n(1),i=n(1100);r.Observable.prototype.concatMapTo=i.concatMapTo},function(t,e,n){"use strict";var r=n(1),i=n(1101);r.Observable.prototype.count=i.count},function(t,e,n){"use strict";var r=n(1),i=n(1102);r.Observable.prototype.debounce=i.debounce},function(t,e,n){"use strict";var r=n(1),i=n(1103);r.Observable.prototype.debounceTime=i.debounceTime},function(t,e,n){"use strict";var r=n(1),i=n(1104);r.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},function(t,e,n){"use strict";var r=n(1),i=n(1105);r.Observable.prototype.delay=i.delay},function(t,e,n){"use strict";var r=n(1),i=n(1106);r.Observable.prototype.delayWhen=i.delayWhen},function(t,e,n){"use strict";var r=n(1),i=n(1107);r.Observable.prototype.dematerialize=i.dematerialize},function(t,e,n){"use strict";var r=n(1),i=n(1108);r.Observable.prototype.distinct=i.distinct},function(t,e,n){"use strict";var r=n(1),i=n(451);r.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(t,e,n){"use strict";var r=n(1),i=n(1109);r.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged},function(t,e,n){"use strict";var r=n(1),i=n(1110);r.Observable.prototype.do=i._do,r.Observable.prototype._do=i._do},function(t,e,n){"use strict";var r=n(1),i=n(1111);r.Observable.prototype.elementAt=i.elementAt},function(t,e,n){"use strict";var r=n(1),i=n(293);r.Observable.prototype.every=i.every},function(t,e,n){"use strict";var r=n(1),i=n(1112);r.Observable.prototype.exhaust=i.exhaust},function(t,e,n){"use strict";var r=n(1),i=n(1113);r.Observable.prototype.exhaustMap=i.exhaustMap},function(t,e,n){"use strict";var r=n(1),i=n(1114);r.Observable.prototype.expand=i.expand},function(t,e,n){"use strict";var r=n(1),i=n(1115);r.Observable.prototype.finally=i._finally,r.Observable.prototype._finally=i._finally},function(t,e,n){"use strict";var r=n(1),i=n(452);r.Observable.prototype.find=i.find},function(t,e,n){"use strict";var r=n(1),i=n(1116);r.Observable.prototype.findIndex=i.findIndex},function(t,e,n){"use strict";var r=n(1),i=n(295);r.Observable.prototype.first=i.first},function(t,e,n){"use strict";var r=n(1),i=n(1117);r.Observable.prototype.groupBy=i.groupBy},function(t,e,n){"use strict";var r=n(1),i=n(1118);r.Observable.prototype.ignoreElements=i.ignoreElements},function(t,e,n){"use strict";var r=n(1),i=n(1119);r.Observable.prototype.isEmpty=i.isEmpty},function(t,e,n){"use strict";var r=n(1),i=n(453);r.Observable.prototype.last=i.last},function(t,e,n){"use strict";var r=n(1),i=n(1120);r.Observable.prototype.let=i.letProto,r.Observable.prototype.letBind=i.letProto},function(t,e,n){"use strict";var r=n(1),i=n(86);r.Observable.prototype.map=i.map},function(t,e,n){"use strict";var r=n(1),i=n(1121);r.Observable.prototype.mapTo=i.mapTo},function(t,e,n){"use strict";var r=n(1),i=n(1122);r.Observable.prototype.materialize=i.materialize},function(t,e,n){"use strict";var r=n(1),i=n(1123);r.Observable.prototype.max=i.max},function(t,e,n){"use strict";var r=n(1),i=n(454);r.Observable.prototype.merge=i.merge},function(t,e,n){"use strict";var r=n(1),i=n(102);r.Observable.prototype.mergeAll=i.mergeAll},function(t,e,n){"use strict";var r=n(1),i=n(103);r.Observable.prototype.mergeMap=i.mergeMap,r.Observable.prototype.flatMap=i.mergeMap},function(t,e,n){"use strict";var r=n(1),i=n(455);r.Observable.prototype.flatMapTo=i.mergeMapTo,r.Observable.prototype.mergeMapTo=i.mergeMapTo},function(t,e,n){"use strict";var r=n(1),i=n(1124);r.Observable.prototype.mergeScan=i.mergeScan},function(t,e,n){"use strict";var r=n(1),i=n(1125);r.Observable.prototype.min=i.min},function(t,e,n){"use strict";var r=n(1),i=n(104);r.Observable.prototype.multicast=i.multicast},function(t,e,n){"use strict";var r=n(1),i=n(296);r.Observable.prototype.observeOn=i.observeOn},function(t,e,n){"use strict";var r=n(1),i=n(456);r.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext},function(t,e,n){"use strict";var r=n(1),i=n(1126);r.Observable.prototype.pairwise=i.pairwise},function(t,e,n){"use strict";var r=n(1),i=n(1127);r.Observable.prototype.partition=i.partition},function(t,e,n){"use strict";var r=n(1),i=n(1128);r.Observable.prototype.pluck=i.pluck},function(t,e,n){"use strict";var r=n(1),i=n(1129);r.Observable.prototype.publish=i.publish},function(t,e,n){"use strict";var r=n(1),i=n(1130);r.Observable.prototype.publishBehavior=i.publishBehavior},function(t,e,n){"use strict";var r=n(1),i=n(1131);r.Observable.prototype.publishLast=i.publishLast},function(t,e,n){"use strict";var r=n(1),i=n(1132);r.Observable.prototype.publishReplay=i.publishReplay},function(t,e,n){"use strict";var r=n(1),i=n(457);r.Observable.prototype.race=i.race},function(t,e,n){"use strict";var r=n(1),i=n(198);r.Observable.prototype.reduce=i.reduce},function(t,e,n){"use strict";var r=n(1),i=n(1133);r.Observable.prototype.repeat=i.repeat},function(t,e,n){"use strict";var r=n(1),i=n(1134);r.Observable.prototype.repeatWhen=i.repeatWhen},function(t,e,n){"use strict";var r=n(1),i=n(1135);r.Observable.prototype.retry=i.retry},function(t,e,n){"use strict";var r=n(1),i=n(1136);r.Observable.prototype.retryWhen=i.retryWhen},function(t,e,n){"use strict";var r=n(1),i=n(1137);r.Observable.prototype.sample=i.sample},function(t,e,n){"use strict";var r=n(1),i=n(1138);r.Observable.prototype.sampleTime=i.sampleTime},function(t,e,n){"use strict";var r=n(1),i=n(1139);r.Observable.prototype.scan=i.scan},function(t,e,n){"use strict";var r=n(1),i=n(1140);r.Observable.prototype.sequenceEqual=i.sequenceEqual},function(t,e,n){"use strict";var r=n(1),i=n(1141);r.Observable.prototype.share=i.share},function(t,e,n){"use strict";var r=n(1),i=n(1142);r.Observable.prototype.single=i.single},function(t,e,n){"use strict";var r=n(1),i=n(1143);r.Observable.prototype.skip=i.skip},function(t,e,n){"use strict";var r=n(1),i=n(1144);r.Observable.prototype.skipUntil=i.skipUntil},function(t,e,n){"use strict";var r=n(1),i=n(1145);r.Observable.prototype.skipWhile=i.skipWhile},function(t,e,n){"use strict";var r=n(1),i=n(1146);r.Observable.prototype.startWith=i.startWith},function(t,e,n){"use strict";var r=n(1),i=n(1147);r.Observable.prototype.subscribeOn=i.subscribeOn},function(t,e,n){"use strict";var r=n(1),i=n(1148);r.Observable.prototype.switch=i._switch,r.Observable.prototype._switch=i._switch},function(t,e,n){"use strict";var r=n(1),i=n(1149);r.Observable.prototype.switchMap=i.switchMap},function(t,e,n){"use strict";var r=n(1),i=n(1150);r.Observable.prototype.switchMapTo=i.switchMapTo},function(t,e,n){"use strict";var r=n(1),i=n(1151);r.Observable.prototype.take=i.take},function(t,e,n){"use strict";var r=n(1),i=n(1152);r.Observable.prototype.takeLast=i.takeLast},function(t,e,n){"use strict";var r=n(1),i=n(1153);r.Observable.prototype.takeUntil=i.takeUntil},function(t,e,n){"use strict";var r=n(1),i=n(1154);r.Observable.prototype.takeWhile=i.takeWhile},function(t,e,n){"use strict";var r=n(1),i=n(1155);r.Observable.prototype.throttle=i.throttle},function(t,e,n){"use strict";var r=n(1),i=n(1156);r.Observable.prototype.throttleTime=i.throttleTime},function(t,e,n){"use strict";var r=n(1),i=n(458);r.Observable.prototype.timeInterval=i.timeInterval},function(t,e,n){"use strict";var r=n(1),i=n(1157);r.Observable.prototype.timeout=i.timeout},function(t,e,n){"use strict";var r=n(1),i=n(1158);r.Observable.prototype.timeoutWith=i.timeoutWith},function(t,e,n){"use strict";var r=n(1),i=n(459);r.Observable.prototype.timestamp=i.timestamp},function(t,e,n){"use strict";var r=n(1),i=n(1159);r.Observable.prototype.toArray=i.toArray},function(t,e,n){"use strict";var r=n(1),i=n(460);r.Observable.prototype.toPromise=i.toPromise},function(t,e,n){"use strict";var r=n(1),i=n(1160);r.Observable.prototype.window=i.window},function(t,e,n){"use strict";var r=n(1),i=n(1161);r.Observable.prototype.windowCount=i.windowCount},function(t,e,n){"use strict";var r=n(1),i=n(1162);r.Observable.prototype.windowTime=i.windowTime},function(t,e,n){"use strict";var r=n(1),i=n(1163);r.Observable.prototype.windowToggle=i.windowToggle},function(t,e,n){"use strict";var r=n(1),i=n(1164);r.Observable.prototype.windowWhen=i.windowWhen},function(t,e,n){"use strict";var r=n(1),i=n(1165);r.Observable.prototype.withLatestFrom=i.withLatestFrom},function(t,e,n){"use strict";var r=n(1),i=n(297);r.Observable.prototype.zip=i.zipProto},function(t,e,n){"use strict";var r=n(1),i=n(1166);r.Observable.prototype.zipAll=i.zipAll},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(287),a=n(70),s=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){var r=t.length;return 0===r?new a.EmptyObservable:1===r?new o.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,i=t.subscriber;if(!i.closed){if(n>=r)return void i.complete();i.next(e[n]),t.index=n+1,this.schedule(t)}},e.prototype._subscribe=function(t){var n=0,r=this,i=r.arrayLike,o=r.scheduler,a=i.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:i,index:n,length:a,subscriber:t});for(var s=0;s<a&&!t.closed;s++)t.next(i[s]);t.complete()},e}(i.Observable);e.ArrayLikeObservable=s},function(t,e,n){"use strict";function r(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function i(t){var e=t.err,n=t.subject;n.error(e)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(1),s=n(25),u=n(23),c=n(194),l=function(t){function e(e,n,r,i){t.call(this),this.callbackFunc=e,this.selector=n,this.args=r,this.scheduler=i}return o(e,t),e.create=function(t,n,r){return void 0===n&&(n=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,n,i,r)}},e.prototype._subscribe=function(t){var n=this.callbackFunc,r=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(e.dispatch,0,{source:this,subscriber:t});if(!o){o=this.subject=new c.AsyncSubject;var a=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=t.source,i=r.selector,o=r.subject;if(i){var a=s.tryCatch(i).apply(this,e);a===u.errorObject?o.error(u.errorObject.e):(o.next(a),o.complete())}else o.next(1===e.length?e[0]:e),o.complete()};a.source=this;var l=s.tryCatch(n).apply(this,r.concat(a));l===u.errorObject&&o.error(u.errorObject.e)}return o.subscribe(t)},e.dispatch=function(t){var e=this,n=t.source,o=t.subscriber,a=n.callbackFunc,l=n.args,h=n.scheduler,p=n.subject;if(!p){p=n.subject=new c.AsyncSubject;var f=function t(){for(var n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];var a=t.source,c=a.selector,l=a.subject;if(c){var p=s.tryCatch(c).apply(this,n);p===u.errorObject?e.add(h.schedule(i,0,{err:u.errorObject.e,subject:l})):e.add(h.schedule(r,0,{value:p,subject:l}))}else{var f=1===n.length?n[0]:n;e.add(h.schedule(r,0,{value:f,subject:l}))}};f.source=n;var d=s.tryCatch(a).apply(this,l.concat(f));d===u.errorObject&&p.error(u.errorObject.e)}e.add(p.subscribe(o))},e}(a.Observable);e.BoundCallbackObservable=l},function(t,e,n){"use strict";function r(t){var e=this,n=t.source,r=t.subscriber,a=n,s=a.callbackFunc,h=a.args,p=a.scheduler,f=n.subject;if(!f){f=n.subject=new l.AsyncSubject;var d=function t(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];var a=t.source,s=a.selector,l=a.subject,h=n.shift();if(h)l.error(h);else if(s){var f=u.tryCatch(s).apply(this,n);f===c.errorObject?e.add(p.schedule(o,0,{err:c.errorObject.e,subject:l})):e.add(p.schedule(i,0,{value:f,subject:l}))}else{var d=1===n.length?n[0]:n;e.add(p.schedule(i,0,{value:d,subject:l}))}};d.source=n;var m=u.tryCatch(s).apply(this,h.concat(d));m===c.errorObject&&f.error(c.errorObject.e)}e.add(f.subscribe(r))}function i(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function o(t){var e=t.err,n=t.subject;n.error(e)}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(1),u=n(25),c=n(23),l=n(194),h=function(t){function e(e,n,r,i){t.call(this),this.callbackFunc=e,this.selector=n,this.args=r,this.scheduler=i}return a(e,t),e.create=function(t,n,r){return void 0===n&&(n=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,n,i,r)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,n=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(r,0,{source:this,subscriber:t});if(!o){o=this.subject=new l.AsyncSubject;var a=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=t.source,i=r.selector,o=r.subject,a=e.shift();if(a)o.error(a);else if(i){var s=u.tryCatch(i).apply(this,e);s===c.errorObject?o.error(c.errorObject.e):(o.next(s),o.complete())}else o.next(1===e.length?e[0]:e),o.complete()};a.source=this;var s=u.tryCatch(e).apply(this,n.concat(a));s===c.errorObject&&o.error(c.errorObject.e)}return o.subscribe(t)},e}(s.Observable);e.BoundNodeCallbackObservable=h},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(5),a=n(4),s=function(t){function e(e){t.call(this),this.observableFactory=e}return r(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new u(t,this.observableFactory)},e}(i.Observable);e.DeferObservable=s;var u=function(t){function e(e,n){t.call(this,e),this.factory=n,this.tryDefer()}return r(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(o.subscribeToResult(this,t))},e}(a.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=function(t){function e(e,n){t.call(this),this.error=e,this.scheduler=n}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.error,n=t.subscriber;n.error(e)},e.prototype._subscribe=function(t){var n=this.error,r=this.scheduler;return r?r.schedule(e.dispatch,0,{error:n,subscriber:t}):void t.error(n)},e}(i.Observable);e.ErrorObservable=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(70),a=n(51),s=n(5),u=n(4),c=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return r(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new o.EmptyObservable;var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&a.isArray(t[0])&&(t=t[0]),0===t.length?new o.EmptyObservable:new e(t,r)},e.prototype._subscribe=function(t){return new l(t,this.sources,this.resultSelector)},e}(i.Observable);e.ForkJoinObservable=c;var l=function(t){function e(e,n,r){t.call(this,e),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var i=n.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],u=s.subscribeToResult(this,a,null,o);u&&(u.outerIndex=o,this.add(u))}}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this,r=n.haveValues,i=n.resultSelector,o=n.values,a=o.length;if(!t._hasValue)return void e.complete();if(this.completed++,this.completed===a){if(r===a){var s=i?i.apply(this,o):o;e.next(s)}e.complete()}},e}(u.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function i(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function o(t){return!!t&&"[object NodeList]"===d.call(t)}function a(t){return!!t&&"[object HTMLCollection]"===d.call(t)}function s(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=n(1),l=n(25),h=n(203),p=n(23),f=n(20),d=Object.prototype.toString,m=function(t){function e(e,n,r,i){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=i}return u(e,t),e.create=function(t,n,r,i){return h.isFunction(r)&&(i=r,r=void 0),new e(t,n,i,r)},e.setupSubscription=function(t,n,u,c,l){var h;if(o(t)||a(t))for(var p=0,d=t.length;p<d;p++)e.setupSubscription(t[p],n,u,c,l);else if(s(t)){var m=t;t.addEventListener(n,u,l),h=function(){return m.removeEventListener(n,u)}}else if(i(t)){var y=t;t.on(n,u),h=function(){return y.off(n,u)}}else{if(!r(t))throw new TypeError("Invalid event target");var v=t;t.addListener(n,u),h=function(){return v.removeListener(n,u)}}c.add(new f.Subscription(h))},e.prototype._subscribe=function(t){var n=this.sourceObj,r=this.eventName,i=this.options,o=this.selector,a=o?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=l.tryCatch(o).apply(void 0,e);r===p.errorObject?t.error(p.errorObject.e):t.next(r)}:function(e){return t.next(e)};e.setupSubscription(n,r,a,t,i)},e}(c.Observable);e.FromEventObservable=m},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(203),o=n(1),a=n(20),s=function(t){function e(e,n,r){t.call(this),this.addHandler=e,this.removeHandler=n,this.selector=r}return r(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype._subscribe=function(t){var e=this,n=this.removeHandler,r=this.selector?function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];e._callSelector(t,n)}:function(e){t.next(e)},o=this._callAddHandler(r,t);i.isFunction(n)&&t.add(new a.Subscription(function(){n(r,o)}))},e.prototype._callSelector=function(t,e){try{var n=this.selector.apply(this,e);t.next(n)}catch(e){t.error(e)}},e.prototype._callAddHandler=function(t,e){try{return this.addHandler(t)||null}catch(t){e.error(t)}},e}(o.Observable);e.FromEventPatternObservable=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(71),a=function(t){return t},s=function(t){function e(e,n,r,i,o){t.call(this),this.initialState=e,this.condition=n,this.iterate=r,this.resultSelector=i,this.scheduler=o}return r(e,t),e.create=function(t,n,r,i,s){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||a,t.scheduler):void 0===i||o.isScheduler(i)?new e(t,n,r,a,i):new e(t,n,r,i,s)},e.prototype._subscribe=function(t){var n=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:n});for(var r=this,i=r.condition,o=r.resultSelector,a=r.iterate;;){if(i){var s=void 0;try{s=i(n)}catch(e){return void t.error(e)}if(!s){t.complete();break}}var u=void 0;try{u=o(n)}catch(e){return void t.error(e)}if(t.next(u),t.closed)break;try{n=a(n)}catch(e){return void t.error(e)}}},e.dispatch=function(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}},e}(i.Observable);e.GenerateObservable=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(5),a=n(4),s=function(t){function e(e,n,r){t.call(this),this.condition=e,this.thenSource=n,this.elseSource=r}return r(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype._subscribe=function(t){var e=this,n=e.condition,r=e.thenSource,i=e.elseSource;return new u(t,n,r,i)},e}(i.Observable);e.IfObservable=s;var u=function(t){function e(e,n,r,i){t.call(this,e),this.condition=n,this.thenSource=r,this.elseSource=i,this.tryIf()}return r(e,t),e.prototype.tryIf=function(){var t,e=this,n=e.condition,r=e.thenSource,i=e.elseSource;try{t=n();var a=t?r:i;a?this.add(o.subscribeToResult(this,a)):this._complete()}catch(t){this._error(t)}},e}(a.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(298),o=n(1),a=n(28),s=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=a.async),t.call(this),this.period=e,this.scheduler=n,(!i.isNumeric(e)||e<0)&&(this.period=0),n&&"function"==typeof n.schedule||(this.scheduler=a.async)}return r(e,t),e.create=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=a.async),new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.subscriber,r=t.period;n.next(e),n.closed||(t.index+=1,this.schedule(t,r))},e.prototype._subscribe=function(t){var n=0,r=this.period,i=this.scheduler;t.add(i.schedule(e.dispatch,r,{index:n,subscriber:t,period:r}))},e}(o.Observable);e.IntervalObservable=s},function(t,e,n){"use strict";function r(t){var e=t[l.$$iterator];if(!e&&"string"==typeof t)return new p(t);if(!e&&void 0!==t.length)return new f(t);if(!e)throw new TypeError("object is not iterable");return t[l.$$iterator]()}function i(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=a(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function o(t){return"number"==typeof t&&u.root.isFinite(t)}function a(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n(24),c=n(1),l=n(142),h=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=r(e)}return s(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,r=t.iterator,i=t.subscriber;if(n)return void i.error(t.error);var o=r.next();return o.done?void i.complete():(i.next(o.value),t.index=e+1,i.closed?void("function"==typeof r.return&&r.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var n=0,r=this,i=r.iterator,o=r.scheduler;if(o)return o.schedule(e.dispatch,0,{index:n,iterator:i,subscriber:t});for(;;){var a=i.next();if(a.done){t.complete();break}if(t.next(a.value),t.closed){"function"==typeof i.return&&i.return();break}}},e}(c.Observable);e.IteratorObservable=h;var p=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),f=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=i(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(471),a=function(t){function e(){t.call(this)}return r(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){o.noop()},e}(i.Observable);e.NeverObservable=a},function(t,e,n){"use strict";function r(t){var e=t.obj,n=t.keys,r=t.length,i=t.index,o=t.subscriber;if(i===r)return void o.complete();var a=n[i];o.next([a,e[a]]),t.index=i+1,this.schedule(t)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(1),a=function(t){function e(e,n){t.call(this),this.obj=e,this.scheduler=n,this.keys=Object.keys(e)}return i(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=e.keys,i=e.scheduler,o=n.length;if(i)return i.schedule(r,0,{obj:this.obj,keys:n,length:o,index:0,subscriber:t});for(var a=0;a<o;a++){var s=n[a];t.next([s,this.obj[s]])}t.complete()},e}(o.Observable);e.PairsObservable=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=function(t){function e(e,n,r){t.call(this),this.start=e,this._count=n,this.scheduler=r}return r(e,t),e.create=function(t,n,r){return void 0===t&&(t=0),void 0===n&&(n=0),new e(t,n,r)},e.dispatch=function(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;return n>=r?void i.complete():(i.next(e),void(i.closed||(t.index=n+1,t.start=e+1,this.schedule(t))))},e.prototype._subscribe=function(t){var n=0,r=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:n,count:i,start:r,subscriber:t});for(;;){if(n++>=i){t.complete();break}if(t.next(r++),t.closed)break}},e}(i.Observable);e.RangeObservable=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(462),a=n(298),s=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=o.asap),t.call(this),this.source=e,this.delayTime=n,this.scheduler=r,(!a.isNumeric(n)||n<0)&&(this.delayTime=0),r&&"function"==typeof r.schedule||(this.scheduler=o.asap)}return r(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.asap),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source,i=this.scheduler;return i.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(i.Observable);e.SubscribeOnObservable=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){
function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(298),o=n(1),a=n(28),s=n(71),u=n(202),c=function(t){function e(e,n,r){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,i.isNumeric(n)?this.period=Number(n)<1&&1||Number(n):s.isScheduler(n)&&(r=n),s.isScheduler(r)||(r=a.async),this.scheduler=r,this.dueTime=u.isDate(e)?+e-this.scheduler.now():e}return r(e,t),e.create=function(t,n,r){return void 0===t&&(t=0),new e(t,n,r)},e.dispatch=function(t){var e=t.index,n=t.period,r=t.subscriber,i=this;if(r.next(e),!r.closed){if(n===-1)return r.complete();t.index=e+1,i.schedule(t,n)}},e.prototype._subscribe=function(t){var n=0,r=this,i=r.period,o=r.dueTime,a=r.scheduler;return a.schedule(e.dispatch,o,{index:n,period:i,subscriber:t})},e}(o.Observable);e.TimerObservable=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(5),a=n(4),s=function(t){function e(e,n){t.call(this),this.resourceFactory=e,this.observableFactory=n}return r(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e,n=this,r=n.resourceFactory,i=n.observableFactory;try{return e=r(),new u(t,e,i)}catch(e){t.error(e)}},e}(i.Observable);e.UsingObservable=s;var u=function(t){function e(e,n,r){t.call(this,e),this.resource=n,this.observableFactory=r,e.add(n),this.tryUse()}return r(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(o.subscribeToResult(this,t))}catch(t){this._error(t)}},e}(a.OuterSubscriber)},function(t,e,n){"use strict";var r=n(1053);e.bindCallback=r.BoundCallbackObservable.create},function(t,e,n){"use strict";var r=n(1054);e.bindNodeCallback=r.BoundNodeCallbackObservable.create},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,r=null;return i.isScheduler(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0]),new a.ArrayObservable(t,r).lift(new s.CombineLatestOperator(n))}var i=n(71),o=n(51),a=n(59),s=n(289);e.combineLatest=r},function(t,e,n){"use strict";var r=n(290);e.concat=r.concatStatic},function(t,e,n){"use strict";var r=n(1055);e.defer=r.DeferObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(11),o=n(3),a=n(1),s=n(20),u=n(24),c=n(195),l=n(25),h=n(23),p=n(1184),f=function(t){function e(e,n){if(e instanceof a.Observable)t.call(this,n,e);else{if(t.call(this),this.WebSocketCtor=u.root.WebSocket,this._output=new i.Subject,"string"==typeof e?this.url=e:p.assign(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new c.ReplaySubject}}return r(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var n=new e(this,this.destination);return n.operator=t,n},e.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new c.ReplaySubject),this._output=new i.Subject},e.prototype.multiplex=function(t,e,n){var r=this;return new a.Observable(function(i){var o=l.tryCatch(t)();o===h.errorObject?i.error(h.errorObject.e):r.next(o);var a=r.subscribe(function(t){var e=l.tryCatch(n)(t);e===h.errorObject?i.error(h.errorObject.e):e&&i.next(t)},function(t){return i.error(t)},function(){return i.complete()});return function(){var t=l.tryCatch(e)();t===h.errorObject?i.error(h.errorObject.e):r.next(t),a.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,n=this._output,r=null;try{r=this.protocol?new e(this.url,this.protocol):new e(this.url),this.socket=r}catch(t){return void n.error(t)}var i=new s.Subscription(function(){t.socket=null,r&&1===r.readyState&&r.close()});r.onopen=function(e){var a=t.openObserver;a&&a.next(e);var s=t.destination;t.destination=o.Subscriber.create(function(t){return 1===r.readyState&&r.send(t)},function(e){var i=t.closingObserver;i&&i.next(void 0),e&&e.code?r.close(e.code,e.reason):n.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t._resetState()},function(){var e=t.closingObserver;e&&e.next(void 0),r.close(),t._resetState()}),s&&s instanceof c.ReplaySubject&&i.add(s.subscribe(t.destination))},r.onerror=function(e){t._resetState(),n.error(e)},r.onclose=function(e){t._resetState();var r=t.closeObserver;r&&r.next(e),e.wasClean?n.complete():n.error(e)},r.onmessage=function(e){var r=l.tryCatch(t.resultSelector)(e);r===h.errorObject?n.error(h.errorObject.e):n.next(r)}},e.prototype._subscribe=function(t){var e=this,n=this.source;if(n)return n.subscribe(t);this.socket||this._connectSocket();var r=new s.Subscription;return r.add(this._output.subscribe(t)),r.add(function(){var t=e.socket;0===e._output.observers.length&&(t&&1===t.readyState&&t.close(),e._resetState())}),r},e.prototype.unsubscribe=function(){var e=this,n=e.source,r=e.socket;r&&1===r.readyState&&(r.close(),this._resetState()),t.prototype.unsubscribe.call(this),n||(this.destination=new c.ReplaySubject)},e}(i.AnonymousSubject);e.WebSocketSubject=f},function(t,e,n){"use strict";var r=n(450);e.ajax=r.AjaxObservable.create},function(t,e,n){"use strict";var r=n(1075);e.webSocket=r.WebSocketSubject.create},function(t,e,n){"use strict";var r=n(70);e.empty=r.EmptyObservable.create},function(t,e,n){"use strict";var r=n(1057);e.forkJoin=r.ForkJoinObservable.create},function(t,e,n){"use strict";var r=n(1058);e.fromEvent=r.FromEventObservable.create},function(t,e,n){"use strict";var r=n(1059);e.fromEventPattern=r.FromEventPatternObservable.create},function(t,e,n){"use strict";var r=n(1061);e._if=r.IfObservable.create},function(t,e,n){"use strict";var r=n(1062);e.interval=r.IntervalObservable.create},function(t,e,n){"use strict";var r=n(454);e.merge=r.mergeStatic},function(t,e,n){"use strict";var r=n(1064);e.never=r.NeverObservable.create},function(t,e,n){"use strict";var r=n(1065);e.pairs=r.PairsObservable.create},function(t,e,n){"use strict";var r=n(1066);e.range=r.RangeObservable.create},function(t,e,n){"use strict";var r=n(1056);e._throw=r.ErrorObservable.create},function(t,e,n){"use strict";var r=n(1068);e.timer=r.TimerObservable.create},function(t,e,n){"use strict";var r=n(1069);e.using=r.UsingObservable.create},function(t,e,n){"use strict";var r=n(297);e.zip=r.zipStatic},function(t,e,n){"use strict";function r(t){return this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(25),a=n(23),s=n(4),u=n(5);e.audit=r;var c=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.durationSelector))},t}(),l=function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1}return i(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=o.tryCatch(this.durationSelector)(t);e===a.errorObject?this.destination.error(a.errorObject.e):this.add(this.throttled=u.subscribeToResult(this,e))}},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(s.OuterSubscriber)},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=a.async),this.lift(new u(t,e))}function i(t){t.clearThrottle()}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(28),s=n(3);e.auditTime=r;var u=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.duration=n,this.scheduler=r,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(i,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(s.Subscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.buffer=r;var s=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.closingNotifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.buffer=[],this.add(a.subscribeToResult(this,n))}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=null),this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.bufferCount=r;var a=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.bufferSize,this.startBufferEvery))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.bufferSize=n,this.startBufferEvery=r,this.buffers=[],this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.count++,n=this,r=n.destination,i=n.bufferSize,o=n.startBufferEvery,a=n.buffers,s=null==o?i:o;e%s===0&&a.push([]);for(var u=a.length;u--;){var c=a[u];c.push(t),c.length===i&&(a.splice(u,1),r.next(c))}},e.prototype._complete=function(){for(var e=this.destination,n=this.buffers;n.length>0;){var r=n.shift();r.length>0&&e.next(r)}t.prototype._complete.call(this)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){var e=arguments.length,n=u.async;l.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),this.lift(new h(t,r,i,n))}function i(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function o(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext(),s=this;r.closed||(r.add(o.closeAction=i.schedule(a,n,{subscriber:r,context:o})),s.schedule(t,e))}function a(t){var e=t.subscriber,n=t.context;e.closeContext(n)}var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n(28),c=n(3),l=n(71);e.bufferTime=r;var h=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),p=function(){function t(){this.buffer=[]}return t}(),f=function(t){function e(e,n,r,s,u){t.call(this,e),this.bufferTimeSpan=n,this.bufferCreationInterval=r,this.maxBufferSize=s,this.scheduler=u,this.contexts=[];var c=this.openContext();if(this.timespanOnly=null==r||r<0,this.timespanOnly){var l={subscriber:this,context:c,bufferTimeSpan:n};this.add(c.closeAction=u.schedule(i,n,l))}else{var h={subscriber:this,context:c},p={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:this,scheduler:u};this.add(c.closeAction=u.schedule(a,n,h)),this.add(u.schedule(o,r,p))}}return s(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(t),a.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,n=e.contexts,r=e.destination;n.length>0;){var i=n.shift();r.next(i.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(i,n,r))}},e.prototype.openContext=function(){var t=new p;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts,n=e?e.indexOf(t):-1;n>=0&&e.splice(e.indexOf(t),1)},e}(c.Subscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(20),a=n(5),s=n(4);e.bufferToggle=r;var u=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.openings,this.closingSelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(a.subscribeToResult(this,n))}return i(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector,n=e.call(this,t);n&&this.trySubscribe(n)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,r=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=[],r=new o.Subscription,i={buffer:n,subscription:r};e.push(i);var s=a.subscribeToResult(this,t,i);!s||s.closed?this.closeBuffer(i):(s.context=i,this.add(s),r.add(s))},e}(s.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new l(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(20),a=n(25),s=n(23),u=n(4),c=n(5);e.bufferWhen=r;var l=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.closingSelector))},t}(),h=function(t){function e(e,n){t.call(this,e),this.closingSelector=n,this.subscribing=!1,this.openBuffer()}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,n,r,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var n=a.tryCatch(this.closingSelector)();n===s.errorObject?this.error(s.errorObject.e):(t=new o.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(c.subscribeToResult(this,n)),this.subscribing=!1)},e}(u.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new i.CombineLatestOperator(t))}var i=n(289);e.combineAll=r},function(t,e,n){"use strict";function r(t,e){return this.lift(new i.MergeMapToOperator(t,e,1))}var i=n(455);e.concatMapTo=r},function(t,e,n){"use strict";function r(t){return this.lift(new a(t,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.count=r;var a=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.source=r,this.count=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.debounce=r;var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1,this.durationSubscription=null}return i(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=a.subscribeToResult(this,e),n.closed||this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=s.async),this.lift(new u(t,e))}function i(t){t.debouncedNext()}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(3),s=n(28);e.debounceTime=r;var u=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.dueTime,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(a.Subscriber)},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=null),this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.defaultIfEmpty=r;var a=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.defaultValue))},t}(),s=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return i(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=o.async);var n=a.isDate(t),r=n?+t-e.now():Math.abs(t);return this.lift(new c(r,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(28),a=n(202),s=n(3),u=n(138);e.delay=r;var c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,n,r){t.call(this,e),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return i(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var e=this.scheduler,n=new h(e.now()+this.delay,t);this.queue.push(n),this.active===!1&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(u.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},e}(s.Subscriber),h=function(){function t(t,e){this.time=t,this.notification=e}return t}()},function(t,e,n){"use strict";function r(t,e){return e?new h(this,e).lift(new c(t)):this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(1),s=n(4),u=n(5);e.delayWhen=r;var c=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delayDurationSelector))},t}(),l=function(t){function e(e,n){t.call(this,e),this.delayDurationSelector=n,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),n=null;return e!==-1&&(n=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),n},e.prototype.tryDelay=function(t,e){var n=u.subscribeToResult(this,t,e);this.add(n),this.delayNotifierSubscriptions.push(n),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(s.OuterSubscriber),h=function(t){function e(e,n){t.call(this),this.source=e,this.subscriptionDelay=n}return i(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new p(t,this.source))},e}(a.Observable),p=function(t){function e(e,n){t.call(this),this.parent=e,this.source=n,this.sourceSubscribed=!1}return i(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(o.Subscriber)},function(t,e,n){"use strict";function r(){return this.lift(new a)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.dematerialize=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5),s=n(1183);e.distinct=r;var u=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.keySelector,this.flushes))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=n,this.values=new s.Set,r&&this.add(a.subscribeToResult(this,r))}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(o.OuterSubscriber);e.DistinctSubscriber=c},function(t,e,n){"use strict";function r(t,e){return i.distinctUntilChanged.call(this,function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}var i=n(451);e.distinctUntilKeyChanged=r},function(t,e,n){"use strict";function r(t,e,n){return this.lift(new a(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e._do=r;var a=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,n,r,i){t.call(this,e);var a=new o.Subscriber(n,r,i);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return i(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(200);e.elementAt=r;var s=function(){function t(t,e){if(this.index=t,this.defaultValue=e,t<0)throw new a.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.index,this.defaultValue))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.index=n,this.defaultValue=r}return i(e,t),e.prototype._next=function(t){0===this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?t.next(this.defaultValue):t.error(new a.ArgumentOutOfRangeError)),t.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";function r(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.exhaust=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return i(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(a.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.exhaustMap=r;var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return i(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,n=this.destination;try{var r=this.project(t,e);this.hasSubscription=!0,this.add(a.subscribeToResult(this,r,t,e))}catch(t){n.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,a=o.resultSelector,s=o.destination;a?this.trySelectResult(t,e,n,r):s.next(e)},e.prototype.trySelectResult=function(t,e,n,r){var i=this,o=i.resultSelector,a=i.destination;try{var s=o(t,e,n,r);a.next(s)}catch(t){a.error(t)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,this.lift(new c(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(25),a=n(23),s=n(4),u=n(5);e.expand=r;var c=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent,this.scheduler));
},t}();e.ExpandOperator=c;var l=function(t){function e(e,n,r,i){t.call(this,e),this.project=n,this.concurrent=r,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(this.buffer=[])}return i(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,i=t.index;e.subscribeToProjection(n,r,i)},e.prototype._next=function(t){var n=this.destination;if(n.closed)return void this._complete();var r=this.index++;if(this.active<this.concurrent){n.next(t);var i=o.tryCatch(this.project)(t,r);if(i===a.errorObject)n.error(a.errorObject.e);else if(this.scheduler){var s={subscriber:this,result:i,value:t,index:r};this.add(this.scheduler.schedule(e.dispatch,0,s))}else this.subscribeToProjection(i,t,r)}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.add(u.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(s.OuterSubscriber);e.ExpandSubscriber=l},function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(20);e._finally=r;var s=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.callback))},t}(),u=function(t){function e(e,n){t.call(this,e),this.add(new a.Subscription(n))}return i(e,t),e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new i.FindValueOperator(t,this,!0,e))}var i=n(452);e.findIndex=r},function(t,e,n){"use strict";function r(t,e,n,r){return this.lift(new h(t,e,n,r))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(20),s=n(1),u=n(11),c=n(1181),l=n(1179);e.groupBy=r;var h=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),p=function(t){function e(e,n,r,i,o){t.call(this,e),this.keySelector=n,this.elementSelector=r,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return i(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups="string"==typeof e?new l.FastMap:new c.Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new u.Subject,n.set(e,i);var o=new d(e,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new d(e,i))}catch(t){return void this.error(t)}this.add(a.subscribe(new f(e,i,this)))}}i.closed||i.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(o.Subscriber),f=function(t){function e(e,n,r){t.call(this),this.key=e,this.group=n,this.parent=r}return i(e,t),e.prototype._next=function(t){this._complete()},e.prototype._error=function(t){var e=this.group;e.closed||e.error(t),this.parent.removeGroup(this.key)},e.prototype._complete=function(){var t=this.group;t.closed||t.complete(),this.parent.removeGroup(this.key)},e}(o.Subscriber),d=function(t){function e(e,n,r){t.call(this),this.key=e,this.groupSubject=n,this.refCountSubscription=r}return i(e,t),e.prototype._subscribe=function(t){var e=new a.Subscription,n=this,r=n.refCountSubscription,i=n.groupSubject;return r&&!r.closed&&e.add(new m(r)),e.add(i.subscribe(t)),e},e}(s.Observable);e.GroupedObservable=d;var m=function(t){function e(e){t.call(this),this.parent=e,e.count++}return i(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(a.Subscription)},function(t,e,n){"use strict";function r(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(471);e.ignoreElements=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype._next=function(t){a.noop()},e}(o.Subscriber)},function(t,e,n){"use strict";function r(){return this.lift(new a)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.isEmpty=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){return t(this)}e.letProto=r},function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.mapTo=r;var a=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.value))},t}(),s=function(t){function e(e,n){t.call(this,e),this.value=n}return i(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(138);e.materialize=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype._next=function(t){this.destination.next(a.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(a.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(a.Notification.createComplete()),t.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){var e="function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e};return this.lift(new i.ReduceOperator(e))}var i=n(198);e.max=r},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),this.lift(new c(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(25),a=n(23),s=n(5),u=n(4);e.mergeScan=r;var c=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.accumulator,this.seed,this.concurrent))},t}();e.MergeScanOperator=c;var l=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this.acc=r,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=o.tryCatch(this.accumulator)(this.acc,t),r=this.destination;n===a.errorObject?r.error(a.errorObject.e):(this.active++,this._innerSub(n,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){this.add(s.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(u.OuterSubscriber);e.MergeScanSubscriber=l},function(t,e,n){"use strict";function r(t){var e="function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e};return this.lift(new i.ReduceOperator(e))}var i=n(198);e.min=r},function(t,e,n){"use strict";function r(){return this.lift(new a)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.pairwise=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return i(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){return[o.filter.call(this,t,e),o.filter.call(this,i.not(t,e))]}var i=n(1185),o=n(294);e.partition=r},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return o.map.call(this,i(t,n))}function i(t,e){var n=function(n){for(var r=n,i=0;i<e;i++){var o=r[t[i]];if("undefined"==typeof o)return;r=o}return r};return n}var o=n(86);e.pluck=r},function(t,e,n){"use strict";function r(t){return t?o.multicast.call(this,function(){return new i.Subject},t):o.multicast.call(this,new i.Subject)}var i=n(11),o=n(104);e.publish=r},function(t,e,n){"use strict";function r(t){return o.multicast.call(this,new i.BehaviorSubject(t))}var i=n(137),o=n(104);e.publishBehavior=r},function(t,e,n){"use strict";function r(){return o.multicast.call(this,new i.AsyncSubject)}var i=n(194),o=n(104);e.publishLast=r},function(t,e,n){"use strict";function r(t,e,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),o.multicast.call(this,new i.ReplaySubject(t,e,n))}var i=n(195),o=n(104);e.publishReplay=r},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=-1),0===t?new a.EmptyObservable:t<0?this.lift(new s(-1,this)):this.lift(new s(t-1,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(70);e.repeat=r;var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.count,this.source))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.count=n,this.source=r}return i(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,n=e.source,r=e.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,n.subscribe(this)}},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new l(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(11),a=n(25),s=n(23),u=n(4),c=n(5);e.repeatWhen=r;var l=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.notifier,e))},t}(),h=function(t){function e(e,n,r){t.call(this,e),this.notifier=n,this.source=r,this.sourceIsBeingSubscribedTo=!0}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.source.subscribe(this),this.sourceIsBeingSubscribedTo=!0},e.prototype.notifyComplete=function(e){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return t.prototype.complete.call(this)}else this.subscribeToRetries();this.temporarilyUnsubscribe(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this,e=t.notifications,n=t.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.subscribeToRetries=function(){this.notifications=new o.Subject;var e=a.tryCatch(this.notifier)(this.notifications);return e===s.errorObject?t.prototype.complete.call(this):(this.retries=e,void(this.retriesSubscription=c.subscribeToResult(this,e)))},e.prototype.temporarilyUnsubscribe=function(){var t=this,e=t.notifications,n=t.retries,r=t.retriesSubscription;this.notifications=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.notifications=e,this.retries=n,this.retriesSubscription=r},e}(u.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=-1),this.lift(new a(t,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.retry=r;var a=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.count,this.source))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.count=n,this.source=r}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this,r=n.source,i=n.count;if(0===i)return t.prototype.error.call(this,e);i>-1&&(this.count=i-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,r.subscribe(this)}},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new l(t,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(11),a=n(25),s=n(23),u=n(4),c=n(5);e.retryWhen=r;var l=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.notifier,this.source))},t}(),h=function(t){function e(e,n,r){t.call(this,e),this.notifier=n,this.source=r}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{if(n=new o.Subject,r=a.tryCatch(this.notifier)(n),r===s.errorObject)return t.prototype.error.call(this,s.errorObject.e);i=c.subscribeToResult(this,r)}this.unsubscribe(),this.closed=!1,this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,n=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,a=o.errors,s=o.retries,u=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.errors=a,this.retries=s,this.retriesSubscription=u,this.source.subscribe(this)},e}(u.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.sample=r;var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new u(t),r=e.subscribe(n);return r.add(a.subscribeToResult(n,this.notifier)),r},t}(),u=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return i(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=s.async),this.lift(new u(t,e))}function i(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(3),s=n(28);e.sampleTime=r;var u=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.period,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.period=n,this.scheduler=r,this.hasValue=!1,this.add(r.schedule(i,n,{subscriber:this,period:n}))}return o(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(a.Subscriber)},function(t,e,n){"use strict";function r(t,e){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new a(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.scan=r;var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){return this.hasSeed?this._tryNext(t):(this.seed=t,void this.destination.next(t))},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(25),s=n(23);e.sequenceEqual=r;var u=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compareTo,this.comparor))},t}();e.SequenceEqualOperator=u;var c=function(t){function e(e,n,r){t.call(this,e),this.compareTo=n,this.comparor=r,this._a=[],this._b=[],this._oneComplete=!1,this.add(n.subscribe(new l(e,this)))}return i(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this,e=t._a,n=t._b,r=t.comparor;e.length>0&&n.length>0;){var i=e.shift(),o=n.shift(),u=!1;r?(u=a.tryCatch(r)(i,o),u===s.errorObject&&this.destination.error(s.errorObject.e)):u=i===o,u||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e}(o.Subscriber);e.SequenceEqualSubscriber=c;var l=function(t){function e(e,n){t.call(this,e),this.parent=n}return i(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(o.Subscriber)},function(t,e,n){"use strict";function r(){return new a.Subject}function i(){return o.multicast.call(this,r).refCount()}var o=n(104),a=n(11);e.share=i},function(t,e,n){"use strict";function r(t){return this.lift(new s(t,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(144);e.single=r;var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.source))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.source=r,this.seenValue=!1,this.index=0}return i(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.predicate;this.index++,e?this.tryNext(t):this.applySingleValue(t)},e.prototype.tryNext=function(t){try{var e=this.predicate(t,this.index,this.source);e&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new a.EmptyError)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.skip=r;var a=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.total))},t}(),s=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return i(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.skipUntil=r;var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(a.subscribeToResult(this,n))}return i(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.skipWhile=r;var a=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.skipping=!0,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(o.Subscriber)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];u.isScheduler(n)?t.pop():n=null;var r=t.length;return 1===r?s.concatStatic(new o.ScalarObservable(t[0],n),this):r>1?s.concatStatic(new i.ArrayObservable(t,n),this):s.concatStatic(new a.EmptyObservable(n),this)}var i=n(59),o=n(287),a=n(70),s=n(290),u=n(71);e.startWith=r},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=0),this.lift(new o(t,e))}var i=n(1067);e.subscribeOn=r;var o=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new i.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},t}()},function(t,e,n){"use strict";function r(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e._switch=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.active=0,this.hasCompleted=!1}return i(e,t),e.prototype._next=function(t){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=a.subscribeToResult(this,t))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},e.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var t=this.innerSubscription;t&&(t.unsubscribe(),this.remove(t))},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.switchMap=r;var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return i(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.switchMapTo=r;var s=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.observable,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.inner=n,this.resultSelector=r,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,a=o.resultSelector,s=o.destination;a?this.tryResultSelector(t,e,n,r):s.next(e)},e.prototype.tryResultSelector=function(t,e,n,r){var i,o=this,a=o.resultSelector,s=o.destination;try{i=a(t,e,n,r)}catch(t){return void s.error(t)}s.next(i)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return 0===t?new s.EmptyObservable:this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(200),s=n(70);e.take=r;var u=function(){function t(t){if(this.total=t,this.total<0)throw new a.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){return 0===t?new s.EmptyObservable:this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(200),s=n(70);e.takeLast=r;var u=function(){function t(t){if(this.total=t,this.total<0)throw new a.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;if(e.length<n)e.push(t);else{var i=r%n;e[i]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.takeUntil=r;var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.notifier=n,this.add(a.subscribeToResult(this,n))}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.complete()},e.prototype.notifyComplete=function(){},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.takeWhile=r;var a=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){
function e(e,n){t.call(this,e),this.predicate=n,this.index=0}return i(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.throttle=r;var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){t.call(this,e),this.destination=e,this.durationSelector=n}return i(e,t),e.prototype._next=function(t){this.throttled||this.tryDurationSelector(t)},e.prototype.tryDurationSelector=function(t){var e=null;try{e=this.durationSelector(t)}catch(t){return void this.destination.error(t)}this.emitAndThrottle(t,e)},e.prototype.emitAndThrottle=function(t,e){this.add(this.throttled=a.subscribeToResult(this,e)),this.destination.next(t)},e.prototype._unsubscribe=function(){var t=this.throttled;t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype.notifyNext=function(t,e,n,r,i){this._unsubscribe()},e.prototype.notifyComplete=function(){this._unsubscribe()},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=s.async),this.lift(new u(t,e))}function i(t){var e=t.subscriber;e.clearThrottle()}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(3),s=n(28);e.throttleTime=r;var u=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.duration=n,this.scheduler=r}return o(e,t),e.prototype._next=function(t){this.throttled||(this.add(this.throttled=this.scheduler.schedule(i,this.duration,{subscriber:this})),this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(t.unsubscribe(),this.remove(t),this.throttled=null)},e}(a.Subscriber)},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=o.async);var n=a.isDate(t),r=n?+t-e.now():Math.abs(t);return this.lift(new c(r,n,e,new u.TimeoutError))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(28),a=n(202),s=n(3),u=n(466);e.timeout=r;var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.scheduler=n,this.errorInstance=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},t}(),l=function(t){function e(e,n,r,i,o){t.call(this,e),this.absoluteTimeout=n,this.waitFor=r,this.scheduler=i,this.errorInstance=o,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return i(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,n=t.index;e.hasCompleted||e.previousIndex!==n||e.notifyTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index;this.scheduler.schedule(e.dispatchTimeout,this.waitFor,{subscriber:this,index:t}),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.notifyTimeout=function(){this.error(this.errorInstance)},e}(s.Subscriber)},function(t,e,n){"use strict";function r(t,e,n){void 0===n&&(n=o.async);var r=a.isDate(t),i=r?+t-n.now():Math.abs(t);return this.lift(new c(i,r,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(28),a=n(202),s=n(4),u=n(5);e.timeoutWith=r;var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),l=function(t){function e(e,n,r,i,o){t.call(this),this.destination=e,this.absoluteTimeout=n,this.waitFor=r,this.withObservable=i,this.scheduler=o,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,e.add(this),this.scheduleTimeout()}return i(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,n=t.index;e.hasCompleted||e.previousIndex!==n||e.handleTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index,n={subscriber:this,index:t};this.scheduler.schedule(e.dispatchTimeout,this.waitFor,n),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.handleTimeout=function(){if(!this.closed){var t=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=u.subscribeToResult(this,t))}},e}(s.OuterSubscriber)},function(t,e,n){"use strict";function r(){return this.lift(new a)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3);e.toArray=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e),this.array=[]}return i(e,t),e.prototype._next=function(t){this.array.push(t)},e.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(11),a=n(4),s=n(5);e.window=r;var u=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new c(t),r=e.subscribe(n);return r.closed||n.add(s.subscribeToResult(n,this.windowBoundaries)),r},t}(),c=function(t){function e(e){t.call(this,e),this.window=new o.Subject,e.next(this.window)}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new o.Subject;e.next(n)},e}(a.OuterSubscriber)},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=0),this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),a=n(11);e.windowCount=r;var s=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.windowSize,this.startWindowEvery))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.destination=e,this.windowSize=n,this.startWindowEvery=r,this.windows=[new a.Subject],this.count=0,e.next(this.windows[0])}return i(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(t);var u=this.count-r+1;if(u>=0&&u%e===0&&!this.closed&&i.shift().complete(),++this.count%e===0&&!this.closed){var c=new a.Subject;i.push(c),n.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=c.async),this.lift(new h(t,e,n))}function i(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function o(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),s=this,u={action:s,subscription:null},c={subscriber:n,window:o,context:u};u.subscription=r.schedule(a,e,c),s.add(u.subscription),s.schedule(t,i)}function a(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n(11),c=n(28),l=n(3);e.windowTime=r;var h=function(){function t(t,e,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},t}(),p=function(t){function e(e,n,r,s){t.call(this,e),this.destination=e,this.windowTimeSpan=n,this.windowCreationInterval=r,this.scheduler=s,this.windows=[];var u=this.openWindow();if(null!==r&&r>=0){var c={subscriber:this,window:u,context:null},l={windowTimeSpan:n,windowCreationInterval:r,subscriber:this,scheduler:s};this.add(s.schedule(a,n,c)),this.add(s.schedule(o,r,l))}else{var h={subscriber:this,window:u,windowTimeSpan:n};this.add(s.schedule(i,n,h))}}return s(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var i=e[r];i.closed||i.next(t)}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new u.Subject;this.windows.push(t);var e=this.destination;return e.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(l.Subscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new h(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(11),a=n(20),s=n(25),u=n(23),c=n(4),l=n(5);e.windowToggle=r;var h=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.openings,this.closingSelector))},t}(),p=function(t){function e(e,n,r){t.call(this,e),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(this.openSubscription=l.subscribeToResult(this,n,n))}return i(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var i=e[r];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,i){if(t===this.openings){var c=this.closingSelector,h=s.tryCatch(c)(e);if(h===u.errorObject)return this.error(u.errorObject.e);var p=new o.Subject,f=new a.Subscription,d={window:p,subscription:f};this.contexts.push(d);var m=l.subscribeToResult(this,h,d);m.closed?this.closeWindow(this.contexts.length-1):(m.context=d,f.add(m)),this.destination.next(p)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var e=this.contexts,n=e[t],r=n.window,i=n.subscription;e.splice(t,1),r.complete(),i.unsubscribe()}},e}(c.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new l(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(11),a=n(25),s=n(23),u=n(4),c=n(5);e.windowWhen=r;var l=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.closingSelector))},t}(),h=function(t){function e(e,n){t.call(this,e),this.destination=e,this.closingSelector=n,this.openWindow()}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n=this.window=new o.Subject;this.destination.next(n);var r=a.tryCatch(this.closingSelector)();if(r===s.errorObject){var i=s.errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=c.subscribeToResult(this,r))},e}(u.OuterSubscriber)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return this.lift(new s(r,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(5);e.withLatestFrom=r;var s=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.observables,this.project))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.observables=n,this.project=r,this.toRespond=[];var i=n.length;this.values=new Array(i);for(var o=0;o<i;o++)this.toRespond.push(o);for(var o=0;o<i;o++){var s=n[o];this.add(a.subscribeToResult(this,s,s,o))}}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);a!==-1&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return this.lift(new i.ZipOperator(t))}var i=n(297);e.zipAll=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(20),o=function(t){function e(e,n){t.call(this)}return r(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(i.Subscription);e.Action=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(140),o=n(1178),a=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=o.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.recycleAsyncId.call(this,e,n,r):void(0===e.actions.length&&(o.AnimationFrame.cancelAnimationFrame(n),e.scheduled=void 0))},e}(i.AsyncAction);e.AnimationFrameAction=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(141),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do if(e=t.execute(t.state,t.delay))break;while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(i.AsyncScheduler);e.AnimationFrameScheduler=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1180),o=n(140),a=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=i.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.recycleAsyncId.call(this,e,n,r):void(0===e.actions.length&&(i.Immediate.clearImmediate(n),e.scheduled=void 0))},e}(o.AsyncAction);e.AsapAction=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(141),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do if(e=t.execute(t.state,t.delay))break;while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(i.AsyncScheduler);e.AsapScheduler=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(140),o=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(i.AsyncAction);e.QueueAction=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(141),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(i.AsyncScheduler);e.QueueScheduler=o},function(t,e,n){"use strict";var r=n(1168),i=n(1169);e.animationFrame=new i.AnimationFrameScheduler(r.AnimationFrameAction)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(20),a=n(465),s=n(468),u=function(t){function e(e,n){t.call(this,function(t){var e=this,n=e.logSubscribedFrame();return t.add(new o.Subscription(function(){e.logUnsubscribedFrame(n)})),e.scheduleMessages(t),t}),this.messages=e,this.subscriptions=[],this.scheduler=n}return r(e,t),e.prototype.scheduleMessages=function(t){for(var e=this.messages.length,n=0;n<e;n++){var r=this.messages[n];t.add(this.scheduler.schedule(function(t){var e=t.message,n=t.subscriber;e.notification.observe(n)},r.frame,{message:r,subscriber:t}))}},e}(i.Observable);e.ColdObservable=u,s.applyMixins(u,[a.SubscriptionLoggable])},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(11),o=n(20),a=n(465),s=n(468),u=function(t){function e(e,n){t.call(this),this.messages=e,this.subscriptions=[],this.scheduler=n}return r(e,t),e.prototype._subscribe=function(e){var n=this,r=n.logSubscribedFrame();return e.add(new o.Subscription(function(){n.logUnsubscribedFrame(r)})),t.prototype._subscribe.call(this,e)},e.prototype.setup=function(){for(var t=this,e=t.messages.length,n=0;n<e;n++)!function(){var e=t.messages[n];t.scheduler.schedule(function(){e.notification.observe(t)},e.frame)}()},e}(i.Subject);e.HotObservable=u,s.applyMixins(u,[a.SubscriptionLoggable])},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(138),a=n(1175),s=n(1176),u=n(464),c=n(461),l=750,h=function(t){function e(e){t.call(this,c.VirtualAction,l),this.assertDeepEqual=e,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return r(e,t),e.prototype.createTime=function(t){var n=t.indexOf("|");if(n===-1)throw new Error('marble diagram for time should have a completion marker "|"');return n*e.frameTimeFactor},e.prototype.createColdObservable=function(t,n,r){if(t.indexOf("^")!==-1)throw new Error('cold observable cannot have subscription offset "^"');if(t.indexOf("!")!==-1)throw new Error('cold observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,n,r),o=new a.ColdObservable(i,this);return this.coldObservables.push(o),o},e.prototype.createHotObservable=function(t,n,r){if(t.indexOf("!")!==-1)throw new Error('hot observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,n,r),o=new s.HotObservable(i,this);return this.hotObservables.push(o),o},e.prototype.materializeInnerObservable=function(t,e){var n=this,r=[];return t.subscribe(function(t){r.push({frame:n.frame-e,notification:o.Notification.createNext(t)})},function(t){r.push({frame:n.frame-e,notification:o.Notification.createError(t)})},function(){r.push({frame:n.frame-e,notification:o.Notification.createComplete()})}),r},e.prototype.expectObservable=function(t,n){var r=this;void 0===n&&(n=null);var a,s=[],u={actual:s,ready:!1},c=e.parseMarblesAsSubscriptions(n).unsubscribedFrame;return this.schedule(function(){a=t.subscribe(function(t){var e=t;t instanceof i.Observable&&(e=r.materializeInnerObservable(e,r.frame)),s.push({frame:r.frame,notification:o.Notification.createNext(e)})},function(t){s.push({frame:r.frame,notification:o.Notification.createError(t)})},function(){s.push({frame:r.frame,notification:o.Notification.createComplete()})})},0),c!==Number.POSITIVE_INFINITY&&this.schedule(function(){return a.unsubscribe()},c),this.flushTests.push(u),{toBe:function(t,n,r){u.ready=!0,u.expected=e.parseMarbles(t,n,r,!0)}}},e.prototype.expectSubscriptions=function(t){var n={actual:t,ready:!1};return this.flushTests.push(n),{toBe:function(t){var r="string"==typeof t?[t]:t;n.ready=!0,n.expected=r.map(function(t){return e.parseMarblesAsSubscriptions(t)})}}},e.prototype.flush=function(){for(var e=this.hotObservables;e.length>0;)e.shift().setup();t.prototype.flush.call(this);for(var n=this.flushTests.filter(function(t){return t.ready});n.length>0;){var r=n.shift();this.assertDeepEqual(r.actual,r.expected)}},e.parseMarblesAsSubscriptions=function(t){if("string"!=typeof t)return new u.SubscriptionLog(Number.POSITIVE_INFINITY);for(var e=t.length,n=-1,r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<e;o++){var a=o*this.frameTimeFactor,s=t[o];switch(s){case"-":case" ":break;case"(":n=a;break;case")":n=-1;break;case"^":if(r!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");r=n>-1?n:a;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=n>-1?n:a;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+s+"'.")}}return i<0?new u.SubscriptionLog(r):new u.SubscriptionLog(r,i)},e.parseMarbles=function(t,e,n,r){if(void 0===r&&(r=!1),t.indexOf("!")!==-1)throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=t.length,s=[],u=t.indexOf("^"),c=u===-1?0:u*-this.frameTimeFactor,l="object"!=typeof e?function(t){return t}:function(t){return r&&e[t]instanceof a.ColdObservable?e[t].messages:e[t]},h=-1,p=0;p<i;p++){var f=p*this.frameTimeFactor+c,d=void 0,m=t[p];switch(m){case"-":case" ":break;case"(":h=f;break;case")":h=-1;break;case"|":d=o.Notification.createComplete();break;case"^":break;case"#":d=o.Notification.createError(n||"error");break;default:d=o.Notification.createNext(l(m))}d&&s.push({frame:h>-1?h:f,notification:d})}return s},e}(c.VirtualTimeScheduler);e.TestScheduler=h},function(t,e,n){"use strict";var r=n(24),i=function(){function t(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}return t}();e.RequestAnimationFrameDefinition=i,e.AnimationFrame=new i(r.root)},function(t,e,n){"use strict";var r=function(){function t(){this.values={}}return t.prototype.delete=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var n=this.values;for(var r in n)n.hasOwnProperty(r)&&null!==n[r]&&t.call(e,n[r],r)},t.prototype.clear=function(){this.values={}},t}();e.FastMap=r},function(t,e,n){"use strict";var r=n(24),i=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function t(e){delete t.instance.tasksByHandle[e]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=function t(){var e=t,n=e.handler,r=e.args;"function"==typeof n?n.apply(void 0,r):new Function(""+n)()};return r.handler=t,r.args=e,r},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function t(){var e=t.instance,n=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,n)),n};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",n=function n(r){var i=n.instance;r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&i.runIfPresent(+r.data.slice(e.length))};n.instance=this,t.addEventListener("message",n,!1);var r=function t(){var e=t,n=e.messagePrefix,r=e.instance,i=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(n+i,"*"),i};return r.instance=this,r.messagePrefix=e,r},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var n=e.data;t.runIfPresent(n)};var n=function t(){var e=t,n=e.channel,r=e.instance,i=r.addFromSetImmediateArguments(arguments);return n.port2.postMessage(i),i};return n.channel=e,n.instance=this,n},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function t(){var e=t.instance,n=e.root,r=n.document,i=r.documentElement,o=e.addFromSetImmediateArguments(arguments),a=r.createElement("script");return a.onreadystatechange=function(){
e.runIfPresent(o),a.onreadystatechange=null,i.removeChild(a),a=null},i.appendChild(a),o};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function t(){var e=t.instance,n=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,n),0),n};return t.instance=this,t},t}();e.ImmediateDefinition=i,e.Immediate=new i(r.root)},function(t,e,n){"use strict";var r=n(24),i=n(1182);e.Map=r.root.Map||function(){return i.MapPolyfill}()},function(t,e,n){"use strict";var r=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return e===-1?void 0:this._values[e]},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);return n===-1?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},t.prototype.delete=function(t){var e=this._keys.indexOf(t);return e!==-1&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},t}();e.MapPolyfill=r},function(t,e,n){"use strict";function r(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return this._values.indexOf(t)!==-1},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}var i=n(24);e.minimalSetImpl=r,e.Set=i.root.Set||r()},function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e.length,i=0;i<r;i++){var o=e[i];for(var a in o)o.hasOwnProperty(a)&&(t[a]=o[a])}return t}function i(t){return t.Object.assign||r}var o=n(24);e.assignImpl=r,e.getAssign=i,e.assign=i(o.root)},function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}e.not=r},function(t,e,n){"use strict";function r(t,e,n){if(t){if(t instanceof i.Subscriber)return t;if(t[o.$$rxSubscriber])return t[o.$$rxSubscriber]()}return t||e||n?new i.Subscriber(t,e,n):new i.Subscriber(a.empty)}var i=n(3),o=n(199),a=n(444);e.toSubscriber=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return!!C(t)&&(x(window)&&C(window.Node)?t instanceof window.Node:"number"==typeof t.nodeType&&"string"==typeof t.nodeName)}function a(t,e,n){e!==!0&&Array.prototype.slice.call(t.attributes).forEach(function(r){r.specified&&(""===e||e===!1||w(n[r.name])&&e.indexOf(r.name)<0)&&t.removeAttribute(r.name)})}function s(t,e){e=e||t.parentNode.style,b.forEach(function(n){t.style[n]===e[n]&&t.style.removeProperty(n)})}function u(t,e,n,r){n(t,e);for(var i=t.childNodes,o=0;o<i.length;o++)u(i[o],e.childNodes[o],n,r);r(t,e)}function c(t,e,n){var r=t.cloneNode(!0);return u(t,r,function(t,e){e.style&&(0,y.default)(t,e.style,n)},function(t,r){r.style&&r.parentNode&&s(r),r.attributes&&a(r,e,n)}),r}function l(t,e){if(S){var n=document.createElement("a");return n.setAttribute("href",t),n.setAttribute("download",e),n.dispatchEvent(new MouseEvent("click")),!0}return"undefined"!=typeof window&&(window.open(t,"_blank",""),!0)}function h(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),i=new Image;return i.onload=function(){n.width=i.width,n.height=i.height,r.drawImage(i,0,0),x(window.saveAs)&&x(n.toBlob)?n.toBlob(function(t){saveAs(t,e)}):l(n.toDataURL("image/png"),e)},i.src=t,!0}function p(t){if(w(t)||""===t?t=document.body.querySelector("svg"):"string"==typeof t&&(t=document.body.querySelector(t)),t&&"svg"!==t.tagName&&(t=t.querySelector("svg")),!o(t))throw new Error("svgsaver: Can't find an svg element");return t}function f(t,e,n){return e&&""!==e||(e=(t.getAttribute("title")||"untitled")+"."+n),encodeURI(e)}Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=n(667),y=r(m),v={"alignment-baseline":"auto","baseline-shift":"baseline",clip:"auto","clip-path":"none","clip-rule":"nonzero",color:"rgb(51, 51, 51)","color-interpolation":"srgb","color-interpolation-filters":"linearrgb","color-profile":"auto","color-rendering":"auto",cursor:"auto",direction:"ltr",display:"inline","dominant-baseline":"auto","enable-background":"",fill:"rgb(0, 0, 0)","fill-opacity":"1","fill-rule":"nonzero",filter:"none","flood-color":"rgb(0, 0, 0)","flood-opacity":"1",font:"","font-family":"normal","font-size":"medium","font-size-adjust":"auto","font-stretch":"normal","font-style":"normal","font-variant":"normal","font-weight":"400","glyph-orientation-horizontal":"0deg","glyph-orientation-vertical":"auto","image-rendering":"auto",kerning:"auto","letter-spacing":"0","lighting-color":"rgb(255, 255, 255)",marker:"","marker-end":"none","marker-mid":"none","marker-start":"none",mask:"none",opacity:"1",overflow:"visible","paint-order":"fill","pointer-events":"auto","shape-rendering":"auto","stop-color":"rgb(0, 0, 0)","stop-opacity":"1",stroke:"none","stroke-dasharray":"none","stroke-dashoffset":"0","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-opacity":"1","stroke-width":"1","text-anchor":"start","text-decoration":"none","text-rendering":"auto","unicode-bidi":"normal",visibility:"visible","word-spacing":"0px","writing-mode":"lr-tb"},g=["id","xml: base","xml: lang","xml: space","height","result","width","x","y","xlink: href","href","style","class","d","pathLength","x","y","dx","dy","glyphRef","format","x1","y1","x2","y2","rotate","textLength","cx","cy","r","rx","ry","fx","fy","width","height","refX","refY","orient","markerUnits","markerWidth","markerHeight","maskUnits","transform","viewBox","version","preserveAspectRatio","xmlns","points","offset"],b=["clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cursor","direction","fill","fill-opacity","fill-rule","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","marker","marker-end","marker-mid","marker-start","pointer-events","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-rendering","transform","visibility","white-space","word-spacing","writing-mode"],_=function(t){return"function"==typeof t},x=function(t){return"undefined"!=typeof t},w=function(t){return"undefined"==typeof t},C=function(t){return null!==t&&"object"==typeof t},S="undefined"!=typeof document&&"download"in document.createElement("a");b.forEach(function(t){t in v&&(v[t]=!0)});var E=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.attrs,r=e.styles;i(this,t),this.attrs=void 0===n?g:n,this.styles=void 0===r?v:r}return d(t,[{key:"getHTML",value:function(t){t=p(t);var e=c(t,this.attrs,this.styles);return e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("version",1.1),e.setAttribute("width",e.getAttribute("width")||"500"),e.setAttribute("height",e.getAttribute("height")||"900"),e.outerHTML||(new window.XMLSerializer).serializeToString(e)}},{key:"getBlob",value:function(t){var e=this.getHTML(t);return new Blob([e],{type:"text/xml"})}},{key:"getUri",value:function(t){var e=encodeURIComponent(this.getHTML(t));return x(window.btoa)?"data:image/svg+xml;base64,"+window.btoa(unescape(e)):"data:image/svg+xml,"+e}},{key:"asSvg",value:function(t,e){return t=p(t),e=f(t,e,"svg"),x(window.saveAs)&&_(Blob)?saveAs(this.getBlob(t),e):l(this.getUri(t),e)}},{key:"asPng",value:function(t,e){return t=p(t),e=f(t,e,"png"),h(this.getUri(t),e)}}]),t}();e.default=E,t.exports=e.default},function(t,e,n){"use strict";var r=n(301);n.d(e,"a",function(){return o});var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e,n,r,i){t.call(this),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i}return i(e,t),e.prototype.attachComponentPortal=function(t,e){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(t.component);if(n=i.create(t.injector||this._defaultInjector),this._appRef.attachView)this._appRef.attachView(n.hostView),this.setDisposeFn(function(){r._appRef.detachView(n.hostView),n.destroy()});else{var o=n.changeDetectorRef;this._appRef.registerChangeDetector(o),this.setDisposeFn(function(){r._appRef.unregisterChangeDetector(o);var t=r._getComponentRootNode(n);t.parentNode&&t.parentNode.removeChild(t),n.destroy()})}return e?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n},e.prototype.dispose=function(){t.prototype.dispose.call(this),null!==this._hostDomElement.parentNode&&this._hostDomElement.parentNode.removeChild(this._hostDomElement)},e.prototype._getComponentRootNode=function(t){return t.hostView.rootNodes[0]},e}(r.a)},function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return c});var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this),this.message=e}return r(e,t),e}(Error),o=function(t){function e(){t.call(this,"Must provide a portal to attach")}return r(e,t),e}(i),a=function(t){function e(){t.call(this,"Host already has a portal attached")}return r(e,t),e}(i),s=function(t){function e(){t.call(this,"This PortalHost has already been disposed")}return r(e,t),e}(i),u=(function(t){function e(){t.call(this,"Attempting to attach an unknown Portal type. BasePortalHost accepts either a ComponentPortal or a TemplatePortal.")}return r(e,t),e}(i),function(t){function e(){t.call(this,"Attempting to attach a portal to a null PortalHost")}return r(e,t),e}(i)),c=function(t){function e(){t.call(this,"Attempting to detach a portal that is not attached to a host")}return r(e,t),e}(i)},function(t,e,n){"use strict";var r=n(0),i=function(){function t(t){this.el=t}return t.prototype.getContainerElement=function(){return this.el.nativeElement},t.decorators=[{type:r.Directive,args:[{selector:"[toastContainer]",exportAs:"toastContainer"}]}],t.ctorParameters=function(){return[{type:r.ElementRef}]},t}();(function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:r.NgModule,args:[{exports:[i],declarations:[i]}]}],t.ctorParameters=function(){return[]},t})()},function(t,e,n){"use strict";function r(t){return new u.a(t)}var i=n(0),o=n(87),a=n(302),s=n(303),u=n(145),c=n(299),l=n(300);n.d(e,"a",function(){return p});var h=new i.OpaqueToken("ToastConfig"),p=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:h,useValue:e},{provide:u.a,useFactory:r,deps:[h]},c.a,l.a,s.a]}},t.decorators=[{type:i.NgModule,args:[{imports:[o.CommonModule],exports:[a.a],declarations:[a.a],entryComponents:[a.a]}]}],t.ctorParameters=function(){return[]},t}()},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,function(t,e,n){t.exports=n(475)}],[1194]);