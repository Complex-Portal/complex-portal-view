{
  "version": 3,
  "sources": ["angular:jit:template:file:src/app/basket/basket.component.html", "angular:jit:style:file:src/app/basket/basket.component.css", "src/app/basket/basket.component.ts", "src/app/basket/basket.module.ts"],
  "sourcesContent": ["<div class=\"margin-top-large margin-bottom-large\">\n  <div *ngIf=\"!isComplexBasketEmpty()\" class=\"columns medium-12\">\n    <h2>Personal collection of favourite complexes\n\n      <a class=\"button primary columns medium-2 deleteAllButton float-right\"\n         (click)=\"deleteAllComplexes()\">\n        <i class=\"icon icon-common\" data-icon=\"\uF1F8\"></i>\n        Remove all complexes\n      </a>\n    </h2>\n    <h4>{{ getKeys(complexBasket).length }} complexes in your basket</h4>\n    <div class=\"row\">\n      <cp-complex-list-display-buttons\n        [displayType]=\"DisplayType\"\n        (displayTypeChange)=\"onDisplayTypeChange($event)\">\n      </cp-complex-list-display-buttons>\n    </div>\n    <table class=\"hover\" *ngIf=\"!this.isDisplayComplexNavigatorView()\">\n      <thead>\n      <tr>\n        <th>Name</th>\n        <th>ID</th>\n        <th>Organism</th>\n        <th></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr *ngFor=\"let key of getKeys(complexBasket)\" [class.predicted]=\"complexBasket[key].predicted\">\n        <td>\n          <a [routerLink]=\"['/complex', complexBasket[key].id]\">{{ complexBasket[key].name }}</a>\n          \u00B7 <b class=\"tag\">{{ !complexBasket[key].predicted ? 'Curated' : 'Predicted'}} complex</b>\n        </td>\n        <td>\n          {{ complexBasket[key].id }}\n        </td>\n        <td>\n          {{ complexBasket[key].organism }}\n        </td>\n        <td>\n          <!--          <a class=\"button primary columns medium-12\" (click)=\"deleteFromBasket(key)\"> <span-->\n          <!--            class=\"icon icon-functional\" data-icon=\"d\"></span></a>-->\n          <a class=\"button primary columns medium-12\" (click)=\"deleteFromBasket(key)\">\n            <i class=\"icon icon-common\" data-icon=\"\uF1F8\"></i>\n\n          </a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n    <div *ngIf=\"isDisplayComplexNavigatorView()\" class=\"columns medium-12\">\n      <ng-container *ngIf=\"complexSearchBasket;else loadingSpinner\">\n        <div class=\"ComplexNavigator\"\n             [ngClass]=\"complexSearchBasket.totalNumberOfResults <=6 ? 'smallCN' : ''\">\n          <cp-complex-navigator\n            [complexSearch]=\"complexSearchBasket\"\n            [interactors]=\"allInteractorsInComplexSearchBasket\"\n            [canAddComplexesToBasket]=\"false\"\n            [canRemoveComplexesFromBasket]=\"true\"\n            (onComplexRemovedFromBasket)=\"deleteComplexFromBasket($event)\">\n          </cp-complex-navigator>\n        </div>\n      </ng-container>\n      <ng-template #loadingSpinner>\n        <cp-progress-spinner></cp-progress-spinner>\n      </ng-template>\n    </div>\n\n  </div>\n  <div *ngIf=\"isComplexBasketEmpty()\" class=\"columns medium-12\">\n    <div class=\"callout\">\n      <h3>Your basket is currently empty. :'(</h3>\n      <h5>Search for a complex and click on <i class=\"icon icon-common\" data-icon=\"\uF217\"></i> symbol to create your own\n        collection of favorite complexes.</h5>\n    </div>\n  </div>\n</div>\n", "/* src/app/basket/basket.component.css */\n.ComplexNavigator,\n.hover {\n  width: 70%;\n  margin-left: auto;\n  margin-right: auto;\n}\n.basket-icons {\n  margin-left: 5px;\n  margin-bottom: 5px;\n}\n.deleteAllButton {\n  width: 225px;\n}\nh2 {\n  line-height: 1;\n}\n/*# sourceMappingURL=basket.component.css.map */\n", "import {AfterViewInit, Component, OnInit} from '@angular/core';\nimport {BasketService} from '../shared/basket/service/basket.service';\nimport {BasketItem} from '../shared/basket/model/basketItem';\nimport {ProgressBarComponent} from '../shared/loading-indicators/progress-bar/progress-bar.component';\nimport {Title} from '@angular/platform-browser';\nimport {ComplexPortalService} from '../complex/shared/service/complex-portal.service';\nimport {ComplexSearchResult} from '../complex/shared/model/complex-results/complex-search.model';\nimport {Interactor} from '../complex/shared/model/complex-results/interactor.model';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {\n  COMPLEX_NAVIGATOR_VIEW,\n  LIST_VIEW\n} from '../complex/complex-results/complex-navigator/complex-list-display-buttons/complex-list-display-buttons.component';\n\n@Component({\n  selector: 'cp-basket',\n  templateUrl: './basket.component.html',\n  styleUrls: ['./basket.component.css']\n})\nexport class BasketComponent implements OnInit, AfterViewInit {\n  private _complexBasket: { [name: string]: BasketItem };\n  complexSearchBasket: ComplexSearchResult = null;\n  allInteractorsInComplexSearchBasket: Interactor[] = [];\n  DisplayType: string;\n\n  constructor(private _basketService: BasketService,\n              private titleService: Title,\n              private complexPortalService: ComplexPortalService,\n              private route: ActivatedRoute,\n              private router: Router) {\n    this._complexBasket = this._basketService.complexBasket;\n  }\n\n  ngOnInit() {\n    this.titleService.setTitle('Complex Portal - Basket');\n    this.complexNavigatorLoading();\n    this.route.fragment.subscribe(fragment => {\n      if (fragment === COMPLEX_NAVIGATOR_VIEW) {\n        this.DisplayType = COMPLEX_NAVIGATOR_VIEW;\n      } else {\n        this.DisplayType = LIST_VIEW;\n      }\n    });\n  }\n\n  onDisplayTypeChange(displayType: string) {\n    if (this.DisplayType !== displayType) {\n      this.DisplayType = displayType;\n      this.router.navigate([], {\n        fragment: this.DisplayType\n      });\n    }\n  }\n\n  isDisplayComplexNavigatorView(): boolean {\n    return this.DisplayType === COMPLEX_NAVIGATOR_VIEW;\n  }\n\n  ngAfterViewInit(): void {\n    ProgressBarComponent.hide();\n  }\n\n  deleteFromBasket(key: string): void {\n    this._basketService.deleteFromBasket(key);\n    this.complexNavigatorLoading();\n  }\n\n  deleteComplexFromBasket(complexAc: string): void {\n    for (const key of this.getKeys(this.complexBasket)) {\n      if (this.complexBasket[key].id === complexAc) {\n        this._basketService.deleteFromBasket(key);\n      }\n    }\n    this.complexNavigatorLoading();\n  }\n\n  get complexBasket(): { [name: string]: BasketItem } {\n    return this._complexBasket;\n  }\n\n  set complexBasket(value: { [name: string]: BasketItem }) {\n    this._complexBasket = value;\n  }\n\n  public isComplexBasketEmpty(): boolean {\n    return this.getKeys(this._complexBasket).length === 0;\n\n  }\n\n  // Candidate for Util\n  public getKeys(object: any) {\n    return Object.keys(object);\n  }\n\n  private createQuery(object: any): string {\n    return 'complex_id:(' + Object.values(object).map((v: BasketItem) => '\"' + v.id + '\"').join(',') + ')';\n  }\n\n  private requestComplexesForNavigator() {\n    const pageSize = Object.values(this._complexBasket).length;\n    this.complexPortalService.findComplexNoFilters(this.createQuery(this._complexBasket), 1, pageSize)\n      .subscribe(complexSearch => {\n        this.complexSearchBasket = complexSearch;\n        if (this.complexSearchBasket.totalNumberOfResults !== 0) {\n          for (let i = 0; i < complexSearch.elements.length; i++) {\n            for (const component of complexSearch.elements[i].interactors) {\n              if (!this.allInteractorsInComplexSearchBasket.some(interactor => interactor.identifier === component.identifier)) {\n                this.allInteractorsInComplexSearchBasket.push(component);\n              }\n            }\n          }\n        }\n      });\n  }\n\n  complexNavigatorLoading() {\n    this.complexSearchBasket = null;\n    this.allInteractorsInComplexSearchBasket = [];\n    this.requestComplexesForNavigator();\n  }\n\n  deleteAllComplexes() {\n    Object.values(this._complexBasket).map((v: BasketItem) => this.deleteComplexFromBasket(v.id));\n  }\n\n}\n", "import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {RouterModule} from '@angular/router';\nimport {BasketComponent} from './basket.component';\nimport {ComplexNavigatorModule} from '../complex/complex-results/complex-navigator/complex-navigator.module';\nimport {ProgressSpinnerComponent} from '../shared/loading-indicators/progress-spinner/progress-spinner.component';\n\n@NgModule({\n  imports: [RouterModule.forChild([\n    {path: '', component: BasketComponent}\n  ]),\n    CommonModule,\n    ComplexNavigatorModule,\n    ProgressSpinnerComponent\n  ],\n  declarations: [BasketComponent]\n})\nexport class BasketModule {\n}\n"],
  "mappings": "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",
  "names": ["basket_component_default", "BasketModule", "__decorate"]
}
