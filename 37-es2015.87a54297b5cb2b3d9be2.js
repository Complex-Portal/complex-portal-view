"use strict";(self.webpackChunkcomplex_portal_view=self.webpackChunkcomplex_portal_view||[]).push([[37],{35037:function(e,t,n){n.r(t),n.d(t,{ComplexResultsModule:function(){return st}});var i=n(38583),r=n(57040);class o{constructor(e,t,n,i,r,o){this._identifier=e,this._identifierLink=t,this._name=n,this._description=i,this._interactorType=r,this._organismName=o}get identifier(){return this._identifier}get identifierLink(){return this._identifierLink}get name(){return this._name}get description(){return this._description}get interactorType(){return this._interactorType}get organismName(){return this._organismName}}var s=n(10639),a=n(35076),c=n(20658),l=n(39075),p=n(8991),g=n(30048);function d(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li",5),s.TgZ(1,"a",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().getFirstPage()}),s._uU(2,"\u27ea First"),s.qZA(),s.qZA()}}function h(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li",5),s.TgZ(1,"a",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().getPreviousPage()}),s._uU(2,"\u27e8 Previous"),s.qZA(),s.qZA()}}function u(e,t){if(1&e&&(s.TgZ(0,"li",9),s.TgZ(1,"span",10),s._uU(2,"You're on page"),s.qZA(),s._uU(3),s.qZA()),2&e){const e=s.oxw().$implicit;s.xp6(3),s.Oqu(e[0])}}function m(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li"),s.TgZ(1,"a",6),s.NdJ("click",function(){s.CHM(e);const t=s.oxw().$implicit;return s.oxw().getPage(t[0])}),s._uU(2),s.qZA(),s.qZA()}if(2&e){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e[0])}}function x(e,t){if(1&e&&(s.ynx(0),s.YNc(1,u,4,1,"li",7),s.YNc(2,m,3,1,"li",8),s.BQk()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf","true"==e[1]),s.xp6(1),s.Q6J("ngIf","false"==e[1])}}function f(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li",11),s.TgZ(1,"a",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().getNextPage()}),s._uU(2,"Next \u27e9"),s.qZA(),s.qZA()}}function y(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li",11),s.TgZ(1,"a",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().getLastPage()}),s._uU(2,"Last \u27eb"),s.qZA(),s.qZA()}}let I=(()=>{class e{constructor(){this.onPageChange=new s.vpe}ngOnInit(){this.updatePaginatior()}ngOnChanges(e){this.updatePaginatior()}updatePaginatior(){let e,t;for(this.pagination=[],this._lastPageIndex<5?(e=1,t=this._lastPageIndex):1===this._currentPageIndex||2===this._currentPageIndex?(e=1,t=5):this._currentPageIndex===this._lastPageIndex||this._currentPageIndex===this._lastPageIndex-1?(e=this._lastPageIndex-4,t=this._lastPageIndex):(e=this._currentPageIndex-2,t=this._currentPageIndex+2);e<=t;)this._pagination.push(e===this._currentPageIndex?[[this._currentPageIndex],[!0]]:[[e],[!1]]),e++}getFirstPage(){this.onPageChange.emit(1)}getLastPage(){this.onPageChange.emit(this.lastPageIndex)}getPage(e){this.onPageChange.emit(e)}getPreviousPage(){this.onPageChange.emit(this.currentPageIndex-1)}getNextPage(){this.onPageChange.emit(this.currentPageIndex+1)}get lastPageIndex(){return this._lastPageIndex}set lastPageIndex(e){this._lastPageIndex=e}get currentPageIndex(){return this._currentPageIndex}set currentPageIndex(e){this._currentPageIndex=e}get pagination(){return this._pagination}set pagination(e){this._pagination=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-complex-paginator"]],inputs:{lastPageIndex:"lastPageIndex",currentPageIndex:"currentPageIndex"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:9,vars:7,consts:[[1,"text-center"],["role","navigation","aria-label","Pagination",1,"pagination","text-center"],["class","arrow unavailable","aria-disabled","true",4,"ngIf"],[4,"ngFor","ngForOf"],["class","arrow",4,"ngIf"],["aria-disabled","true",1,"arrow","unavailable"],[3,"click"],["class","current",4,"ngIf"],[4,"ngIf"],[1,"current"],[1,"show-for-sr"],[1,"arrow"]],template:function(e,t){1&e&&(s.TgZ(0,"div"),s.TgZ(1,"h5",0),s._uU(2),s.qZA(),s.TgZ(3,"ul",1),s.YNc(4,d,3,0,"li",2),s.YNc(5,h,3,0,"li",2),s.YNc(6,x,3,2,"ng-container",3),s.YNc(7,f,3,0,"li",4),s.YNc(8,y,3,0,"li",4),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.AsE("",t.currentPageIndex," of ",t.lastPageIndex,""),s.xp6(2),s.Q6J("ngIf",1!=t.currentPageIndex),s.xp6(1),s.Q6J("ngIf",1!=t.currentPageIndex),s.xp6(1),s.Q6J("ngForOf",t.pagination),s.xp6(1),s.Q6J("ngIf",t.currentPageIndex!=t.lastPageIndex),s.xp6(1),s.Q6J("ngIf",t.currentPageIndex!=t.lastPageIndex))},directives:[i.O5,i.sg],styles:[""]}),e})();const C=function(e){return{selected:e}};function T(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",1),s.TgZ(1,"div",2),s.TgZ(2,"button",3),s.NdJ("click",function(){return s.CHM(e),s.oxw().ratingVisibility()}),s._uU(3,"\xd7"),s.qZA(),s.qZA(),s.TgZ(4,"div",4),s.TgZ(5,"p"),s._uU(6,"Tell us about your experience with the Complex Navigator!"),s.qZA(),s.qZA(),s.TgZ(7,"div",5),s.TgZ(8,"span",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().selectRating(1)}),s._uU(9," \u2605 "),s.qZA(),s.TgZ(10,"span",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().selectRating(2)}),s._uU(11," \u2605 "),s.qZA(),s.TgZ(12,"span",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().selectRating(3)}),s._uU(13," \u2605 "),s.qZA(),s.TgZ(14,"span",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().selectRating(4)}),s._uU(15," \u2605 "),s.qZA(),s.TgZ(16,"span",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().selectRating(5)}),s._uU(17," \u2605 "),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(8),s.Q6J("ngClass",s.VKq(5,C,e.selectedRating>=1)),s.xp6(2),s.Q6J("ngClass",s.VKq(7,C,e.selectedRating>=2)),s.xp6(2),s.Q6J("ngClass",s.VKq(9,C,e.selectedRating>=3)),s.xp6(2),s.Q6J("ngClass",s.VKq(11,C,e.selectedRating>=4)),s.xp6(2),s.Q6J("ngClass",s.VKq(13,C,e.selectedRating>=5))}}let Z=(()=>{class e{constructor(e){this.analyticsService=e,this.visible=!0}selectRating(e){this.selectedRating=e,this.analyticsService.rateComplexNavigator(this.selectedRating),this.ratingVisibility()}ratingVisibility(){this.visible=!1}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(p.y))},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-complex-navigator-rating"]],decls:1,vars:1,consts:[["class","ratingComponent",4,"ngIf"],[1,"ratingComponent"],[1,"buttonContainer"],["id","closePopup",1,"close",3,"click"],[1,"text"],[1,"ratingComponentStars"],[1,"star",3,"ngClass","click"]],template:function(e,t){1&e&&s.YNc(0,T,18,15,"div",0),2&e&&s.Q6J("ngIf",!0===t.visible)},directives:[i.O5,i.mk],styles:[".star[_ngcontent-%COMP%]{font-size:1.5em;cursor:pointer;color:#fff}.star.selected[_ngcontent-%COMP%]{color:gold}.ratingComponent[_ngcontent-%COMP%]{background-color:#007c82;padding:5px;width:20%;text-align:center;margin-left:92%;margin-top:-5%;position:fixed;z-index:5;top:20em;left:-13%;border:1px solid white;animation-name:ratingComponentMove;animation-duration:1s}.ratingComponent[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff;color:#007c82}.text[_ngcontent-%COMP%]{display:-webkit-box;color:#fff;width:96%;text-align:-webkit-center;padding-left:10px;margin-bottom:-15px}@keyframes ratingComponentMove{0%{left:10%}to{left:-13%}}.buttonContainer[_ngcontent-%COMP%]{width:100%;height:1ch;text-align:end;padding-right:5px}.close[_ngcontent-%COMP%]{color:#fff}.ratingComponentStars[_ngcontent-%COMP%]{padding-bottom:5px}"]}),e})();function b(e){switch(e){case"small molecule":return"icon icon-conceptual icon-chemical";case"protein":case"peptide":return"icon icon-conceptual icon-structures-3d";case"stable complex":return"icon icon-conceptual icon-systems";case"molecule set":return"icon icon-generic icon-math";case"single stranded deoxyribonucleic acid":case"double stranded deoxyribonucleic acid":case"small nuclear rna":case"small nucleolar rna":case"ribosomal rna":case"messenger rna":case"transfer rna":case"signal recognition particle rna":case"ribonucleic acid":case"nucleic acid":case"long non-coding ribonucleic acid":return"icon icon-conceptual icon-dna"}}function _(e){switch(function(e){if(e.includes(";")){const t=e.indexOf(";");return e.substring(0,t)}return e}(e)){case"Homo sapiens":case"Homo sapiens; 9606":return"icon icon-species icon-human";case"Mus musculus":case"Mus musculus; 10090":return"icon icon-species icon-mouse";case"Saccharomyces cerevisiae (strain ATCC 204508 / S288c)":case"Schizosaccharomyces pombe (strain 972 / ATCC 24843)":case"Saccharomyces cerevisiae; 559292":return"icon icon-species icon-yeast";case"Escherichia coli (strain K12)":case"Escherichia coli":case"Escherichia coli (strain K12); 83333":case"Escherichia coli; 562":case"Pseudomonas aeruginosa (strain ATCC 15692 / DSM 22644 / CIP 104116 / JCM 14847 / LMG 12228 / 1C / PRS 101 / PAO1)":case"Pseudomonas aeruginosa (strain ATCC 15692 / PAO1 / 1C / PRS 101 / LMG 12228); 208964":return"icon icon-species icon-ecoli";case"Rattus norvegicus":case"Rattus norvegicus (Rat)":case"Rattus norvegicus (Rat); 10116":return"icon icon-species icon-rat";case"Caenorhabditis elegans":case"Caenorhabditis elegans; 6239":return"icon icon-species icon-c-elegans";case"Gallus gallus":case"Gallus gallus (Chicken); 9031":return"icon icon-species icon-chicken";case"Drosophila melanogaster":case"Drosophila melanogaster (Fruit fly); 7227":return"icon icon-species icon-fly";case"Bos taurus":case"Bos taurus (Bovine); 9913":return"icon icon-species icon-cow";case"Oryctolagus cuniculus":case"Oryctolagus cuniculus (Rabbit); 9986":return"icon icon-species icon-rabbit";case"Ovis aries":case"Ovis aries (Sheep); 9940":return"icon icon-species icon-sheep";case"Xenopus laevis":case"Xenopus laevis (African clawed frog); 8355":return"icon icon-species icon-frog";case"Canis lupus familiaris":case"Canis familiaris (dog); 9615":return"icon icon-species icon-dog";case"Vibrio cholerae serotype O1 (strain ATCC 39315 / El Tor Inaba N16961)":case"Vibrio cholerae; 243277":return"assets/images/EMBL_Species_Vibrio_cholerae.svg";case"Crotalus durissus terrificus":case"Crotalus durissus terrificus; 8732":return"assets/images/EMBL_Species_RattleSnake.svg";case"Sus scrofa":case"Sus scrofa (Pig); 9823":return"icon icon-species icon-pig";case"Torpedo marmorata":case"Tetronarce californica":case"Torpedo marmorata; 7788":case"Torpedo californica (Pacific electric ray); 7787":return"icon icon-species icon-ray";case"Lymnaea stagnalis":case"Lymnaea stagnalis; 6523":return"icon icon-species icon-snail";case"Arabidopsis thaliana":case"Arabidopsis thaliana (Mouse-ear cress); 3702":return"icon icon-species icon-brassica";case"Danio rerio":case"Danio rerio (Zebrafish); 7955":return"icon icon-species icon-zebrafish";case"Severe acute respiratory syndrome coronavirus":case"Human SARS coronavirus; 694009":case"SARS-CoV-2; 2697049":case"Severe acute respiratory syndrome coronavirus 2":case"Middle East respiratory syndrome-related coronavirus (isolate United Kingdom/H123990006/2012)":case"Middle East respiratory syndrome-related coronavirus (isolate United Kingdom/H123990006/2012) (Betacoronavirus England 1); 1263720":case"Human betacoronavirus 2c EMC/2012":case"Human betacoronavirus 2c EMC/2012; 1235996":return"icon icon-species icon-virus"}return" "}function v(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"a",4),s.NdJ("click",function(){return s.CHM(e),s.oxw().resetAllFilters()}),s._UZ(2,"i",5),s._uU(3," Reset filters"),s.qZA(),s.qZA()}}function w(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"input",11,12),s.NdJ("change",function(){s.CHM(e);const t=s.MAs(2);return s.oxw(3).changeSpeciesFilter(t.value,t.checked)}),s.qZA(),s._uU(3),s._UZ(4,"i",13),s.qZA()}if(2&e){const e=s.oxw().$implicit,t=s.oxw(2);s.xp6(1),s.s9C("value",e.name),s.xp6(2),s.AsE(" ",e.name," (",e.count,") "),s.xp6(1),s.Tol(t.facetOrganismIcon(e.name))}}function A(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"input",14,12),s.NdJ("change",function(){s.CHM(e);const t=s.MAs(2);return s.oxw(3).changeSpeciesFilter(t.value,t.checked)}),s.qZA(),s._uU(3),s._UZ(4,"i",13),s.qZA()}if(2&e){const e=s.oxw().$implicit,t=s.oxw(2);s.xp6(1),s.s9C("value",e.name),s.xp6(2),s.AsE(" ",e.name," (",e.count,") "),s.xp6(1),s.Tol(t.facetOrganismIcon(e.name))}}function O(e,t){if(1&e&&(s.TgZ(0,"li"),s.TgZ(1,"div",8),s.YNc(2,w,5,6,"div",9),s.YNc(3,A,5,6,"div",10),s.qZA(),s.qZA()),2&e){const e=t.$implicit,n=s.oxw(2);s.xp6(1),s.Q6J("ngSwitch",n.isSelected(e.name,n.spicesFilter)),s.xp6(1),s.Q6J("ngSwitchCase",!0)}}function S(e,t){if(1&e&&(s.TgZ(0,"div"),s.TgZ(1,"b"),s._uU(2,"Species"),s.qZA(),s.TgZ(3,"ul",6),s.YNc(4,O,4,2,"li",7),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.facets.species_f)}}function P(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"input",11,12),s.NdJ("change",function(){s.CHM(e);const t=s.MAs(2);return s.oxw(3).changeBiologicalRoleFilter(t.value,t.checked)}),s.qZA(),s._uU(3),s.qZA()}if(2&e){const e=s.oxw().$implicit;s.xp6(1),s.s9C("value",e.name),s.xp6(2),s.AsE(" ",e.name," (",e.count,") ")}}function D(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"input",14,12),s.NdJ("change",function(){s.CHM(e);const t=s.MAs(2);return s.oxw(3).changeBiologicalRoleFilter(t.value,t.checked)}),s.qZA(),s._uU(3),s.qZA()}if(2&e){const e=s.oxw().$implicit;s.xp6(1),s.s9C("value",e.name),s.xp6(2),s.AsE(" ",e.name," (",e.count,") ")}}function F(e,t){if(1&e&&(s.TgZ(0,"li"),s.TgZ(1,"div",8),s.YNc(2,P,4,3,"div",9),s.YNc(3,D,4,3,"div",10),s.qZA(),s.qZA()),2&e){const e=t.$implicit,n=s.oxw(2);s.xp6(1),s.Q6J("ngSwitch",n.isSelected(e.name,n.bioRoleFilter)),s.xp6(1),s.Q6J("ngSwitchCase",!0)}}function M(e,t){if(1&e&&(s.TgZ(0,"div"),s.TgZ(1,"b"),s._uU(2,"Biological Role"),s.qZA(),s.TgZ(3,"ul",6),s.YNc(4,F,4,2,"li",7),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.facets.pbiorole_f)}}function q(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"input",11,12),s.NdJ("change",function(){s.CHM(e);const t=s.MAs(2);return s.oxw(3).changeInteractorTypeFilter(t.value,t.checked)}),s.qZA(),s._uU(3),s._UZ(4,"i",13),s.qZA()}if(2&e){const e=s.oxw().$implicit,t=s.oxw(2);s.xp6(1),s.s9C("value",e.name),s.xp6(2),s.AsE(" ",e.name," (",e.count,") "),s.xp6(1),s.Tol(t.facetTypeIcon(e))}}function k(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"input",14,12),s.NdJ("change",function(){s.CHM(e);const t=s.MAs(2);return s.oxw(3).changeInteractorTypeFilter(t.value,t.checked)}),s.qZA(),s._uU(3),s._UZ(4,"i",13),s.qZA()}if(2&e){const e=s.oxw().$implicit,t=s.oxw(2);s.xp6(1),s.s9C("value",e.name),s.xp6(2),s.AsE(" ",e.name," (",e.count,") "),s.xp6(1),s.Tol(t.facetTypeIcon(e))}}function N(e,t){if(1&e&&(s.TgZ(0,"li"),s.TgZ(1,"div",8),s.YNc(2,q,5,6,"div",9),s.YNc(3,k,5,6,"div",10),s.qZA(),s.qZA()),2&e){const e=t.$implicit,n=s.oxw(2);s.xp6(1),s.Q6J("ngSwitch",n.isSelected(e.name,n.interactorTypeFilter)),s.xp6(1),s.Q6J("ngSwitchCase",!0)}}function J(e,t){if(1&e&&(s.TgZ(0,"div"),s.TgZ(1,"b"),s._uU(2,"Interactor Type"),s.qZA(),s.TgZ(3,"ul",6),s.YNc(4,N,4,2,"li",7),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.facets.ptype_f)}}function L(e,t){1&e&&(s.TgZ(0,"div"),s.TgZ(1,"h6"),s._uU(2,"No filters available"),s.qZA(),s.qZA())}let V=(()=>{class e{constructor(e){this.googleAnalyticsService=e,this.onSpicesFilterChanged=new s.vpe,this.onBiologicalRoleFilterChanged=new s.vpe,this.onInteractorTypeFilterChanged=new s.vpe,this.onResetAllFilters=new s.vpe}ngOnInit(){}changeSpeciesFilter(e,t){t?(this.spicesFilter.push(e),this.googleAnalyticsService.fireAddedFilterEvent(e)):(this.spicesFilter.splice(this.spicesFilter.indexOf(e),1),this.googleAnalyticsService.fireRemovedFilterEvent(e)),this.onSpicesFilterChanged.emit(this.spicesFilter)}changeBiologicalRoleFilter(e,t){t?(this.bioRoleFilter.push(e),this.googleAnalyticsService.fireAddedFilterEvent(e)):(this.bioRoleFilter.splice(this.bioRoleFilter.indexOf(e),1),this.googleAnalyticsService.fireRemovedFilterEvent(e)),this.onBiologicalRoleFilterChanged.emit(this.bioRoleFilter)}changeInteractorTypeFilter(e,t){t?(this.interactorTypeFilter.push(e),this.googleAnalyticsService.fireAddedFilterEvent(e)):(this.interactorTypeFilter.splice(this.interactorTypeFilter.indexOf(e),1),this.googleAnalyticsService.fireRemovedFilterEvent(e)),this.onInteractorTypeFilterChanged.emit(this.interactorTypeFilter)}resetAllFilters(){this.onResetAllFilters.emit(!0)}anyFiltersSelected(){return 0!==this._spicesFilter.length||0!==this._bioRoleFilter.length||0!==this._interactorTypeFilter.length}isSelected(e,t){return-1!==t.indexOf(e)}get facets(){return this._facets}set facets(e){this._facets=e}get spicesFilter(){return this._spicesFilter}set spicesFilter(e){this._spicesFilter=e}get bioRoleFilter(){return this._bioRoleFilter}set bioRoleFilter(e){this._bioRoleFilter=e}get interactorTypeFilter(){return this._interactorTypeFilter}set interactorTypeFilter(e){this._interactorTypeFilter=e}facetTypeIcon(e){return b(e.name)}facetOrganismIcon(e){return _(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(p.y))},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-complex-filter"]],inputs:{facets:"facets",spicesFilter:"spicesFilter",bioRoleFilter:"bioRoleFilter",interactorTypeFilter:"interactorTypeFilter"},outputs:{onSpicesFilterChanged:"onSpicesFilterChanged",onBiologicalRoleFilterChanged:"onBiologicalRoleFilterChanged",onInteractorTypeFilterChanged:"onInteractorTypeFilterChanged",onResetAllFilters:"onResetAllFilters"},decls:11,vars:5,consts:[[1,"filters","row"],[1,"columns","medium-6"],[4,"ngIf"],[1,"columns","medium-12"],[1,"button",3,"click"],["data-icon","d",1,"icon","icon-functional"],[1,"no-bullet"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["type","checkbox","checked","",3,"value","change"],["filter",""],[2,"font-size","large"],["type","checkbox",3,"value","change"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h3"),s._uU(3,"Filters"),s.qZA(),s.qZA(),s.TgZ(4,"div",1),s.YNc(5,v,4,0,"div",2),s.qZA(),s.TgZ(6,"div",3),s.YNc(7,S,5,1,"div",2),s.YNc(8,M,5,1,"div",2),s.YNc(9,J,5,1,"div",2),s.YNc(10,L,3,0,"div",2),s.qZA(),s.qZA()),2&e&&(s.xp6(5),s.Q6J("ngIf",t.anyFiltersSelected()),s.xp6(2),s.Q6J("ngIf",t.facets.species_f),s.xp6(1),s.Q6J("ngIf",t.facets.pbiorole_f),s.xp6(1),s.Q6J("ngIf",t.facets.ptype_f),s.xp6(1),s.Q6J("ngIf",!t.facets.species_f&&!t.facets.pbiorole_f&&!t.facets.ptype_f))},directives:[i.O5,i.sg,i.RF,i.n9,i.ED],styles:[""]}),e})();const Q=function(e){return["/complex",e]};function R(e,t){if(1&e&&(s.TgZ(0,"div"),s._uU(1),s.TgZ(2,"a",2),s._uU(3,"..."),s.qZA(),s.qZA()),2&e){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",e.description,""),s.xp6(1),s.Q6J("routerLink",s.VKq(2,Q,e.complexAC))}}function U(e,t){if(1&e&&(s.TgZ(0,"div"),s._uU(1),s.TgZ(2,"a",2),s._uU(3,"..."),s.qZA(),s.qZA()),2&e){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",e.description.substr(0,250),""),s.xp6(1),s.Q6J("routerLink",s.VKq(2,Q,e.complexAC))}}function E(e,t){if(1&e&&(s.TgZ(0,"li"),s.TgZ(1,"h3"),s.TgZ(2,"a",2),s._uU(3),s.qZA(),s.qZA(),s.TgZ(4,"div",3),s.TgZ(5,"b"),s._uU(6,"Complex AC:"),s.qZA(),s._uU(7),s.TgZ(8,"b"),s._uU(9,"Organism:"),s.qZA(),s._uU(10),s._UZ(11,"br"),s.TgZ(12,"b"),s._uU(13,"Description:"),s.qZA(),s.YNc(14,R,4,4,"div",4),s.YNc(15,U,4,4,"div",4),s.qZA(),s.qZA()),2&e){const e=t.$implicit;s.xp6(2),s.Q6J("routerLink",s.VKq(6,Q,e.complexAC)),s.xp6(1),s.Oqu(e.complexName),s.xp6(4),s.hij(" ",e.complexAC," / "),s.xp6(3),s.hij(" (",e.organismName,")"),s.xp6(4),s.Q6J("ngIf",e.description.length<=250),s.xp6(1),s.Q6J("ngIf",e.description.length>250)}}let H=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-complex-list"]],inputs:{complexSearch:"complexSearch"},decls:2,vars:1,consts:[[1,"no-bullet"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"description",2,"background-color","white"],[4,"ngIf"]],template:function(e,t){1&e&&(s.TgZ(0,"ul",0),s.YNc(1,E,16,8,"li",1),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",t.complexSearch.elements))},directives:[i.sg,a.yS,i.O5],styles:[".description[_ngcontent-%COMP%]{width:100%;text-align:justify}"]}),e})(),Y=(()=>{class e{constructor(){this.interactorsSortingChange=new s.vpe,this.organismIconDisplayChange=new s.vpe,this.interactorTypeDisplayChange=new s.vpe,this.IDDisplayChange=new s.vpe}ngOnInit(){this.updateDisplay()}InteractorsSortingChanges(e){this.interactorsSortingChange.emit(e),"detailed"===this.typeOfDisplay&&("Type"===e?(this.interactorTypeDisplay=!1,this.organismIconDisplay=!0):"Organism"===e&&(this.organismIconDisplay=!1,this.interactorTypeDisplay=!0),this.updateDisplay())}DisplayingOrganism(){this.organismIconDisplay=!this.organismIconDisplay,this.updateDisplay()}DisplayingType(){this.interactorTypeDisplay=!this.interactorTypeDisplay,this.updateDisplay()}DisplayingID(){this.IDDisplay=!this.IDDisplay,this.updateDisplay()}setDisplayType(e){"compact"===e?this.compactDisplay():"detailed"===e&&this.detailedDisplay()}compactDisplay(){this.organismIconDisplay=!1,this.interactorTypeDisplay=!1,this.IDDisplay=!1,this.typeOfDisplay="compact",this.changesEmitter()}detailedDisplay(){this.organismIconDisplay=!0,this.interactorTypeDisplay=!0,this.IDDisplay=!0,this.typeOfDisplay="detailed",this.changesEmitter()}updateDisplay(){this.typeOfDisplay=this.organismIconDisplay||this.interactorTypeDisplay||this.IDDisplay?"detailed":"compact",this.changesEmitter()}changesEmitter(){this.organismIconDisplayChange.emit(this.organismIconDisplay),this.interactorTypeDisplayChange.emit(this.interactorTypeDisplay),this.IDDisplayChange.emit(this.IDDisplay)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-complex-navigator-buttons"]],inputs:{interactorsSorting:"interactorsSorting",organismIconDisplay:"organismIconDisplay",interactorTypeDisplay:"interactorTypeDisplay",IDDisplay:"IDDisplay"},outputs:{interactorsSortingChange:"interactorsSortingChange",organismIconDisplayChange:"organismIconDisplayChange",interactorTypeDisplayChange:"interactorTypeDisplayChange",IDDisplayChange:"IDDisplayChange"},decls:26,vars:5,consts:[[1,"filters"],[1,"sortingInteractors"],["type","submit","name","classificationButton","value","Sort interactors",1,"button"],[1,"typeOfSorting"],["type","submit","name","occurrenceClassification","value","Occurrence",1,"button",3,"click"],["type","submit","name","typeClassification","value","Type",1,"button",3,"click"],["type","submit","name","organismClassification","value","Organism",1,"button",3,"click"],[1,"dropdown"],["type","submit","name","classificationButton","value","Display Options",1,"button"],[1,"displaySize"],["type","radio","name","displayType","value","Compact",1,"checkbox","compact",3,"checked","click"],[1,"detailedDisplay"],["type","radio","name","displayType","value","Detailed",1,"checkbox","detailed",3,"checked","click"],[1,"detailedDisplayOptions"],["type","checkbox","name","organism","value","organism",1,"checkbox",3,"checked","change"],["type","checkbox","name","type","value","type",1,"checkbox",3,"checked","change"],["type","checkbox","name","id","value","id",1,"checkbox",3,"checked","change"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._UZ(2,"input",2),s.TgZ(3,"div",3),s.TgZ(4,"input",4),s.NdJ("click",function(){return t.InteractorsSortingChanges("Occurrence")}),s.qZA(),s.TgZ(5,"input",5),s.NdJ("click",function(){return t.InteractorsSortingChanges("Type")}),s.qZA(),s.TgZ(6,"input",6),s.NdJ("click",function(){return t.InteractorsSortingChanges("Organism")}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"div",7),s._UZ(8,"input",8),s.TgZ(9,"ul",9),s.TgZ(10,"li"),s.TgZ(11,"input",10),s.NdJ("click",function(){return t.setDisplayType("compact")}),s.qZA(),s._uU(12," Compact display "),s.qZA(),s.TgZ(13,"li",11),s.TgZ(14,"input",12),s.NdJ("click",function(){return t.setDisplayType("detailed")}),s.qZA(),s._uU(15," Detailed display "),s.TgZ(16,"ul",13),s.TgZ(17,"li"),s.TgZ(18,"input",14),s.NdJ("change",function(){return t.DisplayingOrganism()}),s.qZA(),s._uU(19," Organism "),s.qZA(),s.TgZ(20,"li"),s.TgZ(21,"input",15),s.NdJ("change",function(){return t.DisplayingType()}),s.qZA(),s._uU(22," Type "),s.qZA(),s.TgZ(23,"li"),s.TgZ(24,"input",16),s.NdJ("change",function(){return t.DisplayingID()}),s.qZA(),s._uU(25," Interactor ID "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(11),s.Q6J("checked","compact"===t.typeOfDisplay),s.xp6(3),s.Q6J("checked","detailed"===t.typeOfDisplay),s.xp6(4),s.Q6J("checked",t.organismIconDisplay),s.xp6(3),s.Q6J("checked",t.interactorTypeDisplay),s.xp6(3),s.Q6J("checked",t.IDDisplay))},styles:[".typeOfSorting[_ngcontent-%COMP%]{display:none}.sortingInteractors[_ngcontent-%COMP%]:hover   .typeOfSorting[_ngcontent-%COMP%]{display:flex;margin-top:-15px;flex-direction:row;position:absolute;z-index:5}.typeOfSorting[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-right:1px solid white;font-size:14px}.filters[_ngcontent-%COMP%]{width:120.5%;display:flex;justify-content:center;grid-gap:10px;height:67px;z-index:5;text-align:center}.displaySize[_ngcontent-%COMP%]{display:none}.detailedDisplayOptions[_ngcontent-%COMP%]{display:none}.dropdown[_ngcontent-%COMP%]:hover   .displaySize[_ngcontent-%COMP%]{display:flex;list-style:none;width:300px;background-color:#007c82;color:#fff;margin-top:-15px;flex-direction:row;position:absolute;height:40px;align-content:center;z-index:5}.dropdown[_ngcontent-%COMP%]:hover   .displaySize[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:200px;background-color:#007c82;margin-left:-21px;text-align:left;padding-left:6px;z-index:5}li[_ngcontent-%COMP%]{text-align:center;align-items:center;font-size:14px;border-left:1px solid white;padding-top:10px;max-width:171px}.detailedDisplay[_ngcontent-%COMP%]:hover   .detailedDisplayOptions[_ngcontent-%COMP%]{display:flex;list-style:none;align-content:baseline;flex-direction:column;position:absolute;z-index:5;margin-left:14px}.detailedDisplayOptions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:left;z-index:5}"]}),e})();function z(e,t){1&e&&s._UZ(0,"th",8)}const B=function(e){return["/complex",e]};function W(e,t){if(1&e&&(s.TgZ(0,"th",9),s.TgZ(1,"a",10),s.TgZ(2,"div"),s.TgZ(3,"span",11),s._UZ(4,"div",12),s.TgZ(5,"div",13),s._UZ(6,"i"),s._UZ(7,"i",14),s._uU(8),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=t.$implicit,n=s.oxw(2);s.xp6(1),s.s9C("title",e.complexAC),s.Q6J("routerLink",s.VKq(8,B,e.complexAC)),s.xp6(2),s.hYB("title","",e.complexName," - ",e.complexAC,""),s.xp6(3),s.Tol(n.iconOrganism(e.organismName)),s.xp6(2),s.hij(" ",e.complexName," ")}}function $(e,t){if(1&e&&(s.TgZ(0,"thead",4),s.TgZ(1,"tr"),s.YNc(2,z,1,0,"th",5),s.TgZ(3,"th",6),s._uU(4," Interactor "),s.qZA(),s.YNc(5,W,9,10,"th",7),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",e.isInteractorSortingSet()),s.xp6(3),s.Q6J("ngForOf",e.complexes)}}function X(e,t){if(1&e&&(s.TgZ(0,"th",21),s.TgZ(1,"a",10),s.TgZ(2,"div"),s.TgZ(3,"span"),s.TgZ(4,"div",22),s._UZ(5,"i",23),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=t.$implicit,n=s.oxw(2);s.Udp("--cols",n.complexes.length),s.hYB("title","",e.complexName," - ",e.complexAC,""),s.xp6(1),s.hYB("title","",e.complexName," - ",e.complexAC,""),s.Q6J("routerLink",s.VKq(12,B,e.complexAC)),s.xp6(3),s.hYB("title","",e.complexName," - ",e.complexAC,""),s.xp6(1),s.hYB("title","",e.complexName," - ",e.complexAC,""),s.xp6(1),s.hij(" ",e.complexName," ")}}function j(e,t){if(1&e&&(s.ynx(0),s.TgZ(1,"th",24),s._UZ(2,"i",11),s.qZA(),s.BQk()),2&e){const e=t.$implicit,n=s.oxw(2);s.xp6(2),s.Tol(n.iconOrganism(e.organismName)),s.s9C("title",e.organismName)}}function G(e,t){if(1&e&&(s.TgZ(0,"thead",15),s.TgZ(1,"tr"),s._UZ(2,"th",16),s.YNc(3,X,7,14,"th",17),s._UZ(4,"div",18),s.qZA(),s.TgZ(5,"tr"),s.TgZ(6,"th",19),s._uU(7," Interactors "),s.qZA(),s.YNc(8,j,3,4,"ng-container",20),s._UZ(9,"div",18),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Udp("--cols",e.complexes.length)("--intHeader",e.isInteractorSortingSet()?"156px":"")("--sizeSpaceHolder",e.complexes.length>15?"185px":""),s.xp6(1),s.Akn(e.isInteractorSortingSet()?"min-width: 156px; max-width: 156px;":""),s.xp6(1),s.Q6J("ngForOf",e.complexes),s.xp6(1),s.Akn(e.complexes.length<15?"max-width: inherit;min-width: inherit":""),s.xp6(1),s.Udp("--cols",e.complexes.length)("--intHeader",e.isInteractorSortingSet()?"156px":"")("--sizeSpaceHolder",e.complexes.length>15?"185px":""),s.xp6(1),s.Akn(e.isInteractorSortingSet()?"min-width: 156px; max-width: 156px;":""),s.xp6(2),s.Q6J("ngForOf",e.complexes),s.xp6(1),s.Akn(e.complexes.length<15?"max-width: inherit;min-width: inherit":"")}}let K=(()=>{class e{isInteractorSortingSet(){return"Type"===this.interactorsSorting||"Organism"===this.interactorsSorting}iconOrganism(e){return _(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-table-header"]],inputs:{complexes:"complexes",interactorsSorting:"interactorsSorting"},decls:4,vars:2,consts:[[1,"Complex-navigator"],[1,"table","CN-table"],["class","tableHead",4,"ngIf"],["class","tableHeadOverflow",4,"ngIf"],[1,"tableHead"],["class","spaceHolderSorting",4,"ngIf"],[1,"interactorsHeader","horizontal"],["class","horizontal",4,"ngFor","ngForOf"],[1,"spaceHolderSorting"],[1,"horizontal"],["target","_blank",3,"routerLink","title"],[3,"title"],[1,"line"],[1,"horizontal-label"],["data-icon","x",1,"icon","icon-generic","small"],[1,"tableHeadOverflow"],[1,"spaceHolderHeaderOverflow"],["class","rotate",3,"title","--cols",4,"ngFor","ngForOf"],[1,"spaceHolder"],[1,"interactorsHeader","overflow"],[4,"ngFor","ngForOf"],[1,"rotate",3,"title"],[1,"tilted-label",3,"title"],["data-icon","x",1,"icon","icon-generic","small",3,"title"],[1,"iconOrganism"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"table",1),s.YNc(2,$,6,2,"thead",2),s.YNc(3,G,10,22,"thead",3),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",t.complexes.length<=6),s.xp6(1),s.Q6J("ngIf",t.complexes.length>6))},directives:[i.O5,i.sg,a.yS],styles:[".CN-table[_ngcontent-%COMP%]{transform:rotateX(180deg)}thead[_ngcontent-%COMP%]{border:0;background-color:#fff;border-right:0 solid white;overflow:scroll}.CN-table[_ngcontent-%COMP%]{-webkit-clip-path:fill-box;clip-path:fill-box;overflow:scroll}.spaceHolderSorting[_ngcontent-%COMP%]{width:3ch;border-bottom:3px solid #007c82}.spaceHolderHeaderOverflow[_ngcontent-%COMP%]{min-width:130px;max-width:130px;position:sticky;left:0;z-index:4;color:#007c82;background-color:#fff;padding-top:173px;text-align:right}.iconOrganism[_ngcontent-%COMP%]{position:sticky;text-align:center;background-color:#007c82;color:#fff;border-left:1px solid white;font-size:medium;height:35px}.tilted-label[_ngcontent-%COMP%]{text-overflow:ellipsis;width:28ch;white-space:nowrap;overflow:hidden}.CN-table[_ngcontent-%COMP%]   .tableHeadOverflow[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{--cols: 1;--intHeader: 130px;--parentWidth: 100%;--sizeSpaceHolder: calc(var(--parentWidth) - 70px * var(--cols) - var(--intHeader));display:grid;grid-template-columns:var(--intHeader) repeat(auto-fit,70px);width:calc(var(--intHeader) + 70px * var(--cols) + var(--sizeSpaceHolder));overflow:hidden}.CN-table[_ngcontent-%COMP%]   .tableHeadOverflow[_ngcontent-%COMP%]   th.rotate[_ngcontent-%COMP%]{position:relative;width:350px;height:51px!important;color:#fff;font-size:14px;text-align:left;border:1px solid white;top:70px;left:-52px;display:flex;align-items:center;align-content:center;padding:0;transform:rotate(-45deg);border-collapse:collapse}.CN-table[_ngcontent-%COMP%]   .tableHeadOverflow[_ngcontent-%COMP%]   th.rotate[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;height:100%;align-content:center;background-color:#007c82;padding:0 0 0 70px;border:none}.spaceHolder[_ngcontent-%COMP%]{width:1000px;background-color:#007c82;border-left:1px solid white}.interactorsHeader.overflow[_ngcontent-%COMP%]{min-width:130px;max-width:130px;width:130px;position:sticky;left:0;z-index:4;background-color:#fff;border-bottom:3px solid #007c82;height:35px;text-align:right;color:#007c82}.CN-table[_ngcontent-%COMP%]   th.horizontal.interactorsHeader[_ngcontent-%COMP%]{padding:5px;min-width:130px;max-width:130px;font-size:medium;border-left:none;text-align:right;color:#007c82;background-color:#fff;border-bottom:3px solid #007c82}.horizontal-label[_ngcontent-%COMP%]{text-align:center;text-overflow:ellipsis;width:90%;white-space:nowrap;overflow:hidden;margin:auto}.CN-table[_ngcontent-%COMP%]   th.horizontal[_ngcontent-%COMP%]{color:#fff;background-color:#007c82;border-left:1px solid white;min-width:80px;max-width:80px;height:35px;font-size:15px}a[_ngcontent-%COMP%]:visited{color:#fff}a[_ngcontent-%COMP%]{color:#fff}"]}),e})();var ee=n(25917),te=n(88002);function ne(e,t,n){const i=ie(e.interactors,t,n);return i?{identifier:i.identifier,stochiometryValue:i.stochiometryValue,stochiometryText:se(i.stochiometryValue),stochiometryValueFormatted:oe(i.stochiometryValue)}:null}function ie(e,t,n){let i=!1,r=null;for(const o of e){const e=re(o,t,n);e&&(i=!0,e.stochiometryValue&&(r=r?[r[0]+e.stochiometryValue[0],r[1]+e.stochiometryValue[1]]:[e.stochiometryValue[0],e.stochiometryValue[1]]))}return i?{identifier:t,stochiometryValue:r}:null}function re(e,t,n){const i=function(e){if(e){const t=function(e){return e.match("minValue: ([0-9+]), maxValue: ([0-9+])")}(e);if(t){const e=parseInt(t[1],10),n=parseInt(t[2],10);if(!isNaN(e)&&!isNaN(n))return[e,n]}}return null}(e.stochiometry);if(e.identifier===t)return{identifier:t,stochiometryValue:i};if("stable complex"===e.interactorType){const r=n.find(t=>t.interactor.identifier===e.identifier);if(r&&r.subComponents){const e=ie(r.subComponents,t,n);if(e)return e.stochiometryValue?i?{identifier:t,stochiometryValue:[i[0]*e.stochiometryValue[0],i[1]*e.stochiometryValue[1]]}:{identifier:t,stochiometryValue:e.stochiometryValue}:{identifier:t,stochiometryValue:i}}}return null}function oe(e){if(e){const t=e[0],n=e[1];return t===n?t.toString():`${t}-${n}`}return" "}function se(e){return e?"Stoichiometry values: minValue: "+e[0]+", maxValue: "+e[1]:"No stoichiometry data available"}function ae(e,t){if(1&e&&(s.TgZ(0,"td",11),s.TgZ(1,"div",12),s._uU(2),s.qZA(),s.qZA()),2&e){const e=s.oxw().$implicit;s.s9C("title",e[0]),s.uIk("rowspan",e[1]),s.xp6(1),s.Udp("--rowspanSize",e[1]),s.xp6(1),s.hij(" ",e[0]," ")}}function ce(e,t){if(1&e&&(s.ynx(0,9),s.YNc(1,ae,3,5,"td",10),s.BQk()),2&e){const e=t.$implicit,n=s.oxw(2).index;s.xp6(1),s.Q6J("ngIf",e[2]===n)}}function le(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",13),s.TgZ(1,"a",14),s.NdJ("click",function(){s.CHM(e);const t=s.oxw(2).index;return s.oxw().toggleSubcomplexExpandable(t)}),s._uU(2," Interactors "),s._UZ(3,"i",15),s.qZA(),s.qZA()}if(2&e){const e=s.oxw(2).$implicit;s.xp6(1),s.MGl("title","",e.interactor.name," interactors")}}const pe=function(e){return{intStoichFixedWidth:e}};function ge(e,t){if(1&e&&(s.ynx(0),s.TgZ(1,"td",16),s._UZ(2,"cp-table-main-interactor",17),s.qZA(),s.BQk()),2&e){const e=t.$implicit,n=s.oxw(2).index,i=s.oxw();s.xp6(1),s.Q6J("ngClass",s.VKq(4,pe,i.complexes.length>6)),s.xp6(1),s.Q6J("complex",e)("i",n)("enrichedInteractors",i.enrichedInteractors)}}function de(e,t){if(1&e&&s._UZ(0,"div",18),2&e){const e=s.oxw(3);s.Q6J("ngClass",e.isInteractorSortingSet()?"spaceHolderWithSorting":"spaceHolder")}}function he(e,t){if(1&e&&(s.TgZ(0,"tr"),s.YNc(1,ce,2,1,"ng-container",4),s.TgZ(2,"td",5),s._UZ(3,"cp-table-interactor-name",6),s.YNc(4,le,4,1,"div",7),s.qZA(),s.YNc(5,ge,3,6,"ng-container",2),s.YNc(6,de,1,1,"div",8),s.qZA()),2&e){const e=s.oxw().$implicit,t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.ranges),s.xp6(1),s.Akn(0!=t.ranges.length?"left:3ch":""),s.Q6J("ngClass",t.complexes.length<=6?"horizontalHeader":"interactorsColumnFixedWidth"),s.xp6(1),s.Q6J("interactorName",e.interactor.name)("interactorType",e.interactor.interactorType)("interactorId",e.interactor.identifier)("interactorOrganism",e.interactor.organismName)("identifierLink",e.interactor.identifierLink)("organismIconDisplay",t.organismIconDisplay)("interactorTypeDisplay",t.interactorTypeDisplay)("IDDisplay",t.IDDisplay),s.xp6(1),s.Q6J("ngIf",e.isSubComplex),s.xp6(1),s.Q6J("ngForOf",t.enrichedComplexes),s.xp6(1),s.Q6J("ngIf",t.complexes.length>6)}}function ue(e,t){if(1&e&&(s.TgZ(0,"td",11),s.TgZ(1,"div",23),s._uU(2),s.qZA(),s.qZA()),2&e){const e=s.oxw(4).$implicit;s.MGl("title","",e.interactor.name," interactors"),s.uIk("rowspan",e.subComponents.length),s.xp6(1),s.Udp("--rowspanSize",e.subComponents.length),s.xp6(1),s.hij(" ",e.interactor.name," interactors ")}}function me(e,t){if(1&e&&(s.ynx(0),s.TgZ(1,"td",16),s._UZ(2,"cp-table-subcomponent-interactor",24),s.qZA(),s.BQk()),2&e){const e=t.$implicit,n=s.oxw().index,i=s.oxw(3).index,r=s.oxw();s.xp6(1),s.Q6J("ngClass",s.VKq(5,pe,r.complexes.length>6)),s.xp6(1),s.Q6J("complex",e)("i",i)("j",n)("enrichedInteractors",r.enrichedInteractors)}}function xe(e,t){1&e&&s._UZ(0,"div",25)}const fe=function(e,t){return{firstExpandedRow:e,lastExpandedRow:t}};function ye(e,t){if(1&e&&(s.TgZ(0,"tr",20),s.YNc(1,ue,3,5,"td",10),s.TgZ(2,"td",21),s.TgZ(3,"div"),s._UZ(4,"cp-table-interactor-name",6),s.qZA(),s.qZA(),s.YNc(5,me,3,7,"ng-container",2),s.YNc(6,xe,1,0,"div",22),s.qZA()),2&e){const e=t.$implicit,n=t.index,i=s.oxw(3).$implicit,r=s.oxw();s.Q6J("ngClass",s.WLB(13,fe,0===n,n===i.subComponents.length-1)),s.xp6(1),s.Q6J("ngIf",0===n&&("Type"===r.interactorsSorting||"Organism"===r.interactorsSorting)),s.xp6(1),s.Q6J("ngClass",r.complexes.length<=6?"horizontalHeader":"interactorsColumnFixedWidth"),s.xp6(2),s.Q6J("interactorName",e.name)("interactorType",e.interactorType)("interactorId",e.identifier)("interactorOrganism",i.interactor.organismName)("identifierLink",e.identifierLink)("organismIconDisplay",r.organismIconDisplay)("interactorTypeDisplay",r.interactorTypeDisplay)("IDDisplay",r.IDDisplay),s.xp6(1),s.Q6J("ngForOf",r.enrichedComplexes),s.xp6(1),s.Q6J("ngIf",r.enrichedComplexes.length>6)}}function Ie(e,t){if(1&e&&(s.ynx(0),s.YNc(1,ye,7,16,"tr",19),s.BQk()),2&e){const e=s.oxw(2).$implicit;s.xp6(1),s.Q6J("ngForOf",e.subComponents)}}function Ce(e,t){if(1&e&&(s.ynx(0),s.YNc(1,Ie,2,1,"ng-container",3),s.BQk()),2&e){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf",!!e.subComponents)}}function Te(e,t){if(1&e&&(s.ynx(0),s.YNc(1,he,7,15,"tr",3),s.YNc(2,Ce,2,1,"ng-container",3),s.BQk()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",!e.hidden),s.xp6(1),s.Q6J("ngIf",e.expanded)}}let Ze=(()=>{class e{constructor(e){this.complexPortalService=e}ngOnChanges(e){e.interactors&&this.enrichInteractors(),this.classifyInteractors(),this.calculateAllStartAndEndIndexes()}classifyInteractors(){this.interactorsSorting&&this.enrichedInteractors&&this.enrichedInteractors.length>0&&("Type"===this.interactorsSorting?this.classifyInteractorsByType():"Organism"===this.interactorsSorting?this.classifyInteractorsByOrganism():this.classifyInteractorsByOccurrence())}enrichInteractors(){this.enrichedInteractors=[];for(const e of this.interactors){const t="stable complex"===e.interactorType,n={interactor:e,hidden:!1,isSubComplex:t,expanded:!1,subComponents:null,partOfComplex:[],timesAppearing:0};t&&this.loadSubInteractors(n).subscribe(e=>n.subComponents=e),this.enrichedInteractors.push(n)}}toggleSubcomplexExpandable(e){if(this.enrichedInteractors[e].expanded=!this.enrichedInteractors[e].expanded,this.enrichedInteractors[e].expanded){for(let t=0;t<this.enrichedInteractors.length;t++)e!==t&&(this.enrichedInteractors[t].expanded=!1);if(this.enrichedInteractors[e].subComponents){const t=this.enrichedInteractors[e].subComponents.map(e=>e.identifier);for(let n=0;n<this.enrichedInteractors.length;n++)e!==n&&(this.enrichedInteractors[n].hidden=!!t.includes(this.enrichedInteractors[n].interactor.identifier))}}else for(let t=0;t<this.enrichedInteractors.length;t++)this.enrichedInteractors[t].hidden=!1;this.classifyInteractors(),this.calculateAllStartAndEndIndexes(),console.log("Done")}loadSubInteractors(e){const t=this.complexes.find(t=>t.complexAC===e.interactor.identifier);return t?(0,ee.of)(t.interactors):this.complexPortalService.getSimplifiedComplex(e.interactor.identifier).pipe((0,te.U)(e=>null==e?void 0:e.interactors))}calculateAllStartAndEndIndexes(){this.enrichedComplexes=[];for(const e of this.complexes)this.enrichedComplexes.push(this.calculateStartAndEndIndexes(e))}getMinValue(e,t){return null===t?e:null===e?t:Math.min(e,t)}getMaxValue(e,t){return null===t?e:null===e?t:Math.max(e,t)}calculateStartAndEndIndexes(e){const t={complex:e,startInteractorIndex:null,endInteractorIndex:null,startSubComponentIndex:null,endSubComponentIndex:null,startInteractorIncludedWhenExpanded:!0};for(let n=0;n<this.enrichedInteractors.length;n++)if(!this.enrichedInteractors[n].hidden)if(ne(e,this.enrichedInteractors[n].interactor.identifier,this.enrichedInteractors))t.startInteractorIndex=this.getMinValue(t.startInteractorIndex,n),t.startInteractorIndex===n&&(t.startInteractorIncludedWhenExpanded=!0),t.endInteractorIndex=this.getMaxValue(t.endInteractorIndex,n),this.enrichedInteractors[n].isSubComplex&&this.enrichedInteractors[n].subComponents&&this.enrichedInteractors[n].expanded&&(t.startSubComponentIndex=-1,t.endSubComponentIndex=this.enrichedInteractors[n].subComponents.length-1);else if(this.enrichedInteractors[n].isSubComplex&&this.enrichedInteractors[n].subComponents&&this.enrichedInteractors[n].expanded)for(let i=0;i<this.enrichedInteractors[n].subComponents.length;i++)ne(e,this.enrichedInteractors[n].subComponents[i].identifier,this.enrichedInteractors)&&(t.startInteractorIndex=this.getMinValue(t.startInteractorIndex,n),t.startInteractorIndex===n&&(t.startInteractorIncludedWhenExpanded=!1),t.endInteractorIndex=this.getMaxValue(t.endInteractorIndex,n),t.startSubComponentIndex=this.getMinValue(t.startSubComponentIndex,i),t.endSubComponentIndex=this.getMaxValue(t.endSubComponentIndex,i));return t}classifyInteractorsByOrganism(){this.enrichedInteractors.sort((e,t)=>t.interactor.organismName.localeCompare(e.interactor.organismName)),this.rangeOfInteractorOrganism()}classifyInteractorsByType(){this.enrichedInteractors.sort((e,t)=>t.interactor.interactorType.localeCompare(e.interactor.interactorType)),this.rangeOfInteractorType()}classifyInteractorsByOccurrence(){for(const e of this.enrichedInteractors)for(const t of this.complexes){const n=ne(t,e.interactor.identifier,this.enrichedInteractors);n&&(e.timesAppearing+=n.stochiometryValue?n.stochiometryValue[0]:1)}this.enrichedInteractors.sort((e,t)=>t.timesAppearing-e.timesAppearing),this.ranges=[]}rangeOfInteractorType(){const e=[];let t=0,n=null;for(let i=0;i<this.enrichedInteractors.length;i++){const r=[];this.enrichedInteractors[i].hidden||(t+=1,null===n&&(n=i)),(!this.enrichedInteractors[i+1]||this.enrichedInteractors[i].isSubComplex&&this.enrichedInteractors[i].expanded||this.enrichedInteractors[i].interactor.interactorType!==this.enrichedInteractors[i+1].interactor.interactorType)&&(null!==n&&(r.push(this.enrichedInteractors[i].interactor.interactorType,t,n),e.push(r),n=null),t=0)}this.ranges=e}rangeOfInteractorOrganism(){const e=[];let t=0,n=null;for(let i=0;i<this.enrichedInteractors.length;i++){const r=[];this.enrichedInteractors[i].hidden||(t+=1,null===n&&(n=i)),(!this.enrichedInteractors[i+1]||this.enrichedInteractors[i].isSubComplex&&this.enrichedInteractors[i].expanded||this.enrichedInteractors[i].interactor.organismName!==this.enrichedInteractors[i+1].interactor.organismName)&&(null!==n&&(r.push(this.enrichedInteractors[i].interactor.organismName,t,n),e.push(r),n=null),t=0)}this.ranges=e}isInteractorSortingSet(){return"Type"===this.interactorsSorting||"Organism"===this.interactorsSorting}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(c.H))},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-table-interactor-column"]],inputs:{complexes:"complexes",interactorsSorting:"interactorsSorting",interactors:"interactors",organismIconDisplay:"organismIconDisplay",interactorTypeDisplay:"interactorTypeDisplay",IDDisplay:"IDDisplay"},features:[s.TTD],decls:3,vars:3,consts:[[1,"Complex-navigator"],[1,"interactors-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","interactorsOrdering",4,"ngFor","ngForOf"],[1,"interactorsColumn",3,"ngClass"],[3,"interactorName","interactorType","interactorId","interactorOrganism","identifierLink","organismIconDisplay","interactorTypeDisplay","IDDisplay"],["class","container",4,"ngIf"],["class","spaceHolder",3,"ngClass",4,"ngIf"],[1,"interactorsOrdering"],["class","interactorSeparation",3,"title",4,"ngIf"],[1,"interactorSeparation",3,"title"],[1,"interactorNameContainer"],[1,"container"],[3,"title","click"],["data-icon","\uf078",1,"icon","icon-common",2,"font-size","small"],[1,"intStoich",3,"ngClass"],[3,"complex","i","enrichedInteractors"],[1,"spaceHolder",3,"ngClass"],["class","expandedRows",3,"ngClass",4,"ngFor","ngForOf"],[1,"expandedRows",3,"ngClass"],[1,"subComponentColumn",3,"ngClass"],["class","spaceHolder",4,"ngIf"],[1,"interactorSeparationName"],[3,"complex","i","j","enrichedInteractors"],[1,"spaceHolder"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"table",1),s.YNc(2,Te,3,2,"ng-container",2),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Udp("--cols",t.complexes.length),s.xp6(1),s.Q6J("ngForOf",t.enrichedInteractors))},styles:['table[_ngcontent-%COMP%]{--cols: 1;height:1px;width:calc(var(130px) + 70px * var(--cols) + 183px);overflow:scroll}.interactorsColumn[_ngcontent-%COMP%]{position:sticky;left:0;z-index:5;max-height:45px;min-height:45px;min-width:130px;max-width:130px;padding:5px;text-align:end;color:#0e6f76;font-weight:bold;background:inherit}.interactorsColumnFixedWidth[_ngcontent-%COMP%]{width:130px}.interactorsColumn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:normal}.intStoich[_ngcontent-%COMP%]{height:45px;max-width:70px;min-width:70px;font-size:medium;text-align:end;z-index:1}.intStoichFixedWidth[_ngcontent-%COMP%]{width:70px}i[_ngcontent-%COMP%]:not(.small){font-size:large}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#dfeced}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f7f9fa}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#0e6f76}.spaceHolder[_ngcontent-%COMP%]{width:183px}.subComponentColumn[_ngcontent-%COMP%]{left:0;z-index:30;max-height:45px;min-height:45px;min-width:130px;max-width:130px;padding:5px;text-align:end;color:#0e6f76;font-weight:bold;background:inherit;position:sticky}.expandedRows[_ngcontent-%COMP%]{color:#0e6f76;position:relative}.firstExpandedRow[_ngcontent-%COMP%]:after{z-index:40;content:"";position:absolute;inset:-2px -1px -2px -1px;pointer-events:none;background:linear-gradient(180deg,#0e6f7696 0px,transparent 10px)}.lastExpandedRow[_ngcontent-%COMP%]:after{z-index:40;content:"";position:absolute;inset:-2px -1px -2px -1px;pointer-events:none;background:linear-gradient(0deg,#0e6f7696 0px,transparent 10px)}.interactorSeparation[_ngcontent-%COMP%]{max-width:3ch;min-width:3ch;background-color:#0e6f76;border:1px solid white;overflow:hidden;width:1%;text-align:-webkit-center;position:sticky;z-index:4;left:0}.interactorNameContainer[_ngcontent-%COMP%], .interactorSeparationName[_ngcontent-%COMP%]{--rowspanSize: 1;writing-mode:vertical-rl;transform:rotate(-180deg);font-size:small;color:#fff;line-height:.8;text-align:center;text-overflow:ellipsis;height:calc(var(--rowspanSize) * 48px);white-space:nowrap;overflow:hidden}.container[_ngcontent-%COMP%]{font-size:14px}.horizontalHeader[_ngcontent-%COMP%]{min-width:114px;max-width:114px}']}),e})(),be=(()=>{class e{constructor(){this.sortedComplexes=[]}ngOnChanges(){this.classifyComplexesSize(),this.sortedComplexes=this.classifyComplexesSimilarities(this.complexSearch.elements)}classifyComplexesSize(){const e=[...this.complexSearch.elements],t=[];for(const n of e){let i=n.interactors.length;for(const t of n.interactors)if("stable complex"===t.interactorType){const n=e.find(e=>e.complexAC===t.identifier);n&&(i+=n.interactors.length)}t.push([n,i])}t.sort((e,t)=>t[1]-e[1]);for(let n=0;n<e.length;n++)this.complexSearch.elements[n]=t[n][0]}calculateSimilarity(e,t){let n=0;for(const i of e.interactors)if("stable complex"===i.interactorType)if(t.complexAC===i.identifier)n+=t.interactors.length;else{const e=this.complexSearch.elements.find(e=>e.complexAC===i.identifier);if(e)if(t.interactors.find(e=>e.identifier===i.identifier))n+=e.interactors.length;else for(const i of e.interactors)for(const e of t.interactors)i.identifier===e.identifier&&n++}else for(const e of t.interactors)if("stable complex"===e.interactorType){const t=this.complexSearch.elements.find(t=>t.complexAC===e.identifier);if(t)for(const e of t.interactors)e.identifier===i.identifier&&n++}else i.identifier===e.identifier&&n++;return n}classifyComplexesSimilarities(e){const t=[];for(const i of e){let e=!1;for(const n of t)this.calculateSimilarity(i,n[0])>=1&&(n.push(i),e=!0);e||t.push([i])}const n=[];for(const i of t)for(const e of i)n.includes(e)||n.push(e);return n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-table-structure"]],inputs:{complexSearch:"complexSearch",interactors:"interactors",interactorsSorting:"interactorsSorting",organismIconDisplay:"organismIconDisplay",interactorTypeDisplay:"interactorTypeDisplay",IDDisplay:"IDDisplay"},features:[s.TTD],decls:8,vars:8,consts:[[1,"complexNavigatorTable"],[1,"header",3,"scroll"],["header",""],[3,"complexes","interactorsSorting"],[1,"interactors",3,"scroll"],["body",""],[3,"complexes","interactors","interactorsSorting","organismIconDisplay","interactorTypeDisplay","IDDisplay"],[1,"spaceHolder"]],template:function(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1,2),s.NdJ("scroll",function(){s.CHM(e);const t=s.MAs(5),n=s.MAs(2);return t.scrollLeft=n.scrollLeft}),s._UZ(3,"cp-table-header",3),s.qZA(),s.TgZ(4,"div",4,5),s.NdJ("scroll",function(){s.CHM(e);const t=s.MAs(2),n=s.MAs(5);return t.scrollLeft=n.scrollLeft}),s._UZ(6,"cp-table-interactor-column",6),s.qZA(),s._UZ(7,"div",7),s.qZA()}2&e&&(s.xp6(3),s.Q6J("complexes",t.sortedComplexes)("interactorsSorting",t.interactorsSorting),s.xp6(3),s.Q6J("complexes",t.sortedComplexes)("interactors",t.interactors)("interactorsSorting",t.interactorsSorting)("organismIconDisplay",t.organismIconDisplay)("interactorTypeDisplay",t.interactorTypeDisplay)("IDDisplay",t.IDDisplay))},directives:[K,Ze],styles:[".complexNavigatorTable[_ngcontent-%COMP%]{border-collapse:separate;height:100%;width:120%}.header[_ngcontent-%COMP%]{position:sticky;top:20px;z-index:2;overflow-x:auto;overflow-y:hidden;transform:rotateX(180deg)}.interactors[_ngcontent-%COMP%]{z-index:1;position:relative;overflow-y:hidden}"]}),e})(),_e=(()=>{class e{constructor(){this.interactorsSorting="Occurrence",this.organismIconDisplay=!0,this.interactorTypeDisplay=!0,this.IDDisplay=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-complex-navigator"]],inputs:{complexSearch:"complexSearch",interactors:"interactors"},decls:4,vars:10,consts:[[1,"ComplexNavigator"],[1,"Buttons"],[3,"interactorsSorting","organismIconDisplay","interactorTypeDisplay","IDDisplay","interactorsSortingChange","organismIconDisplayChange","interactorTypeDisplayChange","IDDisplayChange"],[3,"complexSearch","interactors","interactorsSorting","organismIconDisplay","interactorTypeDisplay","IDDisplay"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"cp-complex-navigator-buttons",2),s.NdJ("interactorsSortingChange",function(e){return t.interactorsSorting=e})("organismIconDisplayChange",function(e){return t.organismIconDisplay=e})("interactorTypeDisplayChange",function(e){return t.interactorTypeDisplay=e})("IDDisplayChange",function(e){return t.IDDisplay=e}),s.qZA(),s.qZA(),s._UZ(3,"cp-table-structure",3),s.qZA()),2&e&&(s.xp6(2),s.Q6J("interactorsSorting",t.interactorsSorting)("organismIconDisplay",t.organismIconDisplay)("interactorTypeDisplay",t.interactorTypeDisplay)("IDDisplay",t.IDDisplay),s.xp6(1),s.Q6J("complexSearch",t.complexSearch)("interactors",t.interactors)("interactorsSorting",t.interactorsSorting)("organismIconDisplay",t.organismIconDisplay)("interactorTypeDisplay",t.interactorTypeDisplay)("IDDisplay",t.IDDisplay))},directives:[Y,be],styles:[".ComplexNavigator[_ngcontent-%COMP%]{width:calc(100rem * .71);margin-left:calc(-100rem * .17)}"]}),e})();var ve=n(8324);function we(e,t){1&e&&s._UZ(0,"cp-complex-navigator-rating")}function Ae(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"cp-complex-filter",19),s.NdJ("onResetAllFilters",function(){return s.CHM(e),s.oxw(3).onResetAllFilters()})("onSpicesFilterChanged",function(t){return s.CHM(e),s.oxw(3).onSpicesFilterChanged(t)})("onBiologicalRoleFilterChanged",function(t){return s.CHM(e),s.oxw(3).onBiologicalRoleFilterChanged(t)})("onInteractorTypeFilterChanged",function(t){return s.CHM(e),s.oxw(3).onInteractorTypeFilterChanged(t)}),s.qZA()}if(2&e){const e=s.oxw(3);s.Q6J("spicesFilter",e.spicesFilter)("bioRoleFilter",e.bioRoleFilter)("interactorTypeFilter",e.interactorTypeFilter)("facets",e.complexSearch.facets)}}function Oe(e,t){if(1&e&&s._UZ(0,"cp-complex-list",20),2&e){const e=s.oxw(3);s.Q6J("complexSearch",e.complexSearch)}}function Se(e,t){if(1&e&&s._UZ(0,"cp-complex-navigator",21),2&e){const e=s.oxw(3);s.Q6J("complexSearch",e.complexSearch)("interactors",e.allInteractorsInComplexSearch)}}const Pe=function(e){return{selected:e}},De=function(e){return{"new-tag-selected":e}};function Fe(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",5),s.TgZ(1,"h2",6),s._uU(2),s.qZA(),s.TgZ(3,"div",7),s.YNc(4,we,1,0,"cp-complex-navigator-rating",8),s.TgZ(5,"div",9),s.TgZ(6,"button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).setListView()}),s._uU(7," View list "),s.qZA(),s.TgZ(8,"button",11),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).setComplexNavigatorView()}),s._uU(9," View Complex Navigator "),s.TgZ(10,"span",12),s._uU(11,"NEW!"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"div",13),s.YNc(13,Ae,1,4,"cp-complex-filter",14),s.qZA(),s.TgZ(14,"div",15),s.TgZ(15,"cp-complex-paginator",16),s.NdJ("onPageChange",function(t){return s.CHM(e),s.oxw(2).onPageChange(t)}),s.qZA(),s.YNc(16,Oe,1,1,"cp-complex-list",17),s.YNc(17,Se,1,2,"cp-complex-navigator",18),s.TgZ(18,"cp-complex-paginator",16),s.NdJ("onPageChange",function(t){return s.CHM(e),s.oxw(2).onPageChange(t)}),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw(2);s.xp6(2),s.hij("Total number of results: ",e.complexSearch.totalNumberOfResults," "),s.xp6(2),s.Q6J("ngIf",e.DisplayType===e.COMPLEX_NAVIGATOR_VIEW),s.xp6(2),s.Q6J("ngClass",s.VKq(12,Pe,e.DisplayType===e.LIST_VIEW)),s.xp6(2),s.Q6J("ngClass",s.VKq(14,Pe,e.DisplayType===e.COMPLEX_NAVIGATOR_VIEW)),s.xp6(2),s.Q6J("ngClass",s.VKq(16,De,e.DisplayType===e.COMPLEX_NAVIGATOR_VIEW)),s.xp6(3),s.Q6J("ngIf",e.spicesFilter&&e.bioRoleFilter&&e.interactorTypeFilter),s.xp6(2),s.Q6J("currentPageIndex",e.currentPageIndex)("lastPageIndex",e.lastPageIndex),s.xp6(1),s.Q6J("ngIf",e.DisplayType===e.LIST_VIEW),s.xp6(1),s.Q6J("ngIf",e.DisplayType===e.COMPLEX_NAVIGATOR_VIEW),s.xp6(1),s.Q6J("currentPageIndex",e.currentPageIndex)("lastPageIndex",e.lastPageIndex)}}function Me(e,t){if(1&e&&(s.TgZ(0,"div",22),s.TgZ(1,"h2"),s._uU(2,"No Complex Portal results found"),s.qZA(),s.TgZ(3,"h3"),s._uU(4,"We're sorry but we couldn't find anything that matched your search for: "),s.TgZ(5,"b"),s._uU(6),s.qZA(),s.qZA(),s.TgZ(7,"h4"),s._uU(8,"Please consider refining your terms:"),s.qZA(),s.TgZ(9,"ul"),s.TgZ(10,"li"),s._uU(11,"Make sure all words are spelled correctly"),s.qZA(),s.TgZ(12,"li"),s._uU(13,"Try different keywords"),s.qZA(),s.TgZ(14,"li"),s._uU(15,"Be more precise: use gene or protein IDs, e.g. Ndc80 or Q04571"),s.qZA(),s.TgZ(16,"li"),s._uU(17,'Remove quotes around phrases to search for each word individually. bike shed will often show more results than "bike shed" '),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw(2);s.xp6(6),s.Oqu(e.query)}}function qe(e,t){if(1&e&&(s.ynx(0),s.YNc(1,Fe,19,18,"div",3),s.YNc(2,Me,18,1,"div",4),s.BQk()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",0!==e.complexSearch.totalNumberOfResults),s.xp6(1),s.Q6J("ngIf",0===e.complexSearch.totalNumberOfResults)}}function ke(e,t){if(1&e&&s._UZ(0,"cp-progress-spinner",23),2&e){const e=s.oxw();s.Q6J("query",e.query)}}let Ne=(()=>{class e{constructor(e,t,n,i,r,o){this.route=e,this.router=t,this.complexPortalService=n,this.titleService=i,this.googleAnalyticsService=r,this.notificationService=o,this.LIST_VIEW="view_list",this.COMPLEX_NAVIGATOR_VIEW="view_complex_navigator",this._allInteractorsInComplexSearch=[],this._listPageSize=15,this._navigatorPageSize=20}ngOnInit(){this.titleService.setTitle("Complex Portal - Results"),this._allInteractorsInComplexSearch=[],this.route.fragment.subscribe(e=>{e===this.COMPLEX_NAVIGATOR_VIEW?this.DisplayType=this.COMPLEX_NAVIGATOR_VIEW:e===this.LIST_VIEW&&(this.DisplayType=this.LIST_VIEW),this.route.queryParams.subscribe(e=>{this._query=e.query,this._spicesFilter=e.species?e.species.split("+"):[],this._bioRoleFilter=e.bioRole?e.bioRole.split("+"):[],this._interactorTypeFilter=e.interactorType?e.interactorType.split("+"):[],this.currentPageIndex=e.page?Number(e.page):1,this.requestComplexResults(),document.body.scrollTop=0})})}ngAfterViewInit(){}requestComplexResults(){this.complexPortalService.findComplex(this.query,this.spicesFilter,this.bioRoleFilter,this.interactorTypeFilter,this.currentPageIndex,this.pageSize).subscribe(e=>{if(this.complexSearch=e,this._allInteractorsInComplexSearch=[],0!==this.complexSearch.totalNumberOfResults){this.lastPageIndex=Math.ceil(e.totalNumberOfResults/this.pageSize);for(let t=0;t<e.elements.length;t++)for(const n of e.elements[t].interactors)this._allInteractorsInComplexSearch.some(e=>e.identifier===n.identifier)||this._allInteractorsInComplexSearch.push(new o(n.identifier,n.identifierLink,n.name,n.description,n.interactorType,n.organismName))}r.R.hide()})}reloadPage(){const e={};e.query=this._query,e.page=this.currentPageIndex,void 0!==this._spicesFilter&&0!==this._spicesFilter.length&&(e.species=this.prepareFiltersForParams(this.spicesFilter)),void 0!==this._bioRoleFilter&&0!==this._bioRoleFilter.length&&(e.bioRole=this.prepareFiltersForParams(this._bioRoleFilter)),void 0!==this._interactorTypeFilter&&0!==this._interactorTypeFilter.length&&(e.interactorType=this.prepareFiltersForParams(this._interactorTypeFilter)),this.router.navigate([],{queryParams:e,fragment:this.DisplayType}),r.R.hide();const t=this.getFilterCount();1<t&&this.googleAnalyticsService.fireMultiFilterEvent(t.toString())}prepareFiltersForParams(e){return e.toString().replace(/,/g,"+")}getFilterCount(){return this._spicesFilter.length+this._interactorTypeFilter.length+this._bioRoleFilter.length}onPageChange(e){this.currentPageIndex=e,this.reloadPage()}onResetAllFilters(){this.spicesFilter=[],this.bioRoleFilter=[],this.interactorTypeFilter=[],this.currentPageIndex=1,this.reloadPage()}onSpicesFilterChanged(e){this.spicesFilter=e,this.currentPageIndex=1,this.reloadPage()}onBiologicalRoleFilterChanged(e){this.bioRoleFilter=e,this.currentPageIndex=1,this.reloadPage()}onInteractorTypeFilterChanged(e){this.interactorTypeFilter=e,this.currentPageIndex=1,this.reloadPage()}get query(){return this._query}set query(e){this._query=e}get currentPageIndex(){return this.DisplayType===this.COMPLEX_NAVIGATOR_VIEW?this._navigatorCurrentPage:this._listCurrentPage}set currentPageIndex(e){this.DisplayType===this.COMPLEX_NAVIGATOR_VIEW?this._navigatorCurrentPage=e:this._listCurrentPage=e}get complexSearch(){return this._complexSearch}set complexSearch(e){this._complexSearch=e,this.setFirstDisplayType()}get lastPageIndex(){return this.DisplayType===this.COMPLEX_NAVIGATOR_VIEW?this._navigatorLastPageIndex:this._listLastPageIndex}set lastPageIndex(e){this.DisplayType===this.COMPLEX_NAVIGATOR_VIEW?this._navigatorLastPageIndex=e:this._listLastPageIndex=e}get pageSize(){return this.DisplayType===this.COMPLEX_NAVIGATOR_VIEW?this._navigatorPageSize:this._listPageSize}get spicesFilter(){return this._spicesFilter}set spicesFilter(e){this._spicesFilter=e}get bioRoleFilter(){return this._bioRoleFilter}set bioRoleFilter(e){this._bioRoleFilter=e}get interactorTypeFilter(){return this._interactorTypeFilter}set interactorTypeFilter(e){this._interactorTypeFilter=e}get allInteractorsInComplexSearch(){return this._allInteractorsInComplexSearch}setListView(){this.DisplayType=this.LIST_VIEW,this.toast=this.notificationService.complexNavigatorAnnouncement(),this.reloadPage()}setComplexNavigatorView(){this.DisplayType=this.COMPLEX_NAVIGATOR_VIEW,this.reloadPage(),this.toast&&(this.notificationService.closeAnnouncement(this.toast.toastId),this.toast=null)}setFirstDisplayType(){if(!this.DisplayType)if(1===this._complexSearch.totalNumberOfResults){const e=this._complexSearch.elements[0].complexAC;e&&(this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.router.navigate(["/complex",e]))}else this._complexSearch.totalNumberOfResults<=this._navigatorPageSize?this.setComplexNavigatorView():this.setListView()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.gz),s.Y36(a.F0),s.Y36(c.H),s.Y36(l.Dx),s.Y36(p.y),s.Y36(g.g))},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-complex-results"]],decls:4,vars:2,consts:[[1,"margin-top-large","margin-bottom-large","row"],[4,"ngIf","ngIfElse"],["loadingSpinner",""],["class","columns medium-12",4,"ngIf"],["class","columns medium-12 callout alert",4,"ngIf"],[1,"columns","medium-12"],[1,"padding-left-large","leftAligned"],[1,"row"],[4,"ngIf"],[1,"displayButton","columns","medium-8",2,"text-align","center","padding-left","10px"],["type","submit","name","submit",1,"button","view-button",3,"ngClass","click"],["type","submit","name","submit",1,"button","view-button","cnButton",3,"ngClass","click"],[1,"new-tag",3,"ngClass"],[1,"columns","medium-4","filterColumn","leftAligned"],[3,"spicesFilter","bioRoleFilter","interactorTypeFilter","facets","onResetAllFilters","onSpicesFilterChanged","onBiologicalRoleFilterChanged","onInteractorTypeFilterChanged",4,"ngIf"],[1,"columns","medium-8"],[3,"currentPageIndex","lastPageIndex","onPageChange"],["class","listOfResults",3,"complexSearch",4,"ngIf"],["class","Complex-navigator",3,"complexSearch","interactors",4,"ngIf"],[3,"spicesFilter","bioRoleFilter","interactorTypeFilter","facets","onResetAllFilters","onSpicesFilterChanged","onBiologicalRoleFilterChanged","onInteractorTypeFilterChanged"],[1,"listOfResults",3,"complexSearch"],[1,"Complex-navigator",3,"complexSearch","interactors"],[1,"columns","medium-12","callout","alert"],[3,"query"]],template:function(e,t){if(1&e&&(s.TgZ(0,"div",0),s.YNc(1,qe,3,2,"ng-container",1),s.YNc(2,ke,1,1,"ng-template",null,2,s.W1O),s.qZA()),2&e){const e=s.MAs(3);s.xp6(1),s.Q6J("ngIf",t.complexSearch)("ngIfElse",e)}},directives:[i.O5,i.mk,I,Z,V,H,_e,ve.O],styles:[".displayButton[_ngcontent-%COMP%]{float:right}.view-button[_ngcontent-%COMP%]{float:unset;width:225px;margin-right:5px;background-color:#fff;color:#555;border:1px dotted #007c82}.view-button[_ngcontent-%COMP%]:hover{color:#007c82;background-color:#eaeaea;border:transparent;border-bottom:1px dotted #007c82}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]:hover{background-color:#007c82;color:#fff;opacity:100%}.new-tag[_ngcontent-%COMP%]{color:red;font-weight:bold;font-size:x-small}.new-tag-selected[_ngcontent-%COMP%]{color:#ff0}.filterColumn[_ngcontent-%COMP%]{width:calc(100rem * .22)}.leftAligned[_ngcontent-%COMP%]{--global-margin: calc((100vw - 80rem) / -2);--min-margin-left: calc(-100rem * .17);margin-left:max(var(--global-margin),var(--min-margin-left))}.cnButton[_ngcontent-%COMP%]{outline-offset:0;outline:rgba(0,124,130,.75) solid 1px;animation:animateOutline 4s ease infinite}@keyframes animateOutline{0%{outline-width:1px;outline-offset:0;outline-color:#007c8200}10%{outline-color:#007c82bf}50%{outline-width:6px;outline-offset:4px;outline-color:#007c8200}to{outline-width:6px;outline-offset:4px;outline-color:#6660}}.cnButton.selected[_ngcontent-%COMP%]{animation:none}"]}),e})();var Je=n(45103);function Le(e,t){if(1&e&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&e){const e=s.oxw(2);s.xp6(1),s.Oqu(e.interactorId)}}function Ve(e,t){if(1&e&&(s.TgZ(0,"a",2),s.YNc(1,Le,2,1,"span",3),s._UZ(2,"i",4),s.qZA()),2&e){const e=s.oxw();s.s9C("href",e.identifierLink,s.LSH),s.xp6(1),s.Q6J("ngIf",e.IDDisplay),s.xp6(1),s.MGl("title","More information about ",e.interactorId,"")}}let Qe=(()=>{class e{constructor(){this.externalLinkVisible=new s.vpe}ngOnInit(){this.showExternalLink()}showExternalLink(){return this.isMainInteractor&&"stable complex"===this.interactorType?(this.externalLinkVisible.emit(!1),!1):(this.externalLinkVisible.emit(!!this.identifierLink),!!this.identifierLink)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-table-interactor-external-link"]],inputs:{interactorId:"interactorId",identifierLink:"identifierLink",interactorType:"interactorType",isMainInteractor:"isMainInteractor",IDDisplay:"IDDisplay"},outputs:{externalLinkVisible:"externalLinkVisible"},decls:2,vars:2,consts:[[1,"externalLinkContainer",3,"title"],["target","_blank","class","externalLinkContainer",3,"href",4,"ngIf"],["target","_blank",1,"externalLinkContainer",3,"href"],[4,"ngIf"],["data-icon","x",1,"icon","icon-generic","small",3,"title"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.YNc(1,Ve,3,3,"a",1),s.qZA()),2&e&&(s.MGl("title","More information about ",t.interactorId,""),s.xp6(1),s.Q6J("ngIf",t.externalLinkVisible))},directives:[i.O5],styles:["a[_ngcontent-%COMP%]{font-weight:normal}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#0e6f76}i[_ngcontent-%COMP%]:not(.small){font-size:large}.externalLinkContainer[_ngcontent-%COMP%]{justify-content:end;grid-gap:5px;font-size:14px;line-break:anywhere;word-break:break-word}"]}),e})();function Re(e,t){if(1&e&&s._UZ(0,"i",7),2&e){const e=s.oxw();s.Tol(e.interactorOrganismIcon),s.s9C("title",e.interactorOrganism)}}function Ue(e,t){if(1&e&&s._UZ(0,"i",7),2&e){const e=s.oxw();s.Tol(e.interactorTypeIcon),s.s9C("title",e.interactorType)}}function Ee(e,t){if(1&e&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.s9C("title",e.interactorId),s.xp6(1),s.hij(" ",e.interactorName," ")}}const He=function(){return["/complex/search"]},Ye=function(e){return{query:e,page:1}};function ze(e,t){if(1&e&&(s.TgZ(0,"a",9),s._UZ(1,"i",10),s.qZA()),2&e){const e=s.oxw();s.Q6J("routerLink",s.DdM(3,He))("queryParams",s.VKq(4,Ye,e.interactorId)),s.xp6(1),s.MGl("title","More complexes containing ",e.interactorName,"")}}function Be(e,t){if(1&e&&(s.TgZ(0,"a",9),s._uU(1),s.qZA()),2&e){const e=s.oxw(3);s.Q6J("routerLink",s.DdM(3,He))("queryParams",s.VKq(4,Ye,e.interactorId)),s.xp6(1),s.hij(" ",e.interactorName," ")}}function We(e,t){if(1&e&&(s.TgZ(0,"div",8),s.YNc(1,Be,2,6,"a",4),s.qZA()),2&e){const e=s.oxw(2);s.MGl("title","More complexes containing ",e.interactorName,""),s.xp6(1),s.Q6J("ngIf",!e.IDDisplay)}}function $e(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"cp-table-interactor-external-link",12),s.NdJ("externalLinkVisible",function(t){return s.CHM(e),s.oxw(2).externalLinkVisibleHandler(t)}),s.qZA()}if(2&e){const e=s.oxw(2);s.Q6J("interactorId",e.interactorId)("identifierLink",e.identifierLink)("interactorType",e.interactorType)("isMainInteractor",e.isMainInteractor)("IDDisplay",e.IDDisplay)}}function Xe(e,t){if(1&e&&(s.TgZ(0,"div",11),s.YNc(1,We,2,2,"div",3),s.YNc(2,$e,1,5,"cp-table-interactor-external-link",6),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",!e.IDDisplay),s.xp6(1),s.Q6J("ngIf",!e.IDDisplay)}}function je(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"cp-table-interactor-external-link",12),s.NdJ("externalLinkVisible",function(t){return s.CHM(e),s.oxw().externalLinkVisibleHandler(t)}),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("interactorId",e.interactorId)("identifierLink",e.identifierLink)("interactorType",e.interactorType)("isMainInteractor",e.isMainInteractor)("IDDisplay",e.IDDisplay)}}const Ge=function(e){return{inlineDisplay:e}};let Ke=(()=>{class e{ngOnInit(){this.interactorTypeIcon=b(this.interactorType),this.interactorOrganismIcon=_(this.interactorOrganism)}externalLinkVisibleHandler(e){this.externalLinkVisible=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-table-interactor-name"]],inputs:{interactorName:"interactorName",interactorType:"interactorType",interactorId:"interactorId",interactorOrganism:"interactorOrganism",identifierLink:"identifierLink",organismIconDisplay:"organismIconDisplay",interactorTypeDisplay:"interactorTypeDisplay",IDDisplay:"IDDisplay",isMainInteractor:"isMainInteractor"},decls:8,vars:9,consts:[[1,"container"],[1,"nameAndIcons",3,"ngClass"],[3,"class","title",4,"ngIf"],["class","name",3,"title",4,"ngIf"],["target","_blank",3,"routerLink","queryParams",4,"ngIf"],["class","nameCompact",4,"ngIf"],[3,"interactorId","identifierLink","interactorType","isMainInteractor","IDDisplay","externalLinkVisible",4,"ngIf"],[3,"title"],[1,"name",3,"title"],["target","_blank",3,"routerLink","queryParams"],["data-icon","1",1,"icon","icon-functional","small",3,"title"],[1,"nameCompact"],[3,"interactorId","identifierLink","interactorType","isMainInteractor","IDDisplay","externalLinkVisible"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.YNc(2,Re,1,4,"i",2),s.YNc(3,Ue,1,4,"i",2),s.YNc(4,Ee,2,2,"div",3),s.YNc(5,ze,2,6,"a",4),s.YNc(6,Xe,3,2,"div",5),s.qZA(),s.YNc(7,je,1,5,"cp-table-interactor-external-link",6),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngClass",s.VKq(7,Ge,"stable complex"===t.interactorType)),s.xp6(1),s.Q6J("ngIf",t.organismIconDisplay),s.xp6(1),s.Q6J("ngIf",t.interactorTypeDisplay),s.xp6(1),s.Q6J("ngIf",t.IDDisplay),s.xp6(1),s.Q6J("ngIf",t.IDDisplay),s.xp6(1),s.Q6J("ngIf",!t.IDDisplay),s.xp6(1),s.Q6J("ngIf",t.IDDisplay))},directives:[i.mk,i.O5,a.yS,Qe],styles:["a[_ngcontent-%COMP%]{font-weight:bold}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#0e6f76}i[_ngcontent-%COMP%]:not(.small){font-size:medium}.nameAndIcons[_ngcontent-%COMP%]{font-size:14px;display:flex;width:inherit;justify-content:end}.inlineDisplay[_ngcontent-%COMP%]{display:flex;justify-content:end}.name[_ngcontent-%COMP%]{width:inherit;text-overflow:ellipsis;overflow:hidden;text-wrap:nowrap;text-align:end;padding-right:5px}.nameCompact[_ngcontent-%COMP%]{display:inline-flex;width:-webkit-fill-available}"]}),e})(),et=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-table-interactor-stoichiometry"]],inputs:{stoichiometryText:"stoichiometryText",stoichiometryValue:"stoichiometryValue"},decls:3,vars:2,consts:[[1,"stoichNum",3,"title"]],template:function(e,t){1&e&&(s.ynx(0),s.TgZ(1,"div",0),s._uU(2),s.qZA(),s.BQk()),2&e&&(s.xp6(1),s.s9C("title",t.stoichiometryText),s.xp6(1),s.hij(" ",t.stoichiometryValue," "))},styles:[".stoichNum[_ngcontent-%COMP%]{width:4ch;height:4ch;border-radius:4ch;background-color:#0e6f76;text-align:center;padding-top:.5ch;color:#fff;font-size:small;margin-left:auto;margin-right:auto}"]}),e})();function tt(e,t){if(1&e&&s._UZ(0,"cp-table-interactor-stoichiometry",2),2&e){const e=s.oxw();s.Q6J("stoichiometryText",e.interactorComponent.stochiometryText)("stoichiometryValue",e.interactorComponent.stochiometryValueFormatted)}}let nt=(()=>{class e{ngOnChanges(){this.interactorComponent=ne(this.complex.complex,this.interactor.interactor.identifier,this.enrichedInteractors),this.topLineClass=this.displayTopLineClass(this.complex,this.i),this.bottomLineClass=this.displayBottomLineClass(this.complex,this.i)}get interactor(){return this.enrichedInteractors[this.i]}displayTopLineClass(e,t){return this.doesLineCrossInteractorCell(e,t)||this.doesLineEndOnInteractorCell(e,t)&&!this.doesLineStartOnInteractorCell(e,t)?"verticalLine":"transparentVerticalLine"}displayBottomLineClass(e,t){return this.doesLineCrossInteractorCell(e,t)||this.doesLineStartOnInteractorCell(e,t)&&!this.doesLineEndOnInteractorCell(e,t)?"verticalLine":"transparentVerticalLine"}doesLineCrossInteractorCell(e,t){return!(null==e.startInteractorIndex||null==e.endInteractorIndex||!(e.startInteractorIndex<t&&e.endInteractorIndex>t||e.startInteractorIndex<t&&e.endInteractorIndex===t&&this.enrichedInteractors[t].isSubComplex&&this.enrichedInteractors[t].expanded&&null!=e.startSubComponentIndex&&null!=e.endSubComponentIndex))}doesLineStartOnInteractorCell(e,t){return!(null==e.startInteractorIndex||e.startInteractorIndex!==t||this.enrichedInteractors[t].isSubComplex&&!e.startInteractorIncludedWhenExpanded)}doesLineEndOnInteractorCell(e,t){return null!=e.endInteractorIndex&&e.endInteractorIndex===t&&!(this.enrichedInteractors[t].isSubComplex&&this.enrichedInteractors[t].expanded&&null!=e.startSubComponentIndex&&null!=e.endSubComponentIndex)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-table-main-interactor"]],inputs:{complex:"complex",i:"i",enrichedInteractors:"enrichedInteractors"},features:[s.TTD],decls:3,vars:3,consts:[[3,"ngClass"],[3,"stoichiometryText","stoichiometryValue",4,"ngIf"],[3,"stoichiometryText","stoichiometryValue"]],template:function(e,t){1&e&&(s._UZ(0,"div",0),s.YNc(1,tt,1,2,"cp-table-interactor-stoichiometry",1),s._UZ(2,"div",0)),2&e&&(s.Q6J("ngClass",t.topLineClass),s.xp6(1),s.Q6J("ngIf",!!t.interactorComponent),s.xp6(1),s.Q6J("ngClass",t.bottomLineClass))},directives:[i.mk,i.O5,et],styles:[".verticalLine[_ngcontent-%COMP%], .transparentVerticalLine[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;min-width:1%;max-width:1%;max-height:80%;min-height:80%;z-index:0}.verticalLine[_ngcontent-%COMP%]{border-right:3px solid #0e6f76}.transparentVerticalLine[_ngcontent-%COMP%]{border-right:0}"]}),e})();function it(e,t){if(1&e&&s._UZ(0,"cp-table-interactor-stoichiometry",2),2&e){const e=s.oxw();s.Q6J("stoichiometryText",e.interactorComponent.stochiometryText)("stoichiometryValue",e.interactorComponent.stochiometryValueFormatted)}}let rt=(()=>{class e{ngOnChanges(){this.interactorComponent=ne(this.complex.complex,this.el.identifier,this.enrichedInteractors),this.displayTopLineClass=this.displayTopLineClassExpanded(this.complex,this.i,this.j),this.displayBottomLineClass=this.displayBottomLineClassExpanded(this.complex,this.i,this.j)}get interactor(){return this.enrichedInteractors[this.i]}get el(){return this.enrichedInteractors[this.i].subComponents[this.j]}displayTopLineClassExpanded(e,t,n){return this.doesLineCrossSubcomponentCell(e,t,n)||this.doesLineEndOnSubcomponentCell(e,t,n)&&!this.doesLineStartOnSubcomponentCell(e,t,n)?"verticalLine":"transparentVerticalLine"}displayBottomLineClassExpanded(e,t,n){return this.doesLineCrossSubcomponentCell(e,t,n)||this.doesLineStartOnSubcomponentCell(e,t,n)&&!this.doesLineEndOnSubcomponentCell(e,t,n)?"verticalLine":"transparentVerticalLine"}doesLineCrossSubcomponentCell(e,t,n){return null!=e.startInteractorIndex&&null!=e.endInteractorIndex&&(e.startInteractorIndex<t&&e.endInteractorIndex>t||null!=e.startSubComponentIndex&&null!=e.endSubComponentIndex&&(e.startSubComponentIndex<n&&e.endSubComponentIndex>n||e.startInteractorIndex<t&&e.endSubComponentIndex>n||e.startSubComponentIndex<n&&e.endInteractorIndex>t))}doesLineStartOnSubcomponentCell(e,t,n){return null!=e.startInteractorIndex&&e.startInteractorIndex===t&&null!=e.startSubComponentIndex&&e.startSubComponentIndex===n&&!e.complex.interactors.some(e=>this.enrichedInteractors[t].interactor.identifier===e.identifier)}doesLineEndOnSubcomponentCell(e,t,n){return null!=e.endInteractorIndex&&e.endInteractorIndex===t&&null!=e.endSubComponentIndex&&e.endSubComponentIndex===n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["cp-table-subcomponent-interactor"]],inputs:{complex:"complex",i:"i",j:"j",enrichedInteractors:"enrichedInteractors"},features:[s.TTD],decls:3,vars:3,consts:[[3,"ngClass"],[3,"stoichiometryText","stoichiometryValue",4,"ngIf"],[3,"stoichiometryText","stoichiometryValue"]],template:function(e,t){1&e&&(s._UZ(0,"div",0),s.YNc(1,it,1,2,"cp-table-interactor-stoichiometry",1),s._UZ(2,"div",0)),2&e&&(s.Q6J("ngClass",t.displayTopLineClass),s.xp6(1),s.Q6J("ngIf",!!t.interactorComponent),s.xp6(1),s.Q6J("ngClass",t.displayBottomLineClass))},directives:[i.mk,i.O5,et],styles:[".verticalLine[_ngcontent-%COMP%], .transparentVerticalLine[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;min-width:1%;max-width:1%;max-height:50%;min-height:50%;z-index:0}.verticalLine[_ngcontent-%COMP%]{border-right:3px solid #0e6f76}.transparentVerticalLine[_ngcontent-%COMP%]{border-right:0}"]}),e})();var ot=n(72987);let st=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.Bz.forChild([{path:"",component:Ne}]),i.ez,Je.L,ot.JP]]}),e})();s.B6R(Ze,[i.sg,i.O5,i.mk,Ke,nt,rt],[])}}]);