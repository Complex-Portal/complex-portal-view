<div class="Complex-navigator">
  <table id="CN-table"> <!-- *ngIf="SubCompInteractorDisplay==false" -->
    <!-- Complexes' row (table's header) -->
    <tr>
      <th class="intHeader" rowspan="2" style="width:200px;">Interactors</th>
      <th class="compHeader" colspan="15">Complexes</th>
      <!-- 15 being the maximum complexes per page (also set in complex-results.component.ts) -->
    </tr>
    <tr>
      <th *ngFor="let complex of complexSearch.elements" style="width:200px; height: 100px;">
        <div class="complexInTable">
          <a [routerLink]="['/complex', complex.complexAC]">
            {{ complex.complexName }}
            <i class="icon icon-generic small" data-icon="x"></i>
          </a>
        </div>
      </th>
    </tr>
    <!-- Interactors' column -->
    <ng-container *ngFor="let interactor of components ; let i=index; givesIdToToggle(i)">
      <ng-container>
        <tr style="height:60px;">
          <td>
            <div>
              {{ interactor.interactorType }}
              {{ interactor.interactorName }}
              <!-- Adding of the icons to access details -->
              <a (click)="search(interactor.id)">
                <i class="icon icon-functional small" data-icon="1"></i>
              </a>
            </div>
            <div class="container" *ngIf="isComponentASubcomplex(interactor)">
              <input id="SubcomplexExpandable{{i}}" type="submit" value="Subcomplex's interactors" class="button"
                     (click)="toggleSubcomplexExpandable(i)"
                     style="background: none; color: #0a0a0a; padding:0px; text-decoration: underline;">
            </div>
            <div *ngIf="showExternalLink(interactor)" class="interactorType">
              <a href="{{externalLink(interactor)}}" target="_blank">{{ externalLinkName(interactor) }}
                <i class="icon icon-generic small" data-icon="x"></i>
              </a>
            </div>
          </td>
          <!-- Interactors' stoichiometry -->
          <td *ngFor="let complex of complexSearch.elements">
            {{ (stochiometryOfInteractors(complex, interactor.id)) }}
            <ng-container *ngIf="(stochiometryOfInteractors(complex, interactor.id))==null">
              <!-- subcomplexes' interactors' stoichiometry -->
              {{ stoichiometryOfInteractorsMainTable(complex, interactor, complexSearch.elements) }}
            </ng-container>
          </td>
        </tr>
        <!-- Expandable menu for subcomplexes -->
        <ng-container *ngIf="buttonContainers[i]">
          <tr *ngFor="let el of (componentToComplex(interactor, complexSearch.elements)).components"
              style="height:60px;">
            <!-- Create an error when the components are not in the search results -->
            <td style="background: #6d8f94;">
              {{ el.interactorType }}
              {{ el.interactorName }}
            </td>
            <td *ngFor="let complex of complexSearch.elements" style="background: #6d8f94;">
              {{ stochiometryOfInteractors(complex, el.id) }}
              {{ stoichiometryOfInteractorsExpandable(complex, el) }}
            </td>
          </tr>
        </ng-container>
      </ng-container>
    </ng-container>
  </table>
</div>
