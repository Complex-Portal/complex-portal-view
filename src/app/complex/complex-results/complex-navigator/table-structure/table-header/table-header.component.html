<div class="Complex-navigator">
  <table class="table CN-table">

    <!-- When table is not overflowing -->
    @if (complexes().length <= 6) {
      <thead class="tableHead">
      <tr>
        <th class="interactorsHeader">
          Components
          <div class="shadow right" [class.visible]="shadowVisible()"></div>
        </th>
        @for (complex of complexes(); track complex.complexAC) {
          <th [class.predicted]="complex.predictedComplex" class="horizontal">
            <div>
              <a [routerLink]="['/complex', complex.complexAC]"
                 target="_blank">
                <div>
                    <span [matTooltip]="complex.complexName+ ' - '+ complex.complexAC + ' - ' + complex.organismName"
                          class="horizontal-label">
                      <div class="line"></div>
                      @if (iconOrganism(complex.organismName).startsWith('icon')) {
                        <i [ngClass]="iconOrganism(complex.organismName)"></i>
                      } @else {
                        <img [src]="iconOrganism(complex.organismName)"
                             class="iconOrganismImg"
                             width="15px" height="15px"/>
                      }
                      <i class="icon icon-generic small" data-icon="x"></i>
                      {{ complex.complexName }}
                    </span>
                </div>
              </a>
            </div>
            <div class="basketButton">
              <a class="button" (click)="toggleBasket(complex)">
                <i class="icon icon-common" [attr.data-icon]="isInBasket(complex.complexAC) ? '':''"></i>
              </a>
            </div>
          </th>
        }
      </tr>
      </thead>
    }
    <!-- When table is overflowing -->
    @if (complexes().length > 6) {
      <thead class="tableHeadOverflow">
      <tr class="rotate">
        <th class="spaceHolderHeaderOverflow">
          <div class="shadow right" [class.visible]="shadowVisible()"></div>
        </th>
        @for (complex of complexes(); track complex.complexAC) {
          <th class="rotate"
              [style.transform]="state.transform()"
              [style.height.px]="state.displayedHeight()"
              [style.width.px]="state.adjacent()"
              [class.predicted]="complex.predictedComplex">
            <a [style.height.px]="state.contentHeight()"
               [style.padding-top.px]="state.opposite() / 2"
               [style.padding-bottom.px]="state.opposite() / 2"
              [routerLink]="['/complex', complex.complexAC]"
              [matTooltip]="complex.complexName+ ' - '+ complex.complexAC"
              target="_blank">
              <div>
                  <span>
                    <div class="tilted-label">
                      <i class="icon icon-generic small" data-icon="x"></i>
                      {{ complex.complexName }}
                    </div>
                  </span>
              </div>
            </a>
          </th>
        }
        <th class="spaceHolder" [style.width.px]="state.spaceHolderWidth()" [style.height.px]="state.displayedHeight()" [class.predicted]="anyPredictedComplex()">
          <svg style="width: 100%; height: 100%" viewBox="0 0 100 100" preserveAspectRatio="none">
            <polygon points="0,100 100,100 100,0" fill="blue" style="fill: var(--primary)" />
          </svg>
        </th>
      </tr>
      <!-- icons row -->
      <tr>
        <th class="interactorsHeader overflow">
          Components
          <div class="shadow right" [class.visible]="shadowVisible()"></div>
        </th>
        @for (complex of complexes(); track complex.complexAC) {
          <th class="iconOrganism" [class.predicted]="complex.predictedComplex">
            <div>
              @if (isInBasket(complex.complexAC)) {
                <a class="button" (click)="toggleBasket(complex)" [matTooltip]="'Remove from basket'">
                  <i class="icon icon-common" data-icon=""></i>
                </a>
              } @else {
                <a class="button" (click)="toggleBasket(complex)" [matTooltip]="'Add to basket'">
                  <i class="icon icon-common" data-icon=""></i>
                </a>
              }
            </div>
            <div>
              @if (iconOrganism(complex.organismName).startsWith('icon')) {
                <i [ngClass]="iconOrganism(complex.organismName)" [matTooltip]="complex.organismName | species"></i>
              } @else {
                <img [src]="iconOrganism(complex.organismName)"
                     [matTooltip]="complex.organismName | species"
                     class="iconOrganismImg"
                     width="16px" height="16px"/>
              }
            </div>
          </th>
        }
        <div class="spaceHolder primary" [class.predicted]="anyPredictedComplex()"></div>
      </tr>
      </thead>
    }
  </table>
</div>



