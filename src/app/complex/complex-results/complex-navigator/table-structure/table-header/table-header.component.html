<div class="Complex-navigator">
  <table class="table CN-table">
    <!-- When table is not overflowing -->
    @if (complexes().length<=6) {
      <thead class="tableHead">
        <tr>
          @if (isInteractorSortingSet()) {
            <th class="spaceHolderSorting"></th>
          }
          <th class="interactorsHeader horizontal">
            Components
          </th>
          @for (complex of complexes(); track complex.complexAC) {
            <th class="horizontal" [class.predicted]="complex.predictedComplex">
              <div>
                <a [routerLink]="['/complex', complex.complexAC]"
                   [style.--cols]="complexes().length"
                  target="_blank">
                  <div>
                    <span [matTooltip]="complex.complexName+ ' - '+ complex.complexAC + ' - ' + complex.organismName" class="horizontal-label">
                      <div class="line"></div>
                      @if (iconOrganism(complex.organismName).startsWith('icon')) {
                        <i [ngClass]="iconOrganism(complex.organismName)"></i>
                      } @else {
                        <img [src]="iconOrganism(complex.organismName)"
                             class="iconOrganismImg"
                             width="15px" height="15px"/>
                      }
                      <i class="icon icon-generic small" data-icon="x"></i>
                      {{ complex.complexName }}
                    </span>
                  </div>
                </a>
              </div>
              <div class="basketButton">
                <a class="button" (click)="toggleBasket(complex)">
                  <i class="icon icon-common" [attr.data-icon]="isInBasket(complex.complexAC) ? '':''"></i>
                </a>
              </div>
            </th>
          }
        </tr>
      </thead>
    }
    <!-- When table is overflowing -->
    @if (complexes().length > 6) {
      <thead class="tableHeadOverflow"
        [ngClass]="isInteractorSortingSet() ? 'tableHeadOverflowWithSorting' : 'tableHeadOverflow'">
        <tr [style.--cols]="complexes().length"
          [style.--intHeader]="isInteractorSortingSet() ? '156px':''"
          [style.--sizeSpaceHolder]="'185px'">
          <th class="spaceHolderHeaderOverflow"
            [style]="isInteractorSortingSet() ? 'min-width: 156px; max-width: 156px;':''">
          </th>
          @for (complex of complexes(); track complex.complexAC) {
            <th class="rotate"
              [class.predicted]="complex.predictedComplex"
              [style.--cols]="complexes().length">
              <a [routerLink]="['/complex', complex.complexAC]"
                [matTooltip]="complex.complexName+ ' - '+ complex.complexAC"
                target="_blank">
                <div>
                  <span>
                    <div class="tilted-label">
                      <i class="icon icon-generic small" data-icon="x"></i>
                      {{ complex.complexName }}
                    </div>
                  </span>
                </div>
              </a>
            </th>
          }
          <div class="spaceHolder" [class.predicted]="anyPredictedComplex()"></div>
        </tr>
        <!-- icons row -->
        <tr [style.--cols]="complexes().length"
          [style.--intHeader]="isInteractorSortingSet() ? '156px':''"
          [style.--sizeSpaceHolder]="'185px'">
          <th class="interactorsHeader overflow"
              [style.--cols]="complexes().length"
              [style]="isInteractorSortingSet() ? 'min-width: 156px; max-width: 156px;':''">
            Components
          </th>
          @for ( complex of complexes(); track  complex.complexAC) {
            <th class="iconOrganism" [class.predicted]="complex.predictedComplex">
              <div>
                @if (isInBasket(complex.complexAC)) {
                  <a class="button" (click)="toggleBasket(complex)" [matTooltip]="'Remove from basket'">
                    <i class="icon icon-common" data-icon=""></i>
                  </a>
                } @else {
                  <a class="button" (click)="toggleBasket(complex)" [matTooltip]="'Add to basket'">
                    <i class="icon icon-common" data-icon=""></i>
                  </a>
                }
              </div>
              <div>
                @if (iconOrganism(complex.organismName).startsWith('icon')) {
                  <i [ngClass]="iconOrganism(complex.organismName)" [matTooltip]="complex.organismName | species"></i>
                } @else {
                  <img [src]="iconOrganism(complex.organismName)"
                       [matTooltip]="complex.organismName | species"
                       class="iconOrganismImg"
                       width="16px" height="16px"/>
                }
              </div>
            </th>
          }
          <div class="spaceHolder" [class.predicted]="anyPredictedComplex()"></div>
        </tr>
      </thead>
    }
  </table>
</div>


