<div class="Complex-navigator">
  <table class="interactors-table">
    <!-- Interactors' column -->
    <ng-container *ngFor="let interactor of components; let i=index; givesIdToToggle(i)">
      <ng-container>
        <tr>
          <td>
            <div>
              {{ interactor.interactorType }}
              {{ interactor.interactorName }}
              <!-- Adding of the icons to access details -->
              <a (click)="search(interactor.id)">
                <i class="icon icon-functional small" data-icon="1"
                   title="More complexes containing this interactor"></i>
              </a>
            </div>
            <div class="container" *ngIf="isComponentASubcomplex(interactor);">
              <label>
                <input id="SubcomplexExpandable{{i}}" type="submit" class="button"
                       value="Subcomplex's interactors"
                       (click)="toggleSubcomplexExpandable(i)"
                       style="background: none; color: #0a0a0a; margin-right: -15px; margin-bottom: 2px;  text-decoration: underline; text-decoration-style: dotted;"
                       title="Subcomplex's interactors">
                <i class="icon icon-common" data-icon="&#xf078;"
                   (click)="toggleSubcomplexExpandable(i)"
                   style="font-size:small; text-decoration: underline; text-decoration-style: dotted; margin-top: 2px"></i>
              </label>
            </div>
            <div *ngIf="showExternalLink(interactor)" class="interactorType">
              <a href="{{externalLink(interactor)}}" target="_blank"
                 title="More informations">{{ externalLinkName(interactor) }}
                <i class="icon icon-generic small" data-icon="x"
                   title="More informations"></i>
              </a>
            </div>
          </td>
          <!-- Interactors' stoichiometry -->
          <ng-container *ngFor="let complex of complexSearch.elements">
            <td>
              {{ (stochiometryOfInteractors(complex, interactor.id)) }}
              <ng-container *ngIf="(stochiometryOfInteractors(complex, interactor.id))==null">
                <!-- subcomplexes' interactors' stoichiometry -->
                {{ stoichiometryOfInteractorsMainTable(complex, interactor, complexSearch.elements) }}
              </ng-container>
            </td>
          </ng-container>
        </tr>
        <!-- Expandable menu for subcomplexes -->
        <ng-container *ngIf="buttonContainers[i]">
          <tr *ngFor="let el of (componentToComplex(interactor, complexSearch.elements)).components">
            <!-- Create an error when the components are not in the search results -->
            <td style="background: #6d8f94;">
              {{ el.interactorType }}
              {{ el.interactorName }}
              <a (click)="search(el.id)">
                <i class="icon icon-functional small" data-icon="1"
                   title="More complexes containing this interactor"></i>
              </a>
              <div *ngIf="showExternalLink(el)" class="interactorType">
                <a href="{{externalLink(el)}}" target="_blank" title="More informations">{{ externalLinkName(el) }}
                  <i class="icon icon-generic small" data-icon="x" title="More informations"></i>
                </a>
              </div>
            </td>
            <ng-container *ngFor="let complex of complexSearch.elements">
              <td style="background: #6d8f94;">
                {{ stochiometryOfInteractors(complex, el.id) }}
                {{ stoichiometryOfInteractorsExpandable(complex, el) }}
              </td>
            </ng-container>
          </tr>
        </ng-container>
      </ng-container>
    </ng-container>
  </table>
</div>
