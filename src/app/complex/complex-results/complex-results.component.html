<div class="margin-top-large margin-bottom-large row expanded">
  @if (complexSearch) {
    @if (complexSearch.totalNumberOfResults !== 0) {
      <div class="columns medium-12">
        <h2 class="padding-left-large">Total number of results: {{ complexSearch.totalNumberOfResults }} </h2>
        <div class="row expanded">
          <div class="columns medium-12">
            @if (isDisplayComplexNavigatorView()) {
              <cp-complex-navigator-rating>
              </cp-complex-navigator-rating>
            }
          </div>
          <div class="columns medium-12 large-2 no-padding">
            @if (filters) {
              <cp-complex-filter
                [(speciesFilter)]="filters.species"
                [(bioRoleFilter)]="filters.bioRole"
                [(interactorTypeFilter)]="filters.interactorType"
                [(predictedFilter)]="filters.predicted"
                [(minConfidence)]="confidenceFilter"
                [facets]="complexSearch.facets"
                (anyChange)="onAnyChange()"
                (onResetAllFilters)="onResetAllFilters()">
              </cp-complex-filter>
            }
          </div>
          <div class="columns medium-12 large-10">
            <div class="paginatorAndDisplay">
              <cp-complex-paginator class="paginator"
                                    [currentPageIndex]="currentPageIndex"
                                    [lastPageIndex]="lastPageIndex"
                                    (onPageChange)="onPageChange($event)">
              </cp-complex-paginator>

              <mat-tab-group [selectedIndex]="isDisplayComplexNavigatorView() ? 1 : 0"
                             (selectedTabChange)="onTabChange($event, list, navigatorTab)">
                <mat-tab label="List view" #list>
                  <cp-complex-list [complexSearch]="complexSearch"/>
                </mat-tab>
                <mat-tab label="Navigator view" #navigatorTab>
                  <div class="ComplexNavigator"
                       [ngClass]="complexSearch.totalNumberOfResults <=6 ? 'smallCN' : 'largeCN'">
                    <cp-complex-navigator class="Complex-navigator" #navigator
                                          [complexSearch]="complexSearch"
                                          [interactors]="allInteractorsInComplexSearch"
                                          (anyChange)="reloadPage()">
                    </cp-complex-navigator>
                  </div>
                </mat-tab>
              </mat-tab-group>
            </div>
            <cp-complex-paginator class="paginator"
                                  [currentPageIndex]="currentPageIndex"
                                  [lastPageIndex]="lastPageIndex"
                                  (onPageChange)="onPageChange($event)"></cp-complex-paginator>
          </div>
        </div>
      </div>
    }
    @if (complexSearch.totalNumberOfResults === 0) {
      <div class="columns medium-12 callout alert">
        <h2>No Complex Portal results found</h2>
        <h3>We're sorry but we couldn't find anything that matched your search for: <b>{{ query }}</b></h3>
        <h4>Please consider refining your terms:</h4>
        <ul>
          <li>Make sure all words are spelled correctly</li>
          <li>Try different keywords</li>
          <li>Be more precise: use gene or protein IDs, e.g. Ndc80 or Q04571</li>
          <li>Remove quotes around phrases to search for each word individually. bike shed will often show more results
            than "bike shed"
          </li>
        </ul>
      </div>
    }
  } @else {
    <cp-progress-spinner [query]="query"></cp-progress-spinner>
  }
</div>
