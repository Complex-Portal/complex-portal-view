!function(){"use strict";function e(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,l=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw l}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(self.webpackChunkcomplex_portal_view=self.webpackChunkcomplex_portal_view||[]).push([[878],{7878:function(t,i,r){r.r(i),r.d(i,{ComplexResultsModule:function(){return B}});var l=r(33018),o=r(38583),s=r(50473),c=r(18947),p=r(20658),d=r(83747),u=r(39075),g=r(8991),f=r(30048),h=r(23186),v=function(){function t(e,i,a,r,l,o){n(this,t),this.route=e,this.router=i,this.complexPortalService=a,this.titleService=r,this.googleAnalyticsService=l,this.notificationService=o,this.allInteractorsInComplexSearch=[],this.filters={species:[],bioRole:[],interactorType:[],predicted:[],evidenceType:[]},this._listPageSize=15,this._navigatorPageSize=20}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.titleService.setTitle("Complex Portal - Results"),this.allInteractorsInComplexSearch=[],this.route.fragment.subscribe(function(t){t===h.aA?e.DisplayType=h.aA:t===h.aM&&(e.DisplayType=h.aM),e.route.queryParams.subscribe(function(t){e.query=t.query,Object.keys(e.filters).forEach(function(n){return e.filters[n]=e.decodeURL(n,t)}),e.currentPageIndex=t.page?Number(t.page):1,e.requestComplexResults(),document.body.scrollTop=0})})}},{key:"ngAfterViewInit",value:function(){}},{key:"requestComplexResults",value:function(){var t=this;this.complexPortalService.findComplex(this.query,this.filters.species,this.filters.bioRole,this.filters.interactorType,this.filters.predicted,this.filters.evidenceType,this.currentPageIndex,this.pageSize).subscribe(function(n){if(t.complexSearch=n,t.processSearchResults(),t.allInteractorsInComplexSearch=[],0!==t.complexSearch.totalNumberOfResults){t.lastPageIndex=Math.ceil(n.totalNumberOfResults/t.pageSize);for(var i=0;i<n.elements.length;i++){var a,r=e(n.elements[i].interactors);try{var l=function(){var e=a.value;t.allInteractorsInComplexSearch.some(function(t){return t.identifier===e.identifier})||t.allInteractorsInComplexSearch.push(e)};for(r.s();!(a=r.n()).done;)l()}catch(o){r.e(o)}finally{r.f()}}}d.R.hide()})}},{key:"reloadPage",value:function(){var e=this,t={};t.query=this.query,t.page=this.currentPageIndex,Object.keys(this.filters).forEach(function(n){return e.encodeURL(e.filters[n],n,t)}),this.router.navigate([],{queryParams:t,fragment:this.DisplayType}),d.R.hide();var n=this.getFilterCount();1<n&&this.googleAnalyticsService.fireMultiFilterEvent(n.toString())}},{key:"encodeURL",value:function(e,t,n){return void 0!==e&&0!==e.length&&(n[t]=e.join().replace(/ /g,"_")),n[t]}},{key:"decodeURL",value:function(e,t){return t[e]?t[e].replace(/_/g," ").split(","):[]}},{key:"getFilterCount",value:function(){return Object.values(this.filters).reduce(function(e,t){return e+t.length},0)}},{key:"onPageChange",value:function(e){this.currentPageIndex=e,this.reloadPage()}},{key:"onResetAllFilters",value:function(){var e=this;Object.keys(this.filters).forEach(function(t){return e.filters[t]=[]}),this.currentPageIndex=1,this.reloadPage()}},{key:"onSpeciesFilterChanged",value:function(e){this.filters.species=e,this.currentPageIndex=1,this.reloadPage()}},{key:"onBiologicalRoleFilterChanged",value:function(e){this.filters.bioRole=e,this.currentPageIndex=1,this.reloadPage()}},{key:"onInteractorTypeFilterChanged",value:function(e){this.filters.interactorType=e,this.currentPageIndex=1,this.reloadPage()}},{key:"onPredictedFilterChanged",value:function(e){this.filters.predicted=e,this.currentPageIndex=1,this.reloadPage()}},{key:"onEvidenceTypeFilterChanged",value:function(e){this.filters.evidenceType=e,this.currentPageIndex=1,this.reloadPage()}},{key:"currentPageIndex",get:function(){return this.DisplayType===h.aA?this._navigatorCurrentPage:this._listCurrentPage},set:function(e){this.DisplayType===h.aA?this._navigatorCurrentPage=e:this._listCurrentPage=e}},{key:"lastPageIndex",get:function(){return this.DisplayType===h.aA?this._navigatorLastPageIndex:this._listLastPageIndex},set:function(e){this.DisplayType===h.aA?this._navigatorLastPageIndex=e:this._listLastPageIndex=e}},{key:"pageSize",get:function(){return this.DisplayType===h.aA?this._navigatorPageSize:this._listPageSize}},{key:"onDisplayTypeChange",value:function(e){this.DisplayType!==e&&(this.DisplayType=e,e===h.aM?this.setListView():e===h.aA&&this.setComplexNavigatorView())}},{key:"isDisplayComplexNavigatorView",value:function(){return this.DisplayType===h.aA}},{key:"setListView",value:function(){this._toast=this.notificationService.complexNavigatorAnnouncement(),this.reloadPage()}},{key:"setComplexNavigatorView",value:function(){this._toast&&(this.notificationService.closeAnnouncement(this._toast.toastId),this._toast=null),this.reloadPage()}},{key:"processSearchResults",value:function(){if(0===this.getFilterCount()&&1===this.complexSearch.totalNumberOfResults){var e=this.complexSearch.elements[0].complexAC;e&&(this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.router.navigate(["/complex",e]))}else this.DisplayType||(this.complexSearch.totalNumberOfResults<=this._navigatorPageSize?this.setComplexNavigatorView():this.setListView())}}]),t}();v.ctorParameters=function(){return[{type:c.gz},{type:c.F0},{type:p.H},{type:u.Dx},{type:g.y},{type:f.g}]},v=function(e,t,n,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,n,l):a(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l}([(0,l.wA2)({selector:"cp-complex-results",template:'<div class="margin-top-large margin-bottom-large row expanded">\n  <ng-container *ngIf="complexSearch;else loadingSpinner">\n    <div class="columns medium-12" *ngIf="complexSearch.totalNumberOfResults !== 0">\n      <h2 class="padding-left-large">Total number of results: {{ complexSearch.totalNumberOfResults }} </h2>\n      <div class="row expanded">\n        <div class="columns medium-12">\n          <cp-complex-navigator-rating *ngIf="isDisplayComplexNavigatorView()">\n          </cp-complex-navigator-rating>\n\n        </div>\n\n        <div class="columns medium-12 large-2 no-padding">\n          <cp-complex-filter *ngIf="filters"\n                             [speciesFilter]="filters.species"\n                             [bioRoleFilter]="filters.bioRole"\n                             [interactorTypeFilter]="filters.interactorType"\n                             [predictedFilter]="filters.predicted"\n                             [evidenceTypeFilter]="filters.evidenceType"\n                             [facets]="complexSearch.facets"\n                             (onResetAllFilters)="onResetAllFilters()"\n                             (onSpicesFilterChanged)="onSpeciesFilterChanged($event)"\n                             (onBiologicalRoleFilterChanged)="onBiologicalRoleFilterChanged($event)"\n                             (onInteractorTypeFilterChanged)="onInteractorTypeFilterChanged($event)"\n                             (onPredictedFilterChanged)="onPredictedFilterChanged($event)"\n                             (onEvidenceTypeFilterChanged)="onEvidenceTypeFilterChanged($event)">\n          </cp-complex-filter>\n        </div>\n        <div class="columns medium-12 large-10">\n          <div class="paginatorAndDisplay">\n            <cp-complex-list-display-buttons\n              [displayType]="DisplayType"\n              (displayTypeChange)="onDisplayTypeChange($event)">\n            </cp-complex-list-display-buttons>\n            <cp-complex-paginator class="paginator"\n                                  [currentPageIndex]="currentPageIndex"\n                                  [lastPageIndex]="lastPageIndex"\n                                  (onPageChange)="onPageChange($event)">\n            </cp-complex-paginator>\n          </div>\n          <div class="listOfResults">\n            <cp-complex-list *ngIf="!isDisplayComplexNavigatorView()"\n                             [complexSearch]="complexSearch">\n            </cp-complex-list>\n          </div>\n          <div class="ComplexNavigator" *ngIf="isDisplayComplexNavigatorView()"\n               [ngClass]="complexSearch.totalNumberOfResults <=6 ? \'smallCN\' : \'largeCN\'">\n            <cp-complex-navigator class="Complex-navigator"\n                                  [complexSearch]="complexSearch"\n                                  [interactors]="allInteractorsInComplexSearch"\n                                  [canAddComplexesToBasket]="true"\n                                  [canRemoveComplexesFromBasket]="false">\n            </cp-complex-navigator>\n          </div>\n          <cp-complex-paginator class="paginator"\n                                [currentPageIndex]="currentPageIndex"\n                                [lastPageIndex]="lastPageIndex"\n                                (onPageChange)="onPageChange($event)"></cp-complex-paginator>\n        </div>\n      </div>\n    </div>\n\n\n    <div class="columns medium-12 callout alert" *ngIf="complexSearch.totalNumberOfResults === 0">\n      <h2>No Complex Portal results found</h2>\n      <h3>We\'re sorry but we couldn\'t find anything that matched your search for: <b>{{ query }}</b></h3>\n      <h4>Please consider refining your terms:</h4>\n      <ul>\n        <li>Make sure all words are spelled correctly</li>\n        <li>Try different keywords</li>\n        <li>Be more precise: use gene or protein IDs, e.g. Ndc80 or Q04571</li>\n        <li>Remove quotes around phrases to search for each word individually. bike shed will often show more results\n          than "bike shed"\n        </li>\n      </ul>\n    </div>\n  </ng-container>\n  <ng-template #loadingSpinner>\n    <cp-progress-spinner [query]="query"></cp-progress-spinner>\n  </ng-template>\n</div>\n',styles:[s]})],v);var m=r(39606),y=function(){function e(){n(this,e),this.onPageChange=new l.vpe}return a(e,[{key:"ngOnInit",value:function(){this.updatePaginatior()}},{key:"ngOnChanges",value:function(e){this.updatePaginatior()}},{key:"updatePaginatior",value:function(){var e,t;for(this.pagination=[],this._lastPageIndex<5?(e=1,t=this._lastPageIndex):1===this._currentPageIndex||2===this._currentPageIndex?(e=1,t=5):this._currentPageIndex===this._lastPageIndex||this._currentPageIndex===this._lastPageIndex-1?(e=this._lastPageIndex-4,t=this._lastPageIndex):(e=this._currentPageIndex-2,t=this._currentPageIndex+2);e<=t;)e===this._currentPageIndex?this._pagination.push([[this._currentPageIndex],[!0]]):this._pagination.push([[e],[!1]]),e++}},{key:"getFirstPage",value:function(){this.onPageChange.emit(1)}},{key:"getLastPage",value:function(){this.onPageChange.emit(this.lastPageIndex)}},{key:"getPage",value:function(e){this.onPageChange.emit(e)}},{key:"getPreviousPage",value:function(){this.onPageChange.emit(this.currentPageIndex-1)}},{key:"getNextPage",value:function(){this.onPageChange.emit(this.currentPageIndex+1)}},{key:"lastPageIndex",get:function(){return this._lastPageIndex},set:function(e){this._lastPageIndex=e}},{key:"currentPageIndex",get:function(){return this._currentPageIndex},set:function(e){this._currentPageIndex=e}},{key:"pagination",get:function(){return this._pagination},set:function(e){this._pagination=e}}]),e}();y.ctorParameters=function(){return[]},y.propDecorators={onPageChange:[{type:l.r_U}],lastPageIndex:[{type:l.IIB}],currentPageIndex:[{type:l.IIB}]},y=function(e,t,n,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,n,l):a(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l}([(0,l.wA2)({selector:"cp-complex-paginator",template:'<div>\n  <h5 class="text-center">{{ currentPageIndex }} of {{ lastPageIndex }}</h5>\n  <ul class="pagination text-center" role="navigation" aria-label="Pagination">\n    <li class="arrow unavailable" *ngIf="currentPageIndex != 1" aria-disabled="true"><a\n      (click)="getFirstPage()">&Lang; First</a></li>\n    <li class="arrow unavailable" *ngIf="currentPageIndex != 1" aria-disabled="true"><a\n      (click)="getPreviousPage()">&lang; Previous</a></li>\n    <ng-container *ngFor="let index of pagination">\n      <li *ngIf="index[1] == \'true\'" class="current"><span class="show-for-sr">You\'re on page</span>{{ index[0] }}</li>\n      <li *ngIf="index[1] == \'false\'"><a (click)="getPage(index[0])">{{ index[0] }}</a></li>\n    </ng-container>\n    <li class="arrow" *ngIf="currentPageIndex != lastPageIndex"><a (click)="getNextPage()">Next &rang;</a></li>\n    <li class="arrow" *ngIf="currentPageIndex != lastPageIndex"><a (click)="getLastPage()">Last &Rang;</a></li>\n  </ul>\n</div>\n',styles:[m]})],y);var x=r(26531),b=r(82682),I=function(){function e(t){n(this,e),this.googleAnalyticsService=t,this.onSpicesFilterChanged=new l.vpe,this.onBiologicalRoleFilterChanged=new l.vpe,this.onInteractorTypeFilterChanged=new l.vpe,this.onPredictedFilterChanged=new l.vpe,this.onEvidenceTypeFilterChanged=new l.vpe,this.onResetAllFilters=new l.vpe}return a(e,[{key:"ngOnInit",value:function(){}},{key:"changeSpeciesFilter",value:function(e,t){t?(this.speciesFilter.push(e),this.googleAnalyticsService.fireAddedFilterEvent(e)):(this.speciesFilter.splice(this.speciesFilter.indexOf(e),1),this.googleAnalyticsService.fireRemovedFilterEvent(e)),this.onSpicesFilterChanged.emit(this.speciesFilter)}},{key:"changeBiologicalRoleFilter",value:function(e,t){t?(this.bioRoleFilter.push(e),this.googleAnalyticsService.fireAddedFilterEvent(e)):(this.bioRoleFilter.splice(this.bioRoleFilter.indexOf(e),1),this.googleAnalyticsService.fireRemovedFilterEvent(e)),this.onBiologicalRoleFilterChanged.emit(this.bioRoleFilter)}},{key:"changeInteractorTypeFilter",value:function(e,t){t?(this.interactorTypeFilter.push(e),this.googleAnalyticsService.fireAddedFilterEvent(e)):(this.interactorTypeFilter.splice(this.interactorTypeFilter.indexOf(e),1),this.googleAnalyticsService.fireRemovedFilterEvent(e)),this.onInteractorTypeFilterChanged.emit(this.interactorTypeFilter)}},{key:"changePredictedFilter",value:function(e,t){t?(this.predictedFilter.push(e),this.googleAnalyticsService.fireAddedFilterEvent(e)):(this.predictedFilter.splice(this.predictedFilter.indexOf(e),1),this.googleAnalyticsService.fireRemovedFilterEvent(e)),this.onPredictedFilterChanged.emit(this.predictedFilter)}},{key:"changeEvidenceTypeFilter",value:function(e,t){t?(this.evidenceTypeFilter.push(e),this.googleAnalyticsService.fireAddedFilterEvent(e)):(this.evidenceTypeFilter.splice(this.evidenceTypeFilter.indexOf(e),1),this.googleAnalyticsService.fireRemovedFilterEvent(e)),this.onEvidenceTypeFilterChanged.emit(this.evidenceTypeFilter)}},{key:"resetAllFilters",value:function(){this.onResetAllFilters.emit(!0)}},{key:"anyFiltersSelected",value:function(){return 0!==this.speciesFilter.length||0!==this.bioRoleFilter.length||0!==this.interactorTypeFilter.length||0!==this.predictedFilter.length||0!==this.evidenceTypeFilter.length}},{key:"isSelected",value:function(e,t){return-1!==t.indexOf(e)}},{key:"facetTypeIcon",value:function(e){return(0,b.pt)(e)}},{key:"facetOrganismIcon",value:function(e){return(0,b.ND)(e)}},{key:"formatPredictedFacetValue",value:function(e){return"true"===e?"Predicted complex":"Curated complex"}},{key:"formatEvidenceTypeFacetValue",value:function(e){return(0,b.NS)(e)||e}}]),e}();I.ctorParameters=function(){return[{type:g.y}]},I.propDecorators={facets:[{type:l.IIB}],speciesFilter:[{type:l.IIB}],bioRoleFilter:[{type:l.IIB}],interactorTypeFilter:[{type:l.IIB}],predictedFilter:[{type:l.IIB}],evidenceTypeFilter:[{type:l.IIB}],onSpicesFilterChanged:[{type:l.r_U}],onBiologicalRoleFilterChanged:[{type:l.r_U}],onInteractorTypeFilterChanged:[{type:l.r_U}],onPredictedFilterChanged:[{type:l.r_U}],onEvidenceTypeFilterChanged:[{type:l.r_U}],onResetAllFilters:[{type:l.r_U}]},I=function(e,t,n,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,n,l):a(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l}([(0,l.wA2)({selector:"cp-complex-filter",template:'<div class="filters row">\n  <div class="columns medium-6"><h3>Filters</h3></div>\n  <div class="columns medium-6">\n    <div *ngIf="anyFiltersSelected()">\n      <a class="button" (click)="resetAllFilters()"><i class="icon icon-common" data-icon="\uf1f8"></i> Reset filters</a>\n    </div>\n  </div>\n  <div class="columns medium-12">\n    <div *ngIf="facets.predicted_complex_f">\n      <b>Complex Type</b>\n      <ul class="no-bullet">\n        <li *ngFor="let facet of facets.predicted_complex_f" [class.predicted]="facet.name === \'true\'">\n          <label>\n            <input type="checkbox" #filter value="{{facet.name}}"\n                   (change)="changePredictedFilter(filter.value, filter.checked)"\n                   [checked]="isSelected(facet.name, predictedFilter)">\n            <span class="tag">{{ formatPredictedFacetValue(facet.name) }}</span><span class="count">{{ facet.count }}</span>\n          </label>\n        </li>\n      </ul>\n    </div>\n\n    <div *ngIf="facets.species_f">\n      <b>Species</b>\n      <ul class="no-bullet">\n        <li *ngFor="let facet of facets.species_f">\n          <label [matTooltip]="facet.name">\n            <input type="checkbox" #filter value="{{facet.name}}"\n                   (change)="changeSpeciesFilter(filter.value, filter.checked)"\n                   [checked]="isSelected(facet.name, speciesFilter)">\n\n            <span>\n              <i *ngIf="facetOrganismIcon(facet.name).startsWith(\'icon\'); else img"\n                 [ngClass]="facetOrganismIcon(facet.name)" style="font-size: large;"></i>\n            <ng-template #img>\n              <img [src]="facetOrganismIcon(facet.name)" alt="" width="18px" height="18px"/>\n            </ng-template>\n            </span>\n\n            {{ facet.name | species:true }} <span class="count">{{ facet.count }}</span>\n          </label>\n        </li>\n      </ul>\n    </div>\n\n    <div *ngIf="facets.pbiorole_f">\n      <b>Biological Role</b>\n      <ul class="no-bullet">\n        <li *ngFor="let facet of facets.pbiorole_f">\n          <label>\n            <input type="checkbox" #filter value="{{facet.name}}"\n                   (change)="changeBiologicalRoleFilter(filter.value, filter.checked)"\n                   [checked]="isSelected(facet.name, bioRoleFilter)">\n\n            {{ facet.name }} <span class="count">{{ facet.count }}</span>\n          </label>\n        </li>\n      </ul>\n    </div>\n\n    <div *ngIf="facets.ptype_f">\n      <b>Component Type</b>\n      <ul class="no-bullet">\n        <li *ngFor="let facet of facets.ptype_f">\n          <label>\n            <input type="checkbox" #filter value="{{facet.name}}"\n                   (change)="changeInteractorTypeFilter(filter.value, filter.checked)"\n                   [checked]="isSelected(facet.name, interactorTypeFilter)">\n\n            <span >\n              <i [ngClass]="facetTypeIcon(facet.name)" style="font-size: large;"></i>\n            </span>\n            {{ facet.name }} <span class="count">{{ facet.count }}</span>\n          </label>\n        </li>\n      </ul>\n    </div>\n\n    <div *ngIf="facets.evidence_type_f">\n      <b>Evidence Type</b>\n      <ul class="no-bullet">\n        <li *ngFor="let facet of facets.evidence_type_f">\n          <label>\n            <input type="checkbox" #filter value="{{facet.name}}"\n                   (change)="changeEvidenceTypeFilter(filter.value, filter.checked)"\n                   [checked]="isSelected(facet.name, evidenceTypeFilter)">\n\n            {{ formatEvidenceTypeFacetValue(facet.name) }} <span class="count">{{ facet.count }}</span>\n          </label>\n        </li>\n      </ul>\n    </div>\n\n    <div *ngIf="!facets.species_f && !facets.pbiorole_f && !facets.ptype_f && !facets.predicted_complex_f && !facets.evidence_type_f">\n      <h6>No filters available</h6>\n    </div>\n  </div>\n</div>\n',styles:[x]})],I);var P=r(82328),k=r(69510),C=function(){function e(t){n(this,e),this.basketService=t}return a(e,[{key:"ngOnInit",value:function(){}},{key:"saveComplex",value:function(e){this.basketService.saveInBasket(e)}},{key:"removeComplexFromBasket",value:function(e){this.basketService.deleteFromBasket(e.complexAC)}},{key:"isInBasket",value:function(e){return this.basketService.isInBasket(e.complexAC)}},{key:"toggleBasket",value:function(e){this.isInBasket(e)?this.removeComplexFromBasket(e):this.saveComplex(e)}}]),e}();C.ctorParameters=function(){return[{type:k.v}]},C.propDecorators={complexSearch:[{type:l.IIB}]},C=function(e,t,n,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,n,l):a(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l}([(0,l.wA2)({selector:"cp-complex-list",template:'<ul class="no-bullet">\n  <li *ngFor="let complex of complexSearch.elements" [class.predicted]="complex.predictedComplex">\n    <div class="container">\n      <div class="basketButtonContainer"\n           [matTooltip]="isInBasket(complex) ? \'Remove from basket\' : \'Add to basket\'">\n        <a class="button" (click)="toggleBasket(complex)">\n          <i class="icon icon-common" [attr.data-icon]="isInBasket(complex) ? \'\uf1f8\':\'\uf217\'"></i>\n        </a>\n      </div>\n      <div class="complexesAndDescription">\n        <h3>\n          <a [routerLink]="[\'/complex\', complex.complexAC]">{{ complex.complexName }}</a></h3>\n        <div class="description" style="background-color: white">\n          <b>Complex AC:</b> {{ complex.complexAC }} \xb7 <b>Organism:</b> {{ complex.organismName | species }}\n          \xb7 <b class="tag">{{ !complex.predictedComplex ? \'Curated\' : \'Predicted\'}} complex</b>\n          <br>\n          <ng-container *ngIf="complex.description">\n            <b>Description:</b>\n            <div *ngIf="complex.description.length <= 250">\n              {{ complex.description }}<a [routerLink]="[\'/complex\', complex.complexAC]">...</a>\n            </div>\n            <div *ngIf="complex.description.length > 250">\n              {{ complex.description.substr(0, 250) }}<a [routerLink]="[\'/complex\', complex.complexAC]">...</a>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  </li>\n</ul>\n',styles:[P]})],C);var F=r(64356),R=r(76715),S=r(32696),w=r(82868),T="already_rated",_=function(){function e(t){n(this,e),this.analyticsService=t,this.hidden=!1}return a(e,[{key:"ngOnInit",value:function(){this.hidden="true"===localStorage.getItem(T)||!1}},{key:"selectRating",value:function(e){var t=this;this.selectedRating=e,this.analyticsService.rateComplexNavigator(this.selectedRating),localStorage.setItem(T,"true"),setTimeout(function(){return t.hidden=!0},2e3)}}]),e}();_.ctorParameters=function(){return[{type:g.y}]},_=function(e,t,n,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,n,l):a(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l}([(0,l.wA2)({selector:"cp-complex-navigator-rating",template:'<div class="ratingComponent" *ngIf="!hidden">\n  <div class="buttonContainer">\n    <button class="close" id="closePopup" (click)="hidden = true">&times;</button>\n  </div>\n  <div class="text">\n    <p>Tell us about your experience with the Complex Navigator!</p>\n  </div>\n  <div class="ratingComponentStars">\n    <span class="star" [ngClass]="{\'selected\': selectedRating >= 1}" (click)="selectRating(1)"> &#9733; </span>\n    <span class="star" [ngClass]="{\'selected\': selectedRating >= 2}" (click)="selectRating(2)"> &#9733; </span>\n    <span class="star" [ngClass]="{\'selected\': selectedRating >= 3}" (click)="selectRating(3)"> &#9733; </span>\n    <span class="star" [ngClass]="{\'selected\': selectedRating >= 4}" (click)="selectRating(4)"> &#9733; </span>\n    <span class="star" [ngClass]="{\'selected\': selectedRating >= 5}" (click)="selectRating(5)"> &#9733; </span>\n  </div>\n</div>\n',styles:[w]})],_);var A=r(78168),O=r(26330),B=function e(){n(this,e)};B=function(e,t,n,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,n,l):a(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l}([(0,l.LVF)({imports:[c.Bz.forChild([{path:"",component:v}]),o.ez,F.L,R.JP,S.r,A.AV,O.ComplexModule],exports:[],declarations:[v,C,I,y,_]})],B)},26531:function(e){e.exports="input {\n  margin: 0;\n  vertical-align: middle;\n}\n\n.icon, img {\n  vertical-align: middle;\n  margin: 0 2px;\n}\n\nlabel {\n  line-height: 1.8;\n  vertical-align: middle;\n}\n\n.count {\n  padding: 0 4px;\n  border-radius: 50px;\n  border: 1px solid black;\n  font-size: small;\n}\n\n.tag ~ .count {\n  margin-left: 6px;\n}\n\n.predicted .count {\n  border: 1px solid black;\n}\n\ninput:checked ~ .count {\n  background: var(--primary);\n  color: var(--on-primary);\n  font-weight: bold;\n  border: 1px solid var(--primary);\n}\n"},82328:function(e){e.exports=".description {\n  width: 90%;\n  text-align: justify;\n}\n\n.container {\n  display: inline-flex;\n  width: -webkit-fill-available;\n}\n\n.complexesAndDescription {\n  padding: 10px;\n  width: 95%;\n}\n\n.basketButtonContainer {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -webkit-fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin-top: 10px;\n}\n\n.basket-icons {\n  margin-left: 5px;\n}\n\n"},82868:function(e){e.exports=".star {\n  font-size: 1.5em;\n  cursor: pointer;\n  color: white;\n}\n\n.star.selected {\n  color: gold;\n}\n\n.ratingComponent {\n  background-color: var(--primary);\n  padding: 5px;\n  width: 350px;\n  text-align: center;\n  position: fixed;\n  z-index: 5;\n  top: 54vh;\n  right: -350px;\n  border: 1px solid white;\n  visibility: hidden;\n  -webkit-animation: ratingComponentMove 1s forwards 7s;\n          animation: ratingComponentMove 1s forwards 7s;\n}\n\n.ratingComponent input {\n  background-color: white;\n  color: var(--primary);\n}\n\n.text {\n  display: -webkit-box;\n  color: white;\n  width: 96%;\n  text-align: -webkit-center;\n  padding-left: 10px;\n  margin-bottom: -15px;\n}\n\n@-webkit-keyframes ratingComponentMove {\n  from {\n    right: -10vw;\n    visibility: visible;\n  }\n  to {\n    right: 4vw;\n    visibility: visible;\n  }\n}\n\n@keyframes ratingComponentMove {\n  from {\n    right: -10vw;\n    visibility: visible;\n  }\n  to {\n    right: 4vw;\n    visibility: visible;\n  }\n}\n\n.buttonContainer {\n  width: 100%;\n  height: 1ch;\n  text-align: end;\n  padding-right: 5px;\n}\n\n.close {\n  color: white;\n}\n\n.ratingComponentStars {\n  padding-bottom: 5px;\n}\n"},39606:function(e){e.exports=""},50473:function(e){e.exports=".listOfResults {\n  width: 70%;\n  margin-left: auto;\n  margin-right: auto;\n}\n"}}])}();