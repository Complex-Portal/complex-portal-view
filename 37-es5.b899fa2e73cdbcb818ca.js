!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==i.return||i.return()}finally{if(s)throw a}}}}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(self.webpackChunkcomplex_portal_view=self.webpackChunkcomplex_portal_view||[]).push([[37],{35037:function(n,i,o){o.r(i),o.d(i,{ComplexResultsModule:function(){return ut}});var c=o(38583),s=o(57040),l=function(){function e(t,n,i,o,a,c){r(this,e),this._identifier=t,this._identifierLink=n,this._name=i,this._description=o,this._interactorType=a,this._organismName=c}return a(e,[{key:"identifier",get:function(){return this._identifier}},{key:"identifierLink",get:function(){return this._identifierLink}},{key:"name",get:function(){return this._name}},{key:"description",get:function(){return this._description}},{key:"interactorType",get:function(){return this._interactorType}},{key:"organismName",get:function(){return this._organismName}}]),e}(),p=o(10639),u=o(35076),g=o(20658),d=o(39075),h=o(8991),f=o(30048);function m(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"li",5),p.TgZ(1,"a",6),p.NdJ("click",function(){return p.CHM(n),p.oxw().getFirstPage()}),p._uU(2,"\u27ea First"),p.qZA(),p.qZA()}}function x(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"li",5),p.TgZ(1,"a",6),p.NdJ("click",function(){return p.CHM(n),p.oxw().getPreviousPage()}),p._uU(2,"\u27e8 Previous"),p.qZA(),p.qZA()}}function y(e,t){if(1&e&&(p.TgZ(0,"li",9),p.TgZ(1,"span",10),p._uU(2,"You're on page"),p.qZA(),p._uU(3),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(3),p.Oqu(n[0])}}function v(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"li"),p.TgZ(1,"a",6),p.NdJ("click",function(){p.CHM(n);var e=p.oxw().$implicit;return p.oxw().getPage(e[0])}),p._uU(2),p.qZA(),p.qZA()}if(2&e){var i=p.oxw().$implicit;p.xp6(2),p.Oqu(i[0])}}function I(e,t){if(1&e&&(p.ynx(0),p.YNc(1,y,4,1,"li",7),p.YNc(2,v,3,1,"li",8),p.BQk()),2&e){var n=t.$implicit;p.xp6(1),p.Q6J("ngIf","true"==n[1]),p.xp6(1),p.Q6J("ngIf","false"==n[1])}}function C(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"li",11),p.TgZ(1,"a",6),p.NdJ("click",function(){return p.CHM(n),p.oxw().getNextPage()}),p._uU(2,"Next \u27e9"),p.qZA(),p.qZA()}}function T(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"li",11),p.TgZ(1,"a",6),p.NdJ("click",function(){return p.CHM(n),p.oxw().getLastPage()}),p._uU(2,"Last \u27eb"),p.qZA(),p.qZA()}}var b,Z=((b=function(){function e(){r(this,e),this.onPageChange=new p.vpe}return a(e,[{key:"ngOnInit",value:function(){this.updatePaginatior()}},{key:"ngOnChanges",value:function(e){this.updatePaginatior()}},{key:"updatePaginatior",value:function(){var e,t;for(this.pagination=[],this._lastPageIndex<5?(e=1,t=this._lastPageIndex):1===this._currentPageIndex||2===this._currentPageIndex?(e=1,t=5):this._currentPageIndex===this._lastPageIndex||this._currentPageIndex===this._lastPageIndex-1?(e=this._lastPageIndex-4,t=this._lastPageIndex):(e=this._currentPageIndex-2,t=this._currentPageIndex+2);e<=t;)this._pagination.push(e===this._currentPageIndex?[[this._currentPageIndex],[!0]]:[[e],[!1]]),e++}},{key:"getFirstPage",value:function(){this.onPageChange.emit(1)}},{key:"getLastPage",value:function(){this.onPageChange.emit(this.lastPageIndex)}},{key:"getPage",value:function(e){this.onPageChange.emit(e)}},{key:"getPreviousPage",value:function(){this.onPageChange.emit(this.currentPageIndex-1)}},{key:"getNextPage",value:function(){this.onPageChange.emit(this.currentPageIndex+1)}},{key:"lastPageIndex",get:function(){return this._lastPageIndex},set:function(e){this._lastPageIndex=e}},{key:"currentPageIndex",get:function(){return this._currentPageIndex},set:function(e){this._currentPageIndex=e}},{key:"pagination",get:function(){return this._pagination},set:function(e){this._pagination=e}}]),e}()).\u0275fac=function(e){return new(e||b)},b.\u0275cmp=p.Xpm({type:b,selectors:[["cp-complex-paginator"]],inputs:{lastPageIndex:"lastPageIndex",currentPageIndex:"currentPageIndex"},outputs:{onPageChange:"onPageChange"},features:[p.TTD],decls:9,vars:7,consts:[[1,"text-center"],["role","navigation","aria-label","Pagination",1,"pagination","text-center"],["class","arrow unavailable","aria-disabled","true",4,"ngIf"],[4,"ngFor","ngForOf"],["class","arrow",4,"ngIf"],["aria-disabled","true",1,"arrow","unavailable"],[3,"click"],["class","current",4,"ngIf"],[4,"ngIf"],[1,"current"],[1,"show-for-sr"],[1,"arrow"]],template:function(e,t){1&e&&(p.TgZ(0,"div"),p.TgZ(1,"h5",0),p._uU(2),p.qZA(),p.TgZ(3,"ul",1),p.YNc(4,m,3,0,"li",2),p.YNc(5,x,3,0,"li",2),p.YNc(6,I,3,2,"ng-container",3),p.YNc(7,C,3,0,"li",4),p.YNc(8,T,3,0,"li",4),p.qZA(),p.qZA()),2&e&&(p.xp6(2),p.AsE("",t.currentPageIndex," of ",t.lastPageIndex,""),p.xp6(2),p.Q6J("ngIf",1!=t.currentPageIndex),p.xp6(1),p.Q6J("ngIf",1!=t.currentPageIndex),p.xp6(1),p.Q6J("ngForOf",t.pagination),p.xp6(1),p.Q6J("ngIf",t.currentPageIndex!=t.lastPageIndex),p.xp6(1),p.Q6J("ngIf",t.currentPageIndex!=t.lastPageIndex))},directives:[c.O5,c.sg],styles:[""]}),b),_=function(e){return{selected:e}};function w(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",1),p.TgZ(1,"div",2),p.TgZ(2,"button",3),p.NdJ("click",function(){return p.CHM(n),p.oxw().ratingVisibility()}),p._uU(3,"\xd7"),p.qZA(),p.qZA(),p.TgZ(4,"div",4),p.TgZ(5,"p"),p._uU(6,"Tell us about your experience with the Complex Navigator!"),p.qZA(),p.qZA(),p.TgZ(7,"div",5),p.TgZ(8,"span",6),p.NdJ("click",function(){return p.CHM(n),p.oxw().selectRating(1)}),p._uU(9," \u2605 "),p.qZA(),p.TgZ(10,"span",6),p.NdJ("click",function(){return p.CHM(n),p.oxw().selectRating(2)}),p._uU(11," \u2605 "),p.qZA(),p.TgZ(12,"span",6),p.NdJ("click",function(){return p.CHM(n),p.oxw().selectRating(3)}),p._uU(13," \u2605 "),p.qZA(),p.TgZ(14,"span",6),p.NdJ("click",function(){return p.CHM(n),p.oxw().selectRating(4)}),p._uU(15," \u2605 "),p.qZA(),p.TgZ(16,"span",6),p.NdJ("click",function(){return p.CHM(n),p.oxw().selectRating(5)}),p._uU(17," \u2605 "),p.qZA(),p.qZA(),p.qZA()}if(2&e){var i=p.oxw();p.xp6(8),p.Q6J("ngClass",p.VKq(5,_,i.selectedRating>=1)),p.xp6(2),p.Q6J("ngClass",p.VKq(7,_,i.selectedRating>=2)),p.xp6(2),p.Q6J("ngClass",p.VKq(9,_,i.selectedRating>=3)),p.xp6(2),p.Q6J("ngClass",p.VKq(11,_,i.selectedRating>=4)),p.xp6(2),p.Q6J("ngClass",p.VKq(13,_,i.selectedRating>=5))}}var k=function(){var e=function(){function e(t){r(this,e),this.analyticsService=t,this.visible=!0}return a(e,[{key:"selectRating",value:function(e){this.selectedRating=e,this.analyticsService.rateComplexNavigator(this.selectedRating),this.ratingVisibility()}},{key:"ratingVisibility",value:function(){this.visible=!1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(h.y))},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-complex-navigator-rating"]],decls:1,vars:1,consts:[["class","ratingComponent",4,"ngIf"],[1,"ratingComponent"],[1,"buttonContainer"],["id","closePopup",1,"close",3,"click"],[1,"text"],[1,"ratingComponentStars"],[1,"star",3,"ngClass","click"]],template:function(e,t){1&e&&p.YNc(0,w,18,15,"div",0),2&e&&p.Q6J("ngIf",!0===t.visible)},directives:[c.O5,c.mk],styles:[".star[_ngcontent-%COMP%]{font-size:1.5em;cursor:pointer;color:#fff}.star.selected[_ngcontent-%COMP%]{color:gold}.ratingComponent[_ngcontent-%COMP%]{background-color:#007c82;padding:5px;width:20%;text-align:center;margin-left:92%;margin-top:-5%;position:fixed;z-index:5;top:20em;left:-13%;border:1px solid white;animation-name:ratingComponentMove;animation-duration:1s}.ratingComponent[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff;color:#007c82}.text[_ngcontent-%COMP%]{display:-webkit-box;color:#fff;width:96%;text-align:-webkit-center;padding-left:10px;margin-bottom:-15px}@keyframes ratingComponentMove{0%{left:10%}to{left:-13%}}.buttonContainer[_ngcontent-%COMP%]{width:100%;height:1ch;text-align:end;padding-right:5px}.close[_ngcontent-%COMP%]{color:#fff}.ratingComponentStars[_ngcontent-%COMP%]{padding-bottom:5px}"]}),e}();function A(e){switch(e){case"small molecule":return"icon icon-conceptual icon-chemical";case"protein":case"peptide":return"icon icon-conceptual icon-structures-3d";case"stable complex":return"icon icon-conceptual icon-systems";case"molecule set":return"icon icon-generic icon-math";case"single stranded deoxyribonucleic acid":case"double stranded deoxyribonucleic acid":case"small nuclear rna":case"small nucleolar rna":case"ribosomal rna":case"messenger rna":case"transfer rna":case"signal recognition particle rna":case"ribonucleic acid":case"nucleic acid":case"long non-coding ribonucleic acid":return"icon icon-conceptual icon-dna"}}function S(e){switch(function(e){if(e.includes(";")){var t=e.indexOf(";");return e.substring(0,t)}return e}(e)){case"Homo sapiens":case"Homo sapiens; 9606":return"icon icon-species icon-human";case"Mus musculus":case"Mus musculus; 10090":return"icon icon-species icon-mouse";case"Saccharomyces cerevisiae (strain ATCC 204508 / S288c)":case"Schizosaccharomyces pombe (strain 972 / ATCC 24843)":case"Saccharomyces cerevisiae; 559292":return"icon icon-species icon-yeast";case"Escherichia coli (strain K12)":case"Escherichia coli":case"Escherichia coli (strain K12); 83333":case"Escherichia coli; 562":case"Pseudomonas aeruginosa (strain ATCC 15692 / DSM 22644 / CIP 104116 / JCM 14847 / LMG 12228 / 1C / PRS 101 / PAO1)":case"Pseudomonas aeruginosa (strain ATCC 15692 / PAO1 / 1C / PRS 101 / LMG 12228); 208964":return"icon icon-species icon-ecoli";case"Rattus norvegicus":case"Rattus norvegicus (Rat)":case"Rattus norvegicus (Rat); 10116":return"icon icon-species icon-rat";case"Caenorhabditis elegans":case"Caenorhabditis elegans; 6239":return"icon icon-species icon-c-elegans";case"Gallus gallus":case"Gallus gallus (Chicken); 9031":return"icon icon-species icon-chicken";case"Drosophila melanogaster":case"Drosophila melanogaster (Fruit fly); 7227":return"icon icon-species icon-fly";case"Bos taurus":case"Bos taurus (Bovine); 9913":return"icon icon-species icon-cow";case"Oryctolagus cuniculus":case"Oryctolagus cuniculus (Rabbit); 9986":return"icon icon-species icon-rabbit";case"Ovis aries":case"Ovis aries (Sheep); 9940":return"icon icon-species icon-sheep";case"Xenopus laevis":case"Xenopus laevis (African clawed frog); 8355":return"icon icon-species icon-frog";case"Canis lupus familiaris":case"Canis familiaris (dog); 9615":return"icon icon-species icon-dog";case"Vibrio cholerae serotype O1 (strain ATCC 39315 / El Tor Inaba N16961)":case"Vibrio cholerae; 243277":return"assets/images/EMBL_Species_Vibrio_cholerae.svg";case"Crotalus durissus terrificus":case"Crotalus durissus terrificus; 8732":return"assets/images/EMBL_Species_RattleSnake.svg";case"Sus scrofa":case"Sus scrofa (Pig); 9823":return"icon icon-species icon-pig";case"Torpedo marmorata":case"Tetronarce californica":case"Torpedo marmorata; 7788":case"Torpedo californica (Pacific electric ray); 7787":return"icon icon-species icon-ray";case"Lymnaea stagnalis":case"Lymnaea stagnalis; 6523":return"icon icon-species icon-snail";case"Arabidopsis thaliana":case"Arabidopsis thaliana (Mouse-ear cress); 3702":return"icon icon-species icon-brassica";case"Danio rerio":case"Danio rerio (Zebrafish); 7955":return"icon icon-species icon-zebrafish";case"Severe acute respiratory syndrome coronavirus":case"Human SARS coronavirus; 694009":case"SARS-CoV-2; 2697049":case"Severe acute respiratory syndrome coronavirus 2":case"Middle East respiratory syndrome-related coronavirus (isolate United Kingdom/H123990006/2012)":case"Middle East respiratory syndrome-related coronavirus (isolate United Kingdom/H123990006/2012) (Betacoronavirus England 1); 1263720":case"Human betacoronavirus 2c EMC/2012":case"Human betacoronavirus 2c EMC/2012; 1235996":return"icon icon-species icon-virus"}return" "}function O(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"a",4),p.NdJ("click",function(){return p.CHM(n),p.oxw().resetAllFilters()}),p._UZ(2,"i",5),p._uU(3," Reset filters"),p.qZA(),p.qZA()}}function P(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"input",11,12),p.NdJ("change",function(){p.CHM(n);var e=p.MAs(2);return p.oxw(3).changeSpeciesFilter(e.value,e.checked)}),p.qZA(),p._uU(3),p._UZ(4,"i",13),p.qZA()}if(2&e){var i=p.oxw().$implicit,r=p.oxw(2);p.xp6(1),p.s9C("value",i.name),p.xp6(2),p.AsE(" ",i.name," (",i.count,") "),p.xp6(1),p.Tol(r.facetOrganismIcon(i.name))}}function D(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"input",14,12),p.NdJ("change",function(){p.CHM(n);var e=p.MAs(2);return p.oxw(3).changeSpeciesFilter(e.value,e.checked)}),p.qZA(),p._uU(3),p._UZ(4,"i",13),p.qZA()}if(2&e){var i=p.oxw().$implicit,r=p.oxw(2);p.xp6(1),p.s9C("value",i.name),p.xp6(2),p.AsE(" ",i.name," (",i.count,") "),p.xp6(1),p.Tol(r.facetOrganismIcon(i.name))}}function M(e,t){if(1&e&&(p.TgZ(0,"li"),p.TgZ(1,"div",8),p.YNc(2,P,5,6,"div",9),p.YNc(3,D,5,6,"div",10),p.qZA(),p.qZA()),2&e){var n=t.$implicit,i=p.oxw(2);p.xp6(1),p.Q6J("ngSwitch",i.isSelected(n.name,i.spicesFilter)),p.xp6(1),p.Q6J("ngSwitchCase",!0)}}function q(e,t){if(1&e&&(p.TgZ(0,"div"),p.TgZ(1,"b"),p._uU(2,"Species"),p.qZA(),p.TgZ(3,"ul",6),p.YNc(4,M,4,2,"li",7),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(4),p.Q6J("ngForOf",n.facets.species_f)}}function F(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"input",11,12),p.NdJ("change",function(){p.CHM(n);var e=p.MAs(2);return p.oxw(3).changeBiologicalRoleFilter(e.value,e.checked)}),p.qZA(),p._uU(3),p.qZA()}if(2&e){var i=p.oxw().$implicit;p.xp6(1),p.s9C("value",i.name),p.xp6(2),p.AsE(" ",i.name," (",i.count,") ")}}function N(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"input",14,12),p.NdJ("change",function(){p.CHM(n);var e=p.MAs(2);return p.oxw(3).changeBiologicalRoleFilter(e.value,e.checked)}),p.qZA(),p._uU(3),p.qZA()}if(2&e){var i=p.oxw().$implicit;p.xp6(1),p.s9C("value",i.name),p.xp6(2),p.AsE(" ",i.name," (",i.count,") ")}}function J(e,t){if(1&e&&(p.TgZ(0,"li"),p.TgZ(1,"div",8),p.YNc(2,F,4,3,"div",9),p.YNc(3,N,4,3,"div",10),p.qZA(),p.qZA()),2&e){var n=t.$implicit,i=p.oxw(2);p.xp6(1),p.Q6J("ngSwitch",i.isSelected(n.name,i.bioRoleFilter)),p.xp6(1),p.Q6J("ngSwitchCase",!0)}}function L(e,t){if(1&e&&(p.TgZ(0,"div"),p.TgZ(1,"b"),p._uU(2,"Biological Role"),p.qZA(),p.TgZ(3,"ul",6),p.YNc(4,J,4,2,"li",7),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(4),p.Q6J("ngForOf",n.facets.pbiorole_f)}}function V(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"input",11,12),p.NdJ("change",function(){p.CHM(n);var e=p.MAs(2);return p.oxw(3).changeInteractorTypeFilter(e.value,e.checked)}),p.qZA(),p._uU(3),p._UZ(4,"i",13),p.qZA()}if(2&e){var i=p.oxw().$implicit,r=p.oxw(2);p.xp6(1),p.s9C("value",i.name),p.xp6(2),p.AsE(" ",i.name," (",i.count,") "),p.xp6(1),p.Tol(r.facetTypeIcon(i))}}function Q(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"input",14,12),p.NdJ("change",function(){p.CHM(n);var e=p.MAs(2);return p.oxw(3).changeInteractorTypeFilter(e.value,e.checked)}),p.qZA(),p._uU(3),p._UZ(4,"i",13),p.qZA()}if(2&e){var i=p.oxw().$implicit,r=p.oxw(2);p.xp6(1),p.s9C("value",i.name),p.xp6(2),p.AsE(" ",i.name," (",i.count,") "),p.xp6(1),p.Tol(r.facetTypeIcon(i))}}function R(e,t){if(1&e&&(p.TgZ(0,"li"),p.TgZ(1,"div",8),p.YNc(2,V,5,6,"div",9),p.YNc(3,Q,5,6,"div",10),p.qZA(),p.qZA()),2&e){var n=t.$implicit,i=p.oxw(2);p.xp6(1),p.Q6J("ngSwitch",i.isSelected(n.name,i.interactorTypeFilter)),p.xp6(1),p.Q6J("ngSwitchCase",!0)}}function U(e,t){if(1&e&&(p.TgZ(0,"div"),p.TgZ(1,"b"),p._uU(2,"Interactor Type"),p.qZA(),p.TgZ(3,"ul",6),p.YNc(4,R,4,2,"li",7),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(4),p.Q6J("ngForOf",n.facets.ptype_f)}}function E(e,t){1&e&&(p.TgZ(0,"div"),p.TgZ(1,"h6"),p._uU(2,"No filters available"),p.qZA(),p.qZA())}var H=function(){var e=function(){function e(t){r(this,e),this.googleAnalyticsService=t,this.onSpicesFilterChanged=new p.vpe,this.onBiologicalRoleFilterChanged=new p.vpe,this.onInteractorTypeFilterChanged=new p.vpe,this.onResetAllFilters=new p.vpe}return a(e,[{key:"ngOnInit",value:function(){}},{key:"changeSpeciesFilter",value:function(e,t){t?(this.spicesFilter.push(e),this.googleAnalyticsService.fireAddedFilterEvent(e)):(this.spicesFilter.splice(this.spicesFilter.indexOf(e),1),this.googleAnalyticsService.fireRemovedFilterEvent(e)),this.onSpicesFilterChanged.emit(this.spicesFilter)}},{key:"changeBiologicalRoleFilter",value:function(e,t){t?(this.bioRoleFilter.push(e),this.googleAnalyticsService.fireAddedFilterEvent(e)):(this.bioRoleFilter.splice(this.bioRoleFilter.indexOf(e),1),this.googleAnalyticsService.fireRemovedFilterEvent(e)),this.onBiologicalRoleFilterChanged.emit(this.bioRoleFilter)}},{key:"changeInteractorTypeFilter",value:function(e,t){t?(this.interactorTypeFilter.push(e),this.googleAnalyticsService.fireAddedFilterEvent(e)):(this.interactorTypeFilter.splice(this.interactorTypeFilter.indexOf(e),1),this.googleAnalyticsService.fireRemovedFilterEvent(e)),this.onInteractorTypeFilterChanged.emit(this.interactorTypeFilter)}},{key:"resetAllFilters",value:function(){this.onResetAllFilters.emit(!0)}},{key:"anyFiltersSelected",value:function(){return 0!==this._spicesFilter.length||0!==this._bioRoleFilter.length||0!==this._interactorTypeFilter.length}},{key:"isSelected",value:function(e,t){return-1!==t.indexOf(e)}},{key:"facets",get:function(){return this._facets},set:function(e){this._facets=e}},{key:"spicesFilter",get:function(){return this._spicesFilter},set:function(e){this._spicesFilter=e}},{key:"bioRoleFilter",get:function(){return this._bioRoleFilter},set:function(e){this._bioRoleFilter=e}},{key:"interactorTypeFilter",get:function(){return this._interactorTypeFilter},set:function(e){this._interactorTypeFilter=e}},{key:"facetTypeIcon",value:function(e){return A(e.name)}},{key:"facetOrganismIcon",value:function(e){return S(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(h.y))},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-complex-filter"]],inputs:{facets:"facets",spicesFilter:"spicesFilter",bioRoleFilter:"bioRoleFilter",interactorTypeFilter:"interactorTypeFilter"},outputs:{onSpicesFilterChanged:"onSpicesFilterChanged",onBiologicalRoleFilterChanged:"onBiologicalRoleFilterChanged",onInteractorTypeFilterChanged:"onInteractorTypeFilterChanged",onResetAllFilters:"onResetAllFilters"},decls:11,vars:5,consts:[[1,"filters","row"],[1,"columns","medium-6"],[4,"ngIf"],[1,"columns","medium-12"],[1,"button",3,"click"],["data-icon","d",1,"icon","icon-functional"],[1,"no-bullet"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["type","checkbox","checked","",3,"value","change"],["filter",""],[2,"font-size","large"],["type","checkbox",3,"value","change"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h3"),p._uU(3,"Filters"),p.qZA(),p.qZA(),p.TgZ(4,"div",1),p.YNc(5,O,4,0,"div",2),p.qZA(),p.TgZ(6,"div",3),p.YNc(7,q,5,1,"div",2),p.YNc(8,L,5,1,"div",2),p.YNc(9,U,5,1,"div",2),p.YNc(10,E,3,0,"div",2),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.Q6J("ngIf",t.anyFiltersSelected()),p.xp6(2),p.Q6J("ngIf",t.facets.species_f),p.xp6(1),p.Q6J("ngIf",t.facets.pbiorole_f),p.xp6(1),p.Q6J("ngIf",t.facets.ptype_f),p.xp6(1),p.Q6J("ngIf",!t.facets.species_f&&!t.facets.pbiorole_f&&!t.facets.ptype_f))},directives:[c.O5,c.sg,c.RF,c.n9,c.ED],styles:[""]}),e}(),Y=function(e){return["/complex",e]};function z(e,t){if(1&e&&(p.TgZ(0,"div"),p._uU(1),p.TgZ(2,"a",2),p._uU(3,"..."),p.qZA(),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(1),p.hij(" ",n.description,""),p.xp6(1),p.Q6J("routerLink",p.VKq(2,Y,n.complexAC))}}function B(e,t){if(1&e&&(p.TgZ(0,"div"),p._uU(1),p.TgZ(2,"a",2),p._uU(3,"..."),p.qZA(),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(1),p.hij(" ",n.description.substr(0,250),""),p.xp6(1),p.Q6J("routerLink",p.VKq(2,Y,n.complexAC))}}function W(e,t){if(1&e&&(p.TgZ(0,"li"),p.TgZ(1,"h3"),p.TgZ(2,"a",2),p._uU(3),p.qZA(),p.qZA(),p.TgZ(4,"div",3),p.TgZ(5,"b"),p._uU(6,"Complex AC:"),p.qZA(),p._uU(7),p.TgZ(8,"b"),p._uU(9,"Organism:"),p.qZA(),p._uU(10),p._UZ(11,"br"),p.TgZ(12,"b"),p._uU(13,"Description:"),p.qZA(),p.YNc(14,z,4,4,"div",4),p.YNc(15,B,4,4,"div",4),p.qZA(),p.qZA()),2&e){var n=t.$implicit;p.xp6(2),p.Q6J("routerLink",p.VKq(6,Y,n.complexAC)),p.xp6(1),p.Oqu(n.complexName),p.xp6(4),p.hij(" ",n.complexAC," / "),p.xp6(3),p.hij(" (",n.organismName,")"),p.xp6(4),p.Q6J("ngIf",n.description.length<=250),p.xp6(1),p.Q6J("ngIf",n.description.length>250)}}var j=function(){var e=function(){function e(){r(this,e)}return a(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-complex-list"]],inputs:{complexSearch:"complexSearch"},decls:2,vars:1,consts:[[1,"no-bullet"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"description",2,"background-color","white"],[4,"ngIf"]],template:function(e,t){1&e&&(p.TgZ(0,"ul",0),p.YNc(1,W,16,8,"li",1),p.qZA()),2&e&&(p.xp6(1),p.Q6J("ngForOf",t.complexSearch.elements))},directives:[c.sg,u.yS,c.O5],styles:[".description[_ngcontent-%COMP%]{width:100%;text-align:justify}"]}),e}(),X=function(){var e=function(){function e(){r(this,e),this.interactorsSortingChange=new p.vpe,this.organismIconDisplayChange=new p.vpe,this.interactorTypeDisplayChange=new p.vpe,this.IDDisplayChange=new p.vpe}return a(e,[{key:"ngOnInit",value:function(){this.updateDisplay()}},{key:"InteractorsSortingChanges",value:function(e){this.interactorsSortingChange.emit(e),"detailed"===this.typeOfDisplay&&("Type"===e?(this.interactorTypeDisplay=!1,this.organismIconDisplay=!0):"Organism"===e&&(this.organismIconDisplay=!1,this.interactorTypeDisplay=!0),this.updateDisplay())}},{key:"DisplayingOrganism",value:function(){this.organismIconDisplay=!this.organismIconDisplay,this.updateDisplay()}},{key:"DisplayingType",value:function(){this.interactorTypeDisplay=!this.interactorTypeDisplay,this.updateDisplay()}},{key:"DisplayingID",value:function(){this.IDDisplay=!this.IDDisplay,this.updateDisplay()}},{key:"setDisplayType",value:function(e){"compact"===e?this.compactDisplay():"detailed"===e&&this.detailedDisplay()}},{key:"compactDisplay",value:function(){this.organismIconDisplay=!1,this.interactorTypeDisplay=!1,this.IDDisplay=!1,this.typeOfDisplay="compact",this.changesEmitter()}},{key:"detailedDisplay",value:function(){this.organismIconDisplay=!0,this.interactorTypeDisplay=!0,this.IDDisplay=!0,this.typeOfDisplay="detailed",this.changesEmitter()}},{key:"updateDisplay",value:function(){this.typeOfDisplay=this.organismIconDisplay||this.interactorTypeDisplay||this.IDDisplay?"detailed":"compact",this.changesEmitter()}},{key:"changesEmitter",value:function(){this.organismIconDisplayChange.emit(this.organismIconDisplay),this.interactorTypeDisplayChange.emit(this.interactorTypeDisplay),this.IDDisplayChange.emit(this.IDDisplay)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-complex-navigator-buttons"]],inputs:{interactorsSorting:"interactorsSorting",organismIconDisplay:"organismIconDisplay",interactorTypeDisplay:"interactorTypeDisplay",IDDisplay:"IDDisplay"},outputs:{interactorsSortingChange:"interactorsSortingChange",organismIconDisplayChange:"organismIconDisplayChange",interactorTypeDisplayChange:"interactorTypeDisplayChange",IDDisplayChange:"IDDisplayChange"},decls:26,vars:5,consts:[[1,"filters"],[1,"sortingInteractors"],["type","submit","name","classificationButton","value","Sort interactors",1,"button"],[1,"typeOfSorting"],["type","submit","name","occurrenceClassification","value","Occurrence",1,"button",3,"click"],["type","submit","name","typeClassification","value","Type",1,"button",3,"click"],["type","submit","name","organismClassification","value","Organism",1,"button",3,"click"],[1,"dropdown"],["type","submit","name","classificationButton","value","Display Options",1,"button"],[1,"displaySize"],["type","radio","name","displayType","value","Compact",1,"checkbox","compact",3,"checked","click"],[1,"detailedDisplay"],["type","radio","name","displayType","value","Detailed",1,"checkbox","detailed",3,"checked","click"],[1,"detailedDisplayOptions"],["type","checkbox","name","organism","value","organism",1,"checkbox",3,"checked","change"],["type","checkbox","name","type","value","type",1,"checkbox",3,"checked","change"],["type","checkbox","name","id","value","id",1,"checkbox",3,"checked","change"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p._UZ(2,"input",2),p.TgZ(3,"div",3),p.TgZ(4,"input",4),p.NdJ("click",function(){return t.InteractorsSortingChanges("Occurrence")}),p.qZA(),p.TgZ(5,"input",5),p.NdJ("click",function(){return t.InteractorsSortingChanges("Type")}),p.qZA(),p.TgZ(6,"input",6),p.NdJ("click",function(){return t.InteractorsSortingChanges("Organism")}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"div",7),p._UZ(8,"input",8),p.TgZ(9,"ul",9),p.TgZ(10,"li"),p.TgZ(11,"input",10),p.NdJ("click",function(){return t.setDisplayType("compact")}),p.qZA(),p._uU(12," Compact display "),p.qZA(),p.TgZ(13,"li",11),p.TgZ(14,"input",12),p.NdJ("click",function(){return t.setDisplayType("detailed")}),p.qZA(),p._uU(15," Detailed display "),p.TgZ(16,"ul",13),p.TgZ(17,"li"),p.TgZ(18,"input",14),p.NdJ("change",function(){return t.DisplayingOrganism()}),p.qZA(),p._uU(19," Organism "),p.qZA(),p.TgZ(20,"li"),p.TgZ(21,"input",15),p.NdJ("change",function(){return t.DisplayingType()}),p.qZA(),p._uU(22," Type "),p.qZA(),p.TgZ(23,"li"),p.TgZ(24,"input",16),p.NdJ("change",function(){return t.DisplayingID()}),p.qZA(),p._uU(25," Interactor ID "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(11),p.Q6J("checked","compact"===t.typeOfDisplay),p.xp6(3),p.Q6J("checked","detailed"===t.typeOfDisplay),p.xp6(4),p.Q6J("checked",t.organismIconDisplay),p.xp6(3),p.Q6J("checked",t.interactorTypeDisplay),p.xp6(3),p.Q6J("checked",t.IDDisplay))},styles:[".typeOfSorting[_ngcontent-%COMP%]{display:none}.sortingInteractors[_ngcontent-%COMP%]:hover   .typeOfSorting[_ngcontent-%COMP%]{display:flex;margin-top:-15px;flex-direction:row;position:absolute;z-index:5}.typeOfSorting[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-right:1px solid white;font-size:14px}.filters[_ngcontent-%COMP%]{width:120.5%;display:flex;justify-content:center;grid-gap:10px;height:67px;z-index:5;text-align:center}.displaySize[_ngcontent-%COMP%]{display:none}.detailedDisplayOptions[_ngcontent-%COMP%]{display:none}.dropdown[_ngcontent-%COMP%]:hover   .displaySize[_ngcontent-%COMP%]{display:flex;list-style:none;width:300px;background-color:#007c82;color:#fff;margin-top:-15px;flex-direction:row;position:absolute;height:40px;align-content:center;z-index:5}.dropdown[_ngcontent-%COMP%]:hover   .displaySize[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:200px;background-color:#007c82;margin-left:-21px;text-align:left;padding-left:6px;z-index:5}li[_ngcontent-%COMP%]{text-align:center;align-items:center;font-size:14px;border-left:1px solid white;padding-top:10px;max-width:171px}.detailedDisplay[_ngcontent-%COMP%]:hover   .detailedDisplayOptions[_ngcontent-%COMP%]{display:flex;list-style:none;align-content:baseline;flex-direction:column;position:absolute;z-index:5;margin-left:14px}.detailedDisplayOptions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:left;z-index:5}"]}),e}();function $(e,t){1&e&&p._UZ(0,"th",8)}var G=function(e){return["/complex",e]};function K(e,t){if(1&e&&(p.TgZ(0,"th",9),p.TgZ(1,"a",10),p.TgZ(2,"div"),p.TgZ(3,"span",11),p._UZ(4,"div",12),p.TgZ(5,"div",13),p._UZ(6,"i"),p._UZ(7,"i",14),p._uU(8),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var n=t.$implicit,i=p.oxw(2);p.xp6(1),p.s9C("title",n.complexAC),p.Q6J("routerLink",p.VKq(8,G,n.complexAC)),p.xp6(2),p.hYB("title","",n.complexName," - ",n.complexAC,""),p.xp6(3),p.Tol(i.iconOrganism(n.organismName)),p.xp6(2),p.hij(" ",n.complexName," ")}}function ee(e,t){if(1&e&&(p.TgZ(0,"thead",4),p.TgZ(1,"tr"),p.YNc(2,$,1,0,"th",5),p.TgZ(3,"th",6),p._uU(4," Interactor "),p.qZA(),p.YNc(5,K,9,10,"th",7),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(2),p.Q6J("ngIf",n.isInteractorSortingSet()),p.xp6(3),p.Q6J("ngForOf",n.complexes)}}function te(e,t){if(1&e&&(p.TgZ(0,"th",21),p.TgZ(1,"a",10),p.TgZ(2,"div"),p.TgZ(3,"span"),p.TgZ(4,"div",22),p._UZ(5,"i",23),p._uU(6),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var n=t.$implicit,i=p.oxw(2);p.Udp("--cols",i.complexes.length),p.hYB("title","",n.complexName," - ",n.complexAC,""),p.xp6(1),p.hYB("title","",n.complexName," - ",n.complexAC,""),p.Q6J("routerLink",p.VKq(12,G,n.complexAC)),p.xp6(3),p.hYB("title","",n.complexName," - ",n.complexAC,""),p.xp6(1),p.hYB("title","",n.complexName," - ",n.complexAC,""),p.xp6(1),p.hij(" ",n.complexName," ")}}function ne(e,t){if(1&e&&(p.ynx(0),p.TgZ(1,"th",24),p._UZ(2,"i",11),p.qZA(),p.BQk()),2&e){var n=t.$implicit,i=p.oxw(2);p.xp6(2),p.Tol(i.iconOrganism(n.organismName)),p.s9C("title",n.organismName)}}function ie(e,t){if(1&e&&(p.TgZ(0,"thead",15),p.TgZ(1,"tr"),p._UZ(2,"th",16),p.YNc(3,te,7,14,"th",17),p._UZ(4,"div",18),p.qZA(),p.TgZ(5,"tr"),p.TgZ(6,"th",19),p._uU(7," Interactors "),p.qZA(),p.YNc(8,ne,3,4,"ng-container",20),p._UZ(9,"div",18),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.Udp("--cols",n.complexes.length)("--intHeader",n.isInteractorSortingSet()?"156px":"")("--sizeSpaceHolder",n.complexes.length>15?"185px":""),p.xp6(1),p.Akn(n.isInteractorSortingSet()?"min-width: 156px; max-width: 156px;":""),p.xp6(1),p.Q6J("ngForOf",n.complexes),p.xp6(1),p.Akn(n.complexes.length<15?"max-width: inherit;min-width: inherit":""),p.xp6(1),p.Udp("--cols",n.complexes.length)("--intHeader",n.isInteractorSortingSet()?"156px":"")("--sizeSpaceHolder",n.complexes.length>15?"185px":""),p.xp6(1),p.Akn(n.isInteractorSortingSet()?"min-width: 156px; max-width: 156px;":""),p.xp6(2),p.Q6J("ngForOf",n.complexes),p.xp6(1),p.Akn(n.complexes.length<15?"max-width: inherit;min-width: inherit":"")}}var re=function(){var e=function(){function e(){r(this,e)}return a(e,[{key:"isInteractorSortingSet",value:function(){return"Type"===this.interactorsSorting||"Organism"===this.interactorsSorting}},{key:"iconOrganism",value:function(e){return S(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-table-header"]],inputs:{complexes:"complexes",interactorsSorting:"interactorsSorting"},decls:4,vars:2,consts:[[1,"Complex-navigator"],[1,"table","CN-table"],["class","tableHead",4,"ngIf"],["class","tableHeadOverflow",4,"ngIf"],[1,"tableHead"],["class","spaceHolderSorting",4,"ngIf"],[1,"interactorsHeader","horizontal"],["class","horizontal",4,"ngFor","ngForOf"],[1,"spaceHolderSorting"],[1,"horizontal"],["target","_blank",3,"routerLink","title"],[3,"title"],[1,"line"],[1,"horizontal-label"],["data-icon","x",1,"icon","icon-generic","small"],[1,"tableHeadOverflow"],[1,"spaceHolderHeaderOverflow"],["class","rotate",3,"title","--cols",4,"ngFor","ngForOf"],[1,"spaceHolder"],[1,"interactorsHeader","overflow"],[4,"ngFor","ngForOf"],[1,"rotate",3,"title"],[1,"tilted-label",3,"title"],["data-icon","x",1,"icon","icon-generic","small",3,"title"],[1,"iconOrganism"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"table",1),p.YNc(2,ee,6,2,"thead",2),p.YNc(3,ie,10,22,"thead",3),p.qZA(),p.qZA()),2&e&&(p.xp6(2),p.Q6J("ngIf",t.complexes.length<=6),p.xp6(1),p.Q6J("ngIf",t.complexes.length>6))},directives:[c.O5,c.sg,u.yS],styles:[".CN-table[_ngcontent-%COMP%]{transform:rotateX(180deg)}thead[_ngcontent-%COMP%]{border:0;background-color:#fff;border-right:0 solid white;overflow:scroll}.CN-table[_ngcontent-%COMP%]{-webkit-clip-path:fill-box;clip-path:fill-box;overflow:scroll}.spaceHolderSorting[_ngcontent-%COMP%]{width:3ch;border-bottom:3px solid #007c82}.spaceHolderHeaderOverflow[_ngcontent-%COMP%]{min-width:130px;max-width:130px;position:sticky;left:0;z-index:4;color:#007c82;background-color:#fff;padding-top:173px;text-align:right}.iconOrganism[_ngcontent-%COMP%]{position:sticky;text-align:center;background-color:#007c82;color:#fff;border-left:1px solid white;font-size:medium;height:35px}.tilted-label[_ngcontent-%COMP%]{text-overflow:ellipsis;width:28ch;white-space:nowrap;overflow:hidden}.CN-table[_ngcontent-%COMP%]   .tableHeadOverflow[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{--cols: 1;--intHeader: 130px;--parentWidth: 100%;--sizeSpaceHolder: calc(var(--parentWidth) - 70px * var(--cols) - var(--intHeader));display:grid;grid-template-columns:var(--intHeader) repeat(auto-fit,70px);width:calc(var(--intHeader) + 70px * var(--cols) + var(--sizeSpaceHolder));overflow:hidden}.CN-table[_ngcontent-%COMP%]   .tableHeadOverflow[_ngcontent-%COMP%]   th.rotate[_ngcontent-%COMP%]{position:relative;width:350px;height:51px!important;color:#fff;font-size:14px;text-align:left;border:1px solid white;top:70px;left:-52px;display:flex;align-items:center;align-content:center;padding:0;transform:rotate(-45deg);border-collapse:collapse}.CN-table[_ngcontent-%COMP%]   .tableHeadOverflow[_ngcontent-%COMP%]   th.rotate[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;height:100%;align-content:center;background-color:#007c82;padding:0 0 0 70px;border:none}.spaceHolder[_ngcontent-%COMP%]{width:1000px;background-color:#007c82;border-left:1px solid white}.interactorsHeader.overflow[_ngcontent-%COMP%]{min-width:130px;max-width:130px;width:130px;position:sticky;left:0;z-index:4;background-color:#fff;border-bottom:3px solid #007c82;height:35px;text-align:right;color:#007c82}.CN-table[_ngcontent-%COMP%]   th.horizontal.interactorsHeader[_ngcontent-%COMP%]{padding:5px;min-width:130px;max-width:130px;font-size:medium;border-left:none;text-align:right;color:#007c82;background-color:#fff;border-bottom:3px solid #007c82}.horizontal-label[_ngcontent-%COMP%]{text-align:center;text-overflow:ellipsis;width:90%;white-space:nowrap;overflow:hidden;margin:auto}.CN-table[_ngcontent-%COMP%]   th.horizontal[_ngcontent-%COMP%]{color:#fff;background-color:#007c82;border-left:1px solid white;min-width:80px;max-width:80px;height:35px;font-size:15px}a[_ngcontent-%COMP%]:visited{color:#fff}a[_ngcontent-%COMP%]{color:#fff}"]}),e}(),oe=o(25917),ae=o(88002);function ce(e,t,n){var i=se(e.interactors,t,n);return i?{identifier:i.identifier,stochiometryValue:i.stochiometryValue,stochiometryText:ue(i.stochiometryValue),stochiometryValueFormatted:pe(i.stochiometryValue)}:null}function se(e,n,i){var r,o=!1,a=null,c=t(e);try{for(c.s();!(r=c.n()).done;){var s=le(r.value,n,i);s&&(o=!0,s.stochiometryValue&&(a=a?[a[0]+s.stochiometryValue[0],a[1]+s.stochiometryValue[1]]:[s.stochiometryValue[0],s.stochiometryValue[1]]))}}catch(l){c.e(l)}finally{c.f()}return o?{identifier:n,stochiometryValue:a}:null}function le(e,t,n){var i=function(e){if(e){var t=function(e){return e.match("minValue: ([0-9+]), maxValue: ([0-9+])")}(e);if(t){var n=parseInt(t[1],10),i=parseInt(t[2],10);if(!isNaN(n)&&!isNaN(i))return[n,i]}}return null}(e.stochiometry);if(e.identifier===t)return{identifier:t,stochiometryValue:i};if("stable complex"===e.interactorType){var r=n.find(function(t){return t.interactor.identifier===e.identifier});if(r&&r.subComponents){var o=se(r.subComponents,t,n);if(o)return o.stochiometryValue?i?{identifier:t,stochiometryValue:[i[0]*o.stochiometryValue[0],i[1]*o.stochiometryValue[1]]}:{identifier:t,stochiometryValue:o.stochiometryValue}:{identifier:t,stochiometryValue:i}}}return null}function pe(e){if(e){var t=e[0],n=e[1];return t===n?t.toString():"".concat(t,"-").concat(n)}return" "}function ue(e){return e?"Stoichiometry values: minValue: "+e[0]+", maxValue: "+e[1]:"No stoichiometry data available"}function ge(e,t){if(1&e&&(p.TgZ(0,"td",11),p.TgZ(1,"div",12),p._uU(2),p.qZA(),p.qZA()),2&e){var n=p.oxw().$implicit;p.s9C("title",n[0]),p.uIk("rowspan",n[1]),p.xp6(1),p.Udp("--rowspanSize",n[1]),p.xp6(1),p.hij(" ",n[0]," ")}}function de(e,t){if(1&e&&(p.ynx(0,9),p.YNc(1,ge,3,5,"td",10),p.BQk()),2&e){var n=t.$implicit,i=p.oxw(2).index;p.xp6(1),p.Q6J("ngIf",n[2]===i)}}function he(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",13),p.TgZ(1,"a",14),p.NdJ("click",function(){p.CHM(n);var e=p.oxw(2).index;return p.oxw().toggleSubcomplexExpandable(e)}),p._uU(2," Interactors "),p._UZ(3,"i",15),p.qZA(),p.qZA()}if(2&e){var i=p.oxw(2).$implicit;p.xp6(1),p.MGl("title","",i.interactor.name," interactors")}}var fe=function(e){return{intStoichFixedWidth:e}};function me(e,t){if(1&e&&(p.ynx(0),p.TgZ(1,"td",16),p._UZ(2,"cp-table-main-interactor",17),p.qZA(),p.BQk()),2&e){var n=t.$implicit,i=p.oxw(2).index,r=p.oxw();p.xp6(1),p.Q6J("ngClass",p.VKq(4,fe,r.complexes.length>6)),p.xp6(1),p.Q6J("complex",n)("i",i)("enrichedInteractors",r.enrichedInteractors)}}function xe(e,t){if(1&e&&p._UZ(0,"div",18),2&e){var n=p.oxw(3);p.Q6J("ngClass",n.isInteractorSortingSet()?"spaceHolderWithSorting":"spaceHolder")}}function ye(e,t){if(1&e&&(p.TgZ(0,"tr"),p.YNc(1,de,2,1,"ng-container",4),p.TgZ(2,"td",5),p._UZ(3,"cp-table-interactor-name",6),p.YNc(4,he,4,1,"div",7),p.qZA(),p.YNc(5,me,3,6,"ng-container",2),p.YNc(6,xe,1,1,"div",8),p.qZA()),2&e){var n=p.oxw().$implicit,i=p.oxw();p.xp6(1),p.Q6J("ngForOf",i.ranges),p.xp6(1),p.Akn(0!=i.ranges.length?"left:3ch":""),p.Q6J("ngClass",i.complexes.length<=6?"horizontalHeader":"interactorsColumnFixedWidth"),p.xp6(1),p.Q6J("interactorName",n.interactor.name)("interactorType",n.interactor.interactorType)("interactorId",n.interactor.identifier)("interactorOrganism",n.interactor.organismName)("identifierLink",n.interactor.identifierLink)("organismIconDisplay",i.organismIconDisplay)("interactorTypeDisplay",i.interactorTypeDisplay)("IDDisplay",i.IDDisplay),p.xp6(1),p.Q6J("ngIf",n.isSubComplex),p.xp6(1),p.Q6J("ngForOf",i.enrichedComplexes),p.xp6(1),p.Q6J("ngIf",i.complexes.length>6)}}function ve(e,t){if(1&e&&(p.TgZ(0,"td",11),p.TgZ(1,"div",23),p._uU(2),p.qZA(),p.qZA()),2&e){var n=p.oxw(4).$implicit;p.MGl("title","",n.interactor.name," interactors"),p.uIk("rowspan",n.subComponents.length),p.xp6(1),p.Udp("--rowspanSize",n.subComponents.length),p.xp6(1),p.hij(" ",n.interactor.name," interactors ")}}function Ie(e,t){if(1&e&&(p.ynx(0),p.TgZ(1,"td",16),p._UZ(2,"cp-table-subcomponent-interactor",24),p.qZA(),p.BQk()),2&e){var n=t.$implicit,i=p.oxw().index,r=p.oxw(3).index,o=p.oxw();p.xp6(1),p.Q6J("ngClass",p.VKq(5,fe,o.complexes.length>6)),p.xp6(1),p.Q6J("complex",n)("i",r)("j",i)("enrichedInteractors",o.enrichedInteractors)}}function Ce(e,t){1&e&&p._UZ(0,"div",25)}var Te=function(e,t){return{firstExpandedRow:e,lastExpandedRow:t}};function be(e,t){if(1&e&&(p.TgZ(0,"tr",20),p.YNc(1,ve,3,5,"td",10),p.TgZ(2,"td",21),p.TgZ(3,"div"),p._UZ(4,"cp-table-interactor-name",6),p.qZA(),p.qZA(),p.YNc(5,Ie,3,7,"ng-container",2),p.YNc(6,Ce,1,0,"div",22),p.qZA()),2&e){var n=t.$implicit,i=t.index,r=p.oxw(3).$implicit,o=p.oxw();p.Q6J("ngClass",p.WLB(13,Te,0===i,i===r.subComponents.length-1)),p.xp6(1),p.Q6J("ngIf",0===i&&("Type"===o.interactorsSorting||"Organism"===o.interactorsSorting)),p.xp6(1),p.Q6J("ngClass",o.complexes.length<=6?"horizontalHeader":"interactorsColumnFixedWidth"),p.xp6(2),p.Q6J("interactorName",n.name)("interactorType",n.interactorType)("interactorId",n.identifier)("interactorOrganism",r.interactor.organismName)("identifierLink",n.identifierLink)("organismIconDisplay",o.organismIconDisplay)("interactorTypeDisplay",o.interactorTypeDisplay)("IDDisplay",o.IDDisplay),p.xp6(1),p.Q6J("ngForOf",o.enrichedComplexes),p.xp6(1),p.Q6J("ngIf",o.enrichedComplexes.length>6)}}function Ze(e,t){if(1&e&&(p.ynx(0),p.YNc(1,be,7,16,"tr",19),p.BQk()),2&e){var n=p.oxw(2).$implicit;p.xp6(1),p.Q6J("ngForOf",n.subComponents)}}function _e(e,t){if(1&e&&(p.ynx(0),p.YNc(1,Ze,2,1,"ng-container",3),p.BQk()),2&e){var n=p.oxw().$implicit;p.xp6(1),p.Q6J("ngIf",!!n.subComponents)}}function we(e,t){if(1&e&&(p.ynx(0),p.YNc(1,ye,7,15,"tr",3),p.YNc(2,_e,2,1,"ng-container",3),p.BQk()),2&e){var n=t.$implicit;p.xp6(1),p.Q6J("ngIf",!n.hidden),p.xp6(1),p.Q6J("ngIf",n.expanded)}}var ke=function(){var e=function(){function e(t){r(this,e),this.complexPortalService=t}return a(e,[{key:"ngOnChanges",value:function(e){e.interactors&&this.enrichInteractors(),this.classifyInteractors(),this.calculateAllStartAndEndIndexes()}},{key:"classifyInteractors",value:function(){this.interactorsSorting&&this.enrichedInteractors&&this.enrichedInteractors.length>0&&("Type"===this.interactorsSorting?this.classifyInteractorsByType():"Organism"===this.interactorsSorting?this.classifyInteractorsByOrganism():this.classifyInteractorsByOccurrence())}},{key:"enrichInteractors",value:function(){var e=this;this.enrichedInteractors=[];var n,i=t(this.interactors);try{var r=function(){var t=n.value,i="stable complex"===t.interactorType,r={interactor:t,hidden:!1,isSubComplex:i,expanded:!1,subComponents:null,partOfComplex:[],timesAppearing:0};i&&e.loadSubInteractors(r).subscribe(function(e){return r.subComponents=e}),e.enrichedInteractors.push(r)};for(i.s();!(n=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}}},{key:"toggleSubcomplexExpandable",value:function(e){if(this.enrichedInteractors[e].expanded=!this.enrichedInteractors[e].expanded,this.enrichedInteractors[e].expanded){for(var t=0;t<this.enrichedInteractors.length;t++)e!==t&&(this.enrichedInteractors[t].expanded=!1);if(this.enrichedInteractors[e].subComponents)for(var n=this.enrichedInteractors[e].subComponents.map(function(e){return e.identifier}),i=0;i<this.enrichedInteractors.length;i++)e!==i&&(this.enrichedInteractors[i].hidden=!!n.includes(this.enrichedInteractors[i].interactor.identifier))}else for(var r=0;r<this.enrichedInteractors.length;r++)this.enrichedInteractors[r].hidden=!1;this.classifyInteractors(),this.calculateAllStartAndEndIndexes(),console.log("Done")}},{key:"loadSubInteractors",value:function(e){var t=this.complexes.find(function(t){return t.complexAC===e.interactor.identifier});return t?(0,oe.of)(t.interactors):this.complexPortalService.getSimplifiedComplex(e.interactor.identifier).pipe((0,ae.U)(function(e){return null==e?void 0:e.interactors}))}},{key:"calculateAllStartAndEndIndexes",value:function(){this.enrichedComplexes=[];var e,n=t(this.complexes);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.enrichedComplexes.push(this.calculateStartAndEndIndexes(i))}}catch(r){n.e(r)}finally{n.f()}}},{key:"getMinValue",value:function(e,t){return null===t?e:null===e?t:Math.min(e,t)}},{key:"getMaxValue",value:function(e,t){return null===t?e:null===e?t:Math.max(e,t)}},{key:"calculateStartAndEndIndexes",value:function(e){for(var t={complex:e,startInteractorIndex:null,endInteractorIndex:null,startSubComponentIndex:null,endSubComponentIndex:null,startInteractorIncludedWhenExpanded:!0},n=0;n<this.enrichedInteractors.length;n++)if(!this.enrichedInteractors[n].hidden)if(ce(e,this.enrichedInteractors[n].interactor.identifier,this.enrichedInteractors))t.startInteractorIndex=this.getMinValue(t.startInteractorIndex,n),t.startInteractorIndex===n&&(t.startInteractorIncludedWhenExpanded=!0),t.endInteractorIndex=this.getMaxValue(t.endInteractorIndex,n),this.enrichedInteractors[n].isSubComplex&&this.enrichedInteractors[n].subComponents&&this.enrichedInteractors[n].expanded&&(t.startSubComponentIndex=-1,t.endSubComponentIndex=this.enrichedInteractors[n].subComponents.length-1);else if(this.enrichedInteractors[n].isSubComplex&&this.enrichedInteractors[n].subComponents&&this.enrichedInteractors[n].expanded)for(var i=0;i<this.enrichedInteractors[n].subComponents.length;i++)ce(e,this.enrichedInteractors[n].subComponents[i].identifier,this.enrichedInteractors)&&(t.startInteractorIndex=this.getMinValue(t.startInteractorIndex,n),t.startInteractorIndex===n&&(t.startInteractorIncludedWhenExpanded=!1),t.endInteractorIndex=this.getMaxValue(t.endInteractorIndex,n),t.startSubComponentIndex=this.getMinValue(t.startSubComponentIndex,i),t.endSubComponentIndex=this.getMaxValue(t.endSubComponentIndex,i));return t}},{key:"classifyInteractorsByOrganism",value:function(){this.enrichedInteractors.sort(function(e,t){return t.interactor.organismName.localeCompare(e.interactor.organismName)}),this.rangeOfInteractorOrganism()}},{key:"classifyInteractorsByType",value:function(){this.enrichedInteractors.sort(function(e,t){return t.interactor.interactorType.localeCompare(e.interactor.interactorType)}),this.rangeOfInteractorType()}},{key:"classifyInteractorsByOccurrence",value:function(){var e,n=t(this.enrichedInteractors);try{for(n.s();!(e=n.n()).done;){var i,r=e.value,o=t(this.complexes);try{for(o.s();!(i=o.n()).done;){var a=i.value,c=ce(a,r.interactor.identifier,this.enrichedInteractors);c&&(r.timesAppearing+=c.stochiometryValue?c.stochiometryValue[0]:1)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){n.e(s)}finally{n.f()}this.enrichedInteractors.sort(function(e,t){return t.timesAppearing-e.timesAppearing}),this.ranges=[]}},{key:"rangeOfInteractorType",value:function(){for(var e=[],t=0,n=null,i=0;i<this.enrichedInteractors.length;i++){var r=[];this.enrichedInteractors[i].hidden||(t+=1,null===n&&(n=i)),(!this.enrichedInteractors[i+1]||this.enrichedInteractors[i].isSubComplex&&this.enrichedInteractors[i].expanded||this.enrichedInteractors[i].interactor.interactorType!==this.enrichedInteractors[i+1].interactor.interactorType)&&(null!==n&&(r.push(this.enrichedInteractors[i].interactor.interactorType,t,n),e.push(r),n=null),t=0)}this.ranges=e}},{key:"rangeOfInteractorOrganism",value:function(){for(var e=[],t=0,n=null,i=0;i<this.enrichedInteractors.length;i++){var r=[];this.enrichedInteractors[i].hidden||(t+=1,null===n&&(n=i)),(!this.enrichedInteractors[i+1]||this.enrichedInteractors[i].isSubComplex&&this.enrichedInteractors[i].expanded||this.enrichedInteractors[i].interactor.organismName!==this.enrichedInteractors[i+1].interactor.organismName)&&(null!==n&&(r.push(this.enrichedInteractors[i].interactor.organismName,t,n),e.push(r),n=null),t=0)}this.ranges=e}},{key:"isInteractorSortingSet",value:function(){return"Type"===this.interactorsSorting||"Organism"===this.interactorsSorting}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(g.H))},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-table-interactor-column"]],inputs:{complexes:"complexes",interactorsSorting:"interactorsSorting",interactors:"interactors",organismIconDisplay:"organismIconDisplay",interactorTypeDisplay:"interactorTypeDisplay",IDDisplay:"IDDisplay"},features:[p.TTD],decls:3,vars:3,consts:[[1,"Complex-navigator"],[1,"interactors-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","interactorsOrdering",4,"ngFor","ngForOf"],[1,"interactorsColumn",3,"ngClass"],[3,"interactorName","interactorType","interactorId","interactorOrganism","identifierLink","organismIconDisplay","interactorTypeDisplay","IDDisplay"],["class","container",4,"ngIf"],["class","spaceHolder",3,"ngClass",4,"ngIf"],[1,"interactorsOrdering"],["class","interactorSeparation",3,"title",4,"ngIf"],[1,"interactorSeparation",3,"title"],[1,"interactorNameContainer"],[1,"container"],[3,"title","click"],["data-icon","\uf078",1,"icon","icon-common",2,"font-size","small"],[1,"intStoich",3,"ngClass"],[3,"complex","i","enrichedInteractors"],[1,"spaceHolder",3,"ngClass"],["class","expandedRows",3,"ngClass",4,"ngFor","ngForOf"],[1,"expandedRows",3,"ngClass"],[1,"subComponentColumn",3,"ngClass"],["class","spaceHolder",4,"ngIf"],[1,"interactorSeparationName"],[3,"complex","i","j","enrichedInteractors"],[1,"spaceHolder"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"table",1),p.YNc(2,we,3,2,"ng-container",2),p.qZA(),p.qZA()),2&e&&(p.xp6(1),p.Udp("--cols",t.complexes.length),p.xp6(1),p.Q6J("ngForOf",t.enrichedInteractors))},styles:['table[_ngcontent-%COMP%]{--cols: 1;height:1px;width:calc(var(130px) + 70px * var(--cols) + 183px);overflow:scroll}.interactorsColumn[_ngcontent-%COMP%]{position:sticky;left:0;z-index:5;max-height:45px;min-height:45px;min-width:130px;max-width:130px;padding:5px;text-align:end;color:#0e6f76;font-weight:bold;background:inherit}.interactorsColumnFixedWidth[_ngcontent-%COMP%]{width:130px}.interactorsColumn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:normal}.intStoich[_ngcontent-%COMP%]{height:45px;max-width:70px;min-width:70px;font-size:medium;text-align:end;z-index:1}.intStoichFixedWidth[_ngcontent-%COMP%]{width:70px}i[_ngcontent-%COMP%]:not(.small){font-size:large}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#dfeced}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f7f9fa}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#0e6f76}.spaceHolder[_ngcontent-%COMP%]{width:183px}.subComponentColumn[_ngcontent-%COMP%]{left:0;z-index:30;max-height:45px;min-height:45px;min-width:130px;max-width:130px;padding:5px;text-align:end;color:#0e6f76;font-weight:bold;background:inherit;position:sticky}.expandedRows[_ngcontent-%COMP%]{color:#0e6f76;position:relative}.firstExpandedRow[_ngcontent-%COMP%]:after{z-index:40;content:"";position:absolute;inset:-2px -1px -2px -1px;pointer-events:none;background:linear-gradient(180deg,#0e6f7696 0px,transparent 10px)}.lastExpandedRow[_ngcontent-%COMP%]:after{z-index:40;content:"";position:absolute;inset:-2px -1px -2px -1px;pointer-events:none;background:linear-gradient(0deg,#0e6f7696 0px,transparent 10px)}.interactorSeparation[_ngcontent-%COMP%]{max-width:3ch;min-width:3ch;background-color:#0e6f76;border:1px solid white;overflow:hidden;width:1%;text-align:-webkit-center;position:sticky;z-index:4;left:0}.interactorNameContainer[_ngcontent-%COMP%], .interactorSeparationName[_ngcontent-%COMP%]{--rowspanSize: 1;writing-mode:vertical-rl;transform:rotate(-180deg);font-size:small;color:#fff;line-height:.8;text-align:center;text-overflow:ellipsis;height:calc(var(--rowspanSize) * 48px);white-space:nowrap;overflow:hidden}.container[_ngcontent-%COMP%]{font-size:14px}.horizontalHeader[_ngcontent-%COMP%]{min-width:114px;max-width:114px}']}),e}(),Ae=function(){var n=function(){function n(){r(this,n),this.sortedComplexes=[]}return a(n,[{key:"ngOnChanges",value:function(){this.classifyComplexesSize(),this.sortedComplexes=this.classifyComplexesSimilarities(this.complexSearch.elements)}},{key:"classifyComplexesSize",value:function(){var n,i=e(this.complexSearch.elements),r=[],o=t(i);try{for(o.s();!(n=o.n()).done;){var a,c=n.value,s=c.interactors.length,l=t(c.interactors);try{var p=function(){var e=a.value;if("stable complex"===e.interactorType){var t=i.find(function(t){return t.complexAC===e.identifier});t&&(s+=t.interactors.length)}};for(l.s();!(a=l.n()).done;)p()}catch(g){l.e(g)}finally{l.f()}r.push([c,s])}}catch(g){o.e(g)}finally{o.f()}r.sort(function(e,t){return t[1]-e[1]});for(var u=0;u<i.length;u++)this.complexSearch.elements[u]=r[u][0]}},{key:"calculateSimilarity",value:function(e,n){var i,r=this,o=0,a=t(e.interactors);try{var c=function(){var e=i.value;if("stable complex"===e.interactorType)if(n.complexAC===e.identifier)o+=n.interactors.length;else{var a=r.complexSearch.elements.find(function(t){return t.complexAC===e.identifier});if(a)if(n.interactors.find(function(t){return t.identifier===e.identifier}))o+=a.interactors.length;else{var c,s=t(a.interactors);try{for(s.s();!(c=s.n()).done;){var l,p=c.value,u=t(n.interactors);try{for(u.s();!(l=u.n()).done;){var g=l.value;p.identifier===g.identifier&&o++}}catch(m){u.e(m)}finally{u.f()}}}catch(m){s.e(m)}finally{s.f()}}}else{var d,h=t(n.interactors);try{var f=function(){var n=d.value;if("stable complex"===n.interactorType){var i=r.complexSearch.elements.find(function(e){return e.complexAC===n.identifier});if(i){var a,c=t(i.interactors);try{for(c.s();!(a=c.n()).done;){a.value.identifier===e.identifier&&o++}}catch(m){c.e(m)}finally{c.f()}}}else e.identifier===n.identifier&&o++};for(h.s();!(d=h.n()).done;)f()}catch(m){h.e(m)}finally{h.f()}}};for(a.s();!(i=a.n()).done;)c()}catch(s){a.e(s)}finally{a.f()}return o}},{key:"classifyComplexesSimilarities",value:function(e){var n,i=[],r=t(e);try{for(r.s();!(n=r.n()).done;){var o,a=n.value,c=!1,s=t(i);try{for(s.s();!(o=s.n()).done;){var l=o.value;this.calculateSimilarity(a,l[0])>=1&&(l.push(a),c=!0)}}catch(m){s.e(m)}finally{s.f()}c||i.push([a])}}catch(m){r.e(m)}finally{r.f()}for(var p=[],u=0,g=i;u<g.length;u++){var d,h=t(g[u]);try{for(h.s();!(d=h.n()).done;){var f=d.value;p.includes(f)||p.push(f)}}catch(m){h.e(m)}finally{h.f()}}return p}}]),n}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["cp-table-structure"]],inputs:{complexSearch:"complexSearch",interactors:"interactors",interactorsSorting:"interactorsSorting",organismIconDisplay:"organismIconDisplay",interactorTypeDisplay:"interactorTypeDisplay",IDDisplay:"IDDisplay"},features:[p.TTD],decls:8,vars:8,consts:[[1,"complexNavigatorTable"],[1,"header",3,"scroll"],["header",""],[3,"complexes","interactorsSorting"],[1,"interactors",3,"scroll"],["body",""],[3,"complexes","interactors","interactorsSorting","organismIconDisplay","interactorTypeDisplay","IDDisplay"],[1,"spaceHolder"]],template:function(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",0),p.TgZ(1,"div",1,2),p.NdJ("scroll",function(){p.CHM(n);var e=p.MAs(5),t=p.MAs(2);return e.scrollLeft=t.scrollLeft}),p._UZ(3,"cp-table-header",3),p.qZA(),p.TgZ(4,"div",4,5),p.NdJ("scroll",function(){p.CHM(n);var e=p.MAs(2),t=p.MAs(5);return e.scrollLeft=t.scrollLeft}),p._UZ(6,"cp-table-interactor-column",6),p.qZA(),p._UZ(7,"div",7),p.qZA()}2&e&&(p.xp6(3),p.Q6J("complexes",t.sortedComplexes)("interactorsSorting",t.interactorsSorting),p.xp6(3),p.Q6J("complexes",t.sortedComplexes)("interactors",t.interactors)("interactorsSorting",t.interactorsSorting)("organismIconDisplay",t.organismIconDisplay)("interactorTypeDisplay",t.interactorTypeDisplay)("IDDisplay",t.IDDisplay))},directives:[re,ke],styles:[".complexNavigatorTable[_ngcontent-%COMP%]{border-collapse:separate;height:100%;width:120%}.header[_ngcontent-%COMP%]{position:sticky;top:20px;z-index:2;overflow-x:auto;overflow-y:hidden;transform:rotateX(180deg)}.interactors[_ngcontent-%COMP%]{z-index:1;position:relative;overflow-y:hidden}"]}),n}(),Se=function(){var e=a(function e(){r(this,e),this.interactorsSorting="Occurrence",this.organismIconDisplay=!0,this.interactorTypeDisplay=!0,this.IDDisplay=!0});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-complex-navigator"]],inputs:{complexSearch:"complexSearch",interactors:"interactors"},decls:4,vars:10,consts:[[1,"ComplexNavigator"],[1,"Buttons"],[3,"interactorsSorting","organismIconDisplay","interactorTypeDisplay","IDDisplay","interactorsSortingChange","organismIconDisplayChange","interactorTypeDisplayChange","IDDisplayChange"],[3,"complexSearch","interactors","interactorsSorting","organismIconDisplay","interactorTypeDisplay","IDDisplay"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"cp-complex-navigator-buttons",2),p.NdJ("interactorsSortingChange",function(e){return t.interactorsSorting=e})("organismIconDisplayChange",function(e){return t.organismIconDisplay=e})("interactorTypeDisplayChange",function(e){return t.interactorTypeDisplay=e})("IDDisplayChange",function(e){return t.IDDisplay=e}),p.qZA(),p.qZA(),p._UZ(3,"cp-table-structure",3),p.qZA()),2&e&&(p.xp6(2),p.Q6J("interactorsSorting",t.interactorsSorting)("organismIconDisplay",t.organismIconDisplay)("interactorTypeDisplay",t.interactorTypeDisplay)("IDDisplay",t.IDDisplay),p.xp6(1),p.Q6J("complexSearch",t.complexSearch)("interactors",t.interactors)("interactorsSorting",t.interactorsSorting)("organismIconDisplay",t.organismIconDisplay)("interactorTypeDisplay",t.interactorTypeDisplay)("IDDisplay",t.IDDisplay))},directives:[X,Ae],styles:[".ComplexNavigator[_ngcontent-%COMP%]{width:calc(100rem * .71);margin-left:calc(-100rem * .17)}"]}),e}(),Oe=o(8324);function Pe(e,t){1&e&&p._UZ(0,"cp-complex-navigator-rating")}function De(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"cp-complex-filter",19),p.NdJ("onResetAllFilters",function(){return p.CHM(n),p.oxw(3).onResetAllFilters()})("onSpicesFilterChanged",function(e){return p.CHM(n),p.oxw(3).onSpicesFilterChanged(e)})("onBiologicalRoleFilterChanged",function(e){return p.CHM(n),p.oxw(3).onBiologicalRoleFilterChanged(e)})("onInteractorTypeFilterChanged",function(e){return p.CHM(n),p.oxw(3).onInteractorTypeFilterChanged(e)}),p.qZA()}if(2&e){var i=p.oxw(3);p.Q6J("spicesFilter",i.spicesFilter)("bioRoleFilter",i.bioRoleFilter)("interactorTypeFilter",i.interactorTypeFilter)("facets",i.complexSearch.facets)}}function Me(e,t){if(1&e&&p._UZ(0,"cp-complex-list",20),2&e){var n=p.oxw(3);p.Q6J("complexSearch",n.complexSearch)}}function qe(e,t){if(1&e&&p._UZ(0,"cp-complex-navigator",21),2&e){var n=p.oxw(3);p.Q6J("complexSearch",n.complexSearch)("interactors",n.allInteractorsInComplexSearch)}}var Fe=function(e){return{selected:e}},Ne=function(e){return{"new-tag-selected":e}};function Je(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",5),p.TgZ(1,"h2",6),p._uU(2),p.qZA(),p.TgZ(3,"div",7),p.YNc(4,Pe,1,0,"cp-complex-navigator-rating",8),p.TgZ(5,"div",9),p.TgZ(6,"button",10),p.NdJ("click",function(){return p.CHM(n),p.oxw(2).setListView()}),p._uU(7," View list "),p.qZA(),p.TgZ(8,"button",11),p.NdJ("click",function(){return p.CHM(n),p.oxw(2).setComplexNavigatorView()}),p._uU(9," View Complex Navigator "),p.TgZ(10,"span",12),p._uU(11,"NEW!"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(12,"div",13),p.YNc(13,De,1,4,"cp-complex-filter",14),p.qZA(),p.TgZ(14,"div",15),p.TgZ(15,"cp-complex-paginator",16),p.NdJ("onPageChange",function(e){return p.CHM(n),p.oxw(2).onPageChange(e)}),p.qZA(),p.YNc(16,Me,1,1,"cp-complex-list",17),p.YNc(17,qe,1,2,"cp-complex-navigator",18),p.TgZ(18,"cp-complex-paginator",16),p.NdJ("onPageChange",function(e){return p.CHM(n),p.oxw(2).onPageChange(e)}),p.qZA(),p.qZA(),p.qZA()}if(2&e){var i=p.oxw(2);p.xp6(2),p.hij("Total number of results: ",i.complexSearch.totalNumberOfResults," "),p.xp6(2),p.Q6J("ngIf",i.DisplayType===i.COMPLEX_NAVIGATOR_VIEW),p.xp6(2),p.Q6J("ngClass",p.VKq(12,Fe,i.DisplayType===i.LIST_VIEW)),p.xp6(2),p.Q6J("ngClass",p.VKq(14,Fe,i.DisplayType===i.COMPLEX_NAVIGATOR_VIEW)),p.xp6(2),p.Q6J("ngClass",p.VKq(16,Ne,i.DisplayType===i.COMPLEX_NAVIGATOR_VIEW)),p.xp6(3),p.Q6J("ngIf",i.spicesFilter&&i.bioRoleFilter&&i.interactorTypeFilter),p.xp6(2),p.Q6J("currentPageIndex",i.currentPageIndex)("lastPageIndex",i.lastPageIndex),p.xp6(1),p.Q6J("ngIf",i.DisplayType===i.LIST_VIEW),p.xp6(1),p.Q6J("ngIf",i.DisplayType===i.COMPLEX_NAVIGATOR_VIEW),p.xp6(1),p.Q6J("currentPageIndex",i.currentPageIndex)("lastPageIndex",i.lastPageIndex)}}function Le(e,t){if(1&e&&(p.TgZ(0,"div",22),p.TgZ(1,"h2"),p._uU(2,"No Complex Portal results found"),p.qZA(),p.TgZ(3,"h3"),p._uU(4,"We're sorry but we couldn't find anything that matched your search for: "),p.TgZ(5,"b"),p._uU(6),p.qZA(),p.qZA(),p.TgZ(7,"h4"),p._uU(8,"Please consider refining your terms:"),p.qZA(),p.TgZ(9,"ul"),p.TgZ(10,"li"),p._uU(11,"Make sure all words are spelled correctly"),p.qZA(),p.TgZ(12,"li"),p._uU(13,"Try different keywords"),p.qZA(),p.TgZ(14,"li"),p._uU(15,"Be more precise: use gene or protein IDs, e.g. Ndc80 or Q04571"),p.qZA(),p.TgZ(16,"li"),p._uU(17,'Remove quotes around phrases to search for each word individually. bike shed will often show more results than "bike shed" '),p.qZA(),p.qZA(),p.qZA()),2&e){var n=p.oxw(2);p.xp6(6),p.Oqu(n.query)}}function Ve(e,t){if(1&e&&(p.ynx(0),p.YNc(1,Je,19,18,"div",3),p.YNc(2,Le,18,1,"div",4),p.BQk()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",0!==n.complexSearch.totalNumberOfResults),p.xp6(1),p.Q6J("ngIf",0===n.complexSearch.totalNumberOfResults)}}function Qe(e,t){if(1&e&&p._UZ(0,"cp-progress-spinner",23),2&e){var n=p.oxw();p.Q6J("query",n.query)}}var Re=function(){var e=function(){function e(t,n,i,o,a,c){r(this,e),this.route=t,this.router=n,this.complexPortalService=i,this.titleService=o,this.googleAnalyticsService=a,this.notificationService=c,this.LIST_VIEW="view_list",this.COMPLEX_NAVIGATOR_VIEW="view_complex_navigator",this._allInteractorsInComplexSearch=[],this._listPageSize=15,this._navigatorPageSize=20}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.titleService.setTitle("Complex Portal - Results"),this._allInteractorsInComplexSearch=[],this.route.fragment.subscribe(function(t){t===e.COMPLEX_NAVIGATOR_VIEW?e.DisplayType=e.COMPLEX_NAVIGATOR_VIEW:t===e.LIST_VIEW&&(e.DisplayType=e.LIST_VIEW),e.route.queryParams.subscribe(function(t){e._query=t.query,e._spicesFilter=t.species?t.species.split("+"):[],e._bioRoleFilter=t.bioRole?t.bioRole.split("+"):[],e._interactorTypeFilter=t.interactorType?t.interactorType.split("+"):[],e.currentPageIndex=t.page?Number(t.page):1,e.requestComplexResults(),document.body.scrollTop=0})})}},{key:"ngAfterViewInit",value:function(){}},{key:"requestComplexResults",value:function(){var e=this;this.complexPortalService.findComplex(this.query,this.spicesFilter,this.bioRoleFilter,this.interactorTypeFilter,this.currentPageIndex,this.pageSize).subscribe(function(n){if(e.complexSearch=n,e._allInteractorsInComplexSearch=[],0!==e.complexSearch.totalNumberOfResults){e.lastPageIndex=Math.ceil(n.totalNumberOfResults/e.pageSize);for(var i=0;i<n.elements.length;i++){var r,o=t(n.elements[i].interactors);try{var a=function(){var t=r.value;e._allInteractorsInComplexSearch.some(function(e){return e.identifier===t.identifier})||e._allInteractorsInComplexSearch.push(new l(t.identifier,t.identifierLink,t.name,t.description,t.interactorType,t.organismName))};for(o.s();!(r=o.n()).done;)a()}catch(c){o.e(c)}finally{o.f()}}}s.R.hide()})}},{key:"reloadPage",value:function(){var e={};e.query=this._query,e.page=this.currentPageIndex,void 0!==this._spicesFilter&&0!==this._spicesFilter.length&&(e.species=this.prepareFiltersForParams(this.spicesFilter)),void 0!==this._bioRoleFilter&&0!==this._bioRoleFilter.length&&(e.bioRole=this.prepareFiltersForParams(this._bioRoleFilter)),void 0!==this._interactorTypeFilter&&0!==this._interactorTypeFilter.length&&(e.interactorType=this.prepareFiltersForParams(this._interactorTypeFilter)),this.router.navigate([],{queryParams:e,fragment:this.DisplayType}),s.R.hide();var t=this.getFilterCount();1<t&&this.googleAnalyticsService.fireMultiFilterEvent(t.toString())}},{key:"prepareFiltersForParams",value:function(e){return e.toString().replace(/,/g,"+")}},{key:"getFilterCount",value:function(){return this._spicesFilter.length+this._interactorTypeFilter.length+this._bioRoleFilter.length}},{key:"onPageChange",value:function(e){this.currentPageIndex=e,this.reloadPage()}},{key:"onResetAllFilters",value:function(){this.spicesFilter=[],this.bioRoleFilter=[],this.interactorTypeFilter=[],this.currentPageIndex=1,this.reloadPage()}},{key:"onSpicesFilterChanged",value:function(e){this.spicesFilter=e,this.currentPageIndex=1,this.reloadPage()}},{key:"onBiologicalRoleFilterChanged",value:function(e){this.bioRoleFilter=e,this.currentPageIndex=1,this.reloadPage()}},{key:"onInteractorTypeFilterChanged",value:function(e){this.interactorTypeFilter=e,this.currentPageIndex=1,this.reloadPage()}},{key:"query",get:function(){return this._query},set:function(e){this._query=e}},{key:"currentPageIndex",get:function(){return this.DisplayType===this.COMPLEX_NAVIGATOR_VIEW?this._navigatorCurrentPage:this._listCurrentPage},set:function(e){this.DisplayType===this.COMPLEX_NAVIGATOR_VIEW?this._navigatorCurrentPage=e:this._listCurrentPage=e}},{key:"complexSearch",get:function(){return this._complexSearch},set:function(e){this._complexSearch=e,this.setFirstDisplayType()}},{key:"lastPageIndex",get:function(){return this.DisplayType===this.COMPLEX_NAVIGATOR_VIEW?this._navigatorLastPageIndex:this._listLastPageIndex},set:function(e){this.DisplayType===this.COMPLEX_NAVIGATOR_VIEW?this._navigatorLastPageIndex=e:this._listLastPageIndex=e}},{key:"pageSize",get:function(){return this.DisplayType===this.COMPLEX_NAVIGATOR_VIEW?this._navigatorPageSize:this._listPageSize}},{key:"spicesFilter",get:function(){return this._spicesFilter},set:function(e){this._spicesFilter=e}},{key:"bioRoleFilter",get:function(){return this._bioRoleFilter},set:function(e){this._bioRoleFilter=e}},{key:"interactorTypeFilter",get:function(){return this._interactorTypeFilter},set:function(e){this._interactorTypeFilter=e}},{key:"allInteractorsInComplexSearch",get:function(){return this._allInteractorsInComplexSearch}},{key:"setListView",value:function(){this.DisplayType=this.LIST_VIEW,this.toast=this.notificationService.complexNavigatorAnnouncement(),this.reloadPage()}},{key:"setComplexNavigatorView",value:function(){this.DisplayType=this.COMPLEX_NAVIGATOR_VIEW,this.reloadPage(),this.toast&&(this.notificationService.closeAnnouncement(this.toast.toastId),this.toast=null)}},{key:"setFirstDisplayType",value:function(){if(!this.DisplayType)if(1===this._complexSearch.totalNumberOfResults){var e=this._complexSearch.elements[0].complexAC;e&&(this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.router.navigate(["/complex",e]))}else this._complexSearch.totalNumberOfResults<=this._navigatorPageSize?this.setComplexNavigatorView():this.setListView()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(u.gz),p.Y36(u.F0),p.Y36(g.H),p.Y36(d.Dx),p.Y36(h.y),p.Y36(f.g))},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-complex-results"]],decls:4,vars:2,consts:[[1,"margin-top-large","margin-bottom-large","row"],[4,"ngIf","ngIfElse"],["loadingSpinner",""],["class","columns medium-12",4,"ngIf"],["class","columns medium-12 callout alert",4,"ngIf"],[1,"columns","medium-12"],[1,"padding-left-large","leftAligned"],[1,"row"],[4,"ngIf"],[1,"displayButton","columns","medium-8",2,"text-align","center","padding-left","10px"],["type","submit","name","submit",1,"button","view-button",3,"ngClass","click"],["type","submit","name","submit",1,"button","view-button","cnButton",3,"ngClass","click"],[1,"new-tag",3,"ngClass"],[1,"columns","medium-4","filterColumn","leftAligned"],[3,"spicesFilter","bioRoleFilter","interactorTypeFilter","facets","onResetAllFilters","onSpicesFilterChanged","onBiologicalRoleFilterChanged","onInteractorTypeFilterChanged",4,"ngIf"],[1,"columns","medium-8"],[3,"currentPageIndex","lastPageIndex","onPageChange"],["class","listOfResults",3,"complexSearch",4,"ngIf"],["class","Complex-navigator",3,"complexSearch","interactors",4,"ngIf"],[3,"spicesFilter","bioRoleFilter","interactorTypeFilter","facets","onResetAllFilters","onSpicesFilterChanged","onBiologicalRoleFilterChanged","onInteractorTypeFilterChanged"],[1,"listOfResults",3,"complexSearch"],[1,"Complex-navigator",3,"complexSearch","interactors"],[1,"columns","medium-12","callout","alert"],[3,"query"]],template:function(e,t){if(1&e&&(p.TgZ(0,"div",0),p.YNc(1,Ve,3,2,"ng-container",1),p.YNc(2,Qe,1,1,"ng-template",null,2,p.W1O),p.qZA()),2&e){var n=p.MAs(3);p.xp6(1),p.Q6J("ngIf",t.complexSearch)("ngIfElse",n)}},directives:[c.O5,c.mk,Z,k,H,j,Se,Oe.O],styles:[".displayButton[_ngcontent-%COMP%]{float:right}.view-button[_ngcontent-%COMP%]{float:unset;width:225px;margin-right:5px;background-color:#fff;color:#555;border:1px dotted #007c82}.view-button[_ngcontent-%COMP%]:hover{color:#007c82;background-color:#eaeaea;border:transparent;border-bottom:1px dotted #007c82}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]:hover{background-color:#007c82;color:#fff;opacity:100%}.new-tag[_ngcontent-%COMP%]{color:red;font-weight:bold;font-size:x-small}.new-tag-selected[_ngcontent-%COMP%]{color:#ff0}.filterColumn[_ngcontent-%COMP%]{width:calc(100rem * .22)}.leftAligned[_ngcontent-%COMP%]{--global-margin: calc((100vw - 80rem) / -2);--min-margin-left: calc(-100rem * .17);margin-left:max(var(--global-margin),var(--min-margin-left))}.cnButton[_ngcontent-%COMP%]{outline-offset:0;outline:rgba(0,124,130,.75) solid 1px;animation:animateOutline 4s ease infinite}@keyframes animateOutline{0%{outline-width:1px;outline-offset:0;outline-color:#007c8200}10%{outline-color:#007c82bf}50%{outline-width:6px;outline-offset:4px;outline-color:#007c8200}to{outline-width:6px;outline-offset:4px;outline-color:#6660}}.cnButton.selected[_ngcontent-%COMP%]{animation:none}"]}),e}(),Ue=o(45103);function Ee(e,t){if(1&e&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&e){var n=p.oxw(2);p.xp6(1),p.Oqu(n.interactorId)}}function He(e,t){if(1&e&&(p.TgZ(0,"a",2),p.YNc(1,Ee,2,1,"span",3),p._UZ(2,"i",4),p.qZA()),2&e){var n=p.oxw();p.s9C("href",n.identifierLink,p.LSH),p.xp6(1),p.Q6J("ngIf",n.IDDisplay),p.xp6(1),p.MGl("title","More information about ",n.interactorId,"")}}var Ye=function(){var e=function(){function e(){r(this,e),this.externalLinkVisible=new p.vpe}return a(e,[{key:"ngOnInit",value:function(){this.showExternalLink()}},{key:"showExternalLink",value:function(){return this.isMainInteractor&&"stable complex"===this.interactorType?(this.externalLinkVisible.emit(!1),!1):(this.externalLinkVisible.emit(!!this.identifierLink),!!this.identifierLink)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-table-interactor-external-link"]],inputs:{interactorId:"interactorId",identifierLink:"identifierLink",interactorType:"interactorType",isMainInteractor:"isMainInteractor",IDDisplay:"IDDisplay"},outputs:{externalLinkVisible:"externalLinkVisible"},decls:2,vars:2,consts:[[1,"externalLinkContainer",3,"title"],["target","_blank","class","externalLinkContainer",3,"href",4,"ngIf"],["target","_blank",1,"externalLinkContainer",3,"href"],[4,"ngIf"],["data-icon","x",1,"icon","icon-generic","small",3,"title"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.YNc(1,He,3,3,"a",1),p.qZA()),2&e&&(p.MGl("title","More information about ",t.interactorId,""),p.xp6(1),p.Q6J("ngIf",t.externalLinkVisible))},directives:[c.O5],styles:["a[_ngcontent-%COMP%]{font-weight:normal}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#0e6f76}i[_ngcontent-%COMP%]:not(.small){font-size:large}.externalLinkContainer[_ngcontent-%COMP%]{justify-content:end;grid-gap:5px;font-size:14px;line-break:anywhere;word-break:break-word}"]}),e}();function ze(e,t){if(1&e&&p._UZ(0,"i",7),2&e){var n=p.oxw();p.Tol(n.interactorOrganismIcon),p.s9C("title",n.interactorOrganism)}}function Be(e,t){if(1&e&&p._UZ(0,"i",7),2&e){var n=p.oxw();p.Tol(n.interactorTypeIcon),p.s9C("title",n.interactorType)}}function We(e,t){if(1&e&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&e){var n=p.oxw();p.s9C("title",n.interactorId),p.xp6(1),p.hij(" ",n.interactorName," ")}}var je=function(){return["/complex/search"]},Xe=function(e){return{query:e,page:1}};function $e(e,t){if(1&e&&(p.TgZ(0,"a",9),p._UZ(1,"i",10),p.qZA()),2&e){var n=p.oxw();p.Q6J("routerLink",p.DdM(3,je))("queryParams",p.VKq(4,Xe,n.interactorId)),p.xp6(1),p.MGl("title","More complexes containing ",n.interactorName,"")}}function Ge(e,t){if(1&e&&(p.TgZ(0,"a",9),p._uU(1),p.qZA()),2&e){var n=p.oxw(3);p.Q6J("routerLink",p.DdM(3,je))("queryParams",p.VKq(4,Xe,n.interactorId)),p.xp6(1),p.hij(" ",n.interactorName," ")}}function Ke(e,t){if(1&e&&(p.TgZ(0,"div",8),p.YNc(1,Ge,2,6,"a",4),p.qZA()),2&e){var n=p.oxw(2);p.MGl("title","More complexes containing ",n.interactorName,""),p.xp6(1),p.Q6J("ngIf",!n.IDDisplay)}}function et(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"cp-table-interactor-external-link",12),p.NdJ("externalLinkVisible",function(e){return p.CHM(n),p.oxw(2).externalLinkVisibleHandler(e)}),p.qZA()}if(2&e){var i=p.oxw(2);p.Q6J("interactorId",i.interactorId)("identifierLink",i.identifierLink)("interactorType",i.interactorType)("isMainInteractor",i.isMainInteractor)("IDDisplay",i.IDDisplay)}}function tt(e,t){if(1&e&&(p.TgZ(0,"div",11),p.YNc(1,Ke,2,2,"div",3),p.YNc(2,et,1,5,"cp-table-interactor-external-link",6),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",!n.IDDisplay),p.xp6(1),p.Q6J("ngIf",!n.IDDisplay)}}function nt(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"cp-table-interactor-external-link",12),p.NdJ("externalLinkVisible",function(e){return p.CHM(n),p.oxw().externalLinkVisibleHandler(e)}),p.qZA()}if(2&e){var i=p.oxw();p.Q6J("interactorId",i.interactorId)("identifierLink",i.identifierLink)("interactorType",i.interactorType)("isMainInteractor",i.isMainInteractor)("IDDisplay",i.IDDisplay)}}var it=function(e){return{inlineDisplay:e}},rt=function(){var e=function(){function e(){r(this,e)}return a(e,[{key:"ngOnInit",value:function(){this.interactorTypeIcon=A(this.interactorType),this.interactorOrganismIcon=S(this.interactorOrganism)}},{key:"externalLinkVisibleHandler",value:function(e){this.externalLinkVisible=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-table-interactor-name"]],inputs:{interactorName:"interactorName",interactorType:"interactorType",interactorId:"interactorId",interactorOrganism:"interactorOrganism",identifierLink:"identifierLink",organismIconDisplay:"organismIconDisplay",interactorTypeDisplay:"interactorTypeDisplay",IDDisplay:"IDDisplay",isMainInteractor:"isMainInteractor"},decls:8,vars:9,consts:[[1,"container"],[1,"nameAndIcons",3,"ngClass"],[3,"class","title",4,"ngIf"],["class","name",3,"title",4,"ngIf"],["target","_blank",3,"routerLink","queryParams",4,"ngIf"],["class","nameCompact",4,"ngIf"],[3,"interactorId","identifierLink","interactorType","isMainInteractor","IDDisplay","externalLinkVisible",4,"ngIf"],[3,"title"],[1,"name",3,"title"],["target","_blank",3,"routerLink","queryParams"],["data-icon","1",1,"icon","icon-functional","small",3,"title"],[1,"nameCompact"],[3,"interactorId","identifierLink","interactorType","isMainInteractor","IDDisplay","externalLinkVisible"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.YNc(2,ze,1,4,"i",2),p.YNc(3,Be,1,4,"i",2),p.YNc(4,We,2,2,"div",3),p.YNc(5,$e,2,6,"a",4),p.YNc(6,tt,3,2,"div",5),p.qZA(),p.YNc(7,nt,1,5,"cp-table-interactor-external-link",6),p.qZA()),2&e&&(p.xp6(1),p.Q6J("ngClass",p.VKq(7,it,"stable complex"===t.interactorType)),p.xp6(1),p.Q6J("ngIf",t.organismIconDisplay),p.xp6(1),p.Q6J("ngIf",t.interactorTypeDisplay),p.xp6(1),p.Q6J("ngIf",t.IDDisplay),p.xp6(1),p.Q6J("ngIf",t.IDDisplay),p.xp6(1),p.Q6J("ngIf",!t.IDDisplay),p.xp6(1),p.Q6J("ngIf",t.IDDisplay))},directives:[c.mk,c.O5,u.yS,Ye],styles:["a[_ngcontent-%COMP%]{font-weight:bold}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#0e6f76}i[_ngcontent-%COMP%]:not(.small){font-size:medium}.nameAndIcons[_ngcontent-%COMP%]{font-size:14px;display:flex;width:inherit;justify-content:end}.inlineDisplay[_ngcontent-%COMP%]{display:flex;justify-content:end}.name[_ngcontent-%COMP%]{width:inherit;text-overflow:ellipsis;overflow:hidden;text-wrap:nowrap;text-align:end;padding-right:5px}.nameCompact[_ngcontent-%COMP%]{display:inline-flex;width:-webkit-fill-available}"]}),e}(),ot=function(){var e=a(function e(){r(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-table-interactor-stoichiometry"]],inputs:{stoichiometryText:"stoichiometryText",stoichiometryValue:"stoichiometryValue"},decls:3,vars:2,consts:[[1,"stoichNum",3,"title"]],template:function(e,t){1&e&&(p.ynx(0),p.TgZ(1,"div",0),p._uU(2),p.qZA(),p.BQk()),2&e&&(p.xp6(1),p.s9C("title",t.stoichiometryText),p.xp6(1),p.hij(" ",t.stoichiometryValue," "))},styles:[".stoichNum[_ngcontent-%COMP%]{width:4ch;height:4ch;border-radius:4ch;background-color:#0e6f76;text-align:center;padding-top:.5ch;color:#fff;font-size:small;margin-left:auto;margin-right:auto}"]}),e}();function at(e,t){if(1&e&&p._UZ(0,"cp-table-interactor-stoichiometry",2),2&e){var n=p.oxw();p.Q6J("stoichiometryText",n.interactorComponent.stochiometryText)("stoichiometryValue",n.interactorComponent.stochiometryValueFormatted)}}var ct=function(){var e=function(){function e(){r(this,e)}return a(e,[{key:"ngOnChanges",value:function(){this.interactorComponent=ce(this.complex.complex,this.interactor.interactor.identifier,this.enrichedInteractors),this.topLineClass=this.displayTopLineClass(this.complex,this.i),this.bottomLineClass=this.displayBottomLineClass(this.complex,this.i)}},{key:"interactor",get:function(){return this.enrichedInteractors[this.i]}},{key:"displayTopLineClass",value:function(e,t){return this.doesLineCrossInteractorCell(e,t)||this.doesLineEndOnInteractorCell(e,t)&&!this.doesLineStartOnInteractorCell(e,t)?"verticalLine":"transparentVerticalLine"}},{key:"displayBottomLineClass",value:function(e,t){return this.doesLineCrossInteractorCell(e,t)||this.doesLineStartOnInteractorCell(e,t)&&!this.doesLineEndOnInteractorCell(e,t)?"verticalLine":"transparentVerticalLine"}},{key:"doesLineCrossInteractorCell",value:function(e,t){return!(null==e.startInteractorIndex||null==e.endInteractorIndex||!(e.startInteractorIndex<t&&e.endInteractorIndex>t||e.startInteractorIndex<t&&e.endInteractorIndex===t&&this.enrichedInteractors[t].isSubComplex&&this.enrichedInteractors[t].expanded&&null!=e.startSubComponentIndex&&null!=e.endSubComponentIndex))}},{key:"doesLineStartOnInteractorCell",value:function(e,t){return!(null==e.startInteractorIndex||e.startInteractorIndex!==t||this.enrichedInteractors[t].isSubComplex&&!e.startInteractorIncludedWhenExpanded)}},{key:"doesLineEndOnInteractorCell",value:function(e,t){return null!=e.endInteractorIndex&&e.endInteractorIndex===t&&!(this.enrichedInteractors[t].isSubComplex&&this.enrichedInteractors[t].expanded&&null!=e.startSubComponentIndex&&null!=e.endSubComponentIndex)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-table-main-interactor"]],inputs:{complex:"complex",i:"i",enrichedInteractors:"enrichedInteractors"},features:[p.TTD],decls:3,vars:3,consts:[[3,"ngClass"],[3,"stoichiometryText","stoichiometryValue",4,"ngIf"],[3,"stoichiometryText","stoichiometryValue"]],template:function(e,t){1&e&&(p._UZ(0,"div",0),p.YNc(1,at,1,2,"cp-table-interactor-stoichiometry",1),p._UZ(2,"div",0)),2&e&&(p.Q6J("ngClass",t.topLineClass),p.xp6(1),p.Q6J("ngIf",!!t.interactorComponent),p.xp6(1),p.Q6J("ngClass",t.bottomLineClass))},directives:[c.mk,c.O5,ot],styles:[".verticalLine[_ngcontent-%COMP%], .transparentVerticalLine[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;min-width:1%;max-width:1%;max-height:80%;min-height:80%;z-index:0}.verticalLine[_ngcontent-%COMP%]{border-right:3px solid #0e6f76}.transparentVerticalLine[_ngcontent-%COMP%]{border-right:0}"]}),e}();function st(e,t){if(1&e&&p._UZ(0,"cp-table-interactor-stoichiometry",2),2&e){var n=p.oxw();p.Q6J("stoichiometryText",n.interactorComponent.stochiometryText)("stoichiometryValue",n.interactorComponent.stochiometryValueFormatted)}}var lt=function(){var e=function(){function e(){r(this,e)}return a(e,[{key:"ngOnChanges",value:function(){this.interactorComponent=ce(this.complex.complex,this.el.identifier,this.enrichedInteractors),this.displayTopLineClass=this.displayTopLineClassExpanded(this.complex,this.i,this.j),this.displayBottomLineClass=this.displayBottomLineClassExpanded(this.complex,this.i,this.j)}},{key:"interactor",get:function(){return this.enrichedInteractors[this.i]}},{key:"el",get:function(){return this.enrichedInteractors[this.i].subComponents[this.j]}},{key:"displayTopLineClassExpanded",value:function(e,t,n){return this.doesLineCrossSubcomponentCell(e,t,n)||this.doesLineEndOnSubcomponentCell(e,t,n)&&!this.doesLineStartOnSubcomponentCell(e,t,n)?"verticalLine":"transparentVerticalLine"}},{key:"displayBottomLineClassExpanded",value:function(e,t,n){return this.doesLineCrossSubcomponentCell(e,t,n)||this.doesLineStartOnSubcomponentCell(e,t,n)&&!this.doesLineEndOnSubcomponentCell(e,t,n)?"verticalLine":"transparentVerticalLine"}},{key:"doesLineCrossSubcomponentCell",value:function(e,t,n){return null!=e.startInteractorIndex&&null!=e.endInteractorIndex&&(e.startInteractorIndex<t&&e.endInteractorIndex>t||null!=e.startSubComponentIndex&&null!=e.endSubComponentIndex&&(e.startSubComponentIndex<n&&e.endSubComponentIndex>n||e.startInteractorIndex<t&&e.endSubComponentIndex>n||e.startSubComponentIndex<n&&e.endInteractorIndex>t))}},{key:"doesLineStartOnSubcomponentCell",value:function(e,t,n){var i=this;return null!=e.startInteractorIndex&&e.startInteractorIndex===t&&null!=e.startSubComponentIndex&&e.startSubComponentIndex===n&&!e.complex.interactors.some(function(e){return i.enrichedInteractors[t].interactor.identifier===e.identifier})}},{key:"doesLineEndOnSubcomponentCell",value:function(e,t,n){return null!=e.endInteractorIndex&&e.endInteractorIndex===t&&null!=e.endSubComponentIndex&&e.endSubComponentIndex===n}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["cp-table-subcomponent-interactor"]],inputs:{complex:"complex",i:"i",j:"j",enrichedInteractors:"enrichedInteractors"},features:[p.TTD],decls:3,vars:3,consts:[[3,"ngClass"],[3,"stoichiometryText","stoichiometryValue",4,"ngIf"],[3,"stoichiometryText","stoichiometryValue"]],template:function(e,t){1&e&&(p._UZ(0,"div",0),p.YNc(1,st,1,2,"cp-table-interactor-stoichiometry",1),p._UZ(2,"div",0)),2&e&&(p.Q6J("ngClass",t.displayTopLineClass),p.xp6(1),p.Q6J("ngIf",!!t.interactorComponent),p.xp6(1),p.Q6J("ngClass",t.displayBottomLineClass))},directives:[c.mk,c.O5,ot],styles:[".verticalLine[_ngcontent-%COMP%], .transparentVerticalLine[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;min-width:1%;max-width:1%;max-height:50%;min-height:50%;z-index:0}.verticalLine[_ngcontent-%COMP%]{border-right:3px solid #0e6f76}.transparentVerticalLine[_ngcontent-%COMP%]{border-right:0}"]}),e}(),pt=o(19223),ut=function(){var e=a(function e(){r(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[u.Bz.forChild([{path:"",component:Re}]),c.ez,Ue.L,pt.JP]]}),e}();p.B6R(ke,[c.sg,c.O5,c.mk,rt,ct,lt],[])}}])}();